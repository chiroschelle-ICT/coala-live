"use strict";(self.webpackChunkcoala_beta=self.webpackChunkcoala_beta||[]).push([[179],{9058:(vn,ft,X)=>{X.d(ft,{BH:()=>at,L:()=>Ze,LL:()=>Ge,P0:()=>fn,Pz:()=>Ye,Sg:()=>ct,ZR:()=>ze,aH:()=>dt,b$:()=>St,eu:()=>De,hl:()=>We,m9:()=>gi,ne:()=>Rr,pd:()=>nn,q4:()=>Dn,ru:()=>zn,tV:()=>ge,uI:()=>gt,vZ:()=>Zn,w1:()=>xt,xO:()=>sr,xb:()=>Pn,z$:()=>pt,zd:()=>fr});const z=function(xe){const re=[];let ae=0;for(let le=0;le<xe.length;le++){let ce=xe.charCodeAt(le);ce<128?re[ae++]=ce:ce<2048?(re[ae++]=ce>>6|192,re[ae++]=63&ce|128):55296==(64512&ce)&&le+1<xe.length&&56320==(64512&xe.charCodeAt(le+1))?(ce=65536+((1023&ce)<<10)+(1023&xe.charCodeAt(++le)),re[ae++]=ce>>18|240,re[ae++]=ce>>12&63|128,re[ae++]=ce>>6&63|128,re[ae++]=63&ce|128):(re[ae++]=ce>>12|224,re[ae++]=ce>>6&63|128,re[ae++]=63&ce|128)}return re},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(xe,re){if(!Array.isArray(xe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ae=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let ce=0;ce<xe.length;ce+=3){const Ue=xe[ce],mt=ce+1<xe.length,Lt=mt?xe[ce+1]:0,yn=ce+2<xe.length,Sn=yn?xe[ce+2]:0;let cr=(15&Lt)<<2|Sn>>6,He=63&Sn;yn||(He=64,mt||(cr=64)),le.push(ae[Ue>>2],ae[(3&Ue)<<4|Lt>>4],ae[cr],ae[He])}return le.join("")},encodeString(xe,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(xe):this.encodeByteArray(z(xe),re)},decodeString(xe,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(xe):function(xe){const re=[];let ae=0,le=0;for(;ae<xe.length;){const ce=xe[ae++];if(ce<128)re[le++]=String.fromCharCode(ce);else if(ce>191&&ce<224){const Ue=xe[ae++];re[le++]=String.fromCharCode((31&ce)<<6|63&Ue)}else if(ce>239&&ce<365){const yn=((7&ce)<<18|(63&xe[ae++])<<12|(63&xe[ae++])<<6|63&xe[ae++])-65536;re[le++]=String.fromCharCode(55296+(yn>>10)),re[le++]=String.fromCharCode(56320+(1023&yn))}else{const Ue=xe[ae++],mt=xe[ae++];re[le++]=String.fromCharCode((15&ce)<<12|(63&Ue)<<6|63&mt)}}return re.join("")}(this.decodeStringToByteArray(xe,re))},decodeStringToByteArray(xe,re){this.init_();const ae=re?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let ce=0;ce<xe.length;){const Ue=ae[xe.charAt(ce++)],Lt=ce<xe.length?ae[xe.charAt(ce)]:0;++ce;const Sn=ce<xe.length?ae[xe.charAt(ce)]:64;++ce;const jn=ce<xe.length?ae[xe.charAt(ce)]:64;if(++ce,null==Ue||null==Lt||null==Sn||null==jn)throw new Ke;le.push(Ue<<2|Lt>>4),64!==Sn&&(le.push(Lt<<4&240|Sn>>2),64!==jn&&le.push(Sn<<6&192|jn))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let xe=0;xe<this.ENCODED_VALS.length;xe++)this.byteToCharMap_[xe]=this.ENCODED_VALS.charAt(xe),this.charToByteMap_[this.byteToCharMap_[xe]]=xe,this.byteToCharMapWebSafe_[xe]=this.ENCODED_VALS_WEBSAFE.charAt(xe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[xe]]=xe,xe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(xe)]=xe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(xe)]=xe)}}};class Ke extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ze=function(xe){return function(xe){const re=z(xe);return he.encodeByteArray(re,!0)}(xe).replace(/\./g,"")},ge=function(xe){try{return he.decodeString(xe,!0)}catch(re){console.error("base64Decode failed: ",re)}return null},_n=()=>{try{return function vt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const xe=process.env.__FIREBASE_DEFAULTS__;return xe?JSON.parse(xe):void 0})()||(()=>{if(typeof document>"u")return;let xe;try{xe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const re=xe&&ge(xe[1]);return re&&JSON.parse(re)})()}catch(xe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${xe}`)}},Dn=xe=>{var re,ae;return null===(ae=null===(re=_n())||void 0===re?void 0:re.emulatorHosts)||void 0===ae?void 0:ae[xe]},fn=xe=>{const re=Dn(xe);if(!re)return;const ae=re.lastIndexOf(":");if(ae<=0||ae+1===re.length)throw new Error(`Invalid host ${re} with no separate hostname and port!`);const le=parseInt(re.substring(ae+1),10);return"["===re[0]?[re.substring(1,ae-1),le]:[re.substring(0,ae),le]},dt=()=>{var xe;return null===(xe=_n())||void 0===xe?void 0:xe.config},Ye=xe=>{var re;return null===(re=_n())||void 0===re?void 0:re[`_${xe}`]};class at{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,ae)=>{this.resolve=re,this.reject=ae})}wrapCallback(re){return(ae,le)=>{ae?this.reject(ae):this.resolve(le),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(ae):re(ae,le))}}}function ct(xe,re){if(xe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=re||"demo-project",ce=xe.iat||0,Ue=xe.sub||xe.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mt=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:ce,exp:ce+3600,auth_time:ce,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},xe);return[Ze(JSON.stringify({alg:"none",type:"JWT"})),Ze(JSON.stringify(mt)),""].join(".")}function pt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function gt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function zn(){const xe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof xe&&void 0!==xe.id}function St(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xt(){const xe=pt();return xe.indexOf("MSIE ")>=0||xe.indexOf("Trident/")>=0}function We(){try{return"object"==typeof indexedDB}catch{return!1}}function De(){return new Promise((xe,re)=>{try{let ae=!0;const le="validate-browser-context-for-indexeddb-analytics-module",ce=self.indexedDB.open(le);ce.onsuccess=()=>{ce.result.close(),ae||self.indexedDB.deleteDatabase(le),xe(!0)},ce.onupgradeneeded=()=>{ae=!1},ce.onerror=()=>{var Ue;re((null===(Ue=ce.error)||void 0===Ue?void 0:Ue.message)||"")}}catch(ae){re(ae)}})}class ze extends Error{constructor(re,ae,le){super(ae),this.code=re,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ge.prototype.create)}}class Ge{constructor(re,ae,le){this.service=re,this.serviceName=ae,this.errors=le}create(re,...ae){const le=ae[0]||{},ce=`${this.service}/${re}`,Ue=this.errors[re],mt=Ue?function ot(xe,re){return xe.replace(yt,(ae,le)=>{const ce=re[le];return null!=ce?String(ce):`<${le}?>`})}(Ue,le):"Error";return new ze(ce,`${this.serviceName}: ${mt} (${ce}).`,le)}}const yt=/\{\$([^}]+)}/g;function Pn(xe){for(const re in xe)if(Object.prototype.hasOwnProperty.call(xe,re))return!1;return!0}function Zn(xe,re){if(xe===re)return!0;const ae=Object.keys(xe),le=Object.keys(re);for(const ce of ae){if(!le.includes(ce))return!1;const Ue=xe[ce],mt=re[ce];if(ln(Ue)&&ln(mt)){if(!Zn(Ue,mt))return!1}else if(Ue!==mt)return!1}for(const ce of le)if(!ae.includes(ce))return!1;return!0}function ln(xe){return null!==xe&&"object"==typeof xe}function sr(xe){const re=[];for(const[ae,le]of Object.entries(xe))Array.isArray(le)?le.forEach(ce=>{re.push(encodeURIComponent(ae)+"="+encodeURIComponent(ce))}):re.push(encodeURIComponent(ae)+"="+encodeURIComponent(le));return re.length?"&"+re.join("&"):""}function fr(xe){const re={};return xe.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[ce,Ue]=le.split("=");re[decodeURIComponent(ce)]=decodeURIComponent(Ue)}}),re}function nn(xe){const re=xe.indexOf("?");if(!re)return"";const ae=xe.indexOf("#",re);return xe.substring(re,ae>0?ae:void 0)}function Rr(xe,re){const ae=new ai(xe,re);return ae.subscribe.bind(ae)}class ai{constructor(re,ae){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ae,this.task.then(()=>{re(this)}).catch(le=>{this.error(le)})}next(re){this.forEachObserver(ae=>{ae.next(re)})}error(re){this.forEachObserver(ae=>{ae.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,ae,le){let ce;if(void 0===re&&void 0===ae&&void 0===le)throw new Error("Missing Observer.");ce=function Mr(xe,re){if("object"!=typeof xe||null===xe)return!1;for(const ae of re)if(ae in xe&&"function"==typeof xe[ae])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:ae,complete:le},void 0===ce.next&&(ce.next=pr),void 0===ce.error&&(ce.error=pr),void 0===ce.complete&&(ce.complete=pr);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ce.error(this.finalError):ce.complete()}catch{}}),this.observers.push(ce),Ue}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let ae=0;ae<this.observers.length;ae++)this.sendOne(ae,re)}sendOne(re,ae){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{ae(this.observers[re])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pr(){}function gi(xe){return xe&&xe._delegate?xe._delegate:xe}},4894:(vn,ft,X)=>{X.d(ft,{c:()=>Gt});var A=X(8589),T=X(5861),se=X(5816),z=X(4946),fe=X(5220),he=X(6814);let Ke=(()=>{class ut{transform(De,Be){return Array.isArray(De)?De.sort((Le,ze)=>{const Ge=Le[Be],ot=ze[Be];return Ge<ot?-1:Ge>ot?1:0}):De}static#e=this.\u0275fac=function(Be){return new(Be||ut)};static#t=this.\u0275pipe=z.Yjl({name:"afdelingFilter",type:ut,pure:!0})}return ut})();const Dt=function(ut){return["/details",ut]};function Ze(ut,We){if(1&ut&&(z.TgZ(0,"div")(1,"div",12)(2,"div",7)(3,"span",13),z._uU(4),z.qZA()(),z.TgZ(5,"div",7)(6,"span",13),z._uU(7),z.qZA()(),z.TgZ(8,"div",7)(9,"span",14),z._uU(10),z.qZA()(),z.TgZ(11,"div",9)(12,"button",15),z._uU(13,"Info"),z.qZA()()()()),2&ut){const De=We.$implicit,Be=z.oxw();z.xp6(4),z.hij(" ",De.name," "),z.xp6(3),z.Oqu(De.email),z.xp6(2),z.Q6J("ngStyle",Be.afdelingStyling(De.afdelingId)),z.xp6(1),z.hij("",De.afdeling," "),z.xp6(2),z.Q6J("routerLink",z.VKq(5,Dt,De.userId))}}function ge(ut,We){if(1&ut&&(z.TgZ(0,"div",27),z._uU(1),z.qZA()),2&ut){const De=z.oxw(2);z.Udp("border",De.bColor)("background",De.bgColor),z.xp6(1),z.hij(" ",De.responseMessage," ")}}function _e(ut,We){if(1&ut){const De=z.EpF();z.TgZ(0,"div",16),z._UZ(1,"div",17),z.TgZ(2,"div",18)(3,"h2",19),z._uU(4,"Foto toevoegen"),z.qZA(),z.TgZ(5,"h4",20),z._uU(6,"Kies hier de foto dat je wilt:"),z.qZA(),z.TgZ(7,"h5",21)(8,"input",22),z.NdJ("change",function(Le){z.CHM(De);const ze=z.oxw();return z.KtG(ze.selectFile(Le))}),z.qZA()(),z.YNc(9,ge,2,5,"div",23),z.TgZ(10,"div",24)(11,"button",25),z.NdJ("click",function(){z.CHM(De);const Le=z.oxw();return z.KtG(Le.voegFileToe())}),z._uU(12,"Voeg foto toe"),z.qZA(),z.TgZ(13,"button",26),z.NdJ("click",function(){z.CHM(De);const Le=z.oxw();return z.KtG(Le.modalFunction())}),z._uU(14,"Annuleer"),z.qZA()()()()}if(2&ut){const De=z.oxw();z.xp6(9),z.Q6J("ngIf",De.showResponse)}}const qe=function(){return["/singup"]};let Ce=(()=>{class ut{constructor(De,Be){this.fb=De,this.storage=Be,this.file={},this.userAccounts=[],this.adminAccounts=[],this.ownerAccounts=[],this.showResponse=!1,this.responseMessage=""}ngOnInit(){this.isModalOpen=!1,this.showResponse=!0,this.loadUsers()}loadUsers(){this.fb.getAuthusers().subscribe(De=>{this.userAccounts=De})}modalFunction(){this.isModalOpen=!this.isModalOpen}selectFile(De){this.file=De.target.files[0]}voegFileToe(){var De=this;return(0,T.Z)(function*(){const Be=(0,se.iH)(De.storage,`/leiding/${De.file.name}`),Le=(0,se.B0)(Be,De.file);Le.on("state_changed",ze=>{console.log("Uploadnen: "+ze.bytesTransferred/ze.totalBytes+"% done"),Number.isNaN(De.file.name)?(De.showResponse=!0,De.actionResponse("geen Foto Geselecteerd!",!1)):(De.showResponse=!0,De.actionResponse("Foto Geupload!",!0),setTimeout(()=>{De.isModalOpen=!1},1500))},()=>{(0,se.Jt)(Le.snapshot.ref).then(ze=>{console.log("fotokrijgbaar iop"+ze)})})})()}actionResponse(De,Be){Be?(this.bgColor="#9fff96",this.bColor="3px solid green",this.responseMessage=De):(this.bgColor="#fca5a5",this.bColor="3px solid red",this.responseMessage=De)}afdelingStyling(De){return[{border:"2px solid #7e22ce",backgroundColor:"#a855f7"},{border:"2px solid #ca8a04",backgroundColor:"#facc15"},{border:"2px solid #15803d",backgroundColor:"#22c55e"},{border:"2px solid #ef4444",backgroundColor:"#b91c1c"},{border:"2px solid #1d4ed8",backgroundColor:"#3b82f6"},{border:"2px solid #c2410c",backgroundColor:"#fb923c"}][Math.ceil(De/2-1)]}static#e=this.\u0275fac=function(Be){return new(Be||ut)(z.Y36(fe.O),z.Y36(se.Ke))};static#t=this.\u0275cmp=z.Xpm({type:ut,selectors:[["app-admin-dashboard"]],decls:27,vars:7,consts:[[1,"grid","grid-cols-3","p-8","gap-3"],[1,"p-4","border-2","border-gray-400","rounded-lg","grid","h-fit"],[1,"text-4xl","font-semibold","mb-4","text-center"],[1,"bg-red-500","hover:bg-red-800","text-white","rounded-lg","px-4","py-2","w-full","my-3",3,"click"],["routerLinkActive","router-link-active",1,"bg-red-500","hover:bg-red-800","text-white","rounded-lg","px-4","py-2","w-full","my-3",3,"routerLink"],[1,"p-4","rounded-lg","col-span-2","border-2","border-gray-400"],[1,"grid","grid-cols-7","grid-rows-1","shadow-md","text-left","bg-orange-400","rounded-sm","border-2","border-black","mb-2","font-bold"],[1,"text-center","w-fit","px-3","ml-6","col-span-2","flex","items-center"],[1,""],[1,"text-center","col-span-1","flex","align"],[4,"ngFor","ngForOf"],["class","fixed inset-0 flex items-center justify-center z-50",4,"ngIf"],[1,"grid","grid-cols-7","grid-rows-1","shadow-md","text-left","bg-orange-300","rounded-lg","border-2","border-black","mb-2","p-1"],[1,"text-sm","font-medium"],[1,"text-sm","border-2","font-semibold","rounded-2xl","px-4",3,"ngStyle"],["routerLinkActive","router-link-active",1,"border-2","rounded-lg","border-blue-600","bg-blue-400","py-1","px-6","font-semibold",3,"routerLink"],[1,"fixed","inset-0","flex","items-center","justify-center","z-50"],[1,"fixed","inset-0","bg-gray-500","opacity-50"],[1,"modal-content","p-6","bg-white","rounded-lg","shadow-lg","relative"],[1,"text-2xl","font-semibold","mb-4"],[1,"text-xl"],[1,"text-sm","mt-3","mb-4"],["type","file","name","img","id","img","accept",".jpg, .png, .jpeg",3,"change"],["class","rounded-md px-2 py-3 text-center mt-2 font-bold",3,"border","background",4,"ngIf"],[1,"flex","justify-between","mt-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-blue-600",3,"click"],[1,"bg-red-500","text-white","px-4","py-2","rounded-md","hover:bg-red-800",3,"click"],[1,"rounded-md","px-2","py-3","text-center","mt-2","font-bold"]],template:function(Be,Le){1&Be&&(z.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),z._uU(3,"Admin Functies"),z.qZA(),z.TgZ(4,"button",3),z.NdJ("click",function(){return Le.modalFunction()}),z._uU(5,"Voeg foto toe"),z.qZA(),z.TgZ(6,"button",4),z._uU(7,"Voeg Leiding toe"),z.qZA()(),z.TgZ(8,"div",5)(9,"h2",2),z._uU(10,"Leiding / Gebruikers"),z.qZA(),z.TgZ(11,"div",6)(12,"div",7)(13,"span",8),z._uU(14,"Naam"),z.qZA()(),z.TgZ(15,"div",7)(16,"span",8),z._uU(17,"Email"),z.qZA()(),z.TgZ(18,"div",7)(19,"span",8),z._uU(20,"Afdeling"),z.qZA()(),z.TgZ(21,"div",9)(22,"span",8),z._uU(23," Buttons "),z.qZA()()(),z.YNc(24,Ze,14,7,"div",10),z.ALo(25,"afdelingFilter"),z.qZA(),z.YNc(26,_e,15,1,"div",11),z.qZA()),2&Be&&(z.xp6(6),z.Q6J("routerLink",z.DdM(6,qe)),z.xp6(18),z.Q6J("ngForOf",z.xi3(25,3,Le.userAccounts,"afdelingId")),z.xp6(2),z.Q6J("ngIf",Le.isModalOpen))},dependencies:[he.sg,he.O5,he.PC,A.rH,A.Od,Ke]})}return ut})();var vt=X(7398),je=X(4060);let $t=(()=>{class ut{constructor(De,Be,Le){this.authService=De,this.firebaseService=Be,this.router=Le}canActivate(De,Be){return this.firebaseService.getAdmin(this.authService.getUid()).pipe((0,vt.U)(Le=>!!Le||(this.router.navigate(["/login"]),!1)))}static#e=this.\u0275fac=function(Be){return new(Be||ut)(z.LFG(je.q),z.LFG(fe.O),z.LFG(A.F0))};static#t=this.\u0275prov=z.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();const Nt=function(ut){return["/editUser",ut]},_n=function(){return["/AdminDashboard"]};function Dn(ut,We){if(1&ut){const De=z.EpF();z.TgZ(0,"div",2)(1,"div",3)(2,"h2",4),z._uU(3,"user Overview"),z.qZA(),z.TgZ(4,"div",5)(5,"p")(6,"strong",6),z._uU(7,"Naam"),z.qZA(),z._uU(8),z.qZA(),z._UZ(9,"br"),z.TgZ(10,"p")(11,"strong",6),z._uU(12,"Email"),z.qZA(),z._uU(13),z.qZA(),z._UZ(14,"br"),z.TgZ(15,"p")(16,"strong",6),z._uU(17,"Afdeling"),z.qZA(),z._uU(18),z.qZA(),z._UZ(19,"br"),z.TgZ(20,"p")(21,"strong",6),z._uU(22,"Rechten"),z.qZA(),z._uU(23),z.qZA(),z._UZ(24,"br"),z.qZA(),z.TgZ(25,"div",7)(26,"button",8),z._uU(27," Aanpassen "),z.qZA(),z.TgZ(28,"button",9),z._uU(29," Terug "),z.qZA(),z.TgZ(30,"button",10),z.NdJ("click",function(){z.CHM(De);const Le=z.oxw();return z.KtG(Le.openDisableModal())}),z._uU(31," Verwijder "),z.qZA()()()()}if(2&ut){const De=We.$implicit;z.xp6(8),z.hij(" ",De.name," "),z.xp6(5),z.hij(" ",De.email," "),z.xp6(5),z.hij(" ",De.afdeling," "),z.xp6(5),z.hij(" ",De.rights," "),z.xp6(3),z.Q6J("routerLink",z.VKq(6,Nt,De.userId)),z.xp6(2),z.Q6J("routerLink",z.DdM(8,_n))}}function fn(ut,We){if(1&ut){const De=z.EpF();z.TgZ(0,"div",11),z._UZ(1,"div",12),z.TgZ(2,"div",13)(3,"h2",14),z._uU(4,"Gebruiker Verwijderen?"),z.qZA(),z.TgZ(5,"h4",15),z._uU(6,"Ben je zeker dat Je Deze gebruiker Wilt Verwijderen?"),z.qZA(),z.TgZ(7,"div",16)(8,"button",17),z.NdJ("click",function(){z.CHM(De);const Le=z.oxw();return z.KtG(Le.deleteUser())}),z._uU(9,"Ja"),z.qZA(),z.TgZ(10,"button",18),z.NdJ("click",function(){z.CHM(De);const Le=z.oxw();return z.KtG(Le.closeDisableModal())}),z._uU(11,"Nee"),z.qZA()()()()}}let dt=(()=>{class ut{constructor(De,Be,Le){this.fb=De,this.router=Be,this.route=Le,this.users=[],this.isModalOpen=!1}ngOnInit(){this.route.params.subscribe(De=>{this.parameterValue=De.userId}),this.fb.getAuthUserDetails(this.parameterValue).subscribe(De=>{this.users=De,console.log(De)})}deleteUser(){this.fb.deleteUser(this.parameterValue),this.router.navigate(["/AdminDashboard"])}openDisableModal(){this.isModalOpen=!0}closeDisableModal(){this.isModalOpen=!1}static#e=this.\u0275fac=function(Be){return new(Be||ut)(z.Y36(fe.O),z.Y36(A.F0),z.Y36(A.gz))};static#t=this.\u0275cmp=z.Xpm({type:ut,selectors:[["app-leiding-details"]],decls:2,vars:2,consts:[["class","",4,"ngFor","ngForOf"],["class","fixed inset-0 flex items-center justify-center z-50",4,"ngIf"],[1,""],[1,"bg-orange-300","border-2","border-black","p-6","rounded-lg","shadow-md","w-2/6","m-auto","mt-10"],[1,"text-2xl","font-semibold","mb-4","text-center"],[1,"mb-4"],[1,"text-gray-800"],[1,"flex","justify-between"],["routerLinkActive","router-link-active",1,"bg-yellow-400","hover:bg-yellow-600","text-white","px-4","py-2","rounded","focus:outline-none","focus:shadow-outline-blue",3,"routerLink"],["routerLinkActive","router-link-active",1,"bg-blue-400","hover:bg-blue-600","text-white","px-4","py-2","rounded","focus:outline-none","focus:shadow-outline-red",3,"routerLink"],[1,"bg-red-400","hover:bg-red-600","text-white","px-4","py-2","rounded","focus:outline-none","focus:shadow-outline-red",3,"click"],[1,"fixed","inset-0","flex","items-center","justify-center","z-50"],[1,"fixed","inset-0","bg-gray-500","opacity-50"],[1,"modal-content","p-6","bg-white","rounded-lg","shadow-lg","relative"],[1,"text-2xl","font-semibold","mb-4"],[1,"text-xl"],[1,"flex","justify-between","mt-4"],[1,"bg-red-500","text-white","px-4","py-2","rounded-md","hover:bg-red-600",3,"click"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-blue-600",3,"click"]],template:function(Be,Le){1&Be&&(z.YNc(0,Dn,32,9,"div",0),z.YNc(1,fn,12,0,"div",1)),2&Be&&(z.Q6J("ngForOf",Le.users),z.xp6(1),z.Q6J("ngIf",Le.isModalOpen))},dependencies:[he.sg,he.O5,A.rH,A.Od]})}return ut})();var Ye=X(95);function at(ut,We){1&ut&&(z.TgZ(0,"div",34),z._uU(1," Vul de Naam in! "),z.qZA())}function ct(ut,We){1&ut&&(z.TgZ(0,"div",34),z._uU(1," Naam moet minstens 3 Tekens lang zijn! "),z.qZA())}function pt(ut,We){1&ut&&(z.TgZ(0,"div",34),z._uU(1," Gebruik een hoofdletter In het begin! "),z.qZA())}function gt(ut,We){1&ut&&(z.TgZ(0,"div",34),z._uU(1," Vul de Email in! "),z.qZA())}function Tt(ut,We){1&ut&&(z.TgZ(0,"div",34),z._uU(1," gebruik voornaam.naam@chiroschelle.be "),z.qZA())}function Tn(ut,We){1&ut&&(z.TgZ(0,"div",34),z._uU(1," Selecteer een Afdeling! "),z.qZA())}function zn(ut,We){1&ut&&(z.TgZ(0,"div",34),z._uU(1," Selecteer de Rechten! "),z.qZA())}function St(ut,We){if(1&ut&&(z.TgZ(0,"div",35),z._uU(1),z.qZA()),2&ut){const De=z.oxw();z.Udp("border",De.bColor)("background",De.bgColor),z.xp6(1),z.hij(" ",De.responseMessage," ")}}const Cn=function(ut){return["/details",ut]},cn=[{path:"AdminDashboard",component:Ce,canActivate:[$t]},{path:"details/:userId",component:dt,canActivate:[$t]},{path:"editUser/:userId",component:(()=>{class ut{constructor(De,Be,Le,ze){this.fb=De,this.route=Be,this.formbuilder=Le,this.fire=ze,this.vlaidForm=!1,this.showResponse=!1,this.responseMessage="",this.updateForm=this.formbuilder.group({name:["",[Ye.kI.required,Ye.kI.minLength(3),Ye.kI.pattern(/^[A-Z]/)]],email:["",[Ye.kI.required,Ye.kI.pattern(/^\w+\.\w+@chiroschelle\.be$/)]],afdeling:["",[Ye.kI.required]],rechten:["",[Ye.kI.required]]})}ngOnInit(){this.route.params.subscribe(De=>{this.parameterValue=De.userId}),this.fb.getAuthUserDetails(this.parameterValue).subscribe(De=>{this._password=De[0].password,this.updateForm.setValue({name:De[0].name,email:De[0].email,afdeling:De[0].afdeling,rechten:De[0].rights})})}OnUpdate(){console.log(this._password);const De=this.updateForm.value.name,Be=this.updateForm.value.email,Le=this.updateForm.value.afdeling,ze=this.fb.getAfdelingId(Le),Ge=this.updateForm.value.rechten;console.log(Le);const ot={name:De,email:Be,password:this._password,afdeling:Le,afdelingId:ze,rights:Ge,userId:this.parameterValue};this.updateForm.valid?(this.showResponse=!0,this.bgColor="#9fff96",this.bColor="3px solid green",this.responseMessage="Nieuwe gebruiker aangemaakt",this.updateUser(ot),setTimeout(()=>{this.showResponse=!1},1e3)):(this.showResponse=!0,this.bgColor="#fca5a5",this.bColor="3px solid red",this.responseMessage="Fout bij Updaten Gebruiker")}updateUser(De){this.fb.updateUser(De,this.parameterValue)}static#e=this.\u0275fac=function(Be){return new(Be||ut)(z.Y36(fe.O),z.Y36(A.gz),z.Y36(Ye.qu),z.Y36(fe.O))};static#t=this.\u0275cmp=z.Xpm({type:ut,selectors:[["app-edit-user"]],decls:67,vars:12,consts:[[1,"w-4/12","mx-auto","mt-1","p-4","border","rounded-lg","shadow-lg"],[1,"bg-red-500","text-white","text-center","py-2","px-4","rounded-t-lg"],[1,"text-xl","font-bold"],[1,"bg-white","p-4","rounded-b-lg"],[1,"mb-4","text-lg","font-bold"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-2","grid-rows-2"],[1,"mb-4"],["for","naam"],["type","text","formControlName","name",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],["class","text-red-500 font-semibold",4,"ngIf"],["for","email"],["type","email","formControlName","email",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],["for","name",1,"font-semibold"],["name","afdeling","formControlName","afdeling",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],["value","Ribbel Jongens"],["value","Ribbel Meisjes"],["value","Speelclub Jongens"],["value","Speelclub Meisjes"],["value","Rakkers"],["value","Kwiks"],["value","Toppers"],["value","Tippers"],["value","Kerels"],["value","Tiptiens"],["value","Aspi Jongens"],["value","Aspi Meisjes"],["name","rechten","id","rechten","formControlName","rechten",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],["value","0"],["value","1"],[1,"mb-4","col-span-2","flex","items-center","justify-center"],["class","rounded-md px-2 py-3 text-center font-bold",3,"border","background",4,"ngIf"],["type","submit",1,"bg-yellow-400","border-2","border-yellow-500","hover:bg-yellow-500","text-black","font-semibold","px-8","py-2","rounded","focus:outline-none","focus:shadow-outline-blue","mr-5"],["routerLinkActive","router-link-active",1,"bg-blue-400","border-2","border-blue-500","hover:bg-blue-500","text-black","font-semibold","px-8","py-2","rounded","focus:outline-none","focus:shadow-outline-blue","ml-5",3,"routerLink"],[1,"text-red-500","font-semibold"],[1,"rounded-md","px-2","py-3","text-center","font-bold"]],template:function(Be,Le){if(1&Be&&(z.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),z._uU(3,"Gebruiker Aanpassen"),z.qZA()(),z.TgZ(4,"div",3)(5,"h3",4),z._uU(6,"Problemen? Stuur een mailtje naar informatica@chiroschelle.be "),z.qZA(),z.TgZ(7,"form",5),z.NdJ("ngSubmit",function(){return Le.OnUpdate()}),z.TgZ(8,"div",6)(9,"div",7)(10,"label",8),z._uU(11,"Naam:"),z.qZA(),z._UZ(12,"input",9),z.YNc(13,at,2,0,"div",10),z.YNc(14,ct,2,0,"div",10),z.YNc(15,pt,2,0,"div",10),z.qZA(),z.TgZ(16,"div",7)(17,"label",11),z._uU(18,"Email:"),z.qZA(),z._UZ(19,"input",12),z.YNc(20,gt,2,0,"div",10),z.YNc(21,Tt,2,0,"div",10),z.qZA(),z.TgZ(22,"div",7)(23,"label",13),z._uU(24,"Afdeling: "),z.qZA(),z.TgZ(25,"select",14)(26,"option",15),z._uU(27,"Ribbel Jongens"),z.qZA(),z.TgZ(28,"option",16),z._uU(29,"Ribbel Meisjes"),z.qZA(),z.TgZ(30,"option",17),z._uU(31,"Speelclub Jongens"),z.qZA(),z.TgZ(32,"option",18),z._uU(33,"Speelclub Meisjes"),z.qZA(),z.TgZ(34,"option",19),z._uU(35,"Rakkers"),z.qZA(),z.TgZ(36,"option",20),z._uU(37,"Kwiks"),z.qZA(),z.TgZ(38,"option",21),z._uU(39,"Toppers"),z.qZA(),z.TgZ(40,"option",22),z._uU(41,"Tippers"),z.qZA(),z.TgZ(42,"option",23),z._uU(43,"Kerels"),z.qZA(),z.TgZ(44,"option",24),z._uU(45,"Tiptiens"),z.qZA(),z.TgZ(46,"option",25),z._uU(47,"Aspi Jongens"),z.qZA(),z.TgZ(48,"option",26),z._uU(49,"Aspi Meisjes"),z.qZA()(),z.YNc(50,Tn,2,0,"div",10),z.qZA(),z.TgZ(51,"div",7)(52,"label",13),z._uU(53,"Rechten"),z.qZA(),z.TgZ(54,"select",27)(55,"option",28),z._uU(56,"Leiding"),z.qZA(),z.TgZ(57,"option",29),z._uU(58,"Wekgroep"),z.qZA()(),z.YNc(59,zn,2,0,"div",10),z.qZA(),z.TgZ(60,"div",30),z.YNc(61,St,2,5,"div",31),z.qZA(),z.TgZ(62,"div",30)(63,"button",32),z._uU(64," Update "),z.qZA(),z.TgZ(65,"button",33),z._uU(66," Terug "),z.qZA()()()()()()),2&Be){let ze,Ge,ot,yt,Vt,kt,pn;z.xp6(7),z.Q6J("formGroup",Le.updateForm),z.xp6(6),z.Q6J("ngIf",null==(ze=Le.updateForm.get("name"))?null:ze.hasError("required")),z.xp6(1),z.Q6J("ngIf",null==(Ge=Le.updateForm.get("name"))?null:Ge.hasError("minlength")),z.xp6(1),z.Q6J("ngIf",null==(ot=Le.updateForm.get("name"))?null:ot.hasError("pattern")),z.xp6(5),z.Q6J("ngIf",null==(yt=Le.updateForm.get("email"))?null:yt.hasError("required")),z.xp6(1),z.Q6J("ngIf",null==(Vt=Le.updateForm.get("email"))?null:Vt.hasError("pattern")),z.xp6(29),z.Q6J("ngIf",null==(kt=Le.updateForm.get("afdeling"))?null:kt.hasError("required")),z.xp6(9),z.Q6J("ngIf",null==(pn=Le.updateForm.get("rechten"))?null:pn.hasError("required")),z.xp6(2),z.Q6J("ngIf",Le.showResponse),z.xp6(4),z.Q6J("routerLink",z.VKq(10,Cn,Le.parameterValue))}},dependencies:[he.O5,A.rH,A.Od,Ye._Y,Ye.YN,Ye.Kr,Ye.Fj,Ye.EJ,Ye.JJ,Ye.JL,Ye.sg,Ye.u]})}return ut})(),canActivate:[$t]}];let Gt=(()=>{class ut{static#e=this.\u0275fac=function(Be){return new(Be||ut)};static#t=this.\u0275mod=z.oAB({type:ut});static#n=this.\u0275inj=z.cJS({imports:[A.Bz.forChild(cn),A.Bz]})}return ut})()},7469:(vn,ft,X)=>{X.r(ft),X.d(ft,{AuthenticationRoutingModule:()=>dt});var A=X(8589),T=X(4946),se=X(5303),z=X(4060);let fe=(()=>{class Ye{constructor(ct){this.router=ct,this.isAuthneticated=!1}loginUser(){this.isAuthneticated=!0,setTimeout(()=>{this.router.navigate(["afdelingen"])},1200)}logout(){this.isAuthneticated=!1,setTimeout(()=>{this.router.navigate(["/login"])},1200)}isAuthenticatedUser(){return this.isAuthneticated}static#e=this.\u0275fac=function(pt){return new(pt||Ye)(T.LFG(A.F0))};static#t=this.\u0275prov=T.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}return Ye})();var he=X(95);let Ke=(()=>{class Ye{constructor(ct,pt,gt,Tt){this.dataService=ct,this.authservice=pt,this.router=gt,this.loginservice=Tt,this.allUsers=[],this.user=[],this.validForm=!0,this.responseMessage="",this.loggedInUser=[],this.username="",this.email="",this.password="",this.loginValid=!1}ngOnInit(){this.loginValid=!1}validateUser(ct){ct.value.email.trim()?ct.value.password.trim()||(this.validForm=!1,this.actionResponse("Vul Je wachtwoord in!",!1)):(this.validForm=!1,this.actionResponse("Vul Je email In!",!1)),this.validForm&&this.loginUser(ct)}loginUser(ct){this.authservice.loginUser(ct.value.email,ct.value.password).then(Tt=>{Tt?(this.loginValid=!0,this.actionResponse("U Bent Ingelogd!",!0),setTimeout(()=>{this.router.navigate(["/afdelingen"])},1500)):(this.loginValid=!1,this.actionResponse("Foute Gegevens!",!1))})}actionResponse(ct,pt){pt?(this.bgColor="#9fff96",this.bColor="3px solid green",this.responseMessage=ct):(this.bgColor="#fca5a5",this.bColor="3px solid red",this.responseMessage=ct)}static#e=this.\u0275fac=function(pt){return new(pt||Ye)(T.Y36(se.D),T.Y36(z.q),T.Y36(A.F0),T.Y36(fe))};static#t=this.\u0275cmp=T.Xpm({type:Ye,selectors:[["app-login"]],decls:22,vars:7,consts:[[1,"max-w-sm","mx-auto","mt-1","p-4","border","rounded-lg","shadow-lg"],[1,"bg-red-500","text-white","text-center","py-2","px-4","rounded-t-lg"],[1,"text-xl","font-bold"],[1,"bg-white","p-4","rounded-b-lg"],[1,"mb-4","text-lg","font-bold"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"mb-4"],["for","email",1,"font-semibold"],["type","email","name","email","placeholder","voornaam.naam@chiroschelle.be","value","killian.serluppens@chiroschelle.be","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","password",1,"font-semibold"],["type","password","name","password","placeholder","wachtwoord","value","","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],[1,"text-center"],["type","submit",1,"bg-red-500","hover:bg-red-600","text-white","font-bold","py-2","px-4","rounded-full"],[1,"rounded-md","px-2","py-3","text-center","mt-2","font-bold"]],template:function(pt,gt){if(1&pt){const Tt=T.EpF();T.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),T._uU(3,"Login"),T.qZA()(),T.TgZ(4,"div",3)(5,"h3",4),T._uU(6,"Heb je nog geen account? mailtje naar informatica@chiroschelle.be "),T.qZA(),T.TgZ(7,"form",5,6),T.NdJ("ngSubmit",function(){T.CHM(Tt);const zn=T.MAs(8);return T.KtG(gt.validateUser(zn))}),T.TgZ(9,"div",7)(10,"label",8),T._uU(11,"vul je chiro email in: "),T.qZA(),T.TgZ(12,"input",9),T.NdJ("ngModelChange",function(zn){return gt.email=zn}),T.qZA()(),T.TgZ(13,"div",7)(14,"label",10),T._uU(15,"Vul je Wachtwoord in:"),T.qZA(),T.TgZ(16,"input",11),T.NdJ("ngModelChange",function(zn){return gt.password=zn}),T.qZA()(),T.TgZ(17,"div",12)(18,"button",13),T._uU(19," Login "),T.qZA()(),T.TgZ(20,"div",14),T._uU(21),T.qZA()()()()}2&pt&&(T.xp6(12),T.Q6J("ngModel",gt.email),T.xp6(4),T.Q6J("ngModel",gt.password),T.xp6(4),T.Udp("border",gt.bColor)("background",gt.bgColor),T.xp6(1),T.hij(" ",gt.responseMessage," "))},dependencies:[he._Y,he.Fj,he.JJ,he.JL,he.Q7,he.On,he.F]})}return Ye})();var Dt=X(5220),Ze=X(6814);function ge(Ye,at){1&Ye&&T._UZ(0,"div",32)}function _e(Ye,at){1&Ye&&(T.TgZ(0,"div",32),T._uU(1," Full de naam in! "),T.qZA())}function qe(Ye,at){1&Ye&&(T.TgZ(0,"div",32),T._uU(1," Full de Afdeling in! "),T.qZA())}function Ce(Ye,at){1&Ye&&(T.TgZ(0,"div",32),T._uU(1," Wachtwoord moet minstens 6 tekens bevatten met 2 cijfers en 1 speciaal karakter. "),T.qZA())}function vt(Ye,at){1&Ye&&(T.TgZ(0,"div",32),T._uU(1," Vul de wachtwoordbevestiging in. "),T.qZA())}function je(Ye,at){1&Ye&&(T.TgZ(0,"div",32),T._uU(1," Wachtwoorden komen niet overeen. "),T.qZA())}function $t(Ye,at){if(1&Ye&&(T.TgZ(0,"div",33),T._uU(1),T.qZA()),2&Ye){const ct=T.oxw();T.Udp("border",ct.bColor)("background",ct.bgColor),T.xp6(1),T.hij(" ",ct.responseMessage," ")}}const fn=[{path:"login",component:Ke},{path:"singup",component:(()=>{class Ye{constructor(ct,pt,gt){this.formbuilder=ct,this.authservice=pt,this.fire=gt,this.validForm=!1,this.responseMessage="",this.signupForm=this.formbuilder.group({email:["",[he.kI.required,he.kI.pattern(/^\w+\.\w+@chiroschelle\.be$/)]],name:["",[he.kI.required,he.kI.minLength(3),he.kI.pattern(/^[A-Z]/)]],afdeling:["",[he.kI.required]],password:["",[he.kI.required,he.kI.minLength(6),he.kI.pattern(/^(?=.*[0-9].*[0-9])(?=.*[!|?]).{6,}$/)]],confirmPassword:["",[he.kI.required]]})}ngOnInit(){this.showResponse=!1}onSignUp(){this.authservice.signup(this.signupForm.value.email,this.signupForm.value.password).then(Tt=>{this.newUid=Tt.userId,"error"!=Tt.status?(this.showResponse=!0,this.bgColor="#9fff96",this.bColor="3px solid green",this.responseMessage="Nieuwe gebruiker aangemaakt",this.ActivateCreateUserDocument(),this.clearFields(),setTimeout(()=>{this.showResponse=!1},3e3)):(this.showResponse=!0,this.bgColor="#fca5a5",this.bColor="3px solid red",this.responseMessage="Fout bij aanmaken Gebruiker",this.clearFields())})}ActivateCreateUserDocument(){const ct={email:this.signupForm.value.email,password:this.signupForm.value.password,name:this.signupForm.value.name,afdeling:this.signupForm.value.afdeling,afdelingId:this.fire.getAfdelingId(this.signupForm.value.afdeling),userId:this.newUid,rights:0};this.authservice.addNewUsertocollection(ct)}clearFields(){this.signupForm.reset({email:"",password:"",confirmPassword:""})}static#e=this.\u0275fac=function(pt){return new(pt||Ye)(T.Y36(he.qu),T.Y36(z.q),T.Y36(Dt.O))};static#t=this.\u0275cmp=T.Xpm({type:Ye,selectors:[["app-signup"]],decls:64,vars:8,consts:[[1,"max-w-sm","mx-auto","p-4","border","rounded-lg","shadow-lg"],[1,"bg-red-500","text-white","text-center","py-2","px-4","rounded-t-lg"],[1,"text-xl","font-bold"],[1,"bg-white","p-4","rounded-b-lg"],[1,"mb-4","text-lg","font-bold"],["href","mailto:ict@chiroschelle.be"],[3,"formGroup","submit"],[1,"mb-4"],["for","email",1,"font-semibold"],["type","email","formControlName","email","placeholder","voornaam.naam@chiroschelle.be","value","kil.ser@chiroschelle.be",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],["class","text-red-500 text-sm",4,"ngIf"],["for","name",1,"font-semibold"],["type","text","formControlName","name","placeholder","voornaam",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],["name","department","formControlName","afdeling",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],["value","Ribbel Jongens","selected",""],["value","Ribbel Meisjes"],["value","Speelclub Jongens"],["value","Speelclub Meisjes"],["value","Rakkers"],["value","Kwiks"],["value","Toppers"],["value","Tippers"],["value","Kerels"],["value","Tiptiens"],["value","Aspi Jongens"],["value","Aspi Meisjes"],["for","password",1,"font-semibold"],["type","password","formControlName","password","placeholder","wachtwoord","value","supperwachtwoord123!",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],["type","password","formControlName","confirmPassword","placeholder","bevestig wachtwoord","value","supperwachtwoord123!",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],[1,"mb-4","text-center"],["type","submit",1,"bg-red-500","hover:bg-red-600","text-white","font-bold","py-2","px-4","rounded-full"],["class","rounded-md px-2 py-3 text-center mt-2 font-bold",3,"border","background",4,"ngIf"],[1,"text-red-500","text-sm"],[1,"rounded-md","px-2","py-3","text-center","mt-2","font-bold"]],template:function(pt,gt){if(1&pt&&(T.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),T._uU(3,"Voeg Nieuwe Gebruiker Toe"),T.qZA()(),T.TgZ(4,"div",3)(5,"h3",4),T._uU(6,"Heb jeproblemen? mailtje naar "),T.TgZ(7,"a",5),T._uU(8,"De Wergroep "),T.qZA()()(),T.TgZ(9,"form",6),T.NdJ("submit",function(){return gt.onSignUp()}),T.TgZ(10,"div",7)(11,"label",8),T._uU(12,"Vul de chiro email in"),T.qZA(),T._UZ(13,"input",9),T.YNc(14,ge,1,0,"div",10),T.qZA(),T.TgZ(15,"div",7)(16,"label",11),T._uU(17,"Vul de Naam in"),T.qZA(),T._UZ(18,"input",12),T.YNc(19,_e,2,0,"div",10),T.qZA(),T.TgZ(20,"div",7)(21,"label",11),T._uU(22,"Afdeling: "),T.qZA(),T.TgZ(23,"select",13)(24,"option",14),T._uU(25,"Ribbel Jongens"),T.qZA(),T.TgZ(26,"option",15),T._uU(27,"Ribbel Meisjes"),T.qZA(),T.TgZ(28,"option",16),T._uU(29,"Speelclub Jongens"),T.qZA(),T.TgZ(30,"option",17),T._uU(31,"Speelclub Meisjes"),T.qZA(),T.TgZ(32,"option",18),T._uU(33,"Rakkers"),T.qZA(),T.TgZ(34,"option",19),T._uU(35,"Kwiks"),T.qZA(),T.TgZ(36,"option",20),T._uU(37,"Toppers"),T.qZA(),T.TgZ(38,"option",21),T._uU(39,"Tippers"),T.qZA(),T.TgZ(40,"option",22),T._uU(41,"Kerels"),T.qZA(),T.TgZ(42,"option",23),T._uU(43,"Tiptiens"),T.qZA(),T.TgZ(44,"option",24),T._uU(45,"Aspi Jongens"),T.qZA(),T.TgZ(46,"option",25),T._uU(47,"Aspi Meisjes"),T.qZA()(),T.YNc(48,qe,2,0,"div",10),T.qZA(),T.TgZ(49,"div",7)(50,"label",26),T._uU(51,"Vul het Wachtwoord in"),T.qZA(),T._UZ(52,"input",27),T.YNc(53,Ce,2,0,"div",10),T.qZA(),T.TgZ(54,"div",7)(55,"label",26),T._uU(56,"Herhaal het Wachtwoord"),T.qZA(),T._UZ(57,"input",28),T.YNc(58,vt,2,0,"div",10),T.YNc(59,je,2,0,"div",10),T.TgZ(60,"div",29)(61,"button",30),T._uU(62,"Maak nieuwe gebruiker"),T.qZA()(),T.YNc(63,$t,2,5,"div",31),T.qZA()()()),2&pt){let Tt,Tn,zn,St,Cn,xt;T.xp6(9),T.Q6J("formGroup",gt.signupForm),T.xp6(5),T.Q6J("ngIf",null==(Tt=gt.signupForm.get("email"))?null:Tt.hasError("pattern")),T.xp6(5),T.Q6J("ngIf",null==(Tn=gt.signupForm.get("name"))?null:Tn.hasError("pattern")),T.xp6(29),T.Q6J("ngIf",null==(zn=gt.signupForm.get("afdeling"))?null:zn.hasError("pattern")),T.xp6(5),T.Q6J("ngIf",null==(St=gt.signupForm.get("password"))?null:St.hasError("pattern")),T.xp6(5),T.Q6J("ngIf",null==(Cn=gt.signupForm.get("confirmPassword"))?null:Cn.hasError("required")),T.xp6(1),T.Q6J("ngIf",(null==(xt=gt.signupForm.get("confirmPassword"))?null:xt.value)!==(null==(xt=gt.signupForm.get("password"))?null:xt.value)),T.xp6(4),T.Q6J("ngIf",gt.showResponse)}},dependencies:[Ze.O5,he._Y,he.YN,he.Kr,he.Fj,he.EJ,he.JJ,he.JL,he.sg,he.u]})}return Ye})()},{path:"logout",component:(()=>{class Ye{constructor(ct,pt){this.auth=ct,this.router=pt,this.responseMessage=""}logoutUser(){this.auth.logout(),this.actionResponse("U bent Uitgelogd",!0)}actionResponse(ct,pt){pt?(this.bgColor="#9fff96",this.bColor="3px solid green",this.responseMessage=ct):(this.bgColor="#fca5a5",this.bColor="3px solid red",this.responseMessage=ct)}static#e=this.\u0275fac=function(pt){return new(pt||Ye)(T.Y36(z.q),T.Y36(A.F0))};static#t=this.\u0275cmp=T.Xpm({type:Ye,selectors:[["app-logout"]],decls:12,vars:5,consts:[[1,"max-w-sm","mx-auto","mt-1","p-4","border","rounded-lg","shadow-lg"],[1,"bg-red-500","text-white","text-center","py-2","px-4","rounded-t-lg"],[1,"text-xl","font-bold"],[1,"bg-white","p-4","rounded-b-lg"],[1,"mb-4","text-lg","font-bold"],[1,"mb-4","text-lg","font-semibold"],[1,"border","bg-red-500","hover:bg-red-600","text-white","py-2","px-1","w-full","rounded-full",3,"click"],[1,"rounded-md","px-2","py-3","text-center","mt-2","font-bold"]],template:function(pt,gt){1&pt&&(T.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),T._uU(3,"Log uit"),T.qZA()(),T.TgZ(4,"div",3)(5,"h3",4),T._uU(6,"Ben je zeker dat je wilt uitloggen? "),T.qZA(),T.TgZ(7,"div",5)(8,"button",6),T.NdJ("click",function(){return gt.logoutUser()}),T._uU(9,"Ja ik wil uitloggen"),T.qZA()()(),T.TgZ(10,"div",7),T._uU(11),T.qZA()()),2&pt&&(T.xp6(10),T.Udp("border",gt.bColor)("background",gt.bgColor),T.xp6(1),T.hij(" ",gt.responseMessage," "))}})}return Ye})(),canActivate:[X(1391).a]}];let dt=(()=>{class Ye{static#e=this.\u0275fac=function(pt){return new(pt||Ye)};static#t=this.\u0275mod=T.oAB({type:Ye});static#n=this.\u0275inj=T.cJS({imports:[A.Bz.forChild(fn),A.Bz]})}return Ye})()},4060:(vn,ft,X)=>{X.d(ft,{q:()=>he});var A=X(9404),T=X(2459),se=X(5349),z=X(4946),fe=X(8589);let he=(()=>{class Ke{constructor(Ze,ge,_e){this.router=Ze,this.auth=ge,this.db=_e,this.token=null,this.userCollection=(0,se.hJ)(this.db,"users"),localStorage.getItem("token")&&(this.token=localStorage.getItem("token"))}signup(Ze,ge){return(0,A.Xb)(this.auth,Ze,ge).then(_e=>({status:"succes",userId:_e.user?.uid})).catch(_e=>(console.error("ERROR with creating new user: "+_e),{status:"error",userId:"ERROR"}))}addNewUsertocollection(Ze){const ge=(0,se.hJ)(this.db,"users");return(0,T.D)((0,se.ET)(ge,Ze))}loginUser(Ze,ge){return console.log("Email And Password: \n"+Ze+" "+ge),(0,A.e5)(this.auth,Ze,ge).then(()=>this.auth.currentUser?.getIdToken().then(_e=>(this.token=_e,this.loggedIn=!0,localStorage.setItem("token",_e),!0)).catch(_e=>(console.error("ERROR: An Error Acured with logging in a user: ",_e),!1))).catch(_e=>(console.error("ERROR with loggin in user: "+_e),!1))}logout(){this.auth.signOut(),this.loggedIn=!1,this.token=null,localStorage.removeItem("token"),this.router.navigate(["/login"])}isLoggedIn(){return this.loggedIn}getUid(){return this.auth.currentUser?this.auth.currentUser.uid:null}static#e=this.\u0275fac=function(ge){return new(ge||Ke)(z.LFG(fe.F0),z.LFG(A.gx),z.LFG(se.gg))};static#t=this.\u0275prov=z.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})()},1391:(vn,ft,X)=>{X.d(ft,{a:()=>z});var A=X(4946),T=X(4060),se=X(8589);let z=(()=>{class fe{constructor(Ke,Dt){this.auth=Ke,this.router=Dt}canActivate(){return!!this.auth.isLoggedIn()||(this.router.navigate(["/login"]),!1)}canDeactivate(Ke,Dt,Ze,ge){return Ke.canDeactive()}static#e=this.\u0275fac=function(Dt){return new(Dt||fe)(A.LFG(T.q),A.LFG(se.F0))};static#t=this.\u0275prov=A.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})()},1871:(vn,ft,X)=>{X.r(ft),X.d(ft,{LedenActionsModule:()=>qe});var A=X(6814),T=X(8589),se=X(4946),z=X(5303),fe=X(5220),he=X(95);function Ke(Ce,vt){if(1&Ce){const je=se.EpF();se.TgZ(0,"div",37)(1,"div",40),se._uU(2),se.qZA(),se.TgZ(3,"button",41),se.NdJ("click",function(){se.CHM(je);const Nt=se.oxw();return se.KtG(Nt.exitAction(!0))}),se._uU(4,"Ja"),se.qZA(),se.TgZ(5,"button",42),se.NdJ("click",function(){se.CHM(je);const Nt=se.oxw();return se.KtG(Nt.exitAction(!1))}),se._uU(6,"Nee"),se.qZA()()}if(2&Ce){const je=se.oxw();se.xp6(1),se.Udp("border",je.bColor)("background",je.bgColor),se.xp6(1),se.hij(" ",je.responseMessage," ")}}const ge=[{path:"edit/:lidId",component:(()=>{class Ce{constructor(je,$t,Nt,_n){this.dataService=je,this.route=$t,this.router=Nt,this.firebaseservice=_n,this.voornaam="",this.name="",this.afdeling="",this.afdelingId=0,this.email="",this.email2="",this.telefoon="",this.telefoon2="",this.Address="",this.Address2="",this.geboortedatum="",this.validForm=!1,this.setTimeoutActive=!0,this.confirmExit=!1}ngOnInit(){this.loadParameter(),this.fillDataOfLid(),this.saved=!1}loadParameter(){this.route.params.subscribe(je=>{this.parameterValue=je.lidId})}fillDataOfLid(){this.firebaseservice.getLidPerId(this.parameterValue).subscribe(je=>{this.voornaam=je[0].voornaam,this.name=je[0].name,this.afdeling=je[0].afdeling,this.setTimeoutActive&&(this.afdelingIdPreChange=je[0].afdelingId),this.email=je[0].email,this.telefoon=je[0].telefoon,this.Address=je[0].Address,this.geboortedatum=je[0].geboortedatum})}editLidForm(je){je.voornaam&&je.voornaam.trim()?je.name&&je.name.trim()?je.email&&je.email.trim()?je.Address&&je.Address.trim()?(this.afdelingId=this.firebaseservice.getAfdelingId(this.afdeling),this.firebaseservice.updateLid({voornaam:this.voornaam,name:this.name,afdeling:this.afdeling,afdelingId:this.afdelingId,email:this.email,telefoon:this.telefoon,Address:this.Address,betaald:!1,geboortedatum:this.geboortedatum},this.parameterValue),this.responseMessage="Lid Aangepast!",this.bgColor="#9fff96",this.bColor="3px solid green",this.setTimeoutActive=!1,this.saved=!0,setTimeout(()=>{this.router.navigate(["/afdelingLijst/"+this.afdelingIdPreChange])},1e3)):(this.validForm=!1,this.responseMessage="Vul het address veld In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul het email veld In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul het naam veld In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul het voornaam veld In!",this.bgColor="#fca5a5",this.bColor="3px solid red")}canDeactive(){return!!this.saved||(this.responseMessage="Annuleren zonder op te slaan?",this.bColor="3px solid #dbb61f",this.bgColor="#f5d969",this.confirmExit=!0,!1)}exitAction(je){je?(this.saved=!0,this.router.navigate(["/ledenDetails",this.parameterValue])):this.confirmExit=!1}static#e=this.\u0275fac=function($t){return new($t||Ce)(se.Y36(z.D),se.Y36(T.gz),se.Y36(T.F0),se.Y36(fe.O))};static#t=this.\u0275cmp=se.Xpm({type:Ce,selectors:[["app-edit"]],decls:75,vars:11,consts:[[3,"ngSubmit"],["nieuwLidForm","ngForm"],[1,"max-w-2xl","mx-auto","mt-1","p-4","border","rounded-lg","shadow-lg"],[1,"bg-red-500","text-white","text-center","py-2","px-4","rounded-t-lg"],[1,"text-xl","font-bold"],[1,"bg-white","p-4","rounded-b-lg","flex","flex-wrap","justify-between"],[1,"w-full","md:w-1/2","mb-4","md:pr-2"],["for","voornaam",1,"font-semibold"],["type","text","name","voornaam","placeholder","Voornaam","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],[1,"w-full","md:w-1/2","mb-4","md:pl-2"],["for","name",1,"font-semibold"],["type","text","name","name","placeholder","Naam","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","email",1,"font-semibold"],["type","email","name","email","placeholder","Email","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","telefoon",1,"font-semibold"],["type","tel","name","telefoon","placeholder","telefoon",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],[1,"w-full","mb-4","md:pl-2"],["for","Address",1,"font-semibold"],["type","text","name","Address","placeholder","Address","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],["type","text","name","Address","placeholder","Address 2","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","geboortedatum",1,"font-semibold"],["type","date","name","geboortedatum","placeholder","geboortedatum","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],[1,"row-span-2","w-full","md:w-1/2","mb-4","md:pr-2"],["for","afdeling",1,"font-semibold"],["name","afdeling","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],["value","Ribbel Jongens"],["value","Robbel Meisjes"],["value","Speelclub Jongens"],["value","Speelclub Meisjes"],["value","Rakkers"],["value","Kwiks"],["value","Toppers"],["value","Tippers"],["value","Kerels"],["value","Tiptiens"],["value","Aspi Jongens"],["value","Aspi Meisjes"],[1,"w-full","text-center"],["type","submit",1,"bg-red-500","hover:bg-red-600","text-white","font-bold","py-2","px-4","rounded-lg","w-3/5","mb-5"],["class","w-full text-center",4,"ngIf"],[1,"rounded-md","px-2","py-3","font-bold","w-1/4","text-center","mt-2","mb-3","mx-auto"],["routerLinkActive","router-link-active",1,"bg-yellow-500","hover:bg-yellow-600","text-white","font-bold","py-2","px-4","mx-3","rounded-lg",3,"click"],["routerLinkActive","router-link-active",1,"bg-blue-500","hover:bg-blue-600","text-white","font-bold","py-2","px-4","mx-3","rounded-lg",3,"click"]],template:function($t,Nt){if(1&$t){const _n=se.EpF();se.TgZ(0,"form",0,1),se.NdJ("ngSubmit",function(){se.CHM(_n);const fn=se.MAs(1);return se.KtG(Nt.editLidForm(fn.value))}),se.TgZ(2,"div",2)(3,"div",3)(4,"h2",4),se._uU(5,"Edit Lid Form"),se.qZA()(),se.TgZ(6,"div",5)(7,"div",6)(8,"label",7),se._uU(9,"Voornaam:"),se.qZA(),se.TgZ(10,"input",8),se.NdJ("ngModelChange",function(fn){return Nt.voornaam=fn}),se.qZA()(),se.TgZ(11,"div",9)(12,"label",10),se._uU(13,"Naam:"),se.qZA(),se.TgZ(14,"input",11),se.NdJ("ngModelChange",function(fn){return Nt.name=fn}),se.qZA()(),se.TgZ(15,"div",9)(16,"label",12),se._uU(17,"Email 1"),se.qZA(),se.TgZ(18,"input",13),se.NdJ("ngModelChange",function(fn){return Nt.email=fn}),se.qZA()(),se.TgZ(19,"div",9)(20,"label",12),se._uU(21,"Email 2"),se.qZA(),se.TgZ(22,"input",13),se.NdJ("ngModelChange",function(fn){return Nt.email2=fn}),se.qZA()(),se.TgZ(23,"div",6)(24,"label",14),se._uU(25,"Telefoon:"),se.qZA(),se.TgZ(26,"input",15),se.NdJ("ngModelChange",function(fn){return Nt.telefoon=fn}),se.qZA()(),se.TgZ(27,"div",6)(28,"label",14),se._uU(29,"Telefoon 2:"),se.qZA(),se.TgZ(30,"input",15),se.NdJ("ngModelChange",function(fn){return Nt.telefoon2=fn}),se.qZA()(),se.TgZ(31,"div",16)(32,"label",17),se._uU(33,"Address:"),se.qZA(),se.TgZ(34,"input",18),se.NdJ("ngModelChange",function(fn){return Nt.Address=fn}),se.qZA()(),se.TgZ(35,"div",16)(36,"label",17),se._uU(37,"Address 2:"),se.qZA(),se.TgZ(38,"input",19),se.NdJ("ngModelChange",function(fn){return Nt.Address2=fn}),se.qZA()(),se.TgZ(39,"div",9)(40,"label",20),se._uU(41,"Geboorte Datum:"),se.qZA(),se.TgZ(42,"input",21),se.NdJ("ngModelChange",function(fn){return Nt.geboortedatum=fn}),se.qZA()(),se.TgZ(43,"div",22)(44,"label",23),se._uU(45,"Voornaam Afdeling:"),se.qZA(),se.TgZ(46,"select",24),se.NdJ("ngModelChange",function(fn){return Nt.afdeling=fn}),se.TgZ(47,"option",25),se._uU(48,"Ribbel J"),se.qZA(),se.TgZ(49,"option",26),se._uU(50,"Robbel M"),se.qZA(),se.TgZ(51,"option",27),se._uU(52,"Speelclub J"),se.qZA(),se.TgZ(53,"option",28),se._uU(54,"Speelclub M"),se.qZA(),se.TgZ(55,"option",29),se._uU(56,"Rakkers"),se.qZA(),se.TgZ(57,"option",30),se._uU(58,"Kwiks"),se.qZA(),se.TgZ(59,"option",31),se._uU(60,"Toppers"),se.qZA(),se.TgZ(61,"option",32),se._uU(62,"Tippers"),se.qZA(),se.TgZ(63,"option",33),se._uU(64,"Kerels"),se.qZA(),se.TgZ(65,"option",34),se._uU(66,"Tiptiens"),se.qZA(),se.TgZ(67,"option",35),se._uU(68,"Aspi Jongens"),se.qZA(),se.TgZ(69,"option",36),se._uU(70,"Aspi Meisjes"),se.qZA()()(),se.TgZ(71,"div",37)(72,"button",38),se._uU(73,"Submit"),se.qZA()()()()(),se.YNc(74,Ke,7,5,"div",39)}2&$t&&(se.xp6(10),se.Q6J("ngModel",Nt.voornaam),se.xp6(4),se.Q6J("ngModel",Nt.name),se.xp6(4),se.Q6J("ngModel",Nt.email),se.xp6(4),se.Q6J("ngModel",Nt.email2),se.xp6(4),se.Q6J("ngModel",Nt.telefoon),se.xp6(4),se.Q6J("ngModel",Nt.telefoon2),se.xp6(4),se.Q6J("ngModel",Nt.Address),se.xp6(4),se.Q6J("ngModel",Nt.Address2),se.xp6(4),se.Q6J("ngModel",Nt.geboortedatum),se.xp6(4),se.Q6J("ngModel",Nt.afdeling),se.xp6(28),se.Q6J("ngIf",Nt.confirmExit))},dependencies:[A.O5,T.Od,he._Y,he.YN,he.Kr,he.Fj,he.EJ,he.JJ,he.JL,he.Q7,he.On,he.F]})}return Ce})(),canDeactivate:[X(1391).a]}];let _e=(()=>{class Ce{static#e=this.\u0275fac=function($t){return new($t||Ce)};static#t=this.\u0275mod=se.oAB({type:Ce});static#n=this.\u0275inj=se.cJS({imports:[T.Bz.forChild(ge),T.Bz]})}return Ce})(),qe=(()=>{class Ce{static#e=this.\u0275fac=function($t){return new($t||Ce)};static#t=this.\u0275mod=se.oAB({type:Ce});static#n=this.\u0275inj=se.cJS({imports:[A.ez,_e,he.u5,he.UX]})}return Ce})()},6383:(vn,ft,X)=>{X.r(ft),X.d(ft,{RandomNumberModule:()=>qe});var A=X(6814),T=X(8589),se=X(4946),z=X(8645);let fe=(()=>{class Ce{constructor(){this.number=new z.x}getNumber(){return this.number.asObservable()}genRandNum(){const je=Math.floor(100*Math.random());this.number.next(je)}static#e=this.\u0275fac=function($t){return new($t||Ce)};static#t=this.\u0275prov=se.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})(),he=(()=>{class Ce{constructor(je){this.numSer=je}ngOnInit(){this.numSer.getNumber().subscribe(je=>{this.rand=je})}static#e=this.\u0275fac=function($t){return new($t||Ce)(se.Y36(fe))};static#t=this.\u0275cmp=se.Xpm({type:Ce,selectors:[["app-child1"]],decls:5,vars:1,consts:[[1,"p-4"],[1,"text-black"],[1,"font-bold","text-red-700"]],template:function($t,Nt){1&$t&&(se.TgZ(0,"div",0)(1,"p",1),se._uU(2,"Random Number in Child 1: "),se.TgZ(3,"span",2),se._uU(4),se.qZA()()()),2&$t&&(se.xp6(4),se.hij(" ",Nt.rand,""))}})}return Ce})(),Ke=(()=>{class Ce{constructor(je){this.numSer=je}ngOnInit(){this.numSer.getNumber().subscribe(je=>{this.rand=je})}static#e=this.\u0275fac=function($t){return new($t||Ce)(se.Y36(fe))};static#t=this.\u0275cmp=se.Xpm({type:Ce,selectors:[["app-child2"]],decls:5,vars:1,consts:[[1,"p-4"],[1,"text-black"],[1,"font-bold","text-red-700"]],template:function($t,Nt){1&$t&&(se.TgZ(0,"div",0)(1,"p",1),se._uU(2,"Random Number in Child 2: "),se.TgZ(3,"span",2),se._uU(4),se.qZA()()()),2&$t&&(se.xp6(4),se.hij(" ",Nt.rand,""))}})}return Ce})();const ge=[{path:"subParent",component:(()=>{class Ce{constructor(je){this.numSer=je}genRandNumb(){this.numSer.genRandNum()}static#e=this.\u0275fac=function($t){return new($t||Ce)(se.Y36(fe))};static#t=this.\u0275cmp=se.Xpm({type:Ce,selectors:[["app-parent"]],decls:10,vars:0,consts:[[1,"p-4"],[1,"text-4xl","mb-3"],[1,"bg-red-500","text-white","hover:bg-red-800","hover:text-white","py-2","px-4","rounded",3,"click"]],template:function($t,Nt){1&$t&&(se.TgZ(0,"div",0)(1,"h1",1),se._uU(2,"Wat Gebeurt er Hier?"),se.qZA(),se.TgZ(3,"p"),se._uU(4,"Je drukt op de Knop en er zal in bijde Chldren (de text hier zijn 2 apparte components) een random nummber genereren in de parent component!!!! "),se.qZA(),se.TgZ(5,"button",2),se.NdJ("click",function(){return Nt.genRandNumb()}),se._uU(6," Generate Random Number "),se.qZA()(),se._UZ(7,"app-child1")(8,"br")(9,"app-child2"))},dependencies:[he,Ke]})}return Ce})(),canActivate:[X(1391).a]}];let _e=(()=>{class Ce{static#e=this.\u0275fac=function($t){return new($t||Ce)};static#t=this.\u0275mod=se.oAB({type:Ce});static#n=this.\u0275inj=se.cJS({imports:[T.Bz.forChild(ge),T.Bz]})}return Ce})(),qe=(()=>{class Ce{static#e=this.\u0275fac=function($t){return new($t||Ce)};static#t=this.\u0275mod=se.oAB({type:Ce});static#n=this.\u0275inj=se.cJS({imports:[A.ez,_e]})}return Ce})()},5303:(vn,ft,X)=>{X.d(ft,{D:()=>se});var A=X(4946),T=X(9862);let se=(()=>{class z{constructor(he){this.http=he,this.baseUrl="http://localhost:3000/api",this.checkboxUrl="http://localhost:3000/api/leden/updateCheckbox/",this.apiUsersUrl="http://localhost:3000/api/users",this.apiLedenUrl="http://localhost:3000/api/leden",this.apiLedenAfdelingUrl="http://localhost:3000/api/leden/afdelingId"}getUsers(){return this.http.get(this.apiUsersUrl)}getUserPerUsername(he){return this.http.get(`${this.baseUrl}/users/${he}`)}getLeden(){return this.http.get(this.apiLedenUrl)}getCountLeden(){return this.http.get(`${this.baseUrl}/leden/count`)}getAfdelingId(he){return this.http.get(`${this.baseUrl}/leden/${he}`)}getLidById(he){return this.http.get(`${this.baseUrl}/leden/lidId/${he}`)}postLid(he,Ke,Dt,Ze,ge,_e,qe,Ce,vt,je){return this.http.post(`${this.baseUrl}/leden/addUser`,{naam:he,voornaam:Ke,afdeling:Dt,afdelingId:Ze,email:ge,telefoon:_e,straat:qe,huisnummer:Ce,gemeente:vt,postcode:je})}updateCheckboxState(he,Ke){this.http.put(`${this.checkboxUrl}${he}`,{checkData:Ke}).subscribe()}static#e=this.\u0275fac=function(Ke){return new(Ke||z)(A.LFG(T.eN))};static#t=this.\u0275prov=A.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},5220:(vn,ft,X)=>{X.d(ft,{O:()=>he});var A=X(5861),T=X(5349),se=X(2459),z=X(5816),fe=X(4946);let he=(()=>{class Ke{constructor(Ze,ge){this.storage=Ze,this.db=ge}addLid(Ze){var ge=this;return(0,A.Z)(function*(){const _e=(0,T.hJ)(ge.db,"leden");return(0,se.D)((0,T.ET)(_e,Ze))})()}getAllLedenPerAfdeling(Ze){return(0,T.BS)((0,T.IO)((0,T.hJ)(this.db,"leden"),(0,T.ar)("afdelingId","==",Ze)),{idField:"Id"})}getLidPerId(Ze){return(0,T.BS)((0,T.IO)((0,T.hJ)(this.db,"leden"),(0,T.ar)("__name__","==",Ze)),{idField:"Id"})}changeCheckBoxState(Ze,ge){const _e=(0,T.JU)(this.db,"leden/"+ge);return(0,se.D)((0,T.r7)(_e,Ze))}updateLid(Ze,ge){const _e=(0,T.JU)(this.db,"leden/"+ge);return(0,se.D)((0,T.r7)(_e,Ze))}deleteLid(Ze){const ge=(0,T.JU)(this.db,"leden/"+Ze);return(0,se.D)((0,T.oe)(ge))}uploadImg(Ze,ge){var _e=this;return(0,A.Z)(function*(){const qe=(0,z.iH)(_e.storage,Ze);return yield(0,z.B0)(qe,ge),yield(0,z.Jt)(qe)})()}addUserToCollection(Ze){const ge=(0,T.hJ)(this.db,"users");return(0,se.D)((0,T.ET)(ge,Ze))}getAuthusers(){return(0,T.BS)((0,T.IO)((0,T.hJ)(this.db,"users")),{idField:"Id"})}getAuthUserDetails(Ze){return(0,T.BS)((0,T.IO)((0,T.hJ)(this.db,"users"),(0,T.ar)("userId","==",Ze)),{idField:"Id"})}generateUniqueID(){return`${(new Date).getTime()}${Math.random().toString(36).substring(2,12)}`}getAfdelingId(Ze){switch(Ze){case"Ribbel Meisjes":return console.log("Afdeling = 0 (RM)"),1;case"Ribbel Jongens":return 2;case"Speelclub Meisjes":return 3;case"Speelclub Jongens":return 4;case"Kwiks":return 5;case"Rakkers":return 6;case"Tippers":return 7;case"Toppers":return 8;case"Tiptiens":return 9;case"Kerels":return 10;case"Aspi Meisjes":return 11;case"Aspi Jongens":return 12;default:return 0}}getAdmin(Ze){return(0,T._1)((0,T.JU)(this.db,"/administrators/"+Ze))}updateUser(Ze,ge){const _e=(0,T.JU)(this.db,"users/"+ge);return(0,se.D)((0,T.r7)(_e,Ze))}deleteUser(Ze){const ge=(0,T.JU)(this.db,"user/"+Ze);return(0,se.D)((0,T.oe)(ge))}static#e=this.\u0275fac=function(ge){return new(ge||Ke)(fe.LFG(z.Ke),fe.LFG(T.gg))};static#t=this.\u0275prov=fe.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})()},1985:(vn,ft,X)=>{var A=X(6593),T=X(4946);function se(l){return l+.5|0}const z=(l,u,a)=>Math.max(Math.min(l,a),u);function fe(l){return z(se(2.55*l),0,255)}function Ke(l){return z(se(255*l),0,255)}function Dt(l){return z(se(l/2.55)/100,0,1)}function Ze(l){return z(se(100*l),0,100)}const ge={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_e=[..."0123456789ABCDEF"],qe=l=>_e[15&l],Ce=l=>_e[(240&l)>>4]+_e[15&l],vt=l=>(240&l)>>4==(15&l);const Dn=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function fn(l,u,a){const c=u*Math.min(a,1-a),f=(m,v=(m+l/30)%12)=>a-c*Math.max(Math.min(v-3,9-v,1),-1);return[f(0),f(8),f(4)]}function dt(l,u,a){const c=(f,m=(f+l/60)%6)=>a-a*u*Math.max(Math.min(m,4-m,1),0);return[c(5),c(3),c(1)]}function Ye(l,u,a){const c=fn(l,1,.5);let f;for(u+a>1&&(f=1/(u+a),u*=f,a*=f),f=0;f<3;f++)c[f]*=1-u-a,c[f]+=u;return c}function ct(l){const a=l.r/255,c=l.g/255,f=l.b/255,m=Math.max(a,c,f),v=Math.min(a,c,f),E=(m+v)/2;let C,N,j;return m!==v&&(j=m-v,N=E>.5?j/(2-m-v):j/(m+v),C=function at(l,u,a,c,f){return l===f?(u-a)/c+(u<a?6:0):u===f?(a-l)/c+2:(l-u)/c+4}(a,c,f,j,m),C=60*C+.5),[0|C,N||0,E]}function pt(l,u,a,c){return(Array.isArray(u)?l(u[0],u[1],u[2]):l(u,a,c)).map(Ke)}function gt(l,u,a){return pt(fn,l,u,a)}function zn(l){return(l%360+360)%360}const cn={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Gt={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let We;const Be=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Ge=l=>l<=.0031308?12.92*l:1.055*Math.pow(l,1/2.4)-.055,ot=l=>l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4);function Vt(l,u,a){if(l){let c=ct(l);c[u]=Math.max(0,Math.min(c[u]+c[u]*a,0===u?360:1)),c=gt(c),l.r=c[0],l.g=c[1],l.b=c[2]}}function kt(l,u){return l&&Object.assign(u||{},l)}function pn(l){var u={r:0,g:0,b:0,a:255};return Array.isArray(l)?l.length>=3&&(u={r:l[0],g:l[1],b:l[2],a:255},l.length>3&&(u.a=Ke(l[3]))):(u=kt(l,{r:0,g:0,b:0,a:1})).a=Ke(u.a),u}function hr(l){return"r"===l.charAt(0)?function Le(l){const u=Be.exec(l);let c,f,m,a=255;if(u){if(u[7]!==c){const v=+u[7];a=u[8]?fe(v):z(255*v,0,255)}return c=+u[1],f=+u[3],m=+u[5],c=255&(u[2]?fe(c):z(c,0,255)),f=255&(u[4]?fe(f):z(f,0,255)),m=255&(u[6]?fe(m):z(m,0,255)),{r:c,g:f,b:m,a}}}(l):function St(l){const u=Dn.exec(l);let c,a=255;if(!u)return;u[5]!==c&&(a=u[6]?fe(+u[5]):Ke(+u[5]));const f=zn(+u[2]),m=+u[3]/100,v=+u[4]/100;return c="hwb"===u[1]?function Tt(l,u,a){return pt(Ye,l,u,a)}(f,m,v):"hsv"===u[1]?function Tn(l,u,a){return pt(dt,l,u,a)}(f,m,v):gt(f,m,v),{r:c[0],g:c[1],b:c[2],a}}(l)}class Gn{constructor(u){if(u instanceof Gn)return u;const a=typeof u;let c;"object"===a?c=pn(u):"string"===a&&(c=function $t(l){var a,u=l.length;return"#"===l[0]&&(4===u||5===u?a={r:255&17*ge[l[1]],g:255&17*ge[l[2]],b:255&17*ge[l[3]],a:5===u?17*ge[l[4]]:255}:(7===u||9===u)&&(a={r:ge[l[1]]<<4|ge[l[2]],g:ge[l[3]]<<4|ge[l[4]],b:ge[l[5]]<<4|ge[l[6]],a:9===u?ge[l[7]]<<4|ge[l[8]]:255})),a}(u)||function De(l){We||(We=function ut(){const l={},u=Object.keys(Gt),a=Object.keys(cn);let c,f,m,v,E;for(c=0;c<u.length;c++){for(v=E=u[c],f=0;f<a.length;f++)m=a[f],E=E.replace(m,cn[m]);m=parseInt(Gt[v],16),l[E]=[m>>16&255,m>>8&255,255&m]}return l}(),We.transparent=[0,0,0,0]);const u=We[l.toLowerCase()];return u&&{r:u[0],g:u[1],b:u[2],a:4===u.length?u[3]:255}}(u)||hr(u)),this._rgb=c,this._valid=!!c}get valid(){return this._valid}get rgb(){var u=kt(this._rgb);return u&&(u.a=Dt(u.a)),u}set rgb(u){this._rgb=pn(u)}rgbString(){return this._valid?function ze(l){return l&&(l.a<255?`rgba(${l.r}, ${l.g}, ${l.b}, ${Dt(l.a)})`:`rgb(${l.r}, ${l.g}, ${l.b})`)}(this._rgb):void 0}hexString(){return this._valid?function _n(l){var u=(l=>vt(l.r)&&vt(l.g)&&vt(l.b)&&vt(l.a))(l)?qe:Ce;return l?"#"+u(l.r)+u(l.g)+u(l.b)+((l,u)=>l<255?u(l):"")(l.a,u):void 0}(this._rgb):void 0}hslString(){return this._valid?function xt(l){if(!l)return;const u=ct(l),a=u[0],c=Ze(u[1]),f=Ze(u[2]);return l.a<255?`hsla(${a}, ${c}%, ${f}%, ${Dt(l.a)})`:`hsl(${a}, ${c}%, ${f}%)`}(this._rgb):void 0}mix(u,a){if(u){const c=this.rgb,f=u.rgb;let m;const v=a===m?.5:a,E=2*v-1,C=c.a-f.a,N=((E*C==-1?E:(E+C)/(1+E*C))+1)/2;m=1-N,c.r=255&N*c.r+m*f.r+.5,c.g=255&N*c.g+m*f.g+.5,c.b=255&N*c.b+m*f.b+.5,c.a=v*c.a+(1-v)*f.a,this.rgb=c}return this}interpolate(u,a){return u&&(this._rgb=function yt(l,u,a){const c=ot(Dt(l.r)),f=ot(Dt(l.g)),m=ot(Dt(l.b));return{r:Ke(Ge(c+a*(ot(Dt(u.r))-c))),g:Ke(Ge(f+a*(ot(Dt(u.g))-f))),b:Ke(Ge(m+a*(ot(Dt(u.b))-m))),a:l.a+a*(u.a-l.a)}}(this._rgb,u._rgb,a)),this}clone(){return new Gn(this.rgb)}alpha(u){return this._rgb.a=Ke(u),this}clearer(u){return this._rgb.a*=1-u,this}greyscale(){const u=this._rgb,a=se(.3*u.r+.59*u.g+.11*u.b);return u.r=u.g=u.b=a,this}opaquer(u){return this._rgb.a*=1+u,this}negate(){const u=this._rgb;return u.r=255-u.r,u.g=255-u.g,u.b=255-u.b,this}lighten(u){return Vt(this._rgb,2,u),this}darken(u){return Vt(this._rgb,2,-u),this}saturate(u){return Vt(this._rgb,1,u),this}desaturate(u){return Vt(this._rgb,1,-u),this}rotate(u){return function Cn(l,u){var a=ct(l);a[0]=zn(a[0]+u),a=gt(a),l.r=a[0],l.g=a[1],l.b=a[2]}(this._rgb,u),this}}function Fr(){}const wr=(()=>{let l=0;return()=>l++})();function Mn(l){return null===l||typeof l>"u"}function Pn(l){if(Array.isArray&&Array.isArray(l))return!0;const u=Object.prototype.toString.call(l);return"[object"===u.slice(0,7)&&"Array]"===u.slice(-6)}function Ht(l){return null!==l&&"[object Object]"===Object.prototype.toString.call(l)}function Zn(l){return("number"==typeof l||l instanceof Number)&&isFinite(+l)}function ln(l,u){return Zn(l)?l:u}function In(l,u){return typeof l>"u"?u:l}const fr=(l,u)=>"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100*u:+l;function nn(l,u,a){if(l&&"function"==typeof l.call)return l.apply(a,u)}function Jt(l,u,a,c){let f,m,v;if(Pn(l))if(m=l.length,c)for(f=m-1;f>=0;f--)u.call(a,l[f],f);else for(f=0;f<m;f++)u.call(a,l[f],f);else if(Ht(l))for(v=Object.keys(l),m=v.length,f=0;f<m;f++)u.call(a,l[v[f]],v[f])}function Rr(l,u){let a,c,f,m;if(!l||!u||l.length!==u.length)return!1;for(a=0,c=l.length;a<c;++a)if(f=l[a],m=u[a],f.datasetIndex!==m.datasetIndex||f.index!==m.index)return!1;return!0}function ai(l){if(Pn(l))return l.map(ai);if(Ht(l)){const u=Object.create(null),a=Object.keys(l),c=a.length;let f=0;for(;f<c;++f)u[a[f]]=ai(l[a[f]]);return u}return l}function pi(l){return-1===["__proto__","prototype","constructor"].indexOf(l)}function Mr(l,u,a,c){if(!pi(l))return;const f=u[l],m=a[l];Ht(f)&&Ht(m)?pr(f,m,c):u[l]=ai(m)}function pr(l,u,a){const c=Pn(u)?u:[u],f=c.length;if(!Ht(l))return l;const m=(a=a||{}).merger||Mr;let v;for(let E=0;E<f;++E){if(v=c[E],!Ht(v))continue;const C=Object.keys(v);for(let N=0,j=C.length;N<j;++N)m(C[N],l,v,a)}return l}function wi(l,u){return pr(l,u,{merger:Pr})}function Pr(l,u,a){if(!pi(l))return;const c=u[l],f=a[l];Ht(c)&&Ht(f)?wi(c,f):Object.prototype.hasOwnProperty.call(u,l)||(u[l]=ai(f))}const Yt={"":l=>l,x:l=>l.x,y:l=>l.y};function Cr(l,u){return(Yt[u]||(Yt[u]=function Wi(l){const u=function gs(l){const u=l.split("."),a=[];let c="";for(const f of u)c+=f,c.endsWith("\\")?c=c.slice(0,-1)+".":(a.push(c),c="");return a}(l);return a=>{for(const c of u){if(""===c)break;a=a&&a[c]}return a}}(u)))(l)}function Xr(l){return l.charAt(0).toUpperCase()+l.slice(1)}const ir=l=>typeof l<"u",rn=l=>"function"==typeof l,Mi=(l,u)=>{if(l.size!==u.size)return!1;for(const a of l)if(!u.has(a))return!1;return!0},Ut=Math.PI,On=2*Ut,ei=On+Ut,gi=Number.POSITIVE_INFINITY,xe=Ut/180,re=Ut/2,ae=Ut/4,le=2*Ut/3,ce=Math.log10,Ue=Math.sign;function mt(l,u,a){return Math.abs(l-u)<a}function Lt(l){const u=Math.round(l);l=mt(l,u,l/1e3)?u:l;const a=Math.pow(10,Math.floor(ce(l))),c=l/a;return(c<=1?1:c<=2?2:c<=5?5:10)*a}function Sn(l){return!isNaN(parseFloat(l))&&isFinite(l)}function jn(l,u,a){let c,f,m;for(c=0,f=l.length;c<f;c++)m=l[c][a],isNaN(m)||(u.min=Math.min(u.min,m),u.max=Math.max(u.max,m))}function cr(l){return l*(Ut/180)}function He(l){return l*(180/Ut)}function Ae(l){if(!Zn(l))return;let u=1,a=0;for(;Math.round(l*u)/u!==l;)u*=10,a++;return a}function Pe(l,u){const a=u.x-l.x,c=u.y-l.y,f=Math.sqrt(a*a+c*c);let m=Math.atan2(c,a);return m<-.5*Ut&&(m+=On),{angle:m,distance:f}}function Te(l,u){return Math.sqrt(Math.pow(u.x-l.x,2)+Math.pow(u.y-l.y,2))}function Ee(l,u){return(l-u+ei)%On-Ut}function $e(l){return(l%On+On)%On}function et(l,u,a,c){const f=$e(l),m=$e(u),v=$e(a),E=$e(m-f),C=$e(v-f),N=$e(f-m),j=$e(f-v);return f===m||f===v||c&&m===v||E>C&&N<j}function Zt(l,u,a){return Math.max(u,Math.min(a,l))}function gn(l,u,a,c=1e-6){return l>=Math.min(u,a)-c&&l<=Math.max(u,a)+c}function gr(l,u,a){a=a||(v=>l[v]<u);let m,c=l.length-1,f=0;for(;c-f>1;)m=f+c>>1,a(m)?f=m:c=m;return{lo:f,hi:c}}const An=(l,u,a,c)=>gr(l,a,c?f=>{const m=l[f][u];return m<a||m===a&&l[f+1][u]===a}:f=>l[f][u]<a),li=(l,u,a)=>gr(l,a,c=>l[c][u]>=a),Pi=["push","pop","shift","splice","unshift"];function lr(l,u){const a=l._chartjs;if(!a)return;const c=a.listeners,f=c.indexOf(u);-1!==f&&c.splice(f,1),!(c.length>0)&&(Pi.forEach(m=>{delete l[m]}),delete l._chartjs)}function ui(l){const u=new Set(l);return u.size===l.length?l:Array.from(u)}const Nn=typeof window>"u"?function(l){return l()}:window.requestAnimationFrame;function jr(l,u){let a=[],c=!1;return function(...f){a=f,c||(c=!0,Nn.call(window,()=>{c=!1,l.apply(u,a)}))}}const ni=l=>"start"===l?"left":"end"===l?"right":"center",Kn=(l,u,a)=>"start"===l?u:"end"===l?a:(u+a)/2;function Qs(l,u,a){const c=u.length;let f=0,m=c;if(l._sorted){const{iScale:v,_parsed:E}=l,C=v.axis,{min:N,max:j,minDefined:J,maxDefined:ue}=v.getUserBounds();J&&(f=Zt(Math.min(An(E,C,N).lo,a?c:An(u,C,v.getPixelForValue(N)).lo),0,c-1)),m=ue?Zt(Math.max(An(E,v.axis,j,!0).hi+1,a?0:An(u,C,v.getPixelForValue(j),!0).hi+1),f,c)-f:c-f}return{start:f,count:m}}function _s(l){const{xScale:u,yScale:a,_scaleRanges:c}=l,f={xmin:u.min,xmax:u.max,ymin:a.min,ymax:a.max};if(!c)return l._scaleRanges=f,!0;const m=c.xmin!==u.min||c.xmax!==u.max||c.ymin!==a.min||c.ymax!==a.max;return Object.assign(c,f),m}const ls=l=>0===l||1===l,Ei=(l,u,a)=>-Math.pow(2,10*(l-=1))*Math.sin((l-u)*On/a),Uo=(l,u,a)=>Math.pow(2,-10*l)*Math.sin((l-u)*On/a)+1,Js={linear:l=>l,easeInQuad:l=>l*l,easeOutQuad:l=>-l*(l-2),easeInOutQuad:l=>(l/=.5)<1?.5*l*l:-.5*(--l*(l-2)-1),easeInCubic:l=>l*l*l,easeOutCubic:l=>(l-=1)*l*l+1,easeInOutCubic:l=>(l/=.5)<1?.5*l*l*l:.5*((l-=2)*l*l+2),easeInQuart:l=>l*l*l*l,easeOutQuart:l=>-((l-=1)*l*l*l-1),easeInOutQuart:l=>(l/=.5)<1?.5*l*l*l*l:-.5*((l-=2)*l*l*l-2),easeInQuint:l=>l*l*l*l*l,easeOutQuint:l=>(l-=1)*l*l*l*l+1,easeInOutQuint:l=>(l/=.5)<1?.5*l*l*l*l*l:.5*((l-=2)*l*l*l*l+2),easeInSine:l=>1-Math.cos(l*re),easeOutSine:l=>Math.sin(l*re),easeInOutSine:l=>-.5*(Math.cos(Ut*l)-1),easeInExpo:l=>0===l?0:Math.pow(2,10*(l-1)),easeOutExpo:l=>1===l?1:1-Math.pow(2,-10*l),easeInOutExpo:l=>ls(l)?l:l<.5?.5*Math.pow(2,10*(2*l-1)):.5*(2-Math.pow(2,-10*(2*l-1))),easeInCirc:l=>l>=1?l:-(Math.sqrt(1-l*l)-1),easeOutCirc:l=>Math.sqrt(1-(l-=1)*l),easeInOutCirc:l=>(l/=.5)<1?-.5*(Math.sqrt(1-l*l)-1):.5*(Math.sqrt(1-(l-=2)*l)+1),easeInElastic:l=>ls(l)?l:Ei(l,.075,.3),easeOutElastic:l=>ls(l)?l:Uo(l,.075,.3),easeInOutElastic:l=>ls(l)?l:l<.5?.5*Ei(2*l,.1125,.45):.5+.5*Uo(2*l-1,.1125,.45),easeInBack:l=>l*l*(2.70158*l-1.70158),easeOutBack:l=>(l-=1)*l*(2.70158*l+1.70158)+1,easeInOutBack(l){let u=1.70158;return(l/=.5)<1?l*l*((1+(u*=1.525))*l-u)*.5:.5*((l-=2)*l*((1+(u*=1.525))*l+u)+2)},easeInBounce:l=>1-Js.easeOutBounce(1-l),easeOutBounce:l=>l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375,easeInOutBounce:l=>l<.5?.5*Js.easeInBounce(2*l):.5*Js.easeOutBounce(2*l-1)+.5};function Oi(l){if(l&&"object"==typeof l){const u=l.toString();return"[object CanvasPattern]"===u||"[object CanvasGradient]"===u}return!1}function ks(l){return Oi(l)?l:new Gn(l)}function vi(l){return Oi(l)?l:new Gn(l).saturate(.5).darken(.1).hexString()}const Xs=["x","y","borderWidth","radius","tension"],Ss=["color","borderColor","backgroundColor"],Ui=new Map;function ho(l,u,a){return function Ca(l,u){u=u||{};const a=l+JSON.stringify(u);let c=Ui.get(a);return c||(c=new Intl.NumberFormat(l,u),Ui.set(a,c)),c}(u,a).format(l)}const aa={values:l=>Pn(l)?l:""+l,numeric(l,u,a){if(0===l)return"0";const c=this.chart.options.locale;let f,m=l;if(a.length>1){const N=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(N<1e-4||N>1e15)&&(f="scientific"),m=function Aa(l,u){let a=u.length>3?u[2].value-u[1].value:u[1].value-u[0].value;return Math.abs(a)>=1&&l!==Math.floor(l)&&(a=l-Math.floor(l)),a}(l,a)}const v=ce(Math.abs(m)),E=isNaN(v)?1:Math.max(Math.min(-1*Math.floor(v),20),0),C={notation:f,minimumFractionDigits:E,maximumFractionDigits:E};return Object.assign(C,this.options.ticks.format),ho(l,c,C)},logarithmic(l,u,a){if(0===l)return"0";const c=a[u].significand||l/Math.pow(10,Math.floor(ce(l)));return[1,2,3,5,10,15].includes(c)||u>.8*a.length?aa.numeric.call(this,l,u,a):""}};var xs={formatters:aa};const us=Object.create(null),eo=Object.create(null);function ns(l,u){if(!u)return l;const a=u.split(".");for(let c=0,f=a.length;c<f;++c){const m=a[c];l=l[m]||(l[m]=Object.create(null))}return l}function la(l,u,a){return"string"==typeof u?pr(ns(l,u),a):pr(ns(l,""),u)}class Do{constructor(u,a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=c=>c.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(c,f)=>vi(f.backgroundColor),this.hoverBorderColor=(c,f)=>vi(f.borderColor),this.hoverColor=(c,f)=>vi(f.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(u),this.apply(a)}set(u,a){return la(this,u,a)}get(u){return ns(this,u)}describe(u,a){return la(eo,u,a)}override(u,a){return la(us,u,a)}route(u,a,c,f){const m=ns(this,u),v=ns(this,c),E="_"+a;Object.defineProperties(m,{[E]:{value:m[a],writable:!0},[a]:{enumerable:!0,get(){const C=this[E],N=v[f];return Ht(C)?Object.assign({},N,C):In(C,N)},set(C){this[E]=C}}})}apply(u){u.forEach(a=>a(this))}}var Zr=new Do({_scriptable:l=>!l.startsWith("on"),_indexable:l=>"events"!==l,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Ni(l){l.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),l.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:u=>"onProgress"!==u&&"onComplete"!==u&&"fn"!==u}),l.set("animations",{colors:{type:"color",properties:Ss},numbers:{type:"number",properties:Xs}}),l.describe("animations",{_fallback:"animation"}),l.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:u=>0|u}}}})},function Ls(l){l.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Da(l){l.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(u,a)=>a.lineWidth,tickColor:(u,a)=>a.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xs.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),l.route("scale.ticks","color","","color"),l.route("scale.grid","color","","borderColor"),l.route("scale.border","color","","borderColor"),l.route("scale.title","color","","color"),l.describe("scale",{_fallback:!1,_scriptable:u=>!u.startsWith("before")&&!u.startsWith("after")&&"callback"!==u&&"parser"!==u,_indexable:u=>"borderDash"!==u&&"tickBorderDash"!==u&&"dash"!==u}),l.describe("scales",{_fallback:"scale"}),l.describe("scale.ticks",{_scriptable:u=>"backdropPadding"!==u&&"callback"!==u,_indexable:u=>"backdropPadding"!==u})}]);function po(l,u,a,c,f){let m=u[f];return m||(m=u[f]=l.measureText(f).width,a.push(f)),m>c&&(c=m),c}function ua(l,u,a,c){let f=(c=c||{}).data=c.data||{},m=c.garbageCollect=c.garbageCollect||[];c.font!==u&&(f=c.data={},m=c.garbageCollect=[],c.font=u),l.save(),l.font=u;let v=0;const E=a.length;let C,N,j,J,ue;for(C=0;C<E;C++)if(J=a[C],null==J||Pn(J)){if(Pn(J))for(N=0,j=J.length;N<j;N++)ue=J[N],null!=ue&&!Pn(ue)&&(v=po(l,f,m,v,ue))}else v=po(l,f,m,v,J);l.restore();const pe=m.length/2;if(pe>a.length){for(C=0;C<pe;C++)delete f[m[C]];m.splice(0,pe)}return v}function rs(l,u,a){const c=l.currentDevicePixelRatio,f=0!==a?Math.max(a/2,.5):0;return Math.round((u-f)*c)/c+f}function Bi(l,u){(u=u||l.getContext("2d")).save(),u.resetTransform(),u.clearRect(0,0,l.width,l.height),u.restore()}function cs(l,u,a,c){to(l,u,a,c,null)}function to(l,u,a,c,f){let m,v,E,C,N,j,J,ue;const pe=u.pointStyle,Se=u.rotation,Re=u.radius;let Oe=(Se||0)*xe;if(pe&&"object"==typeof pe&&(m=pe.toString(),"[object HTMLImageElement]"===m||"[object HTMLCanvasElement]"===m))return l.save(),l.translate(a,c),l.rotate(Oe),l.drawImage(pe,-pe.width/2,-pe.height/2,pe.width,pe.height),void l.restore();if(!(isNaN(Re)||Re<=0)){switch(l.beginPath(),pe){default:f?l.ellipse(a,c,f/2,Re,0,0,On):l.arc(a,c,Re,0,On),l.closePath();break;case"triangle":j=f?f/2:Re,l.moveTo(a+Math.sin(Oe)*j,c-Math.cos(Oe)*Re),Oe+=le,l.lineTo(a+Math.sin(Oe)*j,c-Math.cos(Oe)*Re),Oe+=le,l.lineTo(a+Math.sin(Oe)*j,c-Math.cos(Oe)*Re),l.closePath();break;case"rectRounded":N=.516*Re,C=Re-N,v=Math.cos(Oe+ae)*C,J=Math.cos(Oe+ae)*(f?f/2-N:C),E=Math.sin(Oe+ae)*C,ue=Math.sin(Oe+ae)*(f?f/2-N:C),l.arc(a-J,c-E,N,Oe-Ut,Oe-re),l.arc(a+ue,c-v,N,Oe-re,Oe),l.arc(a+J,c+E,N,Oe,Oe+re),l.arc(a-ue,c+v,N,Oe+re,Oe+Ut),l.closePath();break;case"rect":if(!Se){C=Math.SQRT1_2*Re,j=f?f/2:C,l.rect(a-j,c-C,2*j,2*C);break}Oe+=ae;case"rectRot":J=Math.cos(Oe)*(f?f/2:Re),v=Math.cos(Oe)*Re,E=Math.sin(Oe)*Re,ue=Math.sin(Oe)*(f?f/2:Re),l.moveTo(a-J,c-E),l.lineTo(a+ue,c-v),l.lineTo(a+J,c+E),l.lineTo(a-ue,c+v),l.closePath();break;case"crossRot":Oe+=ae;case"cross":J=Math.cos(Oe)*(f?f/2:Re),v=Math.cos(Oe)*Re,E=Math.sin(Oe)*Re,ue=Math.sin(Oe)*(f?f/2:Re),l.moveTo(a-J,c-E),l.lineTo(a+J,c+E),l.moveTo(a+ue,c-v),l.lineTo(a-ue,c+v);break;case"star":J=Math.cos(Oe)*(f?f/2:Re),v=Math.cos(Oe)*Re,E=Math.sin(Oe)*Re,ue=Math.sin(Oe)*(f?f/2:Re),l.moveTo(a-J,c-E),l.lineTo(a+J,c+E),l.moveTo(a+ue,c-v),l.lineTo(a-ue,c+v),Oe+=ae,J=Math.cos(Oe)*(f?f/2:Re),v=Math.cos(Oe)*Re,E=Math.sin(Oe)*Re,ue=Math.sin(Oe)*(f?f/2:Re),l.moveTo(a-J,c-E),l.lineTo(a+J,c+E),l.moveTo(a+ue,c-v),l.lineTo(a-ue,c+v);break;case"line":v=f?f/2:Math.cos(Oe)*Re,E=Math.sin(Oe)*Re,l.moveTo(a-v,c-E),l.lineTo(a+v,c+E);break;case"dash":l.moveTo(a,c),l.lineTo(a+Math.cos(Oe)*(f?f/2:Re),c+Math.sin(Oe)*Re);break;case!1:l.closePath()}l.fill(),u.borderWidth>0&&l.stroke()}}function qn(l,u,a){return a=a||.5,!u||l&&l.x>u.left-a&&l.x<u.right+a&&l.y>u.top-a&&l.y<u.bottom+a}function kn(l,u){l.save(),l.beginPath(),l.rect(u.left,u.top,u.right-u.left,u.bottom-u.top),l.clip()}function Or(l){l.restore()}function qi(l,u,a,c,f){if(!u)return l.lineTo(a.x,a.y);if("middle"===f){const m=(u.x+a.x)/2;l.lineTo(m,u.y),l.lineTo(m,a.y)}else"after"===f!=!!c?l.lineTo(u.x,a.y):l.lineTo(a.x,u.y);l.lineTo(a.x,a.y)}function Ai(l,u,a,c){if(!u)return l.lineTo(a.x,a.y);l.bezierCurveTo(c?u.cp1x:u.cp2x,c?u.cp1y:u.cp2y,c?a.cp2x:a.cp1x,c?a.cp2y:a.cp1y,a.x,a.y)}function go(l,u,a,c,f){if(f.strikethrough||f.underline){const m=l.measureText(c),v=u-m.actualBoundingBoxLeft,E=u+m.actualBoundingBoxRight,N=a+m.actualBoundingBoxDescent,j=f.strikethrough?(a-m.actualBoundingBoxAscent+N)/2:N;l.strokeStyle=l.fillStyle,l.beginPath(),l.lineWidth=f.decorationWidth||2,l.moveTo(v,j),l.lineTo(E,j),l.stroke()}}function Fs(l,u){const a=l.fillStyle;l.fillStyle=u.color,l.fillRect(u.left,u.top,u.width,u.height),l.fillStyle=a}function So(l,u,a,c,f,m={}){const v=Pn(u)?u:[u],E=m.strokeWidth>0&&""!==m.strokeColor;let C,N;for(l.save(),l.font=f.string,function ca(l,u){u.translation&&l.translate(u.translation[0],u.translation[1]),Mn(u.rotation)||l.rotate(u.rotation),u.color&&(l.fillStyle=u.color),u.textAlign&&(l.textAlign=u.textAlign),u.textBaseline&&(l.textBaseline=u.textBaseline)}(l,m),C=0;C<v.length;++C)N=v[C],m.backdrop&&Fs(l,m.backdrop),E&&(m.strokeColor&&(l.strokeStyle=m.strokeColor),Mn(m.strokeWidth)||(l.lineWidth=m.strokeWidth),l.strokeText(N,a,c,m.maxWidth)),l.fillText(N,a,c,m.maxWidth),go(l,a,c,N,m),c+=Number(f.lineHeight);l.restore()}function Vs(l,u){const{x:a,y:c,w:f,h:m,radius:v}=u;l.arc(a+v.topLeft,c+v.topLeft,v.topLeft,1.5*Ut,Ut,!0),l.lineTo(a,c+m-v.bottomLeft),l.arc(a+v.bottomLeft,c+m-v.bottomLeft,v.bottomLeft,Ut,re,!0),l.lineTo(a+f-v.bottomRight,c+m),l.arc(a+f-v.bottomRight,c+m-v.bottomRight,v.bottomRight,re,0,!0),l.lineTo(a+f,c+v.topRight),l.arc(a+f-v.topRight,c+v.topRight,v.topRight,0,-re,!0),l.lineTo(a+v.topLeft,c)}const ci=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Kt=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xn(l,u){const a=(""+l).match(ci);if(!a||"normal"===a[1])return 1.2*u;switch(l=+a[2],a[3]){case"px":return l;case"%":l/=100}return u*l}const q=l=>+l||0;function Y(l,u){const a={},c=Ht(u),f=c?Object.keys(u):u,m=Ht(l)?c?v=>In(l[v],l[u[v]]):v=>l[v]:()=>l;for(const v of f)a[v]=q(m(v));return a}function be(l){return Y(l,{top:"y",right:"x",bottom:"y",left:"x"})}function we(l){return Y(l,["topLeft","topRight","bottomLeft","bottomRight"])}function Ne(l){const u=be(l);return u.width=u.left+u.right,u.height=u.top+u.bottom,u}function Xe(l,u){let a=In((l=l||{}).size,(u=u||Zr.font).size);"string"==typeof a&&(a=parseInt(a,10));let c=In(l.style,u.style);c&&!(""+c).match(Kt)&&(console.warn('Invalid font style specified: "'+c+'"'),c=void 0);const f={family:In(l.family,u.family),lineHeight:xn(In(l.lineHeight,u.lineHeight),a),size:a,style:c,weight:In(l.weight,u.weight),string:""};return f.string=function fo(l){return!l||Mn(l.size)||Mn(l.family)?null:(l.style?l.style+" ":"")+(l.weight?l.weight+" ":"")+l.size+"px "+l.family}(f),f}function Bt(l,u,a,c){let m,v,E,f=!0;for(m=0,v=l.length;m<v;++m)if(E=l[m],void 0!==E&&(void 0!==u&&"function"==typeof E&&(E=E(u),f=!1),void 0!==a&&Pn(E)&&(E=E[a%E.length],f=!1),void 0!==E))return c&&!f&&(c.cacheable=!1),E}function It(l,u){return Object.assign(Object.create(l),u)}function Fn(l,u=[""],a,c,f=(()=>l[0])){const m=a||l;typeof c>"u"&&(c=Ko("_fallback",l));const v={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:l,_rootScopes:m,_fallback:c,_getTarget:f,override:E=>Fn([E,...l],u,m,c)};return new Proxy(v,{deleteProperty:(E,C)=>(delete E[C],delete E._keys,delete l[0][C],!0),get:(E,C)=>Vr(E,C,()=>function Us(l,u,a,c){let f;for(const m of u)if(f=Ko(Yn(m,l),a),typeof f<"u")return kr(l,f)?ki(a,c,l,f):f}(C,u,l,E)),getOwnPropertyDescriptor:(E,C)=>Reflect.getOwnPropertyDescriptor(E._scopes[0],C),getPrototypeOf:()=>Reflect.getPrototypeOf(l[0]),has:(E,C)=>Jn(E).includes(C),ownKeys:E=>Jn(E),set(E,C,N){const j=E._storage||(E._storage=f());return E[C]=j[C]=N,delete E._keys,!0}})}function Xn(l,u,a,c){const f={_cacheable:!1,_proxy:l,_context:u,_subProxy:a,_stack:new Set,_descriptors:Nr(l,c),setContext:m=>Xn(l,m,a,c),override:m=>Xn(l.override(m),u,a,c)};return new Proxy(f,{deleteProperty:(m,v)=>(delete m[v],delete l[v],!0),get:(m,v,E)=>Vr(m,v,()=>function Kr(l,u,a){const{_proxy:c,_context:f,_subProxy:m,_descriptors:v}=l;let E=c[u];return rn(E)&&v.isScriptable(u)&&(E=function Ur(l,u,a,c){const{_proxy:f,_context:m,_subProxy:v,_stack:E}=a;if(E.has(l))throw new Error("Recursion detected: "+Array.from(E).join("->")+"->"+l);E.add(l);let C=u(m,v||c);return E.delete(l),kr(l,C)&&(C=ki(f._scopes,f,l,C)),C}(u,E,l,a)),Pn(E)&&E.length&&(E=function mo(l,u,a,c){const{_proxy:f,_context:m,_subProxy:v,_descriptors:E}=a;if(typeof m.index<"u"&&c(l))return u[m.index%u.length];if(Ht(u[0])){const C=u,N=f._scopes.filter(j=>j!==C);u=[];for(const j of C){const J=ki(N,f,l,j);u.push(Xn(J,m,v&&v[l],E))}}return u}(u,E,l,v.isIndexable)),kr(u,E)&&(E=Xn(E,f,m&&m[u],v)),E}(m,v,E)),getOwnPropertyDescriptor:(m,v)=>m._descriptors.allKeys?Reflect.has(l,v)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(l,v),getPrototypeOf:()=>Reflect.getPrototypeOf(l),has:(m,v)=>Reflect.has(l,v),ownKeys:()=>Reflect.ownKeys(l),set:(m,v,E)=>(l[v]=E,delete m[v],!0)})}function Nr(l,u={scriptable:!0,indexable:!0}){const{_scriptable:a=u.scriptable,_indexable:c=u.indexable,_allKeys:f=u.allKeys}=l;return{allKeys:f,scriptable:a,indexable:c,isScriptable:rn(a)?a:()=>a,isIndexable:rn(c)?c:()=>c}}const Yn=(l,u)=>l?l+Xr(u):u,kr=(l,u)=>Ht(u)&&"adapters"!==l&&(null===Object.getPrototypeOf(u)||u.constructor===Object);function Vr(l,u,a){if(Object.prototype.hasOwnProperty.call(l,u))return l[u];const c=a();return l[u]=c,c}function mi(l,u,a){return rn(l)?l(u,a):l}const br=(l,u)=>!0===l?u:"string"==typeof l?Cr(u,l):void 0;function ri(l,u,a,c,f){for(const m of u){const v=br(a,m);if(v){l.add(v);const E=mi(v._fallback,a,f);if(typeof E<"u"&&E!==a&&E!==c)return E}else if(!1===v&&typeof c<"u"&&a!==c)return null}return!1}function ki(l,u,a,c){const f=u._rootScopes,m=mi(u._fallback,a,c),v=[...l,...f],E=new Set;E.add(c);let C=Qn(E,v,a,m||a,c);return!(null===C||typeof m<"u"&&m!==a&&(C=Qn(E,v,m,C,c),null===C))&&Fn(Array.from(E),[""],f,m,()=>function Zo(l,u,a){const c=l._getTarget();u in c||(c[u]={});const f=c[u];return Pn(f)&&Ht(a)?a:f||{}}(u,a,c))}function Qn(l,u,a,c,f){for(;a;)a=ri(l,u,a,c,f);return a}function Ko(l,u){for(const a of u){if(!a)continue;const c=a[l];if(typeof c<"u")return c}}function Jn(l){let u=l._keys;return u||(u=l._keys=function Ha(l){const u=new Set;for(const a of l)for(const c of Object.keys(a).filter(f=>!f.startsWith("_")))u.add(c);return Array.from(u)}(l._scopes)),u}function ys(l,u,a,c){const{iScale:f}=l,{key:m="r"}=this._parsing,v=new Array(c);let E,C,N,j;for(E=0,C=c;E<C;++E)N=E+a,j=u[N],v[E]={r:f.parse(Cr(j,m),N)};return v}const tl=Number.EPSILON||1e-14,Ii=(l,u)=>u<l.length&&!l[u].skip&&l[u],nl=l=>"x"===l?"y":"x";function Hr(l,u,a,c){const f=l.skip?u:l,m=u,v=a.skip?u:a,E=Te(m,f),C=Te(v,m);let N=E/(E+C),j=C/(E+C);N=isNaN(N)?0:N,j=isNaN(j)?0:j;const J=c*N,ue=c*j;return{previous:{x:m.x-J*(v.x-f.x),y:m.y-J*(v.y-f.y)},next:{x:m.x+ue*(v.x-f.x),y:m.y+ue*(v.y-f.y)}}}function er(l,u,a){return Math.max(Math.min(l,a),u)}function il(l,u,a,c,f){let m,v,E,C;if(u.spanGaps&&(l=l.filter(N=>!N.skip)),"monotone"===u.cubicInterpolationMode)!function Bo(l,u="x"){const a=nl(u),c=l.length,f=Array(c).fill(0),m=Array(c);let v,E,C,N=Ii(l,0);for(v=0;v<c;++v)if(E=C,C=N,N=Ii(l,v+1),C){if(N){const j=N[u]-C[u];f[v]=0!==j?(N[a]-C[a])/j:0}m[v]=E?N?Ue(f[v-1])!==Ue(f[v])?0:(f[v-1]+f[v])/2:f[v-1]:f[v]}(function Di(l,u,a){const c=l.length;let f,m,v,E,C,N=Ii(l,0);for(let j=0;j<c-1;++j)if(C=N,N=Ii(l,j+1),C&&N){if(mt(u[j],0,tl)){a[j]=a[j+1]=0;continue}f=a[j]/u[j],m=a[j+1]/u[j],E=Math.pow(f,2)+Math.pow(m,2),!(E<=9)&&(v=3/Math.sqrt(E),a[j]=f*v*u[j],a[j+1]=m*v*u[j])}})(l,f,m),function rl(l,u,a="x"){const c=nl(a),f=l.length;let m,v,E,C=Ii(l,0);for(let N=0;N<f;++N){if(v=E,E=C,C=Ii(l,N+1),!E)continue;const j=E[a],J=E[c];v&&(m=(j-v[a])/3,E[`cp1${a}`]=j-m,E[`cp1${c}`]=J-m*u[N]),C&&(m=(C[a]-j)/3,E[`cp2${a}`]=j+m,E[`cp2${c}`]=J+m*u[N])}}(l,m,u)}(l,f);else{let N=c?l[l.length-1]:l[0];for(m=0,v=l.length;m<v;++m)E=l[m],C=Hr(N,E,l[Math.min(m+1,v-(c?0:1))%v],u.tension),E.cp1x=C.previous.x,E.cp1y=C.previous.y,E.cp2x=C.next.x,E.cp2y=C.next.y,N=E}u.capBezierPoints&&function is(l,u){let a,c,f,m,v,E=qn(l[0],u);for(a=0,c=l.length;a<c;++a)v=m,m=E,E=a<c-1&&qn(l[a+1],u),m&&(f=l[a],v&&(f.cp1x=er(f.cp1x,u.left,u.right),f.cp1y=er(f.cp1y,u.top,u.bottom)),E&&(f.cp2x=er(f.cp2x,u.left,u.right),f.cp2y=er(f.cp2y,u.top,u.bottom)))}(l,a)}function W(){return typeof window<"u"&&typeof document<"u"}function Z(l){let u=l.parentNode;return u&&"[object ShadowRoot]"===u.toString()&&(u=u.host),u}function U(l,u,a){let c;return"string"==typeof l?(c=parseInt(l,10),-1!==l.indexOf("%")&&(c=c/100*u.parentNode[a])):c=l,c}const oe=l=>l.ownerDocument.defaultView.getComputedStyle(l,null),an=["top","right","bottom","left"];function Hn(l,u,a){const c={};a=a?"-"+a:"";for(let f=0;f<4;f++){const m=an[f];c[m]=parseFloat(l[u+"-"+m+a])||0}return c.width=c.left+c.right,c.height=c.top+c.bottom,c}const ss=(l,u,a)=>(l>0||u>0)&&(!a||!a.shadowRoot);function vs(l,u){if("native"in l)return l;const{canvas:a,currentDevicePixelRatio:c}=u,f=oe(a),m="border-box"===f.boxSizing,v=Hn(f,"padding"),E=Hn(f,"border","width"),{x:C,y:N,box:j}=function da(l,u){const a=l.touches,c=a&&a.length?a[0]:l,{offsetX:f,offsetY:m}=c;let E,C,v=!1;if(ss(f,m,l.target))E=f,C=m;else{const N=u.getBoundingClientRect();E=c.clientX-N.left,C=c.clientY-N.top,v=!0}return{x:E,y:C,box:v}}(l,a),J=v.left+(j&&E.left),ue=v.top+(j&&E.top);let{width:pe,height:Se}=u;return m&&(pe-=v.width+E.width,Se-=v.height+E.height),{x:Math.round((C-J)/pe*a.width/c),y:Math.round((N-ue)/Se*a.height/c)}}const Ro=l=>Math.round(10*l)/10;function Bs(l,u,a){const c=u||1,f=Math.floor(l.height*c),m=Math.floor(l.width*c);l.height=Math.floor(l.height),l.width=Math.floor(l.width);const v=l.canvas;return v.style&&(a||!v.style.height&&!v.style.width)&&(v.style.height=`${l.height}px`,v.style.width=`${l.width}px`),(l.currentDevicePixelRatio!==c||v.height!==f||v.width!==m)&&(l.currentDevicePixelRatio=c,v.height=f,v.width=m,l.ctx.setTransform(c,0,0,c,0,0),!0)}const hc=function(){let l=!1;try{const u={get passive(){return l=!0,!1}};window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch{}return l}();function Kl(l,u){const a=function Me(l,u){return oe(l).getPropertyValue(u)}(l,u),c=a&&a.match(/^(\d+)(\.\d+)?px$/);return c?+c[1]:void 0}function jo(l,u,a,c){return{x:l.x+a*(u.x-l.x),y:l.y+a*(u.y-l.y)}}function za(l,u,a,c){return{x:l.x+a*(u.x-l.x),y:"middle"===c?a<.5?l.y:u.y:"after"===c?a<1?l.y:u.y:a>0?u.y:l.y}}function fc(l,u,a,c){const f={x:l.cp2x,y:l.cp2y},m={x:u.cp1x,y:u.cp1y},v=jo(l,f,a),E=jo(f,m,a),C=jo(m,u,a),N=jo(v,E,a),j=jo(E,C,a);return jo(N,j,a)}function Yo(l,u,a){return l?function(l,u){return{x:a=>l+l+u-a,setWidth(a){u=a},textAlign:a=>"center"===a?a:"right"===a?"left":"right",xPlus:(a,c)=>a-c,leftForLtr:(a,c)=>a-c}}(u,a):{x:l=>l,setWidth(l){},textAlign:l=>l,xPlus:(l,u)=>l+u,leftForLtr:(l,u)=>l}}function Ho(l,u){let a,c;("ltr"===u||"rtl"===u)&&(a=l.canvas.style,c=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",u,"important"),l.prevTextDirection=c)}function no(l,u){void 0!==u&&(delete l.prevTextDirection,l.canvas.style.setProperty("direction",u[0],u[1]))}function sl(l){return"angle"===l?{between:et,compare:Ee,normalize:$e}:{between:gn,compare:(u,a)=>u-a,normalize:u=>u}}function ds({start:l,end:u,count:a,loop:c,style:f}){return{start:l%a,end:u%a,loop:c&&(u-l+1)%a==0,style:f}}function _o(l,u,a){if(!a)return[l];const{property:c,start:f,end:m}=a,v=u.length,{compare:E,between:C,normalize:N}=sl(c),{start:j,end:J,loop:ue,style:pe}=function hs(l,u,a){const{property:c,start:f,end:m}=a,{between:v,normalize:E}=sl(c),C=u.length;let ue,pe,{start:N,end:j,loop:J}=l;if(J){for(N+=C,j+=C,ue=0,pe=C;ue<pe&&v(E(u[N%C][c]),f,m);++ue)N--,j--;N%=C,j%=C}return j<N&&(j+=C),{start:N,end:j,loop:J,style:l.style}}(l,u,a),Se=[];let _t,ht,jt,Re=!1,Oe=null;for(let on=j,Un=j;on<=J;++on)ht=u[on%v],!ht.skip&&(_t=N(ht[c]),_t!==jt&&(Re=C(_t,f,m),null===Oe&&(Re||C(f,jt,_t)&&0!==E(f,jt))&&(Oe=0===E(_t,f)?on:Un),null!==Oe&&(!Re||0===E(m,_t)||C(m,jt,_t))&&(Se.push(ds({start:Oe,end:on,loop:ue,count:v,style:pe})),Oe=null),Un=on,jt=_t));return null!==Oe&&Se.push(ds({start:Oe,end:J,loop:ue,count:v,style:pe})),Se}function fs(l,u){const a=[],c=l.segments;for(let f=0;f<c.length;f++){const m=_o(c[f],l.points,u);m.length&&a.push(...m)}return a}function ll(l){return{backgroundColor:l.backgroundColor,borderCapStyle:l.borderCapStyle,borderDash:l.borderDash,borderDashOffset:l.borderDashOffset,borderJoinStyle:l.borderJoinStyle,borderWidth:l.borderWidth,borderColor:l.borderColor}}function js(l,u){if(!u)return!1;const a=[],c=function(f,m){return Oi(m)?(a.includes(m)||a.push(m),a.indexOf(m)):m};return JSON.stringify(l,c)!==JSON.stringify(u,c)}class Jl{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(u,a,c,f){const v=a.duration;a.listeners[f].forEach(E=>E({chart:u,initial:a.initial,numSteps:v,currentStep:Math.min(c-a.start,v)}))}_refresh(){this._request||(this._running=!0,this._request=Nn.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(u=Date.now()){let a=0;this._charts.forEach((c,f)=>{if(!c.running||!c.items.length)return;const m=c.items;let C,v=m.length-1,E=!1;for(;v>=0;--v)C=m[v],C._active?(C._total>c.duration&&(c.duration=C._total),C.tick(u),E=!0):(m[v]=m[m.length-1],m.pop());E&&(f.draw(),this._notify(f,c,u,"progress")),m.length||(c.running=!1,this._notify(f,c,u,"complete"),c.initial=!1),a+=m.length}),this._lastDate=u,0===a&&(this._running=!1)}_getAnims(u){const a=this._charts;let c=a.get(u);return c||(c={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(u,c)),c}listen(u,a,c){this._getAnims(u).listeners[a].push(c)}add(u,a){!a||!a.length||this._getAnims(u).items.push(...a)}has(u){return this._getAnims(u).items.length>0}start(u){const a=this._charts.get(u);a&&(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((c,f)=>Math.max(c,f._duration),0),this._refresh())}running(u){if(!this._running)return!1;const a=this._charts.get(u);return!(!a||!a.running||!a.items.length)}stop(u){const a=this._charts.get(u);if(!a||!a.items.length)return;const c=a.items;let f=c.length-1;for(;f>=0;--f)c[f].cancel();a.items=[],this._notify(u,a,Date.now(),"complete")}remove(u){return this._charts.delete(u)}}var ro=new Jl;const xa="transparent",Au={boolean:(l,u,a)=>a>.5?u:l,color(l,u,a){const c=ks(l||xa),f=c.valid&&ks(u||xa);return f&&f.valid?f.mix(c,a).hexString():u},number:(l,u,a)=>l+(u-l)*a};class Qo{constructor(u,a,c,f){const m=a[c];f=Bt([u.to,f,m,u.from]);const v=Bt([u.from,m,f]);this._active=!0,this._fn=u.fn||Au[u.type||typeof v],this._easing=Js[u.easing]||Js.linear,this._start=Math.floor(Date.now()+(u.delay||0)),this._duration=this._total=Math.floor(u.duration),this._loop=!!u.loop,this._target=a,this._prop=c,this._from=v,this._to=f,this._promises=void 0}active(){return this._active}update(u,a,c){if(this._active){this._notify(!1);const f=this._target[this._prop],m=c-this._start,v=this._duration-m;this._start=c,this._duration=Math.floor(Math.max(v,u.duration)),this._total+=m,this._loop=!!u.loop,this._to=Bt([u.to,a,f,u.from]),this._from=Bt([u.from,f,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(u){const a=u-this._start,c=this._duration,f=this._prop,m=this._from,v=this._loop,E=this._to;let C;if(this._active=m!==E&&(v||a<c),!this._active)return this._target[f]=E,void this._notify(!0);a<0?this._target[f]=m:(C=a/c%2,C=v&&C>1?2-C:C,C=this._easing(Math.min(1,Math.max(0,C))),this._target[f]=this._fn(m,E,C))}wait(){const u=this._promises||(this._promises=[]);return new Promise((a,c)=>{u.push({res:a,rej:c})})}_notify(u){const a=u?"res":"rej",c=this._promises||[];for(let f=0;f<c.length;f++)c[f][a]()}}class yo{constructor(u,a){this._chart=u,this._properties=new Map,this.configure(a)}configure(u){if(!Ht(u))return;const a=Object.keys(Zr.animation),c=this._properties;Object.getOwnPropertyNames(u).forEach(f=>{const m=u[f];if(!Ht(m))return;const v={};for(const E of a)v[E]=m[E];(Pn(m.properties)&&m.properties||[f]).forEach(E=>{(E===f||!c.has(E))&&c.set(E,v)})})}_animateOptions(u,a){const c=a.options,f=function Zi(l,u){if(!u)return;let a=l.options;if(a)return a.$shared&&(l.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a;l.options=u}(u,c);if(!f)return[];const m=this._createAnimations(f,c);return c.$shared&&function Rs(l,u){const a=[],c=Object.keys(u);for(let f=0;f<c.length;f++){const m=l[c[f]];m&&m.active()&&a.push(m.wait())}return Promise.all(a)}(u.options.$animations,c).then(()=>{u.options=c},()=>{}),m}_createAnimations(u,a){const c=this._properties,f=[],m=u.$animations||(u.$animations={}),v=Object.keys(a),E=Date.now();let C;for(C=v.length-1;C>=0;--C){const N=v[C];if("$"===N.charAt(0))continue;if("options"===N){f.push(...this._animateOptions(u,a));continue}const j=a[N];let J=m[N];const ue=c.get(N);if(J){if(ue&&J.active()){J.update(ue,j,E);continue}J.cancel()}ue&&ue.duration?(m[N]=J=new Qo(ue,u,N,j),f.push(J)):u[N]=j}return f}update(u,a){if(0===this._properties.size)return void Object.assign(u,a);const c=this._createAnimations(u,a);return c.length?(ro.add(this._chart,c),!0):void 0}}function Ra(l,u){const a=l&&l.options||{},c=a.reverse,f=void 0===a.min?u:0,m=void 0===a.max?u:0;return{start:c?m:f,end:c?f:m}}function ee(l,u){const a=[],c=l._getSortedDatasetMetas(u);let f,m;for(f=0,m=c.length;f<m;++f)a.push(c[f].index);return a}function B(l,u,a,c={}){const f=l.keys,m="single"===c.mode;let v,E,C,N;if(null!==u){for(v=0,E=f.length;v<E;++v){if(C=+f[v],C===a){if(c.all)continue;break}N=l.values[C],Zn(N)&&(m||0===u||Ue(u)===Ue(N))&&(u+=N)}return u}}function Ie(l,u){const a=l&&l.options.stacked;return a||void 0===a&&void 0!==u.stack}function bn(l,u,a){const c=l[u]||(l[u]={});return c[a]||(c[a]={})}function di(l,u,a,c){for(const f of u.getMatchingVisibleMetas(c).reverse()){const m=l[f.index];if(a&&m>0||!a&&m<0)return f.index}return null}function zr(l,u){const{chart:a,_cachedMeta:c}=l,f=a._stacks||(a._stacks={}),{iScale:m,vScale:v,index:E}=c,C=m.axis,N=v.axis,j=function it(l,u,a){return`${l.id}.${u.id}.${a.stack||a.type}`}(m,v,c),J=u.length;let ue;for(let pe=0;pe<J;++pe){const Se=u[pe],{[C]:Re,[N]:Oe}=Se;ue=(Se._stacks||(Se._stacks={}))[N]=bn(f,j,Re),ue[E]=Oe,ue._top=di(ue,v,!0,c.type),ue._bottom=di(ue,v,!1,c.type),(ue._visualValues||(ue._visualValues={}))[E]=Oe}}function $r(l,u){const a=l.scales;return Object.keys(a).filter(c=>a[c].axis===u).shift()}function Er(l,u){const a=l.controller.index,c=l.vScale&&l.vScale.axis;if(c){u=u||l._parsed;for(const f of u){const m=f._stacks;if(!m||void 0===m[c]||void 0===m[c][a])return;delete m[c][a],void 0!==m[c]._visualValues&&void 0!==m[c]._visualValues[a]&&delete m[c]._visualValues[a]}}}const ii=l=>"reset"===l||"none"===l,vo=(l,u)=>u?l:Object.assign({},l);let Ki=(()=>class l{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(a,c){this.chart=a,this._ctx=a.ctx,this.index=c,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const a=this._cachedMeta;this.configure(),this.linkScales(),a._stacked=Ie(a.vScale,a),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(a){this.index!==a&&Er(this._cachedMeta),this.index=a}linkScales(){const a=this.chart,c=this._cachedMeta,f=this.getDataset(),m=(ue,pe,Se,Re)=>"x"===ue?pe:"r"===ue?Re:Se,v=c.xAxisID=In(f.xAxisID,$r(a,"x")),E=c.yAxisID=In(f.yAxisID,$r(a,"y")),C=c.rAxisID=In(f.rAxisID,$r(a,"r")),N=c.indexAxis,j=c.iAxisID=m(N,v,E,C),J=c.vAxisID=m(N,E,v,C);c.xScale=this.getScaleForId(v),c.yScale=this.getScaleForId(E),c.rScale=this.getScaleForId(C),c.iScale=this.getScaleForId(j),c.vScale=this.getScaleForId(J)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(a){return this.chart.scales[a]}_getOtherScale(a){const c=this._cachedMeta;return a===c.iScale?c.vScale:c.iScale}reset(){this._update("reset")}_destroy(){const a=this._cachedMeta;this._data&&lr(this._data,this),a._stacked&&Er(a)}_dataCheck(){const a=this.getDataset(),c=a.data||(a.data=[]),f=this._data;if(Ht(c))this._data=function K(l){const u=Object.keys(l),a=new Array(u.length);let c,f,m;for(c=0,f=u.length;c<f;++c)m=u[c],a[c]={x:m,y:l[m]};return a}(c);else if(f!==c){if(f){lr(f,this);const m=this._cachedMeta;Er(m),m._parsed=[]}c&&Object.isExtensible(c)&&function Vn(l,u){l._chartjs?l._chartjs.listeners.push(u):(Object.defineProperty(l,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[u]}}),Pi.forEach(a=>{const c="_onData"+Xr(a),f=l[a];Object.defineProperty(l,a,{configurable:!0,enumerable:!1,value(...m){const v=f.apply(this,m);return l._chartjs.listeners.forEach(E=>{"function"==typeof E[c]&&E[c](...m)}),v}})}))}(c,this),this._syncList=[],this._data=c}}addElements(){const a=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(a.dataset=new this.datasetElementType)}buildOrUpdateElements(a){const c=this._cachedMeta,f=this.getDataset();let m=!1;this._dataCheck();const v=c._stacked;c._stacked=Ie(c.vScale,c),c.stack!==f.stack&&(m=!0,Er(c),c.stack=f.stack),this._resyncElements(a),(m||v!==c._stacked)&&zr(this,c._parsed)}configure(){const a=this.chart.config,c=a.datasetScopeKeys(this._type),f=a.getOptionScopes(this.getDataset(),c,!0);this.options=a.createResolver(f,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(a,c){const{_cachedMeta:f,_data:m}=this,{iScale:v,_stacked:E}=f,C=v.axis;let J,ue,pe,N=0===a&&c===m.length||f._sorted,j=a>0&&f._parsed[a-1];if(!1===this._parsing)f._parsed=m,f._sorted=!0,pe=m;else{pe=Pn(m[a])?this.parseArrayData(f,m,a,c):Ht(m[a])?this.parseObjectData(f,m,a,c):this.parsePrimitiveData(f,m,a,c);const Se=()=>null===ue[C]||j&&ue[C]<j[C];for(J=0;J<c;++J)f._parsed[J+a]=ue=pe[J],N&&(Se()&&(N=!1),j=ue);f._sorted=N}E&&zr(this,pe)}parsePrimitiveData(a,c,f,m){const{iScale:v,vScale:E}=a,C=v.axis,N=E.axis,j=v.getLabels(),J=v===E,ue=new Array(m);let pe,Se,Re;for(pe=0,Se=m;pe<Se;++pe)Re=pe+f,ue[pe]={[C]:J||v.parse(j[Re],Re),[N]:E.parse(c[Re],Re)};return ue}parseArrayData(a,c,f,m){const{xScale:v,yScale:E}=a,C=new Array(m);let N,j,J,ue;for(N=0,j=m;N<j;++N)J=N+f,ue=c[J],C[N]={x:v.parse(ue[0],J),y:E.parse(ue[1],J)};return C}parseObjectData(a,c,f,m){const{xScale:v,yScale:E}=a,{xAxisKey:C="x",yAxisKey:N="y"}=this._parsing,j=new Array(m);let J,ue,pe,Se;for(J=0,ue=m;J<ue;++J)pe=J+f,Se=c[pe],j[J]={x:v.parse(Cr(Se,C),pe),y:E.parse(Cr(Se,N),pe)};return j}getParsed(a){return this._cachedMeta._parsed[a]}getDataElement(a){return this._cachedMeta.data[a]}applyStack(a,c,f){const v=this._cachedMeta,E=c[a.axis];return B({keys:ee(this.chart,!0),values:c._stacks[a.axis]._visualValues},E,v.index,{mode:f})}updateRangeFromParsed(a,c,f,m){const v=f[c.axis];let E=null===v?NaN:v;const C=m&&f._stacks[c.axis];m&&C&&(m.values=C,E=B(m,v,this._cachedMeta.index)),a.min=Math.min(a.min,E),a.max=Math.max(a.max,E)}getMinMax(a,c){const f=this._cachedMeta,m=f._parsed,v=f._sorted&&a===f.iScale,E=m.length,C=this._getOtherScale(a),N=((l,u,a)=>l&&!u.hidden&&u._stacked&&{keys:ee(this.chart,!0),values:null})(c,f),j={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:J,max:ue}=function At(l){const{min:u,max:a,minDefined:c,maxDefined:f}=l.getUserBounds();return{min:c?u:Number.NEGATIVE_INFINITY,max:f?a:Number.POSITIVE_INFINITY}}(C);let pe,Se;function Re(){Se=m[pe];const Oe=Se[C.axis];return!Zn(Se[a.axis])||J>Oe||ue<Oe}for(pe=0;pe<E&&(Re()||(this.updateRangeFromParsed(j,a,Se,N),!v));++pe);if(v)for(pe=E-1;pe>=0;--pe)if(!Re()){this.updateRangeFromParsed(j,a,Se,N);break}return j}getAllParsedValues(a){const c=this._cachedMeta._parsed,f=[];let m,v,E;for(m=0,v=c.length;m<v;++m)E=c[m][a.axis],Zn(E)&&f.push(E);return f}getMaxOverflow(){return!1}getLabelAndValue(a){const c=this._cachedMeta,f=c.iScale,m=c.vScale,v=this.getParsed(a);return{label:f?""+f.getLabelForValue(v[f.axis]):"",value:m?""+m.getLabelForValue(v[m.axis]):""}}_update(a){const c=this._cachedMeta;this.update(a||"default"),c._clip=function P(l){let u,a,c,f;return Ht(l)?(u=l.top,a=l.right,c=l.bottom,f=l.left):u=a=c=f=l,{top:u,right:a,bottom:c,left:f,disabled:!1===l}}(In(this.options.clip,function Cl(l,u,a){if(!1===a)return!1;const c=Ra(l,a),f=Ra(u,a);return{top:f.end,right:c.end,bottom:f.start,left:c.start}}(c.xScale,c.yScale,this.getMaxOverflow())))}update(a){}draw(){const a=this._ctx,f=this._cachedMeta,m=f.data||[],v=this.chart.chartArea,E=[],C=this._drawStart||0,N=this._drawCount||m.length-C,j=this.options.drawActiveElementsOnTop;let J;for(f.dataset&&f.dataset.draw(a,v,C,N),J=C;J<C+N;++J){const ue=m[J];ue.hidden||(ue.active&&j?E.push(ue):ue.draw(a,v))}for(J=0;J<E.length;++J)E[J].draw(a,v)}getStyle(a,c){const f=c?"active":"default";return void 0===a&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(f):this.resolveDataElementOptions(a||0,f)}getContext(a,c,f){const m=this.getDataset();let v;if(a>=0&&a<this._cachedMeta.data.length){const E=this._cachedMeta.data[a];v=E.$context||(E.$context=function _i(l,u,a){return It(l,{active:!1,dataIndex:u,parsed:void 0,raw:void 0,element:a,index:u,mode:"default",type:"data"})}(this.getContext(),a,E)),v.parsed=this.getParsed(a),v.raw=m.data[a],v.index=v.dataIndex=a}else v=this.$context||(this.$context=function or(l,u){return It(l,{active:!1,dataset:void 0,datasetIndex:u,index:u,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),v.dataset=m,v.index=v.datasetIndex=this.index;return v.active=!!c,v.mode=f,v}resolveDatasetElementOptions(a){return this._resolveElementOptions(this.datasetElementType.id,a)}resolveDataElementOptions(a,c){return this._resolveElementOptions(this.dataElementType.id,c,a)}_resolveElementOptions(a,c="default",f){const m="active"===c,v=this._cachedDataOpts,E=a+"-"+c,C=v[E],N=this.enableOptionSharing&&ir(f);if(C)return vo(C,N);const j=this.chart.config,J=j.datasetElementScopeKeys(this._type,a),ue=m?[`${a}Hover`,"hover",a,""]:[a,""],pe=j.getOptionScopes(this.getDataset(),J),Se=Object.keys(Zr.elements[a]),Oe=j.resolveNamedOptions(pe,Se,()=>this.getContext(f,m,c),ue);return Oe.$shared&&(Oe.$shared=N,v[E]=Object.freeze(vo(Oe,N))),Oe}_resolveAnimations(a,c,f){const m=this.chart,v=this._cachedDataOpts,E=`animation-${c}`,C=v[E];if(C)return C;let N;if(!1!==m.options.animation){const J=this.chart.config,ue=J.datasetAnimationScopeKeys(this._type,c),pe=J.getOptionScopes(this.getDataset(),ue);N=J.createResolver(pe,this.getContext(a,f,c))}const j=new yo(m,N&&N.animations);return N&&N._cacheable&&(v[E]=Object.freeze(j)),j}getSharedOptions(a){if(a.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},a))}includeOptions(a,c){return!c||ii(a)||this.chart._animationsDisabled}_getSharedOptions(a,c){const f=this.resolveDataElementOptions(a,c),m=this._sharedOptions,v=this.getSharedOptions(f),E=this.includeOptions(c,v)||v!==m;return this.updateSharedOptions(v,c,f),{sharedOptions:v,includeOptions:E}}updateElement(a,c,f,m){ii(m)?Object.assign(a,f):this._resolveAnimations(c,m).update(a,f)}updateSharedOptions(a,c,f){a&&!ii(c)&&this._resolveAnimations(void 0,c).update(a,f)}_setStyle(a,c,f,m){a.active=m;const v=this.getStyle(c,m);this._resolveAnimations(c,f,m).update(a,{options:!m&&this.getSharedOptions(v)||v})}removeHoverStyle(a,c,f){this._setStyle(a,f,"active",!1)}setHoverStyle(a,c,f){this._setStyle(a,f,"active",!0)}_removeDatasetHoverStyle(){const a=this._cachedMeta.dataset;a&&this._setStyle(a,void 0,"active",!1)}_setDatasetHoverStyle(){const a=this._cachedMeta.dataset;a&&this._setStyle(a,void 0,"active",!0)}_resyncElements(a){const c=this._data,f=this._cachedMeta.data;for(const[C,N,j]of this._syncList)this[C](N,j);this._syncList=[];const m=f.length,v=c.length,E=Math.min(v,m);E&&this.parse(0,E),v>m?this._insertElements(m,v-m,a):v<m&&this._removeElements(v,m-v)}_insertElements(a,c,f=!0){const m=this._cachedMeta,v=m.data,E=a+c;let C;const N=j=>{for(j.length+=c,C=j.length-1;C>=E;C--)j[C]=j[C-c]};for(N(v),C=a;C<E;++C)v[C]=new this.dataElementType;this._parsing&&N(m._parsed),this.parse(a,c),f&&this.updateElements(v,a,c,"reset")}updateElements(a,c,f,m){}_removeElements(a,c){const f=this._cachedMeta;if(this._parsing){const m=f._parsed.splice(a,c);f._stacked&&Er(f,m)}f.data.splice(a,c)}_sync(a){if(this._parsing)this._syncList.push(a);else{const[c,f,m]=a;this[c](f,m)}this.chart._dataChanges.push([this.index,...a])}_onDataPush(){const a=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-a,a])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(a,c){c&&this._sync(["_removeElements",a,c]);const f=arguments.length-2;f&&this._sync(["_insertElements",a,f])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function io(l){const u=l.iScale,a=function Si(l,u){if(!l._cache.$bar){const a=l.getMatchingVisibleMetas(u);let c=[];for(let f=0,m=a.length;f<m;f++)c=c.concat(a[f].controller.getAllParsedValues(l));l._cache.$bar=ui(c.sort((f,m)=>f-m))}return l._cache.$bar}(u,l.type);let f,m,v,E,c=u._length;const C=()=>{32767===v||-32768===v||(ir(E)&&(c=Math.min(c,Math.abs(v-E)||c)),E=v)};for(f=0,m=a.length;f<m;++f)v=u.getPixelForValue(a[f]),C();for(E=void 0,f=0,m=u.ticks.length;f<m;++f)v=u.getPixelForTick(f),C();return c}function bo(l,u,a,c){return Pn(l)?function ji(l,u,a,c){const f=a.parse(l[0],c),m=a.parse(l[1],c),v=Math.min(f,m),E=Math.max(f,m);let C=v,N=E;Math.abs(v)>Math.abs(E)&&(C=E,N=v),u[a.axis]=N,u._custom={barStart:C,barEnd:N,start:f,end:m,min:v,max:E}}(l,u,a,c):u[a.axis]=a.parse(l,c),u}function pc(l,u,a,c){const f=l.iScale,m=l.vScale,v=f.getLabels(),E=f===m,C=[];let N,j,J,ue;for(N=a,j=a+c;N<j;++N)ue=u[N],J={},J[f.axis]=E||f.parse(v[N],N),C.push(bo(ue,J,m,N));return C}function dn(l){return l&&void 0!==l.barStart&&void 0!==l.barEnd}function Xt(l,u,a,c){let f=u.borderSkipped;const m={};if(!f)return void(l.borderSkipped=m);if(!0===f)return void(l.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:v,end:E,reverse:C,top:N,bottom:j}=function ch(l){let u,a,c,f,m;return l.horizontal?(u=l.base>l.x,a="left",c="right"):(u=l.base<l.y,a="bottom",c="top"),u?(f="end",m="start"):(f="start",m="end"),{start:a,end:c,reverse:u,top:f,bottom:m}}(l);"middle"===f&&a&&(l.enableBorderRadius=!0,(a._top||0)===c?f=N:(a._bottom||0)===c?f=j:(m[lt(j,v,E,C)]=!0,f=N)),m[lt(f,v,E,C)]=!0,l.borderSkipped=m}function lt(l,u,a,c){return c?(l=function Ft(l,u,a){return l===u?a:l===a?u:l}(l,u,a),l=hi(l,a,u)):l=hi(l,u,a),l}function hi(l,u,a){return"start"===l?u:"end"===l?a:l}function fd(l,{inflateAmount:u},a){l.inflateAmount="auto"===u?1===a?.33:0:u}let dh=(()=>class l extends Ki{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(a,c,f,m){return pc(a,c,f,m)}parseArrayData(a,c,f,m){return pc(a,c,f,m)}parseObjectData(a,c,f,m){const{iScale:v,vScale:E}=a,{xAxisKey:C="x",yAxisKey:N="y"}=this._parsing,j="x"===v.axis?C:N,J="x"===E.axis?C:N,ue=[];let pe,Se,Re,Oe;for(pe=f,Se=f+m;pe<Se;++pe)Oe=c[pe],Re={},Re[v.axis]=v.parse(Cr(Oe,j),pe),ue.push(bo(Cr(Oe,J),Re,E,pe));return ue}updateRangeFromParsed(a,c,f,m){super.updateRangeFromParsed(a,c,f,m);const v=f._custom;v&&c===this._cachedMeta.vScale&&(a.min=Math.min(a.min,v.min),a.max=Math.max(a.max,v.max))}getMaxOverflow(){return 0}getLabelAndValue(a){const c=this._cachedMeta,{iScale:f,vScale:m}=c,v=this.getParsed(a),E=v._custom,C=dn(E)?"["+E.start+", "+E.end+"]":""+m.getLabelForValue(v[m.axis]);return{label:""+f.getLabelForValue(v[f.axis]),value:C}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(a){const c=this._cachedMeta;this.updateElements(c.data,0,c.data.length,a)}updateElements(a,c,f,m){const v="reset"===m,{index:E,_cachedMeta:{vScale:C}}=this,N=C.getBasePixel(),j=C.isHorizontal(),J=this._getRuler(),{sharedOptions:ue,includeOptions:pe}=this._getSharedOptions(c,m);for(let Se=c;Se<c+f;Se++){const Re=this.getParsed(Se),Oe=v||Mn(Re[C.axis])?{base:N,head:N}:this._calculateBarValuePixels(Se),_t=this._calculateBarIndexPixels(Se,J),ht=(Re._stacks||{})[C.axis],jt={horizontal:j,base:Oe.base,enableBorderRadius:!ht||dn(Re._custom)||E===ht._top||E===ht._bottom,x:j?Oe.head:_t.center,y:j?_t.center:Oe.head,height:j?_t.size:Math.abs(Oe.size),width:j?Math.abs(Oe.size):_t.size};pe&&(jt.options=ue||this.resolveDataElementOptions(Se,a[Se].active?"active":m));const Wt=jt.options||a[Se].options;Xt(jt,Wt,ht,E),fd(jt,Wt,J.ratio),this.updateElement(a[Se],Se,jt,m)}}_getStacks(a,c){const{iScale:f}=this._cachedMeta,m=f.getMatchingVisibleMetas(this._type).filter(N=>N.controller.options.grouped),v=f.options.stacked,E=[],C=N=>{const j=N.controller.getParsed(c),J=j&&j[N.vScale.axis];if(Mn(J)||isNaN(J))return!0};for(const N of m)if((void 0===c||!C(N))&&((!1===v||-1===E.indexOf(N.stack)||void 0===v&&void 0===N.stack)&&E.push(N.stack),N.index===a))break;return E.length||E.push(void 0),E}_getStackCount(a){return this._getStacks(void 0,a).length}_getStackIndex(a,c,f){const m=this._getStacks(a,f),v=void 0!==c?m.indexOf(c):-1;return-1===v?m.length-1:v}_getRuler(){const a=this.options,c=this._cachedMeta,f=c.iScale,m=[];let v,E;for(v=0,E=c.data.length;v<E;++v)m.push(f.getPixelForValue(this.getParsed(v)[f.axis],v));const C=a.barThickness;return{min:C||io(c),pixels:m,start:f._startPixel,end:f._endPixel,stackCount:this._getStackCount(),scale:f,grouped:a.grouped,ratio:C?1:a.categoryPercentage*a.barPercentage}}_calculateBarValuePixels(a){const{_cachedMeta:{vScale:c,_stacked:f,index:m},options:{base:v,minBarLength:E}}=this,C=v||0,N=this.getParsed(a),j=N._custom,J=dn(j);let Re,Oe,ue=N[c.axis],pe=0,Se=f?this.applyStack(c,N,f):ue;Se!==ue&&(pe=Se-ue,Se=ue),J&&(ue=j.barStart,Se=j.barEnd-j.barStart,0!==ue&&Ue(ue)!==Ue(j.barEnd)&&(pe=0),pe+=ue);const _t=Mn(v)||J?pe:v;let ht=c.getPixelForValue(_t);if(Re=this.chart.getDataVisibility(a)?c.getPixelForValue(pe+Se):ht,Oe=Re-ht,Math.abs(Oe)<E){Oe=function Rn(l,u,a){return 0!==l?Ue(l):(u.isHorizontal()?1:-1)*(u.min>=a?1:-1)}(Oe,c,C)*E,ue===C&&(ht-=Oe/2);const jt=c.getPixelForDecimal(0),Wt=c.getPixelForDecimal(1),Mt=Math.min(jt,Wt),qt=Math.max(jt,Wt);ht=Math.max(Math.min(ht,qt),Mt),Re=ht+Oe,f&&!J&&(N._stacks[c.axis]._visualValues[m]=c.getValueForPixel(Re)-c.getValueForPixel(ht))}if(ht===c.getPixelForValue(C)){const jt=Ue(Oe)*c.getLineWidthForValue(C)/2;ht+=jt,Oe-=jt}return{size:Oe,base:ht,head:Re,center:Re+Oe/2}}_calculateBarIndexPixels(a,c){const f=c.scale,m=this.options,v=m.skipNull,E=In(m.maxBarThickness,1/0);let C,N;if(c.grouped){const j=v?this._getStackCount(a):c.stackCount,J="flex"===m.barThickness?function Rt(l,u,a,c){const f=u.pixels,m=f[l];let v=l>0?f[l-1]:null,E=l<f.length-1?f[l+1]:null;const C=a.categoryPercentage;null===v&&(v=m-(null===E?u.end-u.start:E-m)),null===E&&(E=m+m-v);const N=m-(m-Math.min(v,E))/2*C;return{chunk:Math.abs(E-v)/2*C/c,ratio:a.barPercentage,start:N}}(a,c,m,j):function $a(l,u,a,c){const f=a.barThickness;let m,v;return Mn(f)?(m=u.min*a.categoryPercentage,v=a.barPercentage):(m=f*c,v=1),{chunk:m/c,ratio:v,start:u.pixels[l]-m/2}}(a,c,m,j),ue=this._getStackIndex(this.index,this._cachedMeta.stack,v?a:void 0);C=J.start+J.chunk*ue+J.chunk/2,N=Math.min(E,J.chunk*J.ratio)}else C=f.getPixelForValue(this.getParsed(a)[f.axis],a),N=Math.min(E,c.min*c.ratio);return{base:C-N/2,head:C+N/2,center:C,size:N}}draw(){const a=this._cachedMeta,c=a.vScale,f=a.data,m=f.length;let v=0;for(;v<m;++v)null!==this.getParsed(v)[c.axis]&&f[v].draw(this._ctx)}})(),mr=(()=>class l extends Ki{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(a,c,f,m){const v=super.parsePrimitiveData(a,c,f,m);for(let E=0;E<v.length;E++)v[E]._custom=this.resolveDataElementOptions(E+f).radius;return v}parseArrayData(a,c,f,m){const v=super.parseArrayData(a,c,f,m);for(let E=0;E<v.length;E++)v[E]._custom=In(c[f+E][2],this.resolveDataElementOptions(E+f).radius);return v}parseObjectData(a,c,f,m){const v=super.parseObjectData(a,c,f,m);for(let E=0;E<v.length;E++){const C=c[f+E];v[E]._custom=In(C&&C.r&&+C.r,this.resolveDataElementOptions(E+f).radius)}return v}getMaxOverflow(){const a=this._cachedMeta.data;let c=0;for(let f=a.length-1;f>=0;--f)c=Math.max(c,a[f].size(this.resolveDataElementOptions(f))/2);return c>0&&c}getLabelAndValue(a){const c=this._cachedMeta,f=this.chart.data.labels||[],{xScale:m,yScale:v}=c,E=this.getParsed(a),C=m.getLabelForValue(E.x),N=v.getLabelForValue(E.y),j=E._custom;return{label:f[a]||"",value:"("+C+", "+N+(j?", "+j:"")+")"}}update(a){const c=this._cachedMeta.data;this.updateElements(c,0,c.length,a)}updateElements(a,c,f,m){const v="reset"===m,{iScale:E,vScale:C}=this._cachedMeta,{sharedOptions:N,includeOptions:j}=this._getSharedOptions(c,m),J=E.axis,ue=C.axis;for(let pe=c;pe<c+f;pe++){const Se=a[pe],Re=!v&&this.getParsed(pe),Oe={},_t=Oe[J]=v?E.getPixelForDecimal(.5):E.getPixelForValue(Re[J]),ht=Oe[ue]=v?C.getBasePixel():C.getPixelForValue(Re[ue]);Oe.skip=isNaN(_t)||isNaN(ht),j&&(Oe.options=N||this.resolveDataElementOptions(pe,Se.active?"active":m),v&&(Oe.options.radius=0)),this.updateElement(Se,pe,Oe,m)}}resolveDataElementOptions(a,c){const f=this.getParsed(a);let m=super.resolveDataElementOptions(a,c);m.$shared&&(m=Object.assign({},m,{$shared:!1}));const v=m.radius;return"active"!==c&&(m.radius=0),m.radius+=In(f&&f._custom,v),m}})(),Pa=(()=>class l extends Ki{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:a=>"spacing"!==a,_indexable:a=>"spacing"!==a&&!a.startsWith("borderDash")&&!a.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){const c=a.data;if(c.labels.length&&c.datasets.length){const{labels:{pointStyle:f,color:m}}=a.legend.options;return c.labels.map((v,E)=>{const N=a.getDatasetMeta(0).controller.getStyle(E);return{text:v,fillStyle:N.backgroundColor,strokeStyle:N.borderColor,fontColor:m,lineWidth:N.borderWidth,pointStyle:f,hidden:!a.getDataVisibility(E),index:E}})}return[]}},onClick(a,c,f){f.chart.toggleDataVisibility(c.index),f.chart.update()}}}};constructor(a,c){super(a,c),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(a,c){const f=this.getDataset().data,m=this._cachedMeta;if(!1===this._parsing)m._parsed=f;else{let E,C,v=N=>+f[N];if(Ht(f[a])){const{key:N="value"}=this._parsing;v=j=>+Cr(f[j],N)}for(E=a,C=a+c;E<C;++E)m._parsed[E]=v(E)}}_getRotation(){return cr(this.options.rotation-90)}_getCircumference(){return cr(this.options.circumference)}_getRotationExtents(){let a=On,c=-On;for(let f=0;f<this.chart.data.datasets.length;++f)if(this.chart.isDatasetVisible(f)&&this.chart.getDatasetMeta(f).type===this._type){const m=this.chart.getDatasetMeta(f).controller,v=m._getRotation(),E=m._getCircumference();a=Math.min(a,v),c=Math.max(c,v+E)}return{rotation:a,circumference:c-a}}update(a){const c=this.chart,{chartArea:f}=c,m=this._cachedMeta,v=m.data,E=this.getMaxBorderWidth()+this.getMaxOffset(v)+this.options.spacing,C=Math.max((Math.min(f.width,f.height)-E)/2,0),N=Math.min(((l,u)=>"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/u)(this.options.cutout,C),1),j=this._getRingWeight(this.index),{circumference:J,rotation:ue}=this._getRotationExtents(),{ratioX:pe,ratioY:Se,offsetX:Re,offsetY:Oe}=function Ma(l,u,a){let c=1,f=1,m=0,v=0;if(u<On){const E=l,C=E+u,N=Math.cos(E),j=Math.sin(E),J=Math.cos(C),ue=Math.sin(C),pe=(jt,Wt,Mt)=>et(jt,E,C,!0)?1:Math.max(Wt,Wt*a,Mt,Mt*a),Se=(jt,Wt,Mt)=>et(jt,E,C,!0)?-1:Math.min(Wt,Wt*a,Mt,Mt*a),Re=pe(0,N,J),Oe=pe(re,j,ue),_t=Se(Ut,N,J),ht=Se(Ut+re,j,ue);c=(Re-_t)/2,f=(Oe-ht)/2,m=-(Re+_t)/2,v=-(Oe+ht)/2}return{ratioX:c,ratioY:f,offsetX:m,offsetY:v}}(ue,J,N),jt=Math.max(Math.min((f.width-E)/pe,(f.height-E)/Se)/2,0),Wt=fr(this.options.radius,jt),qt=(Wt-Math.max(Wt*N,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Re*Wt,this.offsetY=Oe*Wt,m.total=this.calculateTotal(),this.outerRadius=Wt-qt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-qt*j,0),this.updateElements(v,0,v.length,a)}_circumference(a,c){const f=this.options,m=this._cachedMeta,v=this._getCircumference();return c&&f.animation.animateRotate||!this.chart.getDataVisibility(a)||null===m._parsed[a]||m.data[a].hidden?0:this.calculateCircumference(m._parsed[a]*v/On)}updateElements(a,c,f,m){const v="reset"===m,E=this.chart,C=E.chartArea,J=(C.left+C.right)/2,ue=(C.top+C.bottom)/2,pe=v&&E.options.animation.animateScale,Se=pe?0:this.innerRadius,Re=pe?0:this.outerRadius,{sharedOptions:Oe,includeOptions:_t}=this._getSharedOptions(c,m);let jt,ht=this._getRotation();for(jt=0;jt<c;++jt)ht+=this._circumference(jt,v);for(jt=c;jt<c+f;++jt){const Wt=this._circumference(jt,v),Mt=a[jt],qt={x:J+this.offsetX,y:ue+this.offsetY,startAngle:ht,endAngle:ht+Wt,circumference:Wt,outerRadius:Re,innerRadius:Se};_t&&(qt.options=Oe||this.resolveDataElementOptions(jt,Mt.active?"active":m)),ht+=Wt,this.updateElement(Mt,jt,qt,m)}}calculateTotal(){const a=this._cachedMeta,c=a.data;let m,f=0;for(m=0;m<c.length;m++){const v=a._parsed[m];null!==v&&!isNaN(v)&&this.chart.getDataVisibility(m)&&!c[m].hidden&&(f+=Math.abs(v))}return f}calculateCircumference(a){const c=this._cachedMeta.total;return c>0&&!isNaN(a)?On*(Math.abs(a)/c):0}getLabelAndValue(a){const f=this.chart,m=f.data.labels||[],v=ho(this._cachedMeta._parsed[a],f.options.locale);return{label:m[a]||"",value:v}}getMaxBorderWidth(a){let c=0;const f=this.chart;let m,v,E,C,N;if(!a)for(m=0,v=f.data.datasets.length;m<v;++m)if(f.isDatasetVisible(m)){E=f.getDatasetMeta(m),a=E.data,C=E.controller;break}if(!a)return 0;for(m=0,v=a.length;m<v;++m)N=C.resolveDataElementOptions(m),"inner"!==N.borderAlign&&(c=Math.max(c,N.borderWidth||0,N.hoverBorderWidth||0));return c}getMaxOffset(a){let c=0;for(let f=0,m=a.length;f<m;++f){const v=this.resolveDataElementOptions(f);c=Math.max(c,v.offset||0,v.hoverOffset||0)}return c}_getRingWeightOffset(a){let c=0;for(let f=0;f<a;++f)this.chart.isDatasetVisible(f)&&(c+=this._getRingWeight(f));return c}_getRingWeight(a){return Math.max(In(this.chart.data.datasets[a].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),Hs=(()=>class l extends Ki{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(a){const c=this._cachedMeta,{dataset:f,data:m=[],_dataset:v}=c,E=this.chart._animationsDisabled;let{start:C,count:N}=Qs(c,m,E);this._drawStart=C,this._drawCount=N,_s(c)&&(C=0,N=m.length),f._chart=this.chart,f._datasetIndex=this.index,f._decimated=!!v._decimated,f.points=m;const j=this.resolveDatasetElementOptions(a);this.options.showLine||(j.borderWidth=0),j.segment=this.options.segment,this.updateElement(f,void 0,{animated:!E,options:j},a),this.updateElements(m,C,N,a)}updateElements(a,c,f,m){const v="reset"===m,{iScale:E,vScale:C,_stacked:N,_dataset:j}=this._cachedMeta,{sharedOptions:J,includeOptions:ue}=this._getSharedOptions(c,m),pe=E.axis,Se=C.axis,{spanGaps:Re,segment:Oe}=this.options,_t=Sn(Re)?Re:Number.POSITIVE_INFINITY,ht=this.chart._animationsDisabled||v||"none"===m,jt=c+f,Wt=a.length;let Mt=c>0&&this.getParsed(c-1);for(let qt=0;qt<Wt;++qt){const mn=a[qt],on=ht?mn:{};if(qt<c||qt>=jt){on.skip=!0;continue}const Un=this.getParsed(qt),vr=Mn(Un[Se]),Sr=on[pe]=E.getPixelForValue(Un[pe],qt),Wr=on[Se]=v||vr?C.getBasePixel():C.getPixelForValue(N?this.applyStack(C,Un,N):Un[Se],qt);on.skip=isNaN(Sr)||isNaN(Wr)||vr,on.stop=qt>0&&Math.abs(Un[pe]-Mt[pe])>_t,Oe&&(on.parsed=Un,on.raw=j.data[qt]),ue&&(on.options=J||this.resolveDataElementOptions(qt,mn.active?"active":m)),ht||this.updateElement(mn,qt,on,m),Mt=Un}}getMaxOverflow(){const a=this._cachedMeta,c=a.dataset,f=c.options&&c.options.borderWidth||0,m=a.data||[];if(!m.length)return f;const v=m[0].size(this.resolveDataElementOptions(0)),E=m[m.length-1].size(this.resolveDataElementOptions(m.length-1));return Math.max(f,v,E)/2}draw(){const a=this._cachedMeta;a.dataset.updateControlPoints(this.chart.chartArea,a.iScale.axis),super.draw()}})(),Du=(()=>class l extends Ki{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){const c=a.data;if(c.labels.length&&c.datasets.length){const{labels:{pointStyle:f,color:m}}=a.legend.options;return c.labels.map((v,E)=>{const N=a.getDatasetMeta(0).controller.getStyle(E);return{text:v,fillStyle:N.backgroundColor,strokeStyle:N.borderColor,fontColor:m,lineWidth:N.borderWidth,pointStyle:f,hidden:!a.getDataVisibility(E),index:E}})}return[]}},onClick(a,c,f){f.chart.toggleDataVisibility(c.index),f.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(a,c){super(a,c),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(a){const f=this.chart,m=f.data.labels||[],v=ho(this._cachedMeta._parsed[a].r,f.options.locale);return{label:m[a]||"",value:v}}parseObjectData(a,c,f,m){return ys.bind(this)(a,c,f,m)}update(a){const c=this._cachedMeta.data;this._updateRadius(),this.updateElements(c,0,c.length,a)}getMinMax(){const c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((f,m)=>{const v=this.getParsed(m).r;!isNaN(v)&&this.chart.getDataVisibility(m)&&(v<c.min&&(c.min=v),v>c.max&&(c.max=v))}),c}_updateRadius(){const a=this.chart,c=a.chartArea,f=a.options,m=Math.min(c.right-c.left,c.bottom-c.top),v=Math.max(m/2,0),C=(v-Math.max(f.cutoutPercentage?v/100*f.cutoutPercentage:1,0))/a.getVisibleDatasetCount();this.outerRadius=v-C*this.index,this.innerRadius=this.outerRadius-C}updateElements(a,c,f,m){const v="reset"===m,E=this.chart,N=E.options.animation,j=this._cachedMeta.rScale,J=j.xCenter,ue=j.yCenter,pe=j.getIndexAngle(0)-.5*Ut;let Re,Se=pe;const Oe=360/this.countVisibleElements();for(Re=0;Re<c;++Re)Se+=this._computeAngle(Re,m,Oe);for(Re=c;Re<c+f;Re++){const _t=a[Re];let ht=Se,jt=Se+this._computeAngle(Re,m,Oe),Wt=E.getDataVisibility(Re)?j.getDistanceFromCenterForValue(this.getParsed(Re).r):0;Se=jt,v&&(N.animateScale&&(Wt=0),N.animateRotate&&(ht=jt=pe));const Mt={x:J,y:ue,innerRadius:0,outerRadius:Wt,startAngle:ht,endAngle:jt,options:this.resolveDataElementOptions(Re,_t.active?"active":m)};this.updateElement(_t,Re,Mt,m)}}countVisibleElements(){let c=0;return this._cachedMeta.data.forEach((f,m)=>{!isNaN(this.getParsed(m).r)&&this.chart.getDataVisibility(m)&&c++}),c}_computeAngle(a,c,f){return this.chart.getDataVisibility(a)?cr(this.resolveDataElementOptions(a,c).angle||f):0}})();var fh=Object.freeze({__proto__:null,BarController:dh,BubbleController:mr,DoughnutController:Pa,LineController:Hs,PieController:(()=>class l extends Pa{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:Du,RadarController:(()=>class l extends Ki{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(a){const c=this._cachedMeta.vScale,f=this.getParsed(a);return{label:c.getLabels()[a],value:""+c.getLabelForValue(f[c.axis])}}parseObjectData(a,c,f,m){return ys.bind(this)(a,c,f,m)}update(a){const c=this._cachedMeta,f=c.dataset,m=c.data||[],v=c.iScale.getLabels();if(f.points=m,"resize"!==a){const E=this.resolveDatasetElementOptions(a);this.options.showLine||(E.borderWidth=0),this.updateElement(f,void 0,{_loop:!0,_fullLoop:v.length===m.length,options:E},a)}this.updateElements(m,0,m.length,a)}updateElements(a,c,f,m){const v=this._cachedMeta.rScale,E="reset"===m;for(let C=c;C<c+f;C++){const N=a[C],j=this.resolveDataElementOptions(C,N.active?"active":m),J=v.getPointPositionForValue(C,this.getParsed(C).r),ue=E?v.xCenter:J.x,pe=E?v.yCenter:J.y,Se={x:ue,y:pe,angle:J.angle,skip:isNaN(ue)||isNaN(pe),options:j};this.updateElement(N,C,Se,m)}}})(),ScatterController:(()=>class l extends Ki{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(a){const c=this._cachedMeta,f=this.chart.data.labels||[],{xScale:m,yScale:v}=c,E=this.getParsed(a),C=m.getLabelForValue(E.x),N=v.getLabelForValue(E.y);return{label:f[a]||"",value:"("+C+", "+N+")"}}update(a){const c=this._cachedMeta,{data:f=[]}=c,m=this.chart._animationsDisabled;let{start:v,count:E}=Qs(c,f,m);if(this._drawStart=v,this._drawCount=E,_s(c)&&(v=0,E=f.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:C,_dataset:N}=c;C._chart=this.chart,C._datasetIndex=this.index,C._decimated=!!N._decimated,C.points=f;const j=this.resolveDatasetElementOptions(a);j.segment=this.options.segment,this.updateElement(C,void 0,{animated:!m,options:j},a)}else this.datasetElementType&&(delete c.dataset,this.datasetElementType=!1);this.updateElements(f,v,E,a)}addElements(){const{showLine:a}=this.options;!this.datasetElementType&&a&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(a,c,f,m){const v="reset"===m,{iScale:E,vScale:C,_stacked:N,_dataset:j}=this._cachedMeta,J=this.resolveDataElementOptions(c,m),ue=this.getSharedOptions(J),pe=this.includeOptions(m,ue),Se=E.axis,Re=C.axis,{spanGaps:Oe,segment:_t}=this.options,ht=Sn(Oe)?Oe:Number.POSITIVE_INFINITY,jt=this.chart._animationsDisabled||v||"none"===m;let Wt=c>0&&this.getParsed(c-1);for(let Mt=c;Mt<c+f;++Mt){const qt=a[Mt],mn=this.getParsed(Mt),on=jt?qt:{},Un=Mn(mn[Re]),vr=on[Se]=E.getPixelForValue(mn[Se],Mt),Sr=on[Re]=v||Un?C.getBasePixel():C.getPixelForValue(N?this.applyStack(C,mn,N):mn[Re],Mt);on.skip=isNaN(vr)||isNaN(Sr)||Un,on.stop=Mt>0&&Math.abs(mn[Se]-Wt[Se])>ht,_t&&(on.parsed=mn,on.raw=j.data[Mt]),pe&&(on.options=ue||this.resolveDataElementOptions(Mt,qt.active?"active":m)),jt||this.updateElement(qt,Mt,on,m),Wt=mn}this.updateSharedOptions(ue,m,J)}getMaxOverflow(){const a=this._cachedMeta,c=a.data||[];if(!this.options.showLine){let C=0;for(let N=c.length-1;N>=0;--N)C=Math.max(C,c[N].size(this.resolveDataElementOptions(N))/2);return C>0&&C}const f=a.dataset,m=f.options&&f.options.borderWidth||0;if(!c.length)return m;const v=c[0].size(this.resolveDataElementOptions(0)),E=c[c.length-1].size(this.resolveDataElementOptions(c.length-1));return Math.max(m,v,E)/2}})()});function $n(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class zo{static override(u){Object.assign(zo.prototype,u)}options;constructor(u){this.options=u||{}}init(){}formats(){return $n()}parse(){return $n()}format(){return $n()}add(){return $n()}diff(){return $n()}startOf(){return $n()}endOf(){return $n()}}var Oa__date=zo;function bi(l,u,a,c){const{controller:f,data:m,_sorted:v}=l,E=f._cachedMeta.iScale;if(E&&u===E.axis&&"r"!==u&&v&&m.length){const C=E._reversePixels?li:An;if(!c)return C(m,u,a);if(f._sharedOptions){const N=m[0],j="function"==typeof N.getRange&&N.getRange(u);if(j){const J=C(m,u,a-j),ue=C(m,u,a+j);return{lo:J.lo,hi:ue.hi}}}}return{lo:0,hi:m.length-1}}function wn(l,u,a,c,f){const m=l.getSortedVisibleDatasetMetas(),v=a[u];for(let E=0,C=m.length;E<C;++E){const{index:N,data:j}=m[E],{lo:J,hi:ue}=bi(m[E],u,v,f);for(let pe=J;pe<=ue;++pe){const Se=j[pe];Se.skip||c(Se,N,pe)}}}function Ar(l,u,a,c,f){const m=[];return!f&&!l.isPointInArea(u)||wn(l,a,u,function(E,C,N){!f&&!qn(E,l.chartArea,0)||E.inRange(u.x,u.y,c)&&m.push({element:E,datasetIndex:C,index:N})},!0),m}function bt(l,u,a,c,f,m){return m||l.isPointInArea(u)?"r"!==a||c?function Hi(l,u,a,c,f,m){let v=[];const E=function Eo(l){const u=-1!==l.indexOf("x"),a=-1!==l.indexOf("y");return function(c,f){const m=u?Math.abs(c.x-f.x):0,v=a?Math.abs(c.y-f.y):0;return Math.sqrt(Math.pow(m,2)+Math.pow(v,2))}}(a);let C=Number.POSITIVE_INFINITY;return wn(l,a,u,function N(j,J,ue){const pe=j.inRange(u.x,u.y,f);if(c&&!pe)return;const Se=j.getCenterPoint(f);if(!m&&!l.isPointInArea(Se)&&!pe)return;const Oe=E(u,Se);Oe<C?(v=[{element:j,datasetIndex:J,index:ue}],C=Oe):Oe===C&&v.push({element:j,datasetIndex:J,index:ue})}),v}(l,u,a,c,f,m):function ph(l,u,a,c){let f=[];return wn(l,a,u,function m(v,E,C){const{startAngle:N,endAngle:j}=v.getProps(["startAngle","endAngle"],c),{angle:J}=Pe(v,{x:u.x,y:u.y});et(J,N,j)&&f.push({element:v,datasetIndex:E,index:C})}),f}(l,u,a,f):[]}function Ga(l,u,a,c,f){const m=[],v="x"===a?"inXRange":"inYRange";let E=!1;return wn(l,a,u,(C,N,j)=>{C[v](u[a],f)&&(m.push({element:C,datasetIndex:N,index:j}),E=E||C.inRange(u.x,u.y,f))}),c&&!E?[]:m}var xu={evaluateInteractionItems:wn,modes:{index(l,u,a,c){const f=vs(u,l),m=a.axis||"x",v=a.includeInvisible||!1,E=a.intersect?Ar(l,f,m,c,v):bt(l,f,m,!1,c,v),C=[];return E.length?(l.getSortedVisibleDatasetMetas().forEach(N=>{const j=E[0].index,J=N.data[j];J&&!J.skip&&C.push({element:J,datasetIndex:N.index,index:j})}),C):[]},dataset(l,u,a,c){const f=vs(u,l),m=a.axis||"xy",v=a.includeInvisible||!1;let E=a.intersect?Ar(l,f,m,c,v):bt(l,f,m,!1,c,v);if(E.length>0){const C=E[0].datasetIndex,N=l.getDatasetMeta(C).data;E=[];for(let j=0;j<N.length;++j)E.push({element:N[j],datasetIndex:C,index:j})}return E},point:(l,u,a,c)=>Ar(l,vs(u,l),a.axis||"xy",c,a.includeInvisible||!1),nearest:(l,u,a,c)=>bt(l,vs(u,l),a.axis||"xy",a.intersect,c,a.includeInvisible||!1),x:(l,u,a,c)=>Ga(l,vs(u,l),"x",a.intersect,c),y:(l,u,a,c)=>Ga(l,vs(u,l),"y",a.intersect,c)}};const fa=["left","top","right","bottom"];function Xl(l,u){return l.filter(a=>a.pos===u)}function pa(l,u){return l.filter(a=>-1===fa.indexOf(a.pos)&&a.box.axis===u)}function eu(l,u){return l.sort((a,c)=>{const f=u?c:a,m=u?a:c;return f.weight===m.weight?f.index-m.index:f.weight-m.weight})}function tu(l,u,a,c){return Math.max(l[a],u[a])+Math.max(l[c],u[c])}function mc(l,u){l.top=Math.max(l.top,u.top),l.left=Math.max(l.left,u.left),l.bottom=Math.max(l.bottom,u.bottom),l.right=Math.max(l.right,u.right)}function Pt(l,u,a,c){const{pos:f,box:m}=a,v=l.maxPadding;if(!Ht(f)){a.size&&(l[f]-=a.size);const J=c[a.stack]||{size:0,count:1};J.size=Math.max(J.size,a.horizontal?m.height:m.width),a.size=J.size/J.count,l[f]+=a.size}m.getPadding&&mc(v,m.getPadding());const E=Math.max(0,u.outerWidth-tu(v,l,"left","right")),C=Math.max(0,u.outerHeight-tu(v,l,"top","bottom")),N=E!==l.w,j=C!==l.h;return l.w=E,l.h=C,a.horizontal?{same:N,other:j}:{same:j,other:N}}function Ru(l,u){const a=u.maxPadding;return function c(f){const m={left:0,top:0,right:0,bottom:0};return f.forEach(v=>{m[v]=Math.max(u[v],a[v])}),m}(l?["left","right"]:["top","bottom"])}function Qe(l,u,a,c){const f=[];let m,v,E,C,N,j;for(m=0,v=l.length,N=0;m<v;++m){E=l[m],C=E.box,C.update(E.width||u.w,E.height||u.h,Ru(E.horizontal,u));const{same:J,other:ue}=Pt(u,a,E,c);N|=J&&f.length,j=j||ue,C.fullSize||f.push(E)}return N&&Qe(f,u,a,c)||j}function xi(l,u,a,c,f){l.top=a,l.left=u,l.right=u+c,l.bottom=a+f,l.width=c,l.height=f}function Ms(l,u,a,c){const f=a.padding;let{x:m,y:v}=u;for(const E of l){const C=E.box,N=c[E.stack]||{count:1,placed:0,weight:1},j=E.stackWeight/N.weight||1;if(E.horizontal){const J=u.w*j,ue=N.size||C.height;ir(N.start)&&(v=N.start),C.fullSize?xi(C,f.left,v,a.outerWidth-f.right-f.left,ue):xi(C,u.left+N.placed,v,J,ue),N.start=v,N.placed+=J,v=C.bottom}else{const J=u.h*j,ue=N.size||C.width;ir(N.start)&&(m=N.start),C.fullSize?xi(C,m,f.top,ue,a.outerHeight-f.bottom-f.top):xi(C,m,u.top+N.placed,ue,J),N.start=m,N.placed+=J,m=C.right}}u.x=m,u.y=v}var Li={addBox(l,u){l.boxes||(l.boxes=[]),u.fullSize=u.fullSize||!1,u.position=u.position||"top",u.weight=u.weight||0,u._layers=u._layers||function(){return[{z:0,draw(a){u.draw(a)}}]},l.boxes.push(u)},removeBox(l,u){const a=l.boxes?l.boxes.indexOf(u):-1;-1!==a&&l.boxes.splice(a,1)},configure(l,u,a){u.fullSize=a.fullSize,u.position=a.position,u.weight=a.weight},update(l,u,a,c){if(!l)return;const f=Ne(l.options.layout.padding),m=Math.max(u-f.width,0),v=Math.max(a-f.height,0),E=function $o(l){const u=function Yr(l){const u=[];let a,c,f,m,v,E;for(a=0,c=(l||[]).length;a<c;++a)f=l[a],({position:m,options:{stack:v,stackWeight:E=1}}=f),u.push({index:a,box:f,pos:m,horizontal:f.isHorizontal(),weight:f.weight,stack:v&&m+v,stackWeight:E});return u}(l),a=eu(u.filter(N=>N.box.fullSize),!0),c=eu(Xl(u,"left"),!0),f=eu(Xl(u,"right")),m=eu(Xl(u,"top"),!0),v=eu(Xl(u,"bottom")),E=pa(u,"x"),C=pa(u,"y");return{fullSize:a,leftAndTop:c.concat(m),rightAndBottom:f.concat(C).concat(v).concat(E),chartArea:Xl(u,"chartArea"),vertical:c.concat(f).concat(C),horizontal:m.concat(v).concat(E)}}(l.boxes),C=E.vertical,N=E.horizontal;Jt(l.boxes,Re=>{"function"==typeof Re.beforeLayout&&Re.beforeLayout()});const j=C.reduce((Re,Oe)=>Oe.box.options&&!1===Oe.box.options.display?Re:Re+1,0)||1,J=Object.freeze({outerWidth:u,outerHeight:a,padding:f,availableWidth:m,availableHeight:v,vBoxMaxWidth:m/2/j,hBoxMaxHeight:v/2}),ue=Object.assign({},f);mc(ue,Ne(c));const pe=Object.assign({maxPadding:ue,w:m,h:v,x:f.left,y:f.top},f),Se=function gc(l,u){const a=function pd(l){const u={};for(const a of l){const{stack:c,pos:f,stackWeight:m}=a;if(!c||!fa.includes(f))continue;const v=u[c]||(u[c]={count:0,placed:0,weight:0,size:0});v.count++,v.weight+=m}return u}(l),{vBoxMaxWidth:c,hBoxMaxHeight:f}=u;let m,v,E;for(m=0,v=l.length;m<v;++m){E=l[m];const{fullSize:C}=E.box,N=a[E.stack],j=N&&E.stackWeight/N.weight;E.horizontal?(E.width=j?j*c:C&&u.availableWidth,E.height=f):(E.width=c,E.height=j?j*f:C&&u.availableHeight)}return a}(C.concat(N),J);Qe(E.fullSize,pe,J,Se),Qe(C,pe,J,Se),Qe(N,pe,J,Se)&&Qe(C,pe,J,Se),function ur(l){const u=l.maxPadding;function a(c){const f=Math.max(u[c]-l[c],0);return l[c]+=f,f}l.y+=a("top"),l.x+=a("left"),a("right"),a("bottom")}(pe),Ms(E.leftAndTop,pe,J,Se),pe.x+=pe.w,pe.y+=pe.h,Ms(E.rightAndBottom,pe,J,Se),l.chartArea={left:pe.left,top:pe.top,right:pe.left+pe.w,bottom:pe.top+pe.h,height:pe.h,width:pe.w},Jt(E.chartArea,Re=>{const Oe=Re.box;Object.assign(Oe,l.chartArea),Oe.update(pe.w,pe.h,{left:0,top:0,right:0,bottom:0})})}};class so{acquireContext(u,a){}releaseContext(u){return!1}addEventListener(u,a,c){}removeEventListener(u,a,c){}getDevicePixelRatio(){return 1}getMaximumSize(u,a,c,f){return a=Math.max(0,a||u.width),c=c||u.height,{width:a,height:Math.max(0,f?Math.floor(a/f):c)}}isAttached(u){return!0}updateConfig(u){}}class Go extends so{acquireContext(u){return u&&u.getContext&&u.getContext("2d")||null}updateConfig(u){u.options.animation=!1}}const ul="$chartjs",ga={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},gd=l=>null===l||""===l,zs=!!hc&&{passive:!0};function Po(l,u,a){l.canvas.removeEventListener(u,a,zs)}function oo(l,u){for(const a of l)if(a===u||a.contains(u))return!0}function S(l,u,a){const c=l.canvas,f=new MutationObserver(m=>{let v=!1;for(const E of m)v=v||oo(E.addedNodes,c),v=v&&!oo(E.removedNodes,c);v&&a()});return f.observe(document,{childList:!0,subtree:!0}),f}function k(l,u,a){const c=l.canvas,f=new MutationObserver(m=>{let v=!1;for(const E of m)v=v||oo(E.removedNodes,c),v=v&&!oo(E.addedNodes,c);v&&a()});return f.observe(document,{childList:!0,subtree:!0}),f}const D=new Map;let F=0;function H(){const l=window.devicePixelRatio;l!==F&&(F=l,D.forEach((u,a)=>{a.currentDevicePixelRatio!==l&&u()}))}function rt(l,u,a){const c=l.canvas,f=c&&Z(c);if(!f)return;const m=jr((E,C)=>{const N=f.clientWidth;a(E,C),N<f.clientWidth&&a()},window),v=new ResizeObserver(E=>{const C=E[0],N=C.contentRect.width,j=C.contentRect.height;0===N&&0===j||m(N,j)});return v.observe(f),function ie(l,u){D.size||window.addEventListener("resize",H),D.set(l,u)}(l,m),v}function nt(l,u,a){a&&a.disconnect(),"resize"===u&&function ve(l){D.delete(l),D.size||window.removeEventListener("resize",H)}(l)}function sn(l,u,a){const c=l.canvas,f=jr(m=>{null!==l.ctx&&a(function qa(l,u){const a=ga[l.type]||l.type,{x:c,y:f}=vs(l,u);return{type:a,chart:u,native:l,x:void 0!==c?c:null,y:void 0!==f?f:null}}(m,l))},l);return function Wa(l,u,a){l.addEventListener(u,a,zs)}(c,u,f),f}class tr extends so{acquireContext(u,a){const c=u&&u.getContext&&u.getContext("2d");return c&&c.canvas===u?(function nu(l,u){const a=l.style,c=l.getAttribute("height"),f=l.getAttribute("width");if(l[ul]={initial:{height:c,width:f,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",gd(f)){const m=Kl(l,"width");void 0!==m&&(l.width=m)}if(gd(c))if(""===l.style.height)l.height=l.width/(u||2);else{const m=Kl(l,"height");void 0!==m&&(l.height=m)}}(u,a),c):null}releaseContext(u){const a=u.canvas;if(!a[ul])return!1;const c=a[ul].initial;["height","width"].forEach(m=>{const v=c[m];Mn(v)?a.removeAttribute(m):a.setAttribute(m,v)});const f=c.style||{};return Object.keys(f).forEach(m=>{a.style[m]=f[m]}),a.width=a.width,delete a[ul],!0}addEventListener(u,a,c){this.removeEventListener(u,a),(u.$proxies||(u.$proxies={}))[a]=({attach:S,detach:k,resize:rt}[a]||sn)(u,a,c)}removeEventListener(u,a){const c=u.$proxies||(u.$proxies={}),f=c[a];f&&(({attach:nt,detach:nt,resize:nt}[a]||Po)(u,a,f),c[a]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(u,a,c,f){return function ha(l,u,a,c){const f=oe(l),m=Hn(f,"margin"),v=U(f.maxWidth,l,"clientWidth")||gi,E=U(f.maxHeight,l,"clientHeight")||gi,C=function xo(l,u,a){let c,f;if(void 0===u||void 0===a){const m=Z(l);if(m){const v=m.getBoundingClientRect(),E=oe(m),C=Hn(E,"border","width"),N=Hn(E,"padding");u=v.width-N.width-C.width,a=v.height-N.height-C.height,c=U(E.maxWidth,m,"clientWidth"),f=U(E.maxHeight,m,"clientHeight")}else u=l.clientWidth,a=l.clientHeight}return{width:u,height:a,maxWidth:c||gi,maxHeight:f||gi}}(l,u,a);let{width:N,height:j}=C;if("content-box"===f.boxSizing){const ue=Hn(f,"border","width"),pe=Hn(f,"padding");N-=pe.width+ue.width,j-=pe.height+ue.height}return N=Math.max(0,N-m.width),j=Math.max(0,c?N/c:j-m.height),N=Ro(Math.min(N,v,C.maxWidth)),j=Ro(Math.min(j,E,C.maxHeight)),N&&!j&&(j=Ro(N/2)),(void 0!==u||void 0!==a)&&c&&C.height&&j>C.height&&(j=C.height,N=Ro(Math.floor(j*c))),{width:N,height:j}}(u,a,c,f)}isAttached(u){const a=Z(u);return!(!a||!a.isConnected)}}class dr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(u){const{x:a,y:c}=this.getProps(["x","y"],u);return{x:a,y:c}}hasValue(){return Sn(this.x)&&Sn(this.y)}getProps(u,a){const c=this.$animations;if(!a||!c)return this;const f={};return u.forEach(m=>{f[m]=c[m]&&c[m].active()?c[m]._to:this[m]}),f}}function bs(l,u,a,c,f){const m=In(c,0),v=Math.min(In(f,l.length),l.length);let C,N,j,E=0;for(a=Math.ceil(a),f&&(C=f-c,a=C/Math.floor(C/a)),j=m;j<0;)E++,j=Math.round(m+E*a);for(N=Math.max(m,0);N<v;N++)N===j&&(u.push(l[N]),E++,j=Math.round(m+E*a))}const md=(l,u,a)=>"top"===u||"left"===u?l[u]+a:l[u]-a,Zp=(l,u)=>Math.min(u||l,l);function yc(l,u){const a=[],c=l.length/u,f=l.length;let m=0;for(;m<f;m+=c)a.push(l[Math.floor(m)]);return a}function bm(l,u,a){const c=l.ticks.length,f=Math.min(u,c-1),m=l._startPixel,v=l._endPixel,E=1e-6;let N,C=l.getPixelForTick(f);if(!(a&&(N=1===c?Math.max(C-m,v-C):0===u?(l.getPixelForTick(1)-C)/2:(C-l.getPixelForTick(f-1))/2,C+=f<u?N:-N,C<m-E||C>v+E)))return C}function dl(l){return l.drawTicks?l.tickLength:0}function iu(l,u){if(!l.display)return 0;const a=Xe(l.font,u),c=Ne(l.padding);return(Pn(l.text)?l.text.length:1)*a.lineHeight+c.height}function _d(l,u,a){let c=ni(l);return(a&&"right"!==u||!a&&"right"===u)&&(c=(l=>"left"===l?"right":"right"===l?"left":l)(c)),c}class Xo extends dr{constructor(u){super(),this.id=u.id,this.type=u.type,this.options=void 0,this.ctx=u.ctx,this.chart=u.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(u){this.options=u.setContext(this.getContext()),this.axis=u.axis,this._userMin=this.parse(u.min),this._userMax=this.parse(u.max),this._suggestedMin=this.parse(u.suggestedMin),this._suggestedMax=this.parse(u.suggestedMax)}parse(u,a){return u}getUserBounds(){let{_userMin:u,_userMax:a,_suggestedMin:c,_suggestedMax:f}=this;return u=ln(u,Number.POSITIVE_INFINITY),a=ln(a,Number.NEGATIVE_INFINITY),c=ln(c,Number.POSITIVE_INFINITY),f=ln(f,Number.NEGATIVE_INFINITY),{min:ln(u,c),max:ln(a,f),minDefined:Zn(u),maxDefined:Zn(a)}}getMinMax(u){let v,{min:a,max:c,minDefined:f,maxDefined:m}=this.getUserBounds();if(f&&m)return{min:a,max:c};const E=this.getMatchingVisibleMetas();for(let C=0,N=E.length;C<N;++C)v=E[C].controller.getMinMax(this,u),f||(a=Math.min(a,v.min)),m||(c=Math.max(c,v.max));return a=m&&a>c?c:a,c=f&&a>c?a:c,{min:ln(a,ln(c,a)),max:ln(c,ln(a,c))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const u=this.chart.data;return this.options.labels||(this.isHorizontal()?u.xLabels:u.yLabels)||u.labels||[]}getLabelItems(u=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(u))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nn(this.options.beforeUpdate,[this])}update(u,a,c){const{beginAtZero:f,grace:m,ticks:v}=this.options,E=v.sampleSize;this.beforeUpdate(),this.maxWidth=u,this.maxHeight=a,this._margins=c=Object.assign({left:0,right:0,top:0,bottom:0},c),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+c.left+c.right:this.height+c.top+c.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function un(l,u,a){const{min:c,max:f}=l,m=fr(u,(f-c)/2),v=(E,C)=>a&&0===E?0:E+C;return{min:v(c,-Math.abs(m)),max:v(f,m)}}(this,m,f),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const C=E<this.ticks.length;this._convertTicksToLabels(C?yc(this.ticks,E):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),v.display&&(v.autoSkip||"auto"===v.source)&&(this.ticks=function ma(l,u){const a=l.options.ticks,c=function Al(l){const u=l.options.offset,a=l._tickSize();return Math.floor(Math.min(l._length/a+(u?0:1),l._maxLength/a))}(l),f=Math.min(a.maxTicksLimit||c,c),m=a.major.enabled?function _c(l){const u=[];let a,c;for(a=0,c=l.length;a<c;a++)l[a].major&&u.push(a);return u}(u):[],v=m.length,E=m[0],C=m[v-1],N=[];if(v>f)return function ru(l,u,a,c){let v,f=0,m=a[0];for(c=Math.ceil(c),v=0;v<l.length;v++)v===m&&(u.push(l[v]),f++,m=a[f*c])}(u,N,m,v/f),N;const j=function Za(l,u,a){const c=function cl(l){const u=l.length;let a,c;if(u<2)return!1;for(c=l[0],a=1;a<u;++a)if(l[a]-l[a-1]!==c)return!1;return c}(l),f=u.length/a;if(!c)return Math.max(f,1);const m=function yn(l){const u=[],a=Math.sqrt(l);let c;for(c=1;c<a;c++)l%c==0&&(u.push(c),u.push(l/c));return a===(0|a)&&u.push(a),u.sort((f,m)=>f-m).pop(),u}(c);for(let v=0,E=m.length-1;v<E;v++){const C=m[v];if(C>f)return C}return Math.max(f,1)}(m,u,f);if(v>0){let J,ue;const pe=v>1?Math.round((C-E)/(v-1)):null;for(bs(u,N,j,Mn(pe)?0:E-pe,E),J=0,ue=v-1;J<ue;J++)bs(u,N,j,m[J],m[J+1]);return bs(u,N,j,C,Mn(pe)?u.length:C+pe),N}return bs(u,N,j),N}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),C&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let a,c,u=this.options.reverse;this.isHorizontal()?(a=this.left,c=this.right):(a=this.top,c=this.bottom,u=!u),this._startPixel=a,this._endPixel=c,this._reversePixels=u,this._length=c-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nn(this.options.afterUpdate,[this])}beforeSetDimensions(){nn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nn(this.options.afterSetDimensions,[this])}_callHooks(u){this.chart.notifyPlugins(u,this.getContext()),nn(this.options[u],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(u){const a=this.options.ticks;let c,f,m;for(c=0,f=u.length;c<f;c++)m=u[c],m.label=nn(a.callback,[m.value,c,u],this)}afterTickToLabelConversion(){nn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const u=this.options,a=u.ticks,c=Zp(this.ticks.length,u.ticks.maxTicksLimit),f=a.minRotation||0,m=a.maxRotation;let E,C,N,v=f;if(!this._isVisible()||!a.display||f>=m||c<=1||!this.isHorizontal())return void(this.labelRotation=f);const j=this._getLabelSizes(),J=j.widest.width,ue=j.highest.height,pe=Zt(this.chart.width-J,0,this.maxWidth);E=u.offset?this.maxWidth/c:pe/(c-1),J+6>E&&(E=pe/(c-(u.offset?.5:1)),C=this.maxHeight-dl(u.grid)-a.padding-iu(u.title,this.chart.options.font),N=Math.sqrt(J*J+ue*ue),v=He(Math.min(Math.asin(Zt((j.highest.height+6)/E,-1,1)),Math.asin(Zt(C/N,-1,1))-Math.asin(Zt(ue/N,-1,1)))),v=Math.max(f,Math.min(m,v))),this.labelRotation=v}afterCalculateLabelRotation(){nn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){nn(this.options.beforeFit,[this])}fit(){const u={width:0,height:0},{chart:a,options:{ticks:c,title:f,grid:m}}=this,v=this._isVisible(),E=this.isHorizontal();if(v){const C=iu(f,a.options.font);if(E?(u.width=this.maxWidth,u.height=dl(m)+C):(u.height=this.maxHeight,u.width=dl(m)+C),c.display&&this.ticks.length){const{first:N,last:j,widest:J,highest:ue}=this._getLabelSizes(),pe=2*c.padding,Se=cr(this.labelRotation),Re=Math.cos(Se),Oe=Math.sin(Se);E?u.height=Math.min(this.maxHeight,u.height+(c.mirror?0:Oe*J.width+Re*ue.height)+pe):u.width=Math.min(this.maxWidth,u.width+(c.mirror?0:Re*J.width+Oe*ue.height)+pe),this._calculatePadding(N,j,Oe,Re)}}this._handleMargins(),E?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=u.height):(this.width=u.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(u,a,c,f){const{ticks:{align:m,padding:v},position:E}=this.options,C=0!==this.labelRotation,N="top"!==E&&"x"===this.axis;if(this.isHorizontal()){const j=this.getPixelForTick(0)-this.left,J=this.right-this.getPixelForTick(this.ticks.length-1);let ue=0,pe=0;C?N?(ue=f*u.width,pe=c*a.height):(ue=c*u.height,pe=f*a.width):"start"===m?pe=a.width:"end"===m?ue=u.width:"inner"!==m&&(ue=u.width/2,pe=a.width/2),this.paddingLeft=Math.max((ue-j+v)*this.width/(this.width-j),0),this.paddingRight=Math.max((pe-J+v)*this.width/(this.width-J),0)}else{let j=a.height/2,J=u.height/2;"start"===m?(j=0,J=u.height):"end"===m&&(j=a.height,J=0),this.paddingTop=j+v,this.paddingBottom=J+v}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nn(this.options.afterFit,[this])}isHorizontal(){const{axis:u,position:a}=this.options;return"top"===a||"bottom"===a||"x"===u}isFullSize(){return this.options.fullSize}_convertTicksToLabels(u){let a,c;for(this.beforeTickToLabelConversion(),this.generateTickLabels(u),a=0,c=u.length;a<c;a++)Mn(u[a].label)&&(u.splice(a,1),c--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let u=this._labelSizes;if(!u){const a=this.options.ticks.sampleSize;let c=this.ticks;a<c.length&&(c=yc(c,a)),this._labelSizes=u=this._computeLabelSizes(c,c.length,this.options.ticks.maxTicksLimit)}return u}_computeLabelSizes(u,a,c){const{ctx:f,_longestTextCache:m}=this,v=[],E=[],C=Math.floor(a/Zp(a,c));let J,ue,pe,Se,Re,Oe,_t,ht,jt,Wt,Mt,N=0,j=0;for(J=0;J<a;J+=C){if(Se=u[J].label,Re=this._resolveTickFontOptions(J),f.font=Oe=Re.string,_t=m[Oe]=m[Oe]||{data:{},gc:[]},ht=Re.lineHeight,jt=Wt=0,Mn(Se)||Pn(Se)){if(Pn(Se))for(ue=0,pe=Se.length;ue<pe;++ue)Mt=Se[ue],!Mn(Mt)&&!Pn(Mt)&&(jt=po(f,_t.data,_t.gc,jt,Mt),Wt+=ht)}else jt=po(f,_t.data,_t.gc,jt,Se),Wt=ht;v.push(jt),E.push(Wt),N=Math.max(jt,N),j=Math.max(Wt,j)}!function vc(l,u){Jt(l,a=>{const c=a.gc,f=c.length/2;let m;if(f>u){for(m=0;m<f;++m)delete a.data[c[m]];c.splice(0,f)}})}(m,a);const qt=v.indexOf(N),mn=E.indexOf(j),on=Un=>({width:v[Un]||0,height:E[Un]||0});return{first:on(0),last:on(a-1),widest:on(qt),highest:on(mn),widths:v,heights:E}}getLabelForValue(u){return u}getPixelForValue(u,a){return NaN}getValueForPixel(u){}getPixelForTick(u){const a=this.ticks;return u<0||u>a.length-1?null:this.getPixelForValue(a[u].value)}getPixelForDecimal(u){this._reversePixels&&(u=1-u);const a=this._startPixel+u*this._length;return function wt(l){return Zt(l,-32768,32767)}(this._alignToPixels?rs(this.chart,a,0):a)}getDecimalForPixel(u){const a=(u-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:u,max:a}=this;return u<0&&a<0?a:u>0&&a>0?u:0}getContext(u){const a=this.ticks||[];if(u>=0&&u<a.length){const c=a[u];return c.$context||(c.$context=function Es(l,u,a){return It(l,{tick:a,index:u,type:"tick"})}(this.getContext(),u,c))}return this.$context||(this.$context=function hl(l,u){return It(l,{scale:u,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const u=this.options.ticks,a=cr(this.labelRotation),c=Math.abs(Math.cos(a)),f=Math.abs(Math.sin(a)),m=this._getLabelSizes(),v=u.autoSkipPadding||0,E=m?m.widest.width+v:0,C=m?m.highest.height+v:0;return this.isHorizontal()?C*c>E*f?E/c:C/f:C*f<E*c?C/c:E/f}_isVisible(){const u=this.options.display;return"auto"!==u?!!u:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(u){const a=this.axis,c=this.chart,f=this.options,{grid:m,position:v,border:E}=f,C=m.offset,N=this.isHorizontal(),J=this.ticks.length+(C?1:0),ue=dl(m),pe=[],Se=E.setContext(this.getContext()),Re=Se.display?Se.width:0,Oe=Re/2,_t=function(as){return rs(c,as,Re)};let ht,jt,Wt,Mt,qt,mn,on,Un,vr,Sr,Wr,Ys;if("top"===v)ht=_t(this.bottom),mn=this.bottom-ue,Un=ht-Oe,Sr=_t(u.top)+Oe,Ys=u.bottom;else if("bottom"===v)ht=_t(this.top),Sr=u.top,Ys=_t(u.bottom)-Oe,mn=ht+Oe,Un=this.top+ue;else if("left"===v)ht=_t(this.right),qt=this.right-ue,on=ht-Oe,vr=_t(u.left)+Oe,Wr=u.right;else if("right"===v)ht=_t(this.left),vr=u.left,Wr=_t(u.right)-Oe,qt=ht+Oe,on=this.left+ue;else if("x"===a){if("center"===v)ht=_t((u.top+u.bottom)/2+.5);else if(Ht(v)){const as=Object.keys(v)[0];ht=_t(this.chart.scales[as].getPixelForValue(v[as]))}Sr=u.top,Ys=u.bottom,mn=ht+Oe,Un=mn+ue}else if("y"===a){if("center"===v)ht=_t((u.left+u.right)/2);else if(Ht(v)){const as=Object.keys(v)[0];ht=_t(this.chart.scales[as].getPixelForValue(v[as]))}qt=ht-Oe,on=qt-ue,vr=u.left,Wr=u.right}const wa=In(f.ticks.maxTicksLimit,J),Ri=Math.max(1,Math.ceil(J/wa));for(jt=0;jt<J;jt+=Ri){const as=this.getContext(jt),Cs=m.setContext(as),Tl=E.setContext(as),Lo=Cs.lineWidth,bf=Cs.color,O_=Tl.dash||[],Ef=Tl.dashOffset,If=Cs.tickWidth,jp=Cs.tickColor,ah=Cs.tickBorderDash||[],oa=Cs.tickBorderDashOffset;Wt=bm(this,jt,C),void 0!==Wt&&(Mt=rs(c,Wt,Lo),N?qt=on=vr=Wr=Mt:mn=Un=Sr=Ys=Mt,pe.push({tx1:qt,ty1:mn,tx2:on,ty2:Un,x1:vr,y1:Sr,x2:Wr,y2:Ys,width:Lo,color:bf,borderDash:O_,borderDashOffset:Ef,tickWidth:If,tickColor:jp,tickBorderDash:ah,tickBorderDashOffset:oa}))}return this._ticksLength=J,this._borderValue=ht,pe}_computeLabelItems(u){const a=this.axis,c=this.options,{position:f,ticks:m}=c,v=this.isHorizontal(),E=this.ticks,{align:C,crossAlign:N,padding:j,mirror:J}=m,ue=dl(c.grid),pe=ue+j,Se=J?-j:pe,Re=-cr(this.labelRotation),Oe=[];let _t,ht,jt,Wt,Mt,qt,mn,on,Un,vr,Sr,Wr,Ys="middle";if("top"===f)qt=this.bottom-Se,mn=this._getXAxisLabelAlignment();else if("bottom"===f)qt=this.top+Se,mn=this._getXAxisLabelAlignment();else if("left"===f){const Ri=this._getYAxisLabelAlignment(ue);mn=Ri.textAlign,Mt=Ri.x}else if("right"===f){const Ri=this._getYAxisLabelAlignment(ue);mn=Ri.textAlign,Mt=Ri.x}else if("x"===a){if("center"===f)qt=(u.top+u.bottom)/2+pe;else if(Ht(f)){const Ri=Object.keys(f)[0];qt=this.chart.scales[Ri].getPixelForValue(f[Ri])+pe}mn=this._getXAxisLabelAlignment()}else if("y"===a){if("center"===f)Mt=(u.left+u.right)/2-pe;else if(Ht(f)){const Ri=Object.keys(f)[0];Mt=this.chart.scales[Ri].getPixelForValue(f[Ri])}mn=this._getYAxisLabelAlignment(ue).textAlign}"y"===a&&("start"===C?Ys="top":"end"===C&&(Ys="bottom"));const wa=this._getLabelSizes();for(_t=0,ht=E.length;_t<ht;++_t){jt=E[_t],Wt=jt.label;const Ri=m.setContext(this.getContext(_t));on=this.getPixelForTick(_t)+m.labelOffset,Un=this._resolveTickFontOptions(_t),vr=Un.lineHeight,Sr=Pn(Wt)?Wt.length:1;const as=Sr/2,Cs=Ri.color,Tl=Ri.textStrokeColor,Lo=Ri.textStrokeWidth;let O_,bf=mn;if(v?(Mt=on,"inner"===mn&&(bf=_t===ht-1?this.options.reverse?"left":"right":0===_t?this.options.reverse?"right":"left":"center"),Wr="top"===f?"near"===N||0!==Re?-Sr*vr+vr/2:"center"===N?-wa.highest.height/2-as*vr+vr:vr/2-wa.highest.height:"near"===N||0!==Re?vr/2:"center"===N?wa.highest.height/2-as*vr:wa.highest.height-Sr*vr,J&&(Wr*=-1),0!==Re&&!Ri.showLabelBackdrop&&(Mt+=vr/2*Math.sin(Re))):(qt=on,Wr=(1-Sr)*vr/2),Ri.showLabelBackdrop){const Ef=Ne(Ri.backdropPadding),If=wa.heights[_t],jp=wa.widths[_t];let ah=Wr-Ef.top,oa=0-Ef.left;switch(Ys){case"middle":ah-=If/2;break;case"bottom":ah-=If}switch(mn){case"center":oa-=jp/2;break;case"right":oa-=jp}O_={left:oa,top:ah,width:jp+Ef.width,height:If+Ef.height,color:Ri.backdropColor}}Oe.push({label:Wt,font:Un,textOffset:Wr,options:{rotation:Re,color:Cs,strokeColor:Tl,strokeWidth:Lo,textAlign:bf,textBaseline:Ys,translation:[Mt,qt],backdrop:O_}})}return Oe}_getXAxisLabelAlignment(){const{position:u,ticks:a}=this.options;if(-cr(this.labelRotation))return"top"===u?"left":"right";let f="center";return"start"===a.align?f="left":"end"===a.align?f="right":"inner"===a.align&&(f="inner"),f}_getYAxisLabelAlignment(u){const{position:a,ticks:{crossAlign:c,mirror:f,padding:m}}=this.options,E=u+m,C=this._getLabelSizes().widest.width;let N,j;return"left"===a?f?(j=this.right+m,"near"===c?N="left":"center"===c?(N="center",j+=C/2):(N="right",j+=C)):(j=this.right-E,"near"===c?N="right":"center"===c?(N="center",j-=C/2):(N="left",j=this.left)):"right"===a?f?(j=this.left+m,"near"===c?N="right":"center"===c?(N="center",j-=C/2):(N="left",j-=C)):(j=this.left+E,"near"===c?N="left":"center"===c?(N="center",j+=C/2):(N="right",j=this.right)):N="right",{textAlign:N,x:j}}_computeLabelArea(){if(this.options.ticks.mirror)return;const u=this.chart,a=this.options.position;return"left"===a||"right"===a?{top:0,left:this.left,bottom:u.height,right:this.right}:"top"===a||"bottom"===a?{top:this.top,left:0,bottom:this.bottom,right:u.width}:void 0}drawBackground(){const{ctx:u,options:{backgroundColor:a},left:c,top:f,width:m,height:v}=this;a&&(u.save(),u.fillStyle=a,u.fillRect(c,f,m,v),u.restore())}getLineWidthForValue(u){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const f=this.ticks.findIndex(m=>m.value===u);return f>=0?a.setContext(this.getContext(f)).lineWidth:0}drawGrid(u){const a=this.options.grid,c=this.ctx,f=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(u));let m,v;const E=(C,N,j)=>{!j.width||!j.color||(c.save(),c.lineWidth=j.width,c.strokeStyle=j.color,c.setLineDash(j.borderDash||[]),c.lineDashOffset=j.borderDashOffset,c.beginPath(),c.moveTo(C.x,C.y),c.lineTo(N.x,N.y),c.stroke(),c.restore())};if(a.display)for(m=0,v=f.length;m<v;++m){const C=f[m];a.drawOnChartArea&&E({x:C.x1,y:C.y1},{x:C.x2,y:C.y2},C),a.drawTicks&&E({x:C.tx1,y:C.ty1},{x:C.tx2,y:C.ty2},{color:C.tickColor,width:C.tickWidth,borderDash:C.tickBorderDash,borderDashOffset:C.tickBorderDashOffset})}}drawBorder(){const{chart:u,ctx:a,options:{border:c,grid:f}}=this,m=c.setContext(this.getContext()),v=c.display?m.width:0;if(!v)return;const E=f.setContext(this.getContext(0)).lineWidth,C=this._borderValue;let N,j,J,ue;this.isHorizontal()?(N=rs(u,this.left,v)-v/2,j=rs(u,this.right,E)+E/2,J=ue=C):(J=rs(u,this.top,v)-v/2,ue=rs(u,this.bottom,E)+E/2,N=j=C),a.save(),a.lineWidth=m.width,a.strokeStyle=m.color,a.beginPath(),a.moveTo(N,J),a.lineTo(j,ue),a.stroke(),a.restore()}drawLabels(u){if(!this.options.ticks.display)return;const c=this.ctx,f=this._computeLabelArea();f&&kn(c,f);const m=this.getLabelItems(u);for(const v of m)So(c,v.label,0,v.textOffset,v.font,v.options);f&&Or(c)}drawTitle(){const{ctx:u,options:{position:a,title:c,reverse:f}}=this;if(!c.display)return;const m=Xe(c.font),v=Ne(c.padding),E=c.align;let C=m.lineHeight/2;"bottom"===a||"center"===a||Ht(a)?(C+=v.bottom,Pn(c.text)&&(C+=m.lineHeight*(c.text.length-1))):C+=v.top;const{titleX:N,titleY:j,maxWidth:J,rotation:ue}=function ao(l,u,a,c){const{top:f,left:m,bottom:v,right:E,chart:C}=l,{chartArea:N,scales:j}=C;let ue,pe,Se,J=0;const Re=v-f,Oe=E-m;if(l.isHorizontal()){if(pe=Kn(c,m,E),Ht(a)){const _t=Object.keys(a)[0];Se=j[_t].getPixelForValue(a[_t])+Re-u}else Se="center"===a?(N.bottom+N.top)/2+Re-u:md(l,a,u);ue=E-m}else{if(Ht(a)){const _t=Object.keys(a)[0];pe=j[_t].getPixelForValue(a[_t])-Oe+u}else pe="center"===a?(N.left+N.right)/2-Oe+u:md(l,a,u);Se=Kn(c,v,f),J="left"===a?-re:re}return{titleX:pe,titleY:Se,maxWidth:ue,rotation:J}}(this,C,a,E);So(u,c.text,0,0,m,{color:c.color,maxWidth:J,rotation:ue,textAlign:_d(E,a,f),textBaseline:"middle",translation:[N,j]})}draw(u){this._isVisible()&&(this.drawBackground(),this.drawGrid(u),this.drawBorder(),this.drawTitle(),this.drawLabels(u))}_layers(){const u=this.options,a=u.ticks&&u.ticks.z||0,c=In(u.grid&&u.grid.z,-1),f=In(u.border&&u.border.z,0);return this._isVisible()&&this.draw===Xo.prototype.draw?[{z:c,draw:m=>{this.drawBackground(),this.drawGrid(m),this.drawTitle()}},{z:f,draw:()=>{this.drawBorder()}},{z:a,draw:m=>{this.drawLabels(m)}}]:[{z:a,draw:m=>{this.draw(m)}}]}getMatchingVisibleMetas(u){const a=this.chart.getSortedVisibleDatasetMetas(),c=this.axis+"AxisID",f=[];let m,v;for(m=0,v=a.length;m<v;++m){const E=a[m];E[c]===this.id&&(!u||E.type===u)&&f.push(E)}return f}_resolveTickFontOptions(u){return Xe(this.options.ticks.setContext(this.getContext(u)).font)}_maxDigits(){const u=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/u}}class oi{constructor(u,a,c){this.type=u,this.scope=a,this.override=c,this.items=Object.create(null)}isForType(u){return Object.prototype.isPrototypeOf.call(this.type.prototype,u.prototype)}register(u){const a=Object.getPrototypeOf(u);let c;(function fi(l){return"id"in l&&"defaults"in l})(a)&&(c=this.register(a));const f=this.items,m=u.id,v=this.scope+"."+m;if(!m)throw new Error("class does not have id: "+u);return m in f||(f[m]=u,function bc(l,u,a){const c=pr(Object.create(null),[a?Zr.get(a):{},Zr.get(u),l.defaults]);Zr.set(u,c),l.defaultRoutes&&function $s(l,u){Object.keys(u).forEach(a=>{const c=a.split("."),f=c.pop(),m=[l].concat(c).join("."),v=u[a].split("."),E=v.pop(),C=v.join(".");Zr.route(m,f,C,E)})}(u,l.defaultRoutes),l.descriptors&&Zr.describe(u,l.descriptors)}(u,v,c),this.override&&Zr.override(u.id,u.overrides)),v}get(u){return this.items[u]}unregister(u){const a=this.items,c=u.id,f=this.scope;c in a&&delete a[c],f&&c in Zr[f]&&(delete Zr[f][c],this.override&&delete us[c])}}class su{constructor(){this.controllers=new oi(Ki,"datasets",!0),this.elements=new oi(dr,"elements"),this.plugins=new oi(Object,"plugins"),this.scales=new oi(Xo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...u){this._each("register",u)}remove(...u){this._each("unregister",u)}addControllers(...u){this._each("register",u,this.controllers)}addElements(...u){this._each("register",u,this.elements)}addPlugins(...u){this._each("register",u,this.plugins)}addScales(...u){this._each("register",u,this.scales)}getController(u){return this._get(u,this.controllers,"controller")}getElement(u){return this._get(u,this.elements,"element")}getPlugin(u){return this._get(u,this.plugins,"plugin")}getScale(u){return this._get(u,this.scales,"scale")}removeControllers(...u){this._each("unregister",u,this.controllers)}removeElements(...u){this._each("unregister",u,this.elements)}removePlugins(...u){this._each("unregister",u,this.plugins)}removeScales(...u){this._each("unregister",u,this.scales)}_each(u,a,c){[...a].forEach(f=>{const m=c||this._getRegistryForType(f);c||m.isForType(f)||m===this.plugins&&f.id?this._exec(u,m,f):Jt(f,v=>{const E=c||this._getRegistryForType(v);this._exec(u,E,v)})})}_exec(u,a,c){const f=Xr(u);nn(c["before"+f],[],c),a[u](c),nn(c["after"+f],[],c)}_getRegistryForType(u){for(let a=0;a<this._typedRegistries.length;a++){const c=this._typedRegistries[a];if(c.isForType(u))return c}return this.plugins}_get(u,a,c){const f=a.get(u);if(void 0===f)throw new Error('"'+u+'" is not a registered '+c+".");return f}}var Gs=new su;class ea{constructor(){this._init=[]}notify(u,a,c,f){"beforeInit"===a&&(this._init=this._createDescriptors(u,!0),this._notify(this._init,u,"install"));const m=f?this._descriptors(u).filter(f):this._descriptors(u),v=this._notify(m,u,a,c);return"afterDestroy"===a&&(this._notify(m,u,"stop"),this._notify(this._init,u,"uninstall")),v}_notify(u,a,c,f){f=f||{};for(const m of u){const v=m.plugin;if(!1===nn(v[c],[a,f,m.options],v)&&f.cancelable)return!1}return!0}invalidate(){Mn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(u){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(u);return this._notifyStateChanges(u),a}_createDescriptors(u,a){const c=u&&u.config,f=In(c.options&&c.options.plugins,{}),m=function gh(l){const u={},a=[],c=Object.keys(Gs.plugins.items);for(let m=0;m<c.length;m++)a.push(Gs.getPlugin(c[m]));const f=l.plugins||[];for(let m=0;m<f.length;m++){const v=f[m];-1===a.indexOf(v)&&(a.push(v),u[v.id]=!0)}return{plugins:a,localIds:u}}(c);return!1!==f||a?function Is(l,{plugins:u,localIds:a},c,f){const m=[],v=l.getContext();for(const E of u){const C=E.id,N=Kp(c[C],f);null!==N&&m.push({plugin:E,options:Em(l.config,{plugin:E,local:a[C]},N,v)})}return m}(u,m,f,a):[]}_notifyStateChanges(u){const a=this._oldCache||[],c=this._cache,f=(m,v)=>m.filter(E=>!v.some(C=>E.plugin.id===C.plugin.id));this._notify(f(a,c),u,"stop"),this._notify(f(c,a),u,"start")}}function Kp(l,u){return u||!1!==l?!0===l?{}:l:null}function Em(l,{plugin:u,local:a},c,f){const m=l.pluginScopeKeys(u),v=l.getOptionScopes(c,m);return a&&u.defaults&&v.push(u.defaults),l.createResolver(v,f,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function _a(l,u){return((u.datasets||{})[l]||{}).indexAxis||u.indexAxis||(Zr.datasets[l]||{}).indexAxis||"x"}function Na(l){if("x"===l||"y"===l||"r"===l)return l}function Sl(l){return"top"===l||"bottom"===l?"x":"left"===l||"right"===l?"y":void 0}function ou(l,...u){if(Na(l))return l;for(const a of u){const c=a.axis||Sl(a.position)||l.length>1&&Na(l[0].toLowerCase());if(c)return c}throw new Error(`Cannot determine type of '${l}' axis. Please provide 'axis' or 'position' option.`)}function xl(l,u,a){if(a[u+"AxisID"]===l)return{axis:u}}function mh(l){const u=l.options||(l.options={});u.plugins=In(u.plugins,{}),u.scales=function ta(l,u){const a=us[l.type]||{scales:{}},c=u.scales||{},f=_a(l.type,u),m=Object.create(null);return Object.keys(c).forEach(v=>{const E=c[v];if(!Ht(E))return console.error(`Invalid scale configuration for scale: ${v}`);if(E._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${v}`);const C=ou(v,E,function ka(l,u){if(u.data&&u.data.datasets){const a=u.data.datasets.filter(c=>c.xAxisID===l||c.yAxisID===l);if(a.length)return xl(l,"x",a[0])||xl(l,"y",a[0])}return{}}(v,l),Zr.scales[E.type]),N=function Dl(l,u){return l===u?"_index_":"_value_"}(C,f),j=a.scales||{};m[v]=wi(Object.create(null),[{axis:C},E,j[C],j[N]])}),l.data.datasets.forEach(v=>{const E=v.type||l.type,C=v.indexAxis||_a(E,u),j=(us[E]||{}).scales||{};Object.keys(j).forEach(J=>{const ue=function Yi(l,u){let a=l;return"_index_"===l?a=u:"_value_"===l&&(a="x"===u?"y":"x"),a}(J,C),pe=v[ue+"AxisID"]||ue;m[pe]=m[pe]||Object.create(null),wi(m[pe],[{axis:ue},c[pe],j[J]])})}),Object.keys(m).forEach(v=>{const E=m[v];wi(E,[Zr.scales[E.type],Zr.scale])}),m}(l,u)}function Ka(l){return(l=l||{}).datasets=l.datasets||[],l.labels=l.labels||[],l}const au=new Map,lo=new Set;function Ec(l,u){let a=au.get(l);return a||(a=u(),au.set(l,a),lo.add(a)),a}const Oo=(l,u,a)=>{const c=Cr(u,a);void 0!==c&&l.add(c)};class yd{constructor(u){this._config=function ya(l){return(l=l||{}).data=Ka(l.data),mh(l),l}(u),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(u){this._config.type=u}get data(){return this._config.data}set data(u){this._config.data=Ka(u)}get options(){return this._config.options}set options(u){this._config.options=u}get plugins(){return this._config.plugins}update(){const u=this._config;this.clearCache(),mh(u)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(u){return Ec(u,()=>[[`datasets.${u}`,""]])}datasetAnimationScopeKeys(u,a){return Ec(`${u}.transition.${a}`,()=>[[`datasets.${u}.transitions.${a}`,`transitions.${a}`],[`datasets.${u}`,""]])}datasetElementScopeKeys(u,a){return Ec(`${u}-${a}`,()=>[[`datasets.${u}.elements.${a}`,`datasets.${u}`,`elements.${a}`,""]])}pluginScopeKeys(u){const a=u.id;return Ec(`${this.type}-plugin-${a}`,()=>[[`plugins.${a}`,...u.additionalOptionScopes||[]]])}_cachedScopes(u,a){const c=this._scopeCache;let f=c.get(u);return(!f||a)&&(f=new Map,c.set(u,f)),f}getOptionScopes(u,a,c){const{options:f,type:m}=this,v=this._cachedScopes(u,c),E=v.get(a);if(E)return E;const C=new Set;a.forEach(j=>{u&&(C.add(u),j.forEach(J=>Oo(C,u,J))),j.forEach(J=>Oo(C,f,J)),j.forEach(J=>Oo(C,us[m]||{},J)),j.forEach(J=>Oo(C,Zr,J)),j.forEach(J=>Oo(C,eo,J))});const N=Array.from(C);return 0===N.length&&N.push(Object.create(null)),lo.has(a)&&v.set(a,N),N}chartOptionScopes(){const{options:u,type:a}=this;return[u,us[a]||{},Zr.datasets[a]||{},{type:a},Zr,eo]}resolveNamedOptions(u,a,c,f=[""]){const m={$shared:!0},{resolver:v,subPrefixes:E}=Mu(this._resolverCache,u,f);let C=v;(function vd(l,u){const{isScriptable:a,isIndexable:c}=Nr(l);for(const f of u){const m=a(f),v=c(f),E=(v||m)&&l[f];if(m&&(rn(E)||va(E))||v&&Pn(E))return!0}return!1})(v,a)&&(m.$shared=!1,C=Xn(v,c=rn(c)?c():c,this.createResolver(u,c,E)));for(const N of a)m[N]=C[N];return m}createResolver(u,a,c=[""],f){const{resolver:m}=Mu(this._resolverCache,u,c);return Ht(a)?Xn(m,a,void 0,f):m}}function Mu(l,u,a){let c=l.get(u);c||(c=new Map,l.set(u,c));const f=a.join();let m=c.get(f);return m||(m={resolver:Fn(u,a),subPrefixes:a.filter(E=>!E.toLowerCase().includes("hover"))},c.set(f,m)),m}const va=l=>Ht(l)&&Object.getOwnPropertyNames(l).reduce((u,a)=>u||rn(l[a]),!1),Tc=["top","bottom","left","right","chartArea"];function _h(l,u){return"top"===l||"bottom"===l||-1===Tc.indexOf(l)&&"x"===u}function Rl(l,u){return function(a,c){return a[l]===c[l]?a[u]-c[u]:a[l]-c[l]}}function Ml(l){const u=l.chart,a=u.options.animation;u.notifyPlugins("afterRender"),nn(a&&a.onComplete,[l],u)}function bd(l){const u=l.chart,a=u.options.animation;nn(a&&a.onProgress,[l],u)}function Pu(l){return W()&&"string"==typeof l?l=document.getElementById(l):l&&l.length&&(l=l[0]),l&&l.canvas&&(l=l.canvas),l}const ba={},yh=l=>{const u=Pu(l);return Object.values(ba).filter(a=>a.canvas===u).pop()};function vh(l,u,a){const c=Object.keys(l);for(const f of c){const m=+f;if(m>=u){const v=l[f];delete l[f],(a>0||m>u)&&(l[m+a]=v)}}}function Ya(l,u,a){return l.options.clip?l[a]:u[a]}let zi=(()=>class l{static defaults=Zr;static instances=ba;static overrides=us;static registry=Gs;static version="4.4.0";static getChart=yh;static register(...a){Gs.add(...a),wc()}static unregister(...a){Gs.remove(...a),wc()}constructor(a,c){const f=this.config=new yd(c),m=Pu(a),v=yh(m);if(v)throw new Error("Canvas is already in use. Chart with ID '"+v.id+"' must be destroyed before the canvas with ID '"+v.canvas.id+"' can be reused.");const E=f.createResolver(f.chartOptionScopes(),this.getContext());this.platform=new(f.platform||function si(l){return!W()||typeof OffscreenCanvas<"u"&&l instanceof OffscreenCanvas?Go:tr}(m)),this.platform.updateConfig(f);const C=this.platform.acquireContext(m,E.aspectRatio),N=C&&C.canvas,j=N&&N.height,J=N&&N.width;this.id=wr(),this.ctx=C,this.canvas=N,this.width=J,this.height=j,this._options=E,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ea,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Ds(l,u){let a;return function(...c){return u?(clearTimeout(a),a=setTimeout(l,u,c)):l.apply(this,c),u}}(ue=>this.update(ue),E.resizeDelay||0),this._dataChanges=[],ba[this.id]=this,C&&N?(ro.listen(this,"complete",Ml),ro.listen(this,"progress",bd),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:a,maintainAspectRatio:c},width:f,height:m,_aspectRatio:v}=this;return Mn(a)?c&&v?v:m?f/m:null:a}get data(){return this.config.data}set data(a){this.config.data=a}get options(){return this._options}set options(a){this.config.options=a}get registry(){return Gs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Bs(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Bi(this.canvas,this.ctx),this}stop(){return ro.stop(this),this}resize(a,c){ro.running(this)?this._resizeBeforeDraw={width:a,height:c}:this._resize(a,c)}_resize(a,c){const f=this.options,E=this.platform.getMaximumSize(this.canvas,a,c,f.maintainAspectRatio&&this.aspectRatio),C=f.devicePixelRatio||this.platform.getDevicePixelRatio(),N=this.width?"resize":"attach";this.width=E.width,this.height=E.height,this._aspectRatio=this.aspectRatio,Bs(this,C,!0)&&(this.notifyPlugins("resize",{size:E}),nn(f.onResize,[this,E],this),this.attached&&this._doResize(N)&&this.render())}ensureScalesHaveIDs(){Jt(this.options.scales||{},(f,m)=>{f.id=m})}buildOrUpdateScales(){const a=this.options,c=a.scales,f=this.scales,m=Object.keys(f).reduce((E,C)=>(E[C]=!1,E),{});let v=[];c&&(v=v.concat(Object.keys(c).map(E=>{const C=c[E],N=ou(E,C),j="r"===N,J="x"===N;return{options:C,dposition:j?"chartArea":J?"bottom":"left",dtype:j?"radialLinear":J?"category":"linear"}}))),Jt(v,E=>{const C=E.options,N=C.id,j=ou(N,C),J=In(C.type,E.dtype);(void 0===C.position||_h(C.position,j)!==_h(E.dposition))&&(C.position=E.dposition),m[N]=!0;let ue=null;N in f&&f[N].type===J?ue=f[N]:(ue=new(Gs.getScale(J))({id:N,type:J,ctx:this.ctx,chart:this}),f[ue.id]=ue),ue.init(C,a)}),Jt(m,(E,C)=>{E||delete f[C]}),Jt(f,E=>{Li.configure(this,E,E.options),Li.addBox(this,E)})}_updateMetasets(){const a=this._metasets,c=this.data.datasets.length,f=a.length;if(a.sort((m,v)=>m.index-v.index),f>c){for(let m=c;m<f;++m)this._destroyDatasetMeta(m);a.splice(c,f-c)}this._sortedMetasets=a.slice(0).sort(Rl("order","index"))}_removeUnreferencedMetasets(){const{_metasets:a,data:{datasets:c}}=this;a.length>c.length&&delete this._stacks,a.forEach((f,m)=>{0===c.filter(v=>v===f._dataset).length&&this._destroyDatasetMeta(m)})}buildOrUpdateControllers(){const a=[],c=this.data.datasets;let f,m;for(this._removeUnreferencedMetasets(),f=0,m=c.length;f<m;f++){const v=c[f];let E=this.getDatasetMeta(f);const C=v.type||this.config.type;if(E.type&&E.type!==C&&(this._destroyDatasetMeta(f),E=this.getDatasetMeta(f)),E.type=C,E.indexAxis=v.indexAxis||_a(C,this.options),E.order=v.order||0,E.index=f,E.label=""+v.label,E.visible=this.isDatasetVisible(f),E.controller)E.controller.updateIndex(f),E.controller.linkScales();else{const N=Gs.getController(C),{datasetElementType:j,dataElementType:J}=Zr.datasets[C];Object.assign(N,{dataElementType:Gs.getElement(J),datasetElementType:j&&Gs.getElement(j)}),E.controller=new N(this,f),a.push(E.controller)}}return this._updateMetasets(),a}_resetElements(){Jt(this.data.datasets,(a,c)=>{this.getDatasetMeta(c).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(a){const c=this.config;c.update();const f=this._options=c.createResolver(c.chartOptionScopes(),this.getContext()),m=this._animationsDisabled=!f.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:a,cancelable:!0}))return;const v=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let E=0;for(let j=0,J=this.data.datasets.length;j<J;j++){const{controller:ue}=this.getDatasetMeta(j),pe=!m&&-1===v.indexOf(ue);ue.buildOrUpdateElements(pe),E=Math.max(+ue.getMaxOverflow(),E)}E=this._minPadding=f.layout.autoPadding?E:0,this._updateLayout(E),m||Jt(v,j=>{j.reset()}),this._updateDatasets(a),this.notifyPlugins("afterUpdate",{mode:a}),this._layers.sort(Rl("z","_idx"));const{_active:C,_lastEvent:N}=this;N?this._eventHandler(N,!0):C.length&&this._updateHoverStyles(C,C,!0),this.render()}_updateScales(){Jt(this.scales,a=>{Li.removeBox(this,a)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const a=this.options,c=new Set(Object.keys(this._listeners)),f=new Set(a.events);(!Mi(c,f)||!!this._responsiveListeners!==a.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:a}=this,c=this._getUniformDataChanges()||[];for(const{method:f,start:m,count:v}of c)vh(a,m,"_removeElements"===f?-v:v)}_getUniformDataChanges(){const a=this._dataChanges;if(!a||!a.length)return;this._dataChanges=[];const c=this.data.datasets.length,f=v=>new Set(a.filter(E=>E[0]===v).map((E,C)=>C+","+E.splice(1).join(","))),m=f(0);for(let v=1;v<c;v++)if(!Mi(m,f(v)))return;return Array.from(m).map(v=>v.split(",")).map(v=>({method:v[1],start:+v[2],count:+v[3]}))}_updateLayout(a){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Li.update(this,this.width,this.height,a);const c=this.chartArea,f=c.width<=0||c.height<=0;this._layers=[],Jt(this.boxes,m=>{f&&"chartArea"===m.position||(m.configure&&m.configure(),this._layers.push(...m._layers()))},this),this._layers.forEach((m,v)=>{m._idx=v}),this.notifyPlugins("afterLayout")}_updateDatasets(a){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:a,cancelable:!0})){for(let c=0,f=this.data.datasets.length;c<f;++c)this.getDatasetMeta(c).controller.configure();for(let c=0,f=this.data.datasets.length;c<f;++c)this._updateDataset(c,rn(a)?a({datasetIndex:c}):a);this.notifyPlugins("afterDatasetsUpdate",{mode:a})}}_updateDataset(a,c){const f=this.getDatasetMeta(a),m={meta:f,index:a,mode:c,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",m)&&(f.controller._update(c),m.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",m))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ro.has(this)?this.attached&&!ro.running(this)&&ro.start(this):(this.draw(),Ml({chart:this})))}draw(){let a;if(this._resizeBeforeDraw){const{width:f,height:m}=this._resizeBeforeDraw;this._resize(f,m),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const c=this._layers;for(a=0;a<c.length&&c[a].z<=0;++a)c[a].draw(this.chartArea);for(this._drawDatasets();a<c.length;++a)c[a].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(a){const c=this._sortedMetasets,f=[];let m,v;for(m=0,v=c.length;m<v;++m){const E=c[m];(!a||E.visible)&&f.push(E)}return f}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const a=this.getSortedVisibleDatasetMetas();for(let c=a.length-1;c>=0;--c)this._drawDataset(a[c]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(a){const c=this.ctx,f=a._clip,m=!f.disabled,v=function Fi(l,u){const{xScale:a,yScale:c}=l;return a&&c?{left:Ya(a,u,"left"),right:Ya(a,u,"right"),top:Ya(c,u,"top"),bottom:Ya(c,u,"bottom")}:u}(a,this.chartArea),E={meta:a,index:a.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",E)&&(m&&kn(c,{left:!1===f.left?0:v.left-f.left,right:!1===f.right?this.width:v.right+f.right,top:!1===f.top?0:v.top-f.top,bottom:!1===f.bottom?this.height:v.bottom+f.bottom}),a.controller.draw(),m&&Or(c),E.cancelable=!1,this.notifyPlugins("afterDatasetDraw",E))}isPointInArea(a){return qn(a,this.chartArea,this._minPadding)}getElementsAtEventForMode(a,c,f,m){const v=xu.modes[c];return"function"==typeof v?v(this,a,f,m):[]}getDatasetMeta(a){const c=this.data.datasets[a],f=this._metasets;let m=f.filter(v=>v&&v._dataset===c).pop();return m||(m={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:c&&c.order||0,index:a,_dataset:c,_parsed:[],_sorted:!1},f.push(m)),m}getContext(){return this.$context||(this.$context=It(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(a){const c=this.data.datasets[a];if(!c)return!1;const f=this.getDatasetMeta(a);return"boolean"==typeof f.hidden?!f.hidden:!c.hidden}setDatasetVisibility(a,c){this.getDatasetMeta(a).hidden=!c}toggleDataVisibility(a){this._hiddenIndices[a]=!this._hiddenIndices[a]}getDataVisibility(a){return!this._hiddenIndices[a]}_updateVisibility(a,c,f){const m=f?"show":"hide",v=this.getDatasetMeta(a),E=v.controller._resolveAnimations(void 0,m);ir(c)?(v.data[c].hidden=!f,this.update()):(this.setDatasetVisibility(a,f),E.update(v,{visible:f}),this.update(C=>C.datasetIndex===a?m:void 0))}hide(a,c){this._updateVisibility(a,c,!1)}show(a,c){this._updateVisibility(a,c,!0)}_destroyDatasetMeta(a){const c=this._metasets[a];c&&c.controller&&c.controller._destroy(),delete this._metasets[a]}_stop(){let a,c;for(this.stop(),ro.remove(this),a=0,c=this.data.datasets.length;a<c;++a)this._destroyDatasetMeta(a)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:a,ctx:c}=this;this._stop(),this.config.clearCache(),a&&(this.unbindEvents(),Bi(a,c),this.platform.releaseContext(c),this.canvas=null,this.ctx=null),delete ba[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...a){return this.canvas.toDataURL(...a)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const a=this._listeners,c=this.platform,f=(v,E)=>{c.addEventListener(this,v,E),a[v]=E},m=(v,E,C)=>{v.offsetX=E,v.offsetY=C,this._eventHandler(v)};Jt(this.options.events,v=>f(v,m))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const a=this._responsiveListeners,c=this.platform,f=(N,j)=>{c.addEventListener(this,N,j),a[N]=j},m=(N,j)=>{a[N]&&(c.removeEventListener(this,N,j),delete a[N])},v=(N,j)=>{this.canvas&&this.resize(N,j)};let E;const C=()=>{m("attach",C),this.attached=!0,this.resize(),f("resize",v),f("detach",E)};E=()=>{this.attached=!1,m("resize",v),this._stop(),this._resize(0,0),f("attach",C)},c.isAttached(this.canvas)?C():E()}unbindEvents(){Jt(this._listeners,(a,c)=>{this.platform.removeEventListener(this,c,a)}),this._listeners={},Jt(this._responsiveListeners,(a,c)=>{this.platform.removeEventListener(this,c,a)}),this._responsiveListeners=void 0}updateHoverStyle(a,c,f){const m=f?"set":"remove";let v,E,C,N;for("dataset"===c&&(v=this.getDatasetMeta(a[0].datasetIndex),v.controller["_"+m+"DatasetHoverStyle"]()),C=0,N=a.length;C<N;++C){E=a[C];const j=E&&this.getDatasetMeta(E.datasetIndex).controller;j&&j[m+"HoverStyle"](E.element,E.datasetIndex,E.index)}}getActiveElements(){return this._active||[]}setActiveElements(a){const c=this._active||[],f=a.map(({datasetIndex:v,index:E})=>{const C=this.getDatasetMeta(v);if(!C)throw new Error("No dataset found at index "+v);return{datasetIndex:v,element:C.data[E],index:E}});!Rr(f,c)&&(this._active=f,this._lastEvent=null,this._updateHoverStyles(f,c))}notifyPlugins(a,c,f){return this._plugins.notify(this,a,c,f)}isPluginEnabled(a){return 1===this._plugins._cache.filter(c=>c.plugin.id===a).length}_updateHoverStyles(a,c,f){const m=this.options.hover,v=(N,j)=>N.filter(J=>!j.some(ue=>J.datasetIndex===ue.datasetIndex&&J.index===ue.index)),E=v(c,a),C=f?a:v(a,c);E.length&&this.updateHoverStyle(E,m.mode,!1),C.length&&m.mode&&this.updateHoverStyle(C,m.mode,!0)}_eventHandler(a,c){const f={event:a,replay:c,cancelable:!0,inChartArea:this.isPointInArea(a)},m=E=>(E.options.events||this.options.events).includes(a.native.type);if(!1===this.notifyPlugins("beforeEvent",f,m))return;const v=this._handleEvent(a,c,f.inChartArea);return f.cancelable=!1,this.notifyPlugins("afterEvent",f,m),(v||f.changed)&&this.render(),this}_handleEvent(a,c,f){const{_active:m=[],options:v}=this,C=this._getActiveElements(a,m,f,c),N=function Ci(l){return"mouseup"===l.type||"click"===l.type||"contextmenu"===l.type}(a),j=function Ps(l,u,a,c){return a&&"mouseout"!==l.type?c?u:l:null}(a,this._lastEvent,f,N);f&&(this._lastEvent=null,nn(v.onHover,[a,C,this],this),N&&nn(v.onClick,[a,C,this],this));const J=!Rr(C,m);return(J||c)&&(this._active=C,this._updateHoverStyles(C,m,c)),this._lastEvent=j,J}_getActiveElements(a,c,f,m){if("mouseout"===a.type)return[];if(!f)return c;const v=this.options.hover;return this.getElementsAtEventForMode(a,v.mode,v,m)}})();function wc(){return Jt(zi.instances,l=>l._plugins.invalidate())}function Qa(l,u,a,c){return{x:a+l*Math.cos(u),y:c+l*Math.sin(u)}}function Ir(l,u,a,c,f,m){const{x:v,y:E,startAngle:C,pixelMargin:N,innerRadius:j}=u,J=Math.max(u.outerRadius+c+a-N,0),ue=j>0?j+c+a+N:0;let pe=0;const Se=f-C;if(c){const Cs=((j>0?j-c:0)+(J>0?J-c:0))/2;pe=(Se-(0!==Cs?Se*Cs/(Cs+c):Se))/2}const Oe=(Se-Math.max(.001,Se*J-a/Ut)/J)/2,_t=C+Oe+pe,ht=f-Oe-pe,{outerStart:jt,outerEnd:Wt,innerStart:Mt,innerEnd:qt}=function Yp(l,u,a,c){const f=function lu(l){return Y(l,["outerStart","outerEnd","innerStart","innerEnd"])}(l.options.borderRadius),m=(a-u)/2,v=Math.min(m,c*u/2),E=C=>{const N=(a-Math.min(m,C))*c/2;return Zt(C,0,Math.min(m,N))};return{outerStart:E(f.outerStart),outerEnd:E(f.outerEnd),innerStart:Zt(f.innerStart,0,v),innerEnd:Zt(f.innerEnd,0,v)}}(u,ue,J,ht-_t),mn=J-jt,on=J-Wt,Un=_t+jt/mn,vr=ht-Wt/on,Sr=ue+Mt,Wr=ue+qt,Ys=_t+Mt/Sr,wa=ht-qt/Wr;if(l.beginPath(),m){const Ri=(Un+vr)/2;if(l.arc(v,E,J,Un,Ri),l.arc(v,E,J,Ri,vr),Wt>0){const Lo=Qa(on,vr,v,E);l.arc(Lo.x,Lo.y,Wt,vr,ht+re)}const as=Qa(Wr,ht,v,E);if(l.lineTo(as.x,as.y),qt>0){const Lo=Qa(Wr,wa,v,E);l.arc(Lo.x,Lo.y,qt,ht+re,wa+Math.PI)}const Cs=(ht-qt/ue+(_t+Mt/ue))/2;if(l.arc(v,E,ue,ht-qt/ue,Cs,!0),l.arc(v,E,ue,Cs,_t+Mt/ue,!0),Mt>0){const Lo=Qa(Sr,Ys,v,E);l.arc(Lo.x,Lo.y,Mt,Ys+Math.PI,_t-re)}const Tl=Qa(mn,_t,v,E);if(l.lineTo(Tl.x,Tl.y),jt>0){const Lo=Qa(mn,Un,v,E);l.arc(Lo.x,Lo.y,jt,_t-re,Un)}}else{l.moveTo(v,E);const Ri=Math.cos(Un)*J+v,as=Math.sin(Un)*J+E;l.lineTo(Ri,as);const Cs=Math.cos(vr)*J+v,Tl=Math.sin(vr)*J+E;l.lineTo(Cs,Tl)}l.closePath()}function Ol(l,u,a=u){l.lineCap=In(a.borderCapStyle,u.borderCapStyle),l.setLineDash(In(a.borderDash,u.borderDash)),l.lineDashOffset=In(a.borderDashOffset,u.borderDashOffset),l.lineJoin=In(a.borderJoinStyle,u.borderJoinStyle),l.lineWidth=In(a.borderWidth,u.borderWidth),l.strokeStyle=In(a.borderColor,u.borderColor)}function Ed(l,u,a){l.lineTo(a.x,a.y)}function Df(l,u,a={}){const c=l.length,{start:f=0,end:m=c-1}=a,{start:v,end:E}=u,C=Math.max(f,v),N=Math.min(m,E);return{count:c,start:C,loop:u.loop,ilen:N<C&&!(f<v&&m<v||f>E&&m>E)?c+N-C:N-C}}function Sf(l,u,a,c){const{points:f,options:m}=u,{count:v,start:E,loop:C,ilen:N}=Df(f,a,c),j=function Nl(l){return l.stepped?qi:l.tension||"monotone"===l.cubicInterpolationMode?Ai:Ed}(m);let pe,Se,Re,{move:J=!0,reverse:ue}=c||{};for(pe=0;pe<=N;++pe)Se=f[(E+(ue?N-pe:pe))%v],!Se.skip&&(J?(l.moveTo(Se.x,Se.y),J=!1):j(l,Re,Se,ue,m.stepped),Re=Se);return C&&(Se=f[(E+(ue?N:0))%v],j(l,Re,Se,ue,m.stepped)),!!C}function Qp(l,u,a,c){const f=u.points,{count:m,start:v,ilen:E}=Df(f,a,c),{move:C=!0,reverse:N}=c||{};let ue,pe,Se,Re,Oe,_t,j=0,J=0;const ht=Wt=>(v+(N?E-Wt:Wt))%m,jt=()=>{Re!==Oe&&(l.lineTo(j,Oe),l.lineTo(j,Re),l.lineTo(j,_t))};for(C&&(pe=f[ht(0)],l.moveTo(pe.x,pe.y)),ue=0;ue<=E;++ue){if(pe=f[ht(ue)],pe.skip)continue;const Wt=pe.x,Mt=pe.y,qt=0|Wt;qt===Se?(Mt<Re?Re=Mt:Mt>Oe&&(Oe=Mt),j=(J*j+Wt)/++J):(jt(),l.lineTo(Wt,Mt),Se=qt,J=0,Re=Oe=Mt),_t=Mt}jt()}function xf(l){const u=l.options;return l._decimated||l._loop||u.tension||"monotone"===u.cubicInterpolationMode||u.stepped||u.borderDash&&u.borderDash.length?Sf:Qp}const wm="function"==typeof Path2D;let Id=(()=>class l extends dr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:a=>"borderDash"!==a&&"fill"!==a};constructor(a){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,a&&Object.assign(this,a)}updateControlPoints(a,c){const f=this.options;!f.tension&&"monotone"!==f.cubicInterpolationMode||f.stepped||this._pointsUpdated||(il(this._points,f,a,f.spanGaps?this._loop:this._fullLoop,c),this._pointsUpdated=!0)}set points(a){this._points=a,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function ol(l,u){const a=l.points,c=l.options.spanGaps,f=a.length;if(!f)return[];const m=!!l._loop,{start:v,end:E}=function Ql(l,u,a,c){let f=0,m=u-1;if(a&&!c)for(;f<u&&!l[f].skip;)f++;for(;f<u&&l[f].skip;)f++;for(f%=u,a&&(m+=f);m>f&&l[m%u].skip;)m--;return m%=u,{start:f,end:m}}(a,f,m,c);return function Lr(l,u,a,c){return c&&c.setContext&&a?function al(l,u,a,c){const f=l._chart.getContext(),m=ll(l.options),{_datasetIndex:v,options:{spanGaps:E}}=l,C=a.length,N=[];let j=m,J=u[0].start,ue=J;function pe(Se,Re,Oe,_t){const ht=E?-1:1;if(Se!==Re){for(Se+=C;a[Se%C].skip;)Se-=ht;for(;a[Re%C].skip;)Re+=ht;Se%C!=Re%C&&(N.push({start:Se%C,end:Re%C,loop:Oe,style:_t}),j=_t,J=Re%C)}}for(const Se of u){J=E?J:Se.start;let Oe,Re=a[J%C];for(ue=J+1;ue<=Se.end;ue++){const _t=a[ue%C];Oe=ll(c.setContext(It(f,{type:"segment",p0:Re,p1:_t,p0DataIndex:(ue-1)%C,p1DataIndex:ue%C,datasetIndex:v}))),js(Oe,j)&&pe(J,ue-1,Se.loop,j),Re=_t,j=Oe}J<ue-1&&pe(J,ue-1,Se.loop,j)}return N}(l,u,a,c):u}(l,!0===c?[{start:v,end:E,loop:m}]:function Mo(l,u,a,c){const f=l.length,m=[];let C,v=u,E=l[u];for(C=u+1;C<=a;++C){const N=l[C%f];N.skip||N.stop?E.skip||(m.push({start:u%f,end:(C-1)%f,loop:c=!1}),u=v=N.stop?C:null):(v=C,E.skip&&(u=C)),E=N}return null!==v&&m.push({start:u%f,end:v%f,loop:c}),m}(a,v,E<v?E+f:E,!!l._fullLoop&&0===v&&E===f-1),a,u)}(this,this.options.segment))}first(){const a=this.segments;return a.length&&this.points[a[0].start]}last(){const a=this.segments,f=a.length;return f&&this.points[a[f-1].end]}interpolate(a,c){const f=this.options,m=a[c],v=this.points,E=fs(this,{property:c,start:m,end:m});if(!E.length)return;const C=[],N=function Im(l){return l.stepped?za:l.tension||"monotone"===l.cubicInterpolationMode?fc:jo}(f);let j,J;for(j=0,J=E.length;j<J;++j){const{start:ue,end:pe}=E[j],Se=v[ue],Re=v[pe];if(Se===Re){C.push(Se);continue}const _t=N(Se,Re,Math.abs((m-Se[c])/(Re[c]-Se[c])),f.stepped);_t[c]=a[c],C.push(_t)}return 1===C.length?C[0]:C}pathSegment(a,c,f){return xf(this)(a,this,c,f)}path(a,c,f){const m=this.segments,v=xf(this);let E=this._loop;c=c||0,f=f||this.points.length-c;for(const C of m)E&=v(a,this,C,{start:c,end:c+f-1});return!!E}draw(a,c,f,m){(this.points||[]).length&&(this.options||{}).borderWidth&&(a.save(),function uu(l,u,a,c){wm&&!u.options.segment?function Tm(l,u,a,c){let f=u._path;f||(f=u._path=new Path2D,u.path(f,a,c)&&f.closePath()),Ol(l,u.options),l.stroke(f)}(l,u,a,c):function Eh(l,u,a,c){const{segments:f,options:m}=u,v=xf(u);for(const E of f)Ol(l,m,E.style),l.beginPath(),v(l,u,E,{start:a,end:a+c-1})&&l.closePath(),l.stroke()}(l,u,a,c)}(a,this,f,m),a.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function Rf(l,u,a,c){const f=l.options,{[a]:m}=l.getProps([a],c);return Math.abs(u-m)<f.radius+f.hitRadius}let Os=(()=>class l extends dr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(a){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,a&&Object.assign(this,a)}inRange(a,c,f){const m=this.options,{x:v,y:E}=this.getProps(["x","y"],f);return Math.pow(a-v,2)+Math.pow(c-E,2)<Math.pow(m.hitRadius+m.radius,2)}inXRange(a,c){return Rf(this,a,"x",c)}inYRange(a,c){return Rf(this,a,"y",c)}getCenterPoint(a){const{x:c,y:f}=this.getProps(["x","y"],a);return{x:c,y:f}}size(a){let c=(a=a||this.options||{}).radius||0;return c=Math.max(c,c&&a.hoverRadius||0),2*(c+(c&&a.borderWidth||0))}draw(a,c){const f=this.options;this.skip||f.radius<.1||!qn(this,c,this.size(f)/2)||(a.strokeStyle=f.borderColor,a.lineWidth=f.borderWidth,a.fillStyle=f.backgroundColor,cs(a,f,this.x,this.y))}getRange(){const a=this.options||{};return a.radius+a.hitRadius}})();function Cc(l,u){const{x:a,y:c,base:f,width:m,height:v}=l.getProps(["x","y","base","width","height"],u);let E,C,N,j,J;return l.horizontal?(J=v/2,E=Math.min(a,f),C=Math.max(a,f),N=c-J,j=c+J):(J=m/2,E=a-J,C=a+J,N=Math.min(c,f),j=Math.max(c,f)),{left:E,top:N,right:C,bottom:j}}function Ws(l,u,a,c){return l?0:Zt(u,a,c)}function Dc(l,u,a,c){const f=null===u,m=null===a,E=l&&!(f&&m)&&Cc(l,c);return E&&(f||gn(u,E.left,E.right))&&(m||gn(a,E.top,E.bottom))}function ko(l,u){l.rect(u.x,u.y,u.w,u.h)}function Td(l,u,a={}){const c=l.x!==a.x?-u:0,f=l.y!==a.y?-u:0;return{x:l.x+c,y:l.y+f,w:l.w+((l.x+l.w!==a.x+a.w?u:0)-c),h:l.h+((l.y+l.h!==a.y+a.h?u:0)-f),radius:l.radius}}var Mf=Object.freeze({__proto__:null,ArcElement:class Pl extends dr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:u=>"borderDash"!==u};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(u){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,u&&Object.assign(this,u)}inRange(u,a,c){const f=this.getProps(["x","y"],c),{angle:m,distance:v}=Pe(f,{x:u,y:a}),{startAngle:E,endAngle:C,innerRadius:N,outerRadius:j,circumference:J}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],c),ue=(this.options.spacing+this.options.borderWidth)/2,Se=In(J,C-E)>=On||et(m,E,C),Re=gn(v,N+ue,j+ue);return Se&&Re}getCenterPoint(u){const{x:a,y:c,startAngle:f,endAngle:m,innerRadius:v,outerRadius:E}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],u),{offset:C,spacing:N}=this.options,j=(f+m)/2,J=(v+E+N+C)/2;return{x:a+Math.cos(j)*J,y:c+Math.sin(j)*J}}tooltipPosition(u){return this.getCenterPoint(u)}draw(u){const{options:a,circumference:c}=this,f=(a.offset||0)/4,m=(a.spacing||0)/2,v=a.circular;if(this.pixelMargin="inner"===a.borderAlign?.33:0,this.fullCircles=c>On?Math.floor(c/On):0,0===c||this.innerRadius<0||this.outerRadius<0)return;u.save();const E=(this.startAngle+this.endAngle)/2;u.translate(Math.cos(E)*f,Math.sin(E)*f);const N=f*(1-Math.sin(Math.min(Ut,c||0)));u.fillStyle=a.backgroundColor,u.strokeStyle=a.borderColor,function Gr(l,u,a,c,f){const{fullCircles:m,startAngle:v,circumference:E}=u;let C=u.endAngle;if(m){Ir(l,u,a,c,C,f);for(let N=0;N<m;++N)l.fill();isNaN(E)||(C=v+(E%On||On))}Ir(l,u,a,c,C,f),l.fill()}(u,this,N,m,v),function Ea(l,u,a,c,f){const{fullCircles:m,startAngle:v,circumference:E,options:C}=u,{borderWidth:N,borderJoinStyle:j,borderDash:J,borderDashOffset:ue}=C,pe="inner"===C.borderAlign;if(!N)return;l.setLineDash(J||[]),l.lineDashOffset=ue,pe?(l.lineWidth=2*N,l.lineJoin=j||"round"):(l.lineWidth=N,l.lineJoin=j||"bevel");let Se=u.endAngle;if(m){Ir(l,u,a,c,Se,f);for(let Re=0;Re<m;++Re)l.stroke();isNaN(E)||(Se=v+(E%On||On))}pe&&function bh(l,u,a){const{startAngle:c,pixelMargin:f,x:m,y:v,outerRadius:E,innerRadius:C}=u;let N=f/E;l.beginPath(),l.arc(m,v,E,c-N,a+N),C>f?(N=f/C,l.arc(m,v,C,a+N,c-N,!0)):l.arc(m,v,f,a+re,c-re),l.closePath(),l.clip()}(l,u,Se),m||(Ir(l,u,a,c,Se,f),l.stroke())}(u,this,N,m,v),u.restore()}},BarElement:class cu extends dr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(u){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,u&&Object.assign(this,u)}draw(u){const{inflateAmount:a,options:{borderColor:c,backgroundColor:f}}=this,{inner:m,outer:v}=function fl(l){const u=Cc(l),a=u.right-u.left,c=u.bottom-u.top,f=function Ac(l,u,a){const f=l.borderSkipped,m=be(l.options.borderWidth);return{t:Ws(f.top,m.top,0,a),r:Ws(f.right,m.right,0,u),b:Ws(f.bottom,m.bottom,0,a),l:Ws(f.left,m.left,0,u)}}(l,a/2,c/2),m=function No(l,u,a){const{enableBorderRadius:c}=l.getProps(["enableBorderRadius"]),f=l.options.borderRadius,m=we(f),v=Math.min(u,a),E=l.borderSkipped,C=c||Ht(f);return{topLeft:Ws(!C||E.top||E.left,m.topLeft,0,v),topRight:Ws(!C||E.top||E.right,m.topRight,0,v),bottomLeft:Ws(!C||E.bottom||E.left,m.bottomLeft,0,v),bottomRight:Ws(!C||E.bottom||E.right,m.bottomRight,0,v)}}(l,a/2,c/2);return{outer:{x:u.left,y:u.top,w:a,h:c,radius:m},inner:{x:u.left+f.l,y:u.top+f.t,w:a-f.l-f.r,h:c-f.t-f.b,radius:{topLeft:Math.max(0,m.topLeft-Math.max(f.t,f.l)),topRight:Math.max(0,m.topRight-Math.max(f.t,f.r)),bottomLeft:Math.max(0,m.bottomLeft-Math.max(f.b,f.l)),bottomRight:Math.max(0,m.bottomRight-Math.max(f.b,f.r))}}}}(this),E=function Ou(l){return l.topLeft||l.topRight||l.bottomLeft||l.bottomRight}(v.radius)?Vs:ko;u.save(),(v.w!==m.w||v.h!==m.h)&&(u.beginPath(),E(u,Td(v,a,m)),u.clip(),E(u,Td(m,-a,v)),u.fillStyle=c,u.fill("evenodd")),u.beginPath(),E(u,Td(m,a)),u.fillStyle=f,u.fill(),u.restore()}inRange(u,a,c){return Dc(this,u,a,c)}inXRange(u,a){return Dc(this,u,null,a)}inYRange(u,a){return Dc(this,null,u,a)}getCenterPoint(u){const{x:a,y:c,base:f,horizontal:m}=this.getProps(["x","y","base","horizontal"],u);return{x:m?(a+f)/2:a,y:m?c:(c+f)/2}}getRange(u){return"x"===u?this.width/2:this.height/2}},LineElement:Id,PointElement:Os});const wd=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],qs=wd.map(l=>l.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ns(l){return wd[l%wd.length]}function du(l){return qs[l%qs.length]}function kl(l){let u;for(u in l)if(l[u].borderColor||l[u].backgroundColor)return!0;return!1}var Pf={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(l,u,a){if(!a.enabled)return;const{data:{datasets:c},options:f}=l.config,{elements:m}=f;if(!a.forceOverride&&(kl(c)||function ku(l){return l&&(l.borderColor||l.backgroundColor)}(f)||m&&kl(m)))return;const v=function Sc(l){let u=0;return(a,c)=>{const f=l.getDatasetMeta(c).controller;f instanceof Pa?u=function hu(l,u){return l.backgroundColor=l.data.map(()=>Ns(u++)),u}(a,u):f instanceof Du?u=function Nu(l,u){return l.backgroundColor=l.data.map(()=>du(u++)),u}(a,u):f&&(u=function Jp(l,u){return l.borderColor=Ns(u),l.backgroundColor=du(u),++u}(a,u))}}(l);c.forEach(v)}};function na(l){if(l._decimated){const u=l._data;delete l._decimated,delete l._data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,writable:!0,value:u})}}function Nf(l){l.data.datasets.forEach(u=>{na(u)})}var kf={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(l,u,a)=>{if(!a.enabled)return void Nf(l);const c=l.width;l.data.datasets.forEach((f,m)=>{const{_data:v,indexAxis:E}=f,C=l.getDatasetMeta(m),N=v||f.data;if("y"===Bt([E,l.options.indexAxis])||!C.controller.supportsDecimation)return;const j=l.scales[C.xAxisID];if("linear"!==j.type&&"time"!==j.type||l.options.parsing)return;let Se,{start:J,count:ue}=function Zs(l,u){const a=u.length;let f,c=0;const{iScale:m}=l,{min:v,max:E,minDefined:C,maxDefined:N}=m.getUserBounds();return C&&(c=Zt(An(u,m.axis,v).lo,0,a-1)),f=N?Zt(An(u,m.axis,E).hi+1,c,a)-c:a-c,{start:c,count:f}}(C,N);if(ue<=(a.threshold||4*c))na(f);else{switch(Mn(v)&&(f._data=N,delete f.data,Object.defineProperty(f,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Re){this._data=Re}})),a.algorithm){case"lttb":Se=function Of(l,u,a,c,f){const m=f.samples||c;if(m>=a)return l.slice(u,u+a);const v=[],E=(a-2)/(m-2);let C=0;const N=u+a-1;let J,ue,pe,Se,Re,j=u;for(v[C++]=l[j],J=0;J<m-2;J++){let ht,Oe=0,_t=0;const jt=Math.floor((J+1)*E)+1+u,Wt=Math.min(Math.floor((J+2)*E)+1,a)+u,Mt=Wt-jt;for(ht=jt;ht<Wt;ht++)Oe+=l[ht].x,_t+=l[ht].y;Oe/=Mt,_t/=Mt;const qt=Math.floor(J*E)+1+u,mn=Math.min(Math.floor((J+1)*E)+1,a)+u,{x:on,y:Un}=l[j];for(pe=Se=-1,ht=qt;ht<mn;ht++)Se=.5*Math.abs((on-Oe)*(l[ht].y-Un)-(on-l[ht].x)*(_t-Un)),Se>pe&&(pe=Se,ue=l[ht],Re=ht);v[C++]=ue,j=Re}return v[C++]=l[N],v}(N,J,ue,c,a);break;case"min-max":Se=function Ih(l,u,a,c){let v,E,C,N,j,J,ue,pe,Se,Re,f=0,m=0;const Oe=[],ht=l[u].x,Wt=l[u+a-1].x-ht;for(v=u;v<u+a;++v){E=l[v],C=(E.x-ht)/Wt*c,N=E.y;const Mt=0|C;if(Mt===j)N<Se?(Se=N,J=v):N>Re&&(Re=N,ue=v),f=(m*f+E.x)/++m;else{const qt=v-1;if(!Mn(J)&&!Mn(ue)){const mn=Math.min(J,ue),on=Math.max(J,ue);mn!==pe&&mn!==qt&&Oe.push({...l[mn],x:f}),on!==pe&&on!==qt&&Oe.push({...l[on],x:f})}v>0&&qt!==pe&&Oe.push(l[qt]),Oe.push(E),j=Mt,m=0,Se=Re=N,J=ue=pe=v}}return Oe}(N,J,ue,c);break;default:throw new Error(`Unsupported decimation algorithm '${a.algorithm}'`)}f._decimated=Se}})},destroy(l){Nf(l)}};function xc(l,u,a,c){if(c)return;let f=u[l],m=a[l];return"angle"===l&&(f=$e(f),m=$e(m)),{property:l,start:f,end:m}}function fu(l,u,a){for(;u>l;u--){const c=a[u];if(!isNaN(c.x)&&!isNaN(c.y))break}return u}function Fl(l,u,a,c){return l&&u?c(l[a],u[a]):l?l[a]:u?u[a]:0}function Rc(l,u){let a=[],c=!1;return Pn(l)?(c=!0,a=l):a=function Wo(l,u){const{x:a=null,y:c=null}=l||{},f=u.points,m=[];return u.segments.forEach(({start:v,end:E})=>{E=fu(v,E,f);const C=f[v],N=f[E];null!==c?(m.push({x:C.x,y:c}),m.push({x:N.x,y:c})):null!==a&&(m.push({x:a,y:C.y}),m.push({x:a,y:N.y}))}),m}(l,u),a.length?new Id({points:a,options:{tension:0},_loop:c,_fullLoop:c}):null}function Lf(l){return l&&!1!==l.fill}function _r(l,u,a){let f=l[u].fill;const m=[u];let v;if(!a)return f;for(;!1!==f&&-1===m.indexOf(f);){if(!Zn(f))return f;if(v=l[f],!v)return!1;if(v.visible)return f;m.push(f),f=v.fill}return!1}function Lu(l,u,a){const c=function Vf(l){const u=l.options,a=u.fill;let c=In(a&&a.target,a);return void 0===c&&(c=!!u.backgroundColor),!1!==c&&null!==c&&(!0===c?"origin":c)}(l);if(Ht(c))return!isNaN(c.value)&&c;let f=parseFloat(c);return Zn(f)&&Math.floor(f)===f?function pu(l,u,a,c){return("-"===l||"+"===l)&&(a=u+a),!(a===u||a<0||a>=c)&&a}(c[0],u,f,a):["origin","start","end","stack","shape"].indexOf(c)>=0&&c}function Cm(l,u,a){const c=[];for(let f=0;f<a.length;f++){const m=a[f],{first:v,last:E,point:C}=eg(m,u,"x");if(!(!C||v&&E))if(v)c.unshift(C);else if(l.push(C),!E)break}l.push(...c)}function eg(l,u,a){const c=l.interpolate(u,a);if(!c)return{};const f=c[a],m=l.segments,v=l.points;let E=!1,C=!1;for(let N=0;N<m.length;N++){const j=m[N],J=v[j.start][a],ue=v[j.end][a];if(gn(f,J,ue)){E=f===J,C=f===ue;break}}return{first:E,last:C,point:c}}class Fu{constructor(u){this.x=u.x,this.y=u.y,this.radius=u.radius}pathSegment(u,a,c){const{x:f,y:m,radius:v}=this;return u.arc(f,m,v,(a=a||{start:0,end:On}).end,a.start,!0),!c.bounds}interpolate(u){const{x:a,y:c,radius:f}=this,m=u.angle;return{x:a+Math.cos(m)*f,y:c+Math.sin(m)*f,angle:m}}}function Ad(l,u,a){const c=function pl(l){const{chart:u,fill:a,line:c}=l;if(Zn(a))return function Uf(l,u){const a=l.getDatasetMeta(u);return a&&l.isDatasetVisible(u)?a.dataset:null}(u,a);if("stack"===a)return function Th(l){const{scale:u,index:a,line:c}=l,f=[],m=c.segments,v=c.points,E=function Y_(l,u){const a=[],c=l.getMatchingVisibleMetas("line");for(let f=0;f<c.length;f++){const m=c[f];if(m.index===u)break;m.hidden||a.unshift(m.dataset)}return a}(u,a);E.push(Rc({x:null,y:u.bottom},c));for(let C=0;C<m.length;C++){const N=m[C];for(let j=N.start;j<=N.end;j++)Cm(f,v[j],E)}return new Id({points:f,options:{}})}(l);if("shape"===a)return!0;const f=function gu(l){return(l.scale||{}).getPointPositionForValue?function Cd(l){const{scale:u,fill:a}=l,c=u.options,f=u.getLabels().length,m=c.reverse?u.max:u.min,v=function Xp(l,u,a){let c;return c="start"===l?a:"end"===l?u.options.reverse?u.min:u.max:Ht(l)?l.value:u.getBaseValue(),c}(a,u,m),E=[];if(c.grid.circular){const C=u.getPointPositionForValue(0,m);return new Fu({x:C.x,y:C.y,radius:u.getDistanceFromCenterForValue(v)})}for(let C=0;C<f;++C)E.push(u.getPointPositionForValue(C,v));return E}(l):function Bf(l){const{scale:u={},fill:a}=l,c=function Ff(l,u){let a=null;return"start"===l?a=u.bottom:"end"===l?a=u.top:Ht(l)?a=u.getPixelForValue(l.value):u.getBasePixel&&(a=u.getBasePixel()),a}(a,u);if(Zn(c)){const f=u.isHorizontal();return{x:f?c:null,y:f?null:c}}return null}(l)}(l);return f instanceof Fu?f:Rc(f,c)}(u),{line:f,scale:m,axis:v}=u,E=f.options,C=E.fill,N=E.backgroundColor,{above:j=N,below:J=N}=C||{};c&&f.points.length&&(kn(l,a),function tg(l,u){const{line:a,target:c,above:f,below:m,area:v,scale:E}=u,C=a._loop?"angle":u.axis;l.save(),"x"===C&&m!==f&&(Mc(l,c,v.top),ng(l,{line:a,target:c,color:f,scale:E,property:C}),l.restore(),l.save(),Mc(l,c,v.bottom)),ng(l,{line:a,target:c,color:m,scale:E,property:C}),l.restore()}(l,{line:f,target:c,above:j,below:J,area:a,scale:m,axis:v}),Or(l))}function Mc(l,u,a){const{segments:c,points:f}=u;let m=!0,v=!1;l.beginPath();for(const E of c){const{start:C,end:N}=E,j=f[C],J=f[fu(C,N,f)];m?(l.moveTo(j.x,j.y),m=!1):(l.lineTo(j.x,a),l.lineTo(j.x,j.y)),v=!!u.pathSegment(l,E,{move:v}),v?l.closePath():l.lineTo(J.x,a)}l.lineTo(u.first().x,a),l.closePath(),l.clip()}function ng(l,u){const{line:a,target:c,property:f,color:m,scale:v}=u,E=function Ll(l,u,a){const c=l.segments,f=l.points,m=u.points,v=[];for(const E of c){let{start:C,end:N}=E;N=fu(C,N,f);const j=xc(a,f[C],f[N],E.loop);if(!u.segments){v.push({source:E,target:j,start:f[C],end:f[N]});continue}const J=fs(u,j);for(const ue of J){const pe=xc(a,m[ue.start],m[ue.end],ue.loop),Se=_o(E,f,pe);for(const Re of Se)v.push({source:Re,target:ue,start:{[a]:Fl(j,pe,"start",Math.max)},end:{[a]:Fl(j,pe,"end",Math.min)}})}}return v}(a,c,f);for(const{source:C,target:N,start:j,end:J}of E){const{style:{backgroundColor:ue=m}={}}=C,pe=!0!==c;l.save(),l.fillStyle=ue,jf(l,v,pe&&xc(f,j,J)),l.beginPath();const Se=!!a.pathSegment(l,C);let Re;if(pe){Se?l.closePath():Qi(l,c,J,f);const Oe=!!c.pathSegment(l,N,{move:Se,reverse:!0});Re=Se&&Oe,Re||Qi(l,c,j,f)}l.closePath(),l.fill(Re?"evenodd":"nonzero"),l.restore()}}function jf(l,u,a){const{top:c,bottom:f}=u.chart.chartArea,{property:m,start:v,end:E}=a||{};"x"===m&&(l.beginPath(),l.rect(v,c,E-v,f-c),l.clip())}function Qi(l,u,a,c){const f=u.interpolate(a,c);f&&l.lineTo(f.x,f.y)}var Hf={id:"filler",afterDatasetsUpdate(l,u,a){const c=(l.data.datasets||[]).length,f=[];let m,v,E,C;for(v=0;v<c;++v)m=l.getDatasetMeta(v),E=m.dataset,C=null,E&&E.options&&E instanceof Id&&(C={visible:l.isDatasetVisible(v),index:v,fill:Lu(E,v,c),chart:l,axis:m.controller.options.indexAxis,scale:m.vScale,line:E}),m.$filler=C,f.push(C);for(v=0;v<c;++v)C=f[v],C&&!1!==C.fill&&(C.fill=_r(f,v,a.propagate))},beforeDraw(l,u,a){const c="beforeDraw"===a.drawTime,f=l.getSortedVisibleDatasetMetas(),m=l.chartArea;for(let v=f.length-1;v>=0;--v){const E=f[v].$filler;E&&(E.line.updateControlPoints(m,E.axis),c&&E.fill&&Ad(l.ctx,E,m))}},beforeDatasetsDraw(l,u,a){if("beforeDatasetsDraw"!==a.drawTime)return;const c=l.getSortedVisibleDatasetMetas();for(let f=c.length-1;f>=0;--f){const m=c[f].$filler;Lf(m)&&Ad(l.ctx,m,l.chartArea)}},beforeDatasetDraw(l,u,a){const c=u.meta.$filler;!Lf(c)||"beforeDatasetDraw"!==a.drawTime||Ad(l.ctx,c,l.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Vu=(l,u)=>{let{boxHeight:a=u,boxWidth:c=u}=l;return l.usePointStyle&&(a=Math.min(a,u),c=l.pointStyleWidth||Math.min(c,u)),{boxWidth:c,boxHeight:a,itemHeight:Math.max(u,a)}};class Dm extends dr{constructor(u){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=u.chart,this.options=u.options,this.ctx=u.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(u,a,c){this.maxWidth=u,this.maxHeight=a,this._margins=c,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const u=this.options.labels||{};let a=nn(u.generateLabels,[this.chart],this)||[];u.filter&&(a=a.filter(c=>u.filter(c,this.chart.data))),u.sort&&(a=a.sort((c,f)=>u.sort(c,f,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:u,ctx:a}=this;if(!u.display)return void(this.width=this.height=0);const c=u.labels,f=Xe(c.font),m=f.size,v=this._computeTitleHeight(),{boxWidth:E,itemHeight:C}=Vu(c,m);let N,j;a.font=f.string,this.isHorizontal()?(N=this.maxWidth,j=this._fitRows(v,m,E,C)+10):(j=this.maxHeight,N=this._fitCols(v,f,E,C)+10),this.width=Math.min(N,u.maxWidth||this.maxWidth),this.height=Math.min(j,u.maxHeight||this.maxHeight)}_fitRows(u,a,c,f){const{ctx:m,maxWidth:v,options:{labels:{padding:E}}}=this,C=this.legendHitBoxes=[],N=this.lineWidths=[0],j=f+E;let J=u;m.textAlign="left",m.textBaseline="middle";let ue=-1,pe=-j;return this.legendItems.forEach((Se,Re)=>{const Oe=c+a/2+m.measureText(Se.text).width;(0===Re||N[N.length-1]+Oe+2*E>v)&&(J+=j,N[N.length-(Re>0?0:1)]=0,pe+=j,ue++),C[Re]={left:0,top:pe,row:ue,width:Oe,height:f},N[N.length-1]+=Oe+E}),J}_fitCols(u,a,c,f){const{ctx:m,maxHeight:v,options:{labels:{padding:E}}}=this,C=this.legendHitBoxes=[],N=this.columnSizes=[],j=v-u;let J=E,ue=0,pe=0,Se=0,Re=0;return this.legendItems.forEach((Oe,_t)=>{const{itemWidth:ht,itemHeight:jt}=function wh(l,u,a,c,f){const m=function Q_(l,u,a,c){let f=l.text;return f&&"string"!=typeof f&&(f=f.reduce((m,v)=>m.length>v.length?m:v)),u+a.size/2+c.measureText(f).width}(c,l,u,a),v=function Sm(l,u,a){let c=l;return"string"!=typeof u.text&&(c=Uu(u,a)),c}(f,c,u.lineHeight);return{itemWidth:m,itemHeight:v}}(c,a,m,Oe,f);_t>0&&pe+jt+2*E>j&&(J+=ue+E,N.push({width:ue,height:pe}),Se+=ue+E,Re++,ue=pe=0),C[_t]={left:Se,top:pe,col:Re,width:ht,height:jt},ue=Math.max(ue,ht),pe+=jt+E}),J+=ue,N.push({width:ue,height:pe}),J}adjustHitBoxes(){if(!this.options.display)return;const u=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:c,labels:{padding:f},rtl:m}}=this,v=Yo(m,this.left,this.width);if(this.isHorizontal()){let E=0,C=Kn(c,this.left+f,this.right-this.lineWidths[E]);for(const N of a)E!==N.row&&(E=N.row,C=Kn(c,this.left+f,this.right-this.lineWidths[E])),N.top+=this.top+u+f,N.left=v.leftForLtr(v.x(C),N.width),C+=N.width+f}else{let E=0,C=Kn(c,this.top+u+f,this.bottom-this.columnSizes[E].height);for(const N of a)N.col!==E&&(E=N.col,C=Kn(c,this.top+u+f,this.bottom-this.columnSizes[E].height)),N.top=C,N.left+=this.left+f,N.left=v.leftForLtr(v.x(N.left),N.width),C+=N.height+f}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const u=this.ctx;kn(u,this),this._draw(),Or(u)}}_draw(){const{options:u,columnSizes:a,lineWidths:c,ctx:f}=this,{align:m,labels:v}=u,E=Zr.color,C=Yo(u.rtl,this.left,this.width),N=Xe(v.font),{padding:j}=v,J=N.size,ue=J/2;let pe;this.drawTitle(),f.textAlign=C.textAlign("left"),f.textBaseline="middle",f.lineWidth=.5,f.font=N.string;const{boxWidth:Se,boxHeight:Re,itemHeight:Oe}=Vu(v,J),jt=this.isHorizontal(),Wt=this._computeTitleHeight();pe=jt?{x:Kn(m,this.left+j,this.right-c[0]),y:this.top+j+Wt,line:0}:{x:this.left+j,y:Kn(m,this.top+Wt+j,this.bottom-a[0].height),line:0},Ho(this.ctx,u.textDirection);const Mt=Oe+j;this.legendItems.forEach((qt,mn)=>{f.strokeStyle=qt.fontColor,f.fillStyle=qt.fontColor;const on=f.measureText(qt.text).width,Un=C.textAlign(qt.textAlign||(qt.textAlign=v.textAlign)),vr=Se+ue+on;let Sr=pe.x,Wr=pe.y;C.setWidth(this.width),jt?mn>0&&Sr+vr+j>this.right&&(Wr=pe.y+=Mt,pe.line++,Sr=pe.x=Kn(m,this.left+j,this.right-c[pe.line])):mn>0&&Wr+Mt>this.bottom&&(Sr=pe.x=Sr+a[pe.line].width+j,pe.line++,Wr=pe.y=Kn(m,this.top+Wt+j,this.bottom-a[pe.line].height)),function(qt,mn,on){if(isNaN(Se)||Se<=0||isNaN(Re)||Re<0)return;f.save();const Un=In(on.lineWidth,1);if(f.fillStyle=In(on.fillStyle,E),f.lineCap=In(on.lineCap,"butt"),f.lineDashOffset=In(on.lineDashOffset,0),f.lineJoin=In(on.lineJoin,"miter"),f.lineWidth=Un,f.strokeStyle=In(on.strokeStyle,E),f.setLineDash(In(on.lineDash,[])),v.usePointStyle){const vr={radius:Re*Math.SQRT2/2,pointStyle:on.pointStyle,rotation:on.rotation,borderWidth:Un},Sr=C.xPlus(qt,Se/2);to(f,vr,Sr,mn+ue,v.pointStyleWidth&&Se)}else{const vr=mn+Math.max((J-Re)/2,0),Sr=C.leftForLtr(qt,Se),Wr=we(on.borderRadius);f.beginPath(),Object.values(Wr).some(Ys=>0!==Ys)?Vs(f,{x:Sr,y:vr,w:Se,h:Re,radius:Wr}):f.rect(Sr,vr,Se,Re),f.fill(),0!==Un&&f.stroke()}f.restore()}(C.x(Sr),Wr,qt),Sr=((l,u,a,c)=>l===(c?"left":"right")?a:"center"===l?(u+a)/2:u)(Un,Sr+Se+ue,jt?Sr+vr:this.right,u.rtl),function(qt,mn,on){So(f,on.text,qt,mn+Oe/2,N,{strikethrough:on.hidden,textAlign:C.textAlign(on.textAlign)})}(C.x(Sr),Wr,qt),jt?pe.x+=vr+j:pe.y+="string"!=typeof qt.text?Uu(qt,N.lineHeight)+j:Mt}),no(this.ctx,u.textDirection)}drawTitle(){const u=this.options,a=u.title,c=Xe(a.font),f=Ne(a.padding);if(!a.display)return;const m=Yo(u.rtl,this.left,this.width),v=this.ctx,E=a.position,N=f.top+c.size/2;let j,J=this.left,ue=this.width;if(this.isHorizontal())ue=Math.max(...this.lineWidths),j=this.top+N,J=Kn(u.align,J,this.right-ue);else{const Se=this.columnSizes.reduce((Re,Oe)=>Math.max(Re,Oe.height),0);j=N+Kn(u.align,this.top,this.bottom-Se-u.labels.padding-this._computeTitleHeight())}const pe=Kn(E,J,J+ue);v.textAlign=m.textAlign(ni(E)),v.textBaseline="middle",v.strokeStyle=a.color,v.fillStyle=a.color,v.font=c.string,So(v,a.text,pe,j,c)}_computeTitleHeight(){const u=this.options.title,a=Xe(u.font),c=Ne(u.padding);return u.display?a.lineHeight+c.height:0}_getLegendItemAt(u,a){let c,f,m;if(gn(u,this.left,this.right)&&gn(a,this.top,this.bottom))for(m=this.legendHitBoxes,c=0;c<m.length;++c)if(f=m[c],gn(u,f.left,f.left+f.width)&&gn(a,f.top,f.top+f.height))return this.legendItems[c];return null}handleEvent(u){const a=this.options;if(!function La(l,u){return!(("mousemove"!==l&&"mouseout"!==l||!u.onHover&&!u.onLeave)&&(!u.onClick||"click"!==l&&"mouseup"!==l))}(u.type,a))return;const c=this._getLegendItemAt(u.x,u.y);if("mousemove"===u.type||"mouseout"===u.type){const f=this._hoveredItem,m=((l,u)=>null!==l&&null!==u&&l.datasetIndex===u.datasetIndex&&l.index===u.index)(f,c);f&&!m&&nn(a.onLeave,[u,f,this],this),this._hoveredItem=c,c&&!m&&nn(a.onHover,[u,c,this],this)}else c&&nn(a.onClick,[u,c,this],this)}}function Uu(l,u){return u*(l.text?l.text.length:0)}var Dd={id:"legend",_element:Dm,start(l,u,a){const c=l.legend=new Dm({ctx:l.ctx,options:a,chart:l});Li.configure(l,c,a),Li.addBox(l,c)},stop(l){Li.removeBox(l,l.legend),delete l.legend},beforeUpdate(l,u,a){const c=l.legend;Li.configure(l,c,a),c.options=a},afterUpdate(l){const u=l.legend;u.buildLabels(),u.adjustHitBoxes()},afterEvent(l,u){u.replay||l.legend.handleEvent(u.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(l,u,a){const c=u.datasetIndex,f=a.chart;f.isDatasetVisible(c)?(f.hide(c),u.hidden=!0):(f.show(c),u.hidden=!1)},onHover:null,onLeave:null,labels:{color:l=>l.chart.options.color,boxWidth:40,padding:10,generateLabels(l){const u=l.data.datasets,{labels:{usePointStyle:a,pointStyle:c,textAlign:f,color:m,useBorderRadius:v,borderRadius:E}}=l.legend.options;return l._getSortedDatasetMetas().map(C=>{const N=C.controller.getStyle(a?0:void 0),j=Ne(N.borderWidth);return{text:u[C.index].label,fillStyle:N.backgroundColor,fontColor:m,hidden:!C.visible,lineCap:N.borderCapStyle,lineDash:N.borderDash,lineDashOffset:N.borderDashOffset,lineJoin:N.borderJoinStyle,lineWidth:(j.width+j.height)/4,strokeStyle:N.borderColor,pointStyle:c||N.pointStyle,rotation:N.rotation,textAlign:f||N.textAlign,borderRadius:v&&(E||N.borderRadius),datasetIndex:C.index}},this)}},title:{color:l=>l.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:l=>!l.startsWith("on"),labels:{_scriptable:l=>!["generateLabels","filter","sort"].includes(l)}}};class Sd extends dr{constructor(u){super(),this.chart=u.chart,this.options=u.options,this.ctx=u.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(u,a){const c=this.options;if(this.left=0,this.top=0,!c.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=u,this.height=this.bottom=a;const f=Pn(c.text)?c.text.length:1;this._padding=Ne(c.padding);const m=f*Xe(c.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=m:this.width=m}isHorizontal(){const u=this.options.position;return"top"===u||"bottom"===u}_drawArgs(u){const{top:a,left:c,bottom:f,right:m,options:v}=this,E=v.align;let N,j,J,C=0;return this.isHorizontal()?(j=Kn(E,c,m),J=a+u,N=m-c):("left"===v.position?(j=c+u,J=Kn(E,f,a),C=-.5*Ut):(j=m-u,J=Kn(E,a,f),C=.5*Ut),N=f-a),{titleX:j,titleY:J,maxWidth:N,rotation:C}}draw(){const u=this.ctx,a=this.options;if(!a.display)return;const c=Xe(a.font),m=c.lineHeight/2+this._padding.top,{titleX:v,titleY:E,maxWidth:C,rotation:N}=this._drawArgs(m);So(u,a.text,0,0,c,{color:a.color,maxWidth:C,rotation:N,textAlign:ni(a.align),textBaseline:"middle",translation:[v,E]})}}var Bu={id:"title",_element:Sd,start(l,u,a){!function zf(l,u){const a=new Sd({ctx:l.ctx,options:u,chart:l});Li.configure(l,a,u),Li.addBox(l,a),l.titleBlock=a}(l,a)},stop(l){Li.removeBox(l,l.titleBlock),delete l.titleBlock},beforeUpdate(l,u,a){const c=l.titleBlock;Li.configure(l,c,a),c.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ja=new WeakMap;var Ch={id:"subtitle",start(l,u,a){const c=new Sd({ctx:l.ctx,options:a,chart:l});Li.configure(l,c,a),Li.addBox(l,c),Ja.set(l,c)},stop(l){Li.removeBox(l,Ja.get(l)),Ja.delete(l)},beforeUpdate(l,u,a){const c=Ja.get(l);Li.configure(l,c,a),c.options=a},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const mu={average(l){if(!l.length)return!1;let u,a,c=0,f=0,m=0;for(u=0,a=l.length;u<a;++u){const v=l[u].element;if(v&&v.hasValue()){const E=v.tooltipPosition();c+=E.x,f+=E.y,++m}}return{x:c/m,y:f/m}},nearest(l,u){if(!l.length)return!1;let m,v,E,a=u.x,c=u.y,f=Number.POSITIVE_INFINITY;for(m=0,v=l.length;m<v;++m){const C=l[m].element;if(C&&C.hasValue()){const j=Te(u,C.getCenterPoint());j<f&&(f=j,E=C)}}if(E){const C=E.tooltipPosition();a=C.x,c=C.y}return{x:a,y:c}}};function qo(l,u){return u&&(Pn(u)?Array.prototype.push.apply(l,u):l.push(u)),l}function Fa(l){return("string"==typeof l||l instanceof String)&&l.indexOf("\n")>-1?l.split("\n"):l}function Ah(l,u){const{element:a,datasetIndex:c,index:f}=u,m=l.getDatasetMeta(c).controller,{label:v,value:E}=m.getLabelAndValue(f);return{chart:l,label:v,parsed:m.getParsed(f),raw:l.data.datasets[c].data[f],formattedValue:E,dataset:m.getDataset(),dataIndex:f,datasetIndex:c,element:a}}function Ts(l,u){const a=l.chart.ctx,{body:c,footer:f,title:m}=l,{boxWidth:v,boxHeight:E}=u,C=Xe(u.bodyFont),N=Xe(u.titleFont),j=Xe(u.footerFont),J=m.length,ue=f.length,pe=c.length,Se=Ne(u.padding);let Re=Se.height,Oe=0,_t=c.reduce((Wt,Mt)=>Wt+Mt.before.length+Mt.lines.length+Mt.after.length,0);_t+=l.beforeBody.length+l.afterBody.length,J&&(Re+=J*N.lineHeight+(J-1)*u.titleSpacing+u.titleMarginBottom),_t&&(Re+=pe*(u.displayColors?Math.max(E,C.lineHeight):C.lineHeight)+(_t-pe)*C.lineHeight+(_t-1)*u.bodySpacing),ue&&(Re+=u.footerMarginTop+ue*j.lineHeight+(ue-1)*u.footerSpacing);let ht=0;const jt=function(Wt){Oe=Math.max(Oe,a.measureText(Wt).width+ht)};return a.save(),a.font=N.string,Jt(l.title,jt),a.font=C.string,Jt(l.beforeBody.concat(l.afterBody),jt),ht=u.displayColors?v+2+u.boxPadding:0,Jt(c,Wt=>{Jt(Wt.before,jt),Jt(Wt.lines,jt),Jt(Wt.after,jt)}),ht=0,a.font=j.string,Jt(l.footer,jt),a.restore(),Oe+=Se.width,{width:Oe,height:Re}}function $f(l,u,a,c){const{x:f,width:m}=a,{width:v,chartArea:{left:E,right:C}}=l;let N="center";return"center"===c?N=f<=(E+C)/2?"left":"right":f<=m/2?N="left":f>=v-m/2&&(N="right"),function rg(l,u,a,c){const{x:f,width:m}=c,v=a.caretSize+a.caretPadding;if("left"===l&&f+m+v>u.width||"right"===l&&f-m-v<0)return!0}(N,l,u,a)&&(N="center"),N}function _u(l,u,a){const c=a.yAlign||u.yAlign||function Qr(l,u){const{y:a,height:c}=u;return a<c/2?"top":a>l.height-c/2?"bottom":"center"}(l,a);return{xAlign:a.xAlign||u.xAlign||$f(l,u,a,c),yAlign:c}}function Gf(l,u,a,c){const{caretSize:f,caretPadding:m,cornerRadius:v}=l,{xAlign:E,yAlign:C}=a,N=f+m,{topLeft:j,topRight:J,bottomLeft:ue,bottomRight:pe}=we(v);let Se=function ig(l,u){let{x:a,width:c}=l;return"right"===u?a-=c:"center"===u&&(a-=c/2),a}(u,E);const Re=function xm(l,u,a){let{y:c,height:f}=l;return"top"===u?c+=a:c-="bottom"===u?f+a:f/2,c}(u,C,N);return"center"===C?"left"===E?Se+=N:"right"===E&&(Se-=N):"left"===E?Se-=Math.max(j,ue)+f:"right"===E&&(Se+=Math.max(J,pe)+f),{x:Zt(Se,0,c.width-u.width),y:Zt(Re,0,c.height-u.height)}}function Pc(l,u,a){const c=Ne(a.padding);return"center"===u?l.x+l.width/2:"right"===u?l.x+l.width-c.right:l.x+c.left}function Dh(l){return qo([],Fa(l))}function Ks(l,u){const a=u&&u.dataset&&u.dataset.tooltip&&u.dataset.tooltip.callbacks;return a?l.override(a):l}const yu={beforeTitle:Fr,title(l){if(l.length>0){const u=l[0],a=u.chart.data.labels,c=a?a.length:0;if(this&&this.options&&"dataset"===this.options.mode)return u.dataset.label||"";if(u.label)return u.label;if(c>0&&u.dataIndex<c)return a[u.dataIndex]}return""},afterTitle:Fr,beforeBody:Fr,beforeLabel:Fr,label(l){if(this&&this.options&&"dataset"===this.options.mode)return l.label+": "+l.formattedValue||l.formattedValue;let u=l.dataset.label||"";u&&(u+=": ");const a=l.formattedValue;return Mn(a)||(u+=a),u},labelColor(l){const a=l.chart.getDatasetMeta(l.datasetIndex).controller.getStyle(l.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(l){const a=l.chart.getDatasetMeta(l.datasetIndex).controller.getStyle(l.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:Fr,afterBody:Fr,beforeFooter:Fr,footer:Fr,afterFooter:Fr};function uo(l,u,a,c){const f=l[u].call(a,c);return typeof f>"u"?yu[u].call(a,c):f}let Rd=(()=>class l extends dr{static positioners=mu;constructor(a){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=a.chart,this.options=a.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(a){this.options=a,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const a=this._cachedAnimations;if(a)return a;const c=this.chart,f=this.options.setContext(this.getContext()),m=f.enabled&&c.options.animation&&f.animations,v=new yo(this.chart,m);return m._cacheable&&(this._cachedAnimations=Object.freeze(v)),v}getContext(){return this.$context||(this.$context=function xd(l,u,a){return It(l,{tooltip:u,tooltipItems:a,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(a,c){const{callbacks:f}=c,m=uo(f,"beforeTitle",this,a),v=uo(f,"title",this,a),E=uo(f,"afterTitle",this,a);let C=[];return C=qo(C,Fa(m)),C=qo(C,Fa(v)),C=qo(C,Fa(E)),C}getBeforeBody(a,c){return Dh(uo(c.callbacks,"beforeBody",this,a))}getBody(a,c){const{callbacks:f}=c,m=[];return Jt(a,v=>{const E={before:[],lines:[],after:[]},C=Ks(f,v);qo(E.before,Fa(uo(C,"beforeLabel",this,v))),qo(E.lines,uo(C,"label",this,v)),qo(E.after,Fa(uo(C,"afterLabel",this,v))),m.push(E)}),m}getAfterBody(a,c){return Dh(uo(c.callbacks,"afterBody",this,a))}getFooter(a,c){const{callbacks:f}=c,m=uo(f,"beforeFooter",this,a),v=uo(f,"footer",this,a),E=uo(f,"afterFooter",this,a);let C=[];return C=qo(C,Fa(m)),C=qo(C,Fa(v)),C=qo(C,Fa(E)),C}_createItems(a){const c=this._active,f=this.chart.data,m=[],v=[],E=[];let N,j,C=[];for(N=0,j=c.length;N<j;++N)C.push(Ah(this.chart,c[N]));return a.filter&&(C=C.filter((J,ue,pe)=>a.filter(J,ue,pe,f))),a.itemSort&&(C=C.sort((J,ue)=>a.itemSort(J,ue,f))),Jt(C,J=>{const ue=Ks(a.callbacks,J);m.push(uo(ue,"labelColor",this,J)),v.push(uo(ue,"labelPointStyle",this,J)),E.push(uo(ue,"labelTextColor",this,J))}),this.labelColors=m,this.labelPointStyles=v,this.labelTextColors=E,this.dataPoints=C,C}update(a,c){const f=this.options.setContext(this.getContext()),m=this._active;let v,E=[];if(m.length){const C=mu[f.position].call(this,m,this._eventPosition);E=this._createItems(f),this.title=this.getTitle(E,f),this.beforeBody=this.getBeforeBody(E,f),this.body=this.getBody(E,f),this.afterBody=this.getAfterBody(E,f),this.footer=this.getFooter(E,f);const N=this._size=Ts(this,f),j=Object.assign({},C,N),J=_u(this.chart,f,j),ue=Gf(f,j,J,this.chart);this.xAlign=J.xAlign,this.yAlign=J.yAlign,v={opacity:1,x:ue.x,y:ue.y,width:N.width,height:N.height,caretX:C.x,caretY:C.y}}else 0!==this.opacity&&(v={opacity:0});this._tooltipItems=E,this.$context=void 0,v&&this._resolveAnimations().update(this,v),a&&f.external&&f.external.call(this,{chart:this.chart,tooltip:this,replay:c})}drawCaret(a,c,f,m){const v=this.getCaretPosition(a,f,m);c.lineTo(v.x1,v.y1),c.lineTo(v.x2,v.y2),c.lineTo(v.x3,v.y3)}getCaretPosition(a,c,f){const{xAlign:m,yAlign:v}=this,{caretSize:E,cornerRadius:C}=f,{topLeft:N,topRight:j,bottomLeft:J,bottomRight:ue}=we(C),{x:pe,y:Se}=a,{width:Re,height:Oe}=c;let _t,ht,jt,Wt,Mt,qt;return"center"===v?(Mt=Se+Oe/2,"left"===m?(_t=pe,ht=_t-E,Wt=Mt+E,qt=Mt-E):(_t=pe+Re,ht=_t+E,Wt=Mt-E,qt=Mt+E),jt=_t):(ht="left"===m?pe+Math.max(N,J)+E:"right"===m?pe+Re-Math.max(j,ue)-E:this.caretX,"top"===v?(Wt=Se,Mt=Wt-E,_t=ht-E,jt=ht+E):(Wt=Se+Oe,Mt=Wt+E,_t=ht+E,jt=ht-E),qt=Wt),{x1:_t,x2:ht,x3:jt,y1:Wt,y2:Mt,y3:qt}}drawTitle(a,c,f){const m=this.title,v=m.length;let E,C,N;if(v){const j=Yo(f.rtl,this.x,this.width);for(a.x=Pc(this,f.titleAlign,f),c.textAlign=j.textAlign(f.titleAlign),c.textBaseline="middle",E=Xe(f.titleFont),C=f.titleSpacing,c.fillStyle=f.titleColor,c.font=E.string,N=0;N<v;++N)c.fillText(m[N],j.x(a.x),a.y+E.lineHeight/2),a.y+=E.lineHeight+C,N+1===v&&(a.y+=f.titleMarginBottom-C)}}_drawColorBox(a,c,f,m,v){const E=this.labelColors[f],C=this.labelPointStyles[f],{boxHeight:N,boxWidth:j}=v,J=Xe(v.bodyFont),ue=Pc(this,"left",v),pe=m.x(ue),Re=c.y+(N<J.lineHeight?(J.lineHeight-N)/2:0);if(v.usePointStyle){const Oe={radius:Math.min(j,N)/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:1},_t=m.leftForLtr(pe,j)+j/2,ht=Re+N/2;a.strokeStyle=v.multiKeyBackground,a.fillStyle=v.multiKeyBackground,cs(a,Oe,_t,ht),a.strokeStyle=E.borderColor,a.fillStyle=E.backgroundColor,cs(a,Oe,_t,ht)}else{a.lineWidth=Ht(E.borderWidth)?Math.max(...Object.values(E.borderWidth)):E.borderWidth||1,a.strokeStyle=E.borderColor,a.setLineDash(E.borderDash||[]),a.lineDashOffset=E.borderDashOffset||0;const Oe=m.leftForLtr(pe,j),_t=m.leftForLtr(m.xPlus(pe,1),j-2),ht=we(E.borderRadius);Object.values(ht).some(jt=>0!==jt)?(a.beginPath(),a.fillStyle=v.multiKeyBackground,Vs(a,{x:Oe,y:Re,w:j,h:N,radius:ht}),a.fill(),a.stroke(),a.fillStyle=E.backgroundColor,a.beginPath(),Vs(a,{x:_t,y:Re+1,w:j-2,h:N-2,radius:ht}),a.fill()):(a.fillStyle=v.multiKeyBackground,a.fillRect(Oe,Re,j,N),a.strokeRect(Oe,Re,j,N),a.fillStyle=E.backgroundColor,a.fillRect(_t,Re+1,j-2,N-2))}a.fillStyle=this.labelTextColors[f]}drawBody(a,c,f){const{body:m}=this,{bodySpacing:v,bodyAlign:E,displayColors:C,boxHeight:N,boxWidth:j,boxPadding:J}=f,ue=Xe(f.bodyFont);let pe=ue.lineHeight,Se=0;const Re=Yo(f.rtl,this.x,this.width),Oe=function(Un){c.fillText(Un,Re.x(a.x+Se),a.y+pe/2),a.y+=pe+v},_t=Re.textAlign(E);let ht,jt,Wt,Mt,qt,mn,on;for(c.textAlign=E,c.textBaseline="middle",c.font=ue.string,a.x=Pc(this,_t,f),c.fillStyle=f.bodyColor,Jt(this.beforeBody,Oe),Se=C&&"right"!==_t?"center"===E?j/2+J:j+2+J:0,Mt=0,mn=m.length;Mt<mn;++Mt){for(ht=m[Mt],jt=this.labelTextColors[Mt],c.fillStyle=jt,Jt(ht.before,Oe),Wt=ht.lines,C&&Wt.length&&(this._drawColorBox(c,a,Mt,Re,f),pe=Math.max(ue.lineHeight,N)),qt=0,on=Wt.length;qt<on;++qt)Oe(Wt[qt]),pe=ue.lineHeight;Jt(ht.after,Oe)}Se=0,pe=ue.lineHeight,Jt(this.afterBody,Oe),a.y-=v}drawFooter(a,c,f){const m=this.footer,v=m.length;let E,C;if(v){const N=Yo(f.rtl,this.x,this.width);for(a.x=Pc(this,f.footerAlign,f),a.y+=f.footerMarginTop,c.textAlign=N.textAlign(f.footerAlign),c.textBaseline="middle",E=Xe(f.footerFont),c.fillStyle=f.footerColor,c.font=E.string,C=0;C<v;++C)c.fillText(m[C],N.x(a.x),a.y+E.lineHeight/2),a.y+=E.lineHeight+f.footerSpacing}}drawBackground(a,c,f,m){const{xAlign:v,yAlign:E}=this,{x:C,y:N}=a,{width:j,height:J}=f,{topLeft:ue,topRight:pe,bottomLeft:Se,bottomRight:Re}=we(m.cornerRadius);c.fillStyle=m.backgroundColor,c.strokeStyle=m.borderColor,c.lineWidth=m.borderWidth,c.beginPath(),c.moveTo(C+ue,N),"top"===E&&this.drawCaret(a,c,f,m),c.lineTo(C+j-pe,N),c.quadraticCurveTo(C+j,N,C+j,N+pe),"center"===E&&"right"===v&&this.drawCaret(a,c,f,m),c.lineTo(C+j,N+J-Re),c.quadraticCurveTo(C+j,N+J,C+j-Re,N+J),"bottom"===E&&this.drawCaret(a,c,f,m),c.lineTo(C+Se,N+J),c.quadraticCurveTo(C,N+J,C,N+J-Se),"center"===E&&"left"===v&&this.drawCaret(a,c,f,m),c.lineTo(C,N+ue),c.quadraticCurveTo(C,N,C+ue,N),c.closePath(),c.fill(),m.borderWidth>0&&c.stroke()}_updateAnimationTarget(a){const c=this.chart,f=this.$animations,m=f&&f.x,v=f&&f.y;if(m||v){const E=mu[a.position].call(this,this._active,this._eventPosition);if(!E)return;const C=this._size=Ts(this,a),N=Object.assign({},E,this._size),j=_u(c,a,N),J=Gf(a,N,j,c);(m._to!==J.x||v._to!==J.y)&&(this.xAlign=j.xAlign,this.yAlign=j.yAlign,this.width=C.width,this.height=C.height,this.caretX=E.x,this.caretY=E.y,this._resolveAnimations().update(this,J))}}_willRender(){return!!this.opacity}draw(a){const c=this.options.setContext(this.getContext());let f=this.opacity;if(!f)return;this._updateAnimationTarget(c);const m={width:this.width,height:this.height},v={x:this.x,y:this.y};f=Math.abs(f)<.001?0:f;const E=Ne(c.padding);c.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(a.save(),a.globalAlpha=f,this.drawBackground(v,a,m,c),Ho(a,c.textDirection),v.y+=E.top,this.drawTitle(v,a,c),this.drawBody(v,a,c),this.drawFooter(v,a,c),no(a,c.textDirection),a.restore())}getActiveElements(){return this._active||[]}setActiveElements(a,c){const f=this._active,m=a.map(({datasetIndex:C,index:N})=>{const j=this.chart.getDatasetMeta(C);if(!j)throw new Error("Cannot find a dataset at index "+C);return{datasetIndex:C,element:j.data[N],index:N}}),v=!Rr(f,m),E=this._positionChanged(m,c);(v||E)&&(this._active=m,this._eventPosition=c,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(a,c,f=!0){if(c&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const m=this.options,v=this._active||[],E=this._getActiveElements(a,v,c,f),C=this._positionChanged(E,a),N=c||!Rr(E,v)||C;return N&&(this._active=E,(m.enabled||m.external)&&(this._eventPosition={x:a.x,y:a.y},this.update(!0,c))),N}_getActiveElements(a,c,f,m){const v=this.options;if("mouseout"===a.type)return[];if(!m)return c;const E=this.chart.getElementsAtEventForMode(a,v.mode,v,f);return v.reverse&&E.reverse(),E}_positionChanged(a,c){const{caretX:f,caretY:m,options:v}=this,E=mu[v.position].call(this,a,c);return!1!==E&&(f!==E.x||m!==E.y)}})();var Io={id:"tooltip",_element:Rd,positioners:mu,afterInit(l,u,a){a&&(l.tooltip=new Rd({chart:l,options:a}))},beforeUpdate(l,u,a){l.tooltip&&l.tooltip.initialize(a)},reset(l,u,a){l.tooltip&&l.tooltip.initialize(a)},afterDraw(l){const u=l.tooltip;if(u&&u._willRender()){const a={tooltip:u};if(!1===l.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0}))return;u.draw(l.ctx),l.notifyPlugins("afterTooltipDraw",a)}},afterEvent(l,u){l.tooltip&&l.tooltip.handleEvent(u.event,u.replay,u.inChartArea)&&(u.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(l,u)=>u.bodyFont.size,boxWidth:(l,u)=>u.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yu},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:l=>"filter"!==l&&"itemSort"!==l&&"external"!==l,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Oc=Object.freeze({__proto__:null,Colors:Pf,Decimation:kf,Filler:Hf,Legend:Dd,SubTitle:Ch,Title:Bu,Tooltip:Io});function R(l){const u=this.getLabels();return l>=0&&l<u.length?u[l]:l}let y=(()=>class l extends Xo{static id="category";static defaults={ticks:{callback:R}};constructor(a){super(a),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(a){const c=this._addedLabels;if(c.length){const f=this.getLabels();for(const{index:m,label:v}of c)f[m]===v&&f.splice(m,1);this._addedLabels=[]}super.init(a)}parse(a,c){if(Mn(a))return null;const f=this.getLabels();return((l,u)=>null===l?null:Zt(Math.round(l),0,u))(c=isFinite(c)&&f[c]===a?c:function Wf(l,u,a,c){const f=l.indexOf(u);return-1===f?((l,u,a,c)=>("string"==typeof u?(a=l.push(u)-1,c.unshift({index:a,label:u})):isNaN(u)&&(a=null),a))(l,u,a,c):f!==l.lastIndexOf(u)?a:f}(f,a,In(c,a),this._addedLabels),f.length-1)}determineDataLimits(){const{minDefined:a,maxDefined:c}=this.getUserBounds();let{min:f,max:m}=this.getMinMax(!0);"ticks"===this.options.bounds&&(a||(f=0),c||(m=this.getLabels().length-1)),this.min=f,this.max=m}buildTicks(){const a=this.min,c=this.max,f=this.options.offset,m=[];let v=this.getLabels();v=0===a&&c===v.length-1?v:v.slice(a,c+1),this._valueRange=Math.max(v.length-(f?0:1),1),this._startValue=this.min-(f?.5:0);for(let E=a;E<=c;E++)m.push({value:E});return m}getLabelForValue(a){return R.call(this,a)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(a){return"number"!=typeof a&&(a=this.parse(a)),null===a?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}getPixelForTick(a){const c=this.ticks;return a<0||a>c.length-1?null:this.getPixelForValue(c[a].value)}getValueForPixel(a){return Math.round(this._startValue+this.getDecimalForPixel(a)*this._valueRange)}getBasePixel(){return this.bottom}})();function M(l,u,{horizontal:a,minRotation:c}){const f=cr(c),m=(a?Math.sin(f):Math.cos(f))||.001;return Math.min(u/m,.75*u*(""+l).length)}class Q extends Xo{constructor(u){super(u),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(u,a){return Mn(u)||("number"==typeof u||u instanceof Number)&&!isFinite(+u)?null:+u}handleTickRangeOptions(){const{beginAtZero:u}=this.options,{minDefined:a,maxDefined:c}=this.getUserBounds();let{min:f,max:m}=this;const v=C=>f=a?f:C,E=C=>m=c?m:C;if(u){const C=Ue(f),N=Ue(m);C<0&&N<0?E(0):C>0&&N>0&&v(0)}if(f===m){let C=0===m?1:Math.abs(.05*m);E(m+C),u||v(f-C)}this.min=f,this.max=m}getTickLimit(){const u=this.options.ticks;let f,{maxTicksLimit:a,stepSize:c}=u;return c?(f=Math.ceil(this.max/c)-Math.floor(this.min/c)+1,f>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${c} would result generating up to ${f} ticks. Limiting to 1000.`),f=1e3)):(f=this.computeTickLimit(),a=a||11),a&&(f=Math.min(a,f)),f}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const u=this.options,a=u.ticks;let c=this.getTickLimit();c=Math.max(2,c);const v=function I(l,u){const a=[],{bounds:f,step:m,min:v,max:E,precision:C,count:N,maxTicks:j,maxDigits:J,includeBounds:ue}=l,pe=m||1,Se=j-1,{min:Re,max:Oe}=u,_t=!Mn(v),ht=!Mn(E),jt=!Mn(N),Wt=(Oe-Re)/(J+1);let qt,mn,on,Un,Mt=Lt((Oe-Re)/Se/pe)*pe;if(Mt<1e-14&&!_t&&!ht)return[{value:Re},{value:Oe}];Un=Math.ceil(Oe/Mt)-Math.floor(Re/Mt),Un>Se&&(Mt=Lt(Un*Mt/Se/pe)*pe),Mn(C)||(qt=Math.pow(10,C),Mt=Math.ceil(Mt*qt)/qt),"ticks"===f?(mn=Math.floor(Re/Mt)*Mt,on=Math.ceil(Oe/Mt)*Mt):(mn=Re,on=Oe),_t&&ht&&m&&function Wn(l,u){const a=Math.round(l);return a-u<=l&&a+u>=l}((E-v)/m,Mt/1e3)?(Un=Math.round(Math.min((E-v)/Mt,j)),Mt=(E-v)/Un,mn=v,on=E):jt?(mn=_t?v:mn,on=ht?E:on,Un=N-1,Mt=(on-mn)/Un):(Un=(on-mn)/Mt,Un=mt(Un,Math.round(Un),Mt/1e3)?Math.round(Un):Math.ceil(Un));const vr=Math.max(Ae(Mt),Ae(mn));qt=Math.pow(10,Mn(C)?vr:C),mn=Math.round(mn*qt)/qt,on=Math.round(on*qt)/qt;let Sr=0;for(_t&&(ue&&mn!==v?(a.push({value:v}),mn<v&&Sr++,mt(Math.round((mn+Sr*Mt)*qt)/qt,v,M(v,Wt,l))&&Sr++):mn<v&&Sr++);Sr<Un;++Sr){const Wr=Math.round((mn+Sr*Mt)*qt)/qt;if(ht&&Wr>E)break;a.push({value:Wr})}return ht&&ue&&on!==E?a.length&&mt(a[a.length-1].value,E,M(E,Wt,l))?a[a.length-1].value=E:a.push({value:E}):(!ht||on===E)&&a.push({value:on}),a}({maxTicks:c,bounds:u.bounds,min:u.min,max:u.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:!1!==a.includeBounds},this._range||this);return"ticks"===u.bounds&&jn(v,this,"value"),u.reverse?(v.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),v}configure(){const u=this.ticks;let a=this.min,c=this.max;if(super.configure(),this.options.offset&&u.length){const f=(c-a)/Math.max(u.length-1,1)/2;a-=f,c+=f}this._startValue=a,this._endValue=c,this._valueRange=c-a}getLabelForValue(u){return ho(u,this.chart.options.locale,this.options.ticks.format)}}const Fe=l=>Math.floor(ce(l)),st=(l,u)=>Math.pow(10,Fe(l)+u);function Et(l){return l/Math.pow(10,Fe(l))==1}function En(l,u,a){const c=Math.pow(10,a),f=Math.floor(l/c);return Math.ceil(u/c)-f}function ra(l){const u=l.ticks;if(u.display&&l.display){const a=Ne(u.backdropPadding);return In(u.font&&u.font.size,Zr.font.size)+a.height}return 0}function ju(l,u,a){return a=Pn(a)?a:[a],{w:ua(l,u.string,a),h:a.length*u.lineHeight}}function Vl(l,u,a,c,f){return l===c||l===f?{start:u-a/2,end:u+a/2}:l<c||l>f?{start:u-a,end:u}:{start:u,end:u+a}}function Hu(l,u,a,c,f){const m=Math.abs(Math.sin(a)),v=Math.abs(Math.cos(a));let E=0,C=0;c.start<u.l?(E=(u.l-c.start)/m,l.l=Math.min(l.l,u.l-E)):c.end>u.r&&(E=(c.end-u.r)/m,l.r=Math.max(l.r,u.r+E)),f.start<u.t?(C=(u.t-f.start)/v,l.t=Math.min(l.t,u.t-C)):f.end>u.b&&(C=(f.end-u.b)/v,l.b=Math.max(l.b,u.b+C))}function Md(l,u,a){const c=l.drawingArea,{extra:f,additionalAngle:m,padding:v,size:E}=a,C=l.getPointPosition(u,c+f+v,m),N=Math.round(He($e(C.angle+re))),j=function qf(l,u,a){return 90===a||270===a?l-=u/2:(a>270||a<90)&&(l-=u),l}(C.y,E.h,N),J=function zu(l){return 0===l||180===l?"center":l<180?"left":"right"}(N),ue=function Lc(l,u,a){return"right"===a?l-=u:"center"===a&&(l-=u/2),l}(C.x,E.w,J);return{visible:!0,x:C.x,y:j,textAlign:J,left:ue,top:j,right:ue+E.w,bottom:j+E.h}}function Nc(l,u){if(!u)return!0;const{left:a,top:c,right:f,bottom:m}=l;return!(qn({x:a,y:c},u)||qn({x:a,y:m},u)||qn({x:f,y:c},u)||qn({x:f,y:m},u))}function Zf(l,u,a){const{left:c,top:f,right:m,bottom:v}=a,{backdropColor:E}=u;if(!Mn(E)){const C=we(u.borderRadius),N=Ne(u.backdropPadding);l.fillStyle=E;const j=c-N.left,J=f-N.top,ue=m-c+N.width,pe=v-f+N.height;Object.values(C).some(Se=>0!==Se)?(l.beginPath(),Vs(l,{x:j,y:J,w:ue,h:pe,radius:C}),l.fill()):l.fillRect(j,J,ue,pe)}}function Sh(l,u,a,c){const{ctx:f}=l;if(a)f.arc(l.xCenter,l.yCenter,u,0,On);else{let m=l.getPointPosition(0,u);f.moveTo(m.x,m.y);for(let v=1;v<c;v++)m=l.getPointPosition(v,u),f.lineTo(m.x,m.y)}}const Pd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ia=Object.keys(Pd);function vu(l,u){return l-u}function bu(l,u){if(Mn(u))return null;const a=l._adapter,{parser:c,round:f,isoWeekday:m}=l._parseOpts;let v=u;return"function"==typeof c&&(v=c(v)),Zn(v)||(v="string"==typeof c?a.parse(v,c):a.parse(v)),null===v?null:(f&&(v="week"!==f||!Sn(m)&&!0!==m?a.startOf(v,f):a.startOf(v,"isoWeek",m)),+v)}function Kf(l,u,a,c){const f=Ia.length;for(let m=Ia.indexOf(l);m<f-1;++m){const v=Pd[Ia[m]];if(v.common&&Math.ceil((a-u)/((v.steps?v.steps:Number.MAX_SAFE_INTEGER)*v.size))<=c)return Ia[m]}return Ia[f-1]}function ml(l,u,a){if(a){if(a.length){const{lo:c,hi:f}=gr(a,u);l[a[c]>=u?a[c]:a[f]]=!0}}else l[u]=!0}function J_(l,u,a){const c=[],f={},m=u.length;let v,E;for(v=0;v<m;++v)E=u[v],f[E]=v,c.push({value:E,major:!1});return 0!==m&&a?function Mm(l,u,a,c){const f=l._adapter,m=+f.startOf(u[0].value,c),v=u[u.length-1].value;let E,C;for(E=m;E<=v;E=+f.add(E,1,c))C=a[E],C>=0&&(u[C].major=!0);return u}(l,c,f,a):c}let Uc=(()=>class l extends Xo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(a){super(a),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(a,c={}){const f=a.time||(a.time={}),m=this._adapter=new Oa__date(a.adapters.date);m.init(c),wi(f.displayFormats,m.formats()),this._parseOpts={parser:f.parser,round:f.round,isoWeekday:f.isoWeekday},super.init(a),this._normalized=c.normalized}parse(a,c){return void 0===a?null:bu(this,a)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const a=this.options,c=this._adapter,f=a.time.unit||"day";let{min:m,max:v,minDefined:E,maxDefined:C}=this.getUserBounds();function N(j){!E&&!isNaN(j.min)&&(m=Math.min(m,j.min)),!C&&!isNaN(j.max)&&(v=Math.max(v,j.max))}(!E||!C)&&(N(this._getLabelBounds()),("ticks"!==a.bounds||"labels"!==a.ticks.source)&&N(this.getMinMax(!1))),m=Zn(m)&&!isNaN(m)?m:+c.startOf(Date.now(),f),v=Zn(v)&&!isNaN(v)?v:+c.endOf(Date.now(),f)+1,this.min=Math.min(m,v-1),this.max=Math.max(m+1,v)}_getLabelBounds(){const a=this.getLabelTimestamps();let c=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;return a.length&&(c=a[0],f=a[a.length-1]),{min:c,max:f}}buildTicks(){const a=this.options,c=a.time,f=a.ticks,m="labels"===f.source?this.getLabelTimestamps():this._generate();"ticks"===a.bounds&&m.length&&(this.min=this._userMin||m[0],this.max=this._userMax||m[m.length-1]);const v=this.min,C=function As(l,u,a){let c=0,f=l.length;for(;c<f&&l[c]<u;)c++;for(;f>c&&l[f-1]>a;)f--;return c>0||f<l.length?l.slice(c,f):l}(m,v,this.max);return this._unit=c.unit||(f.autoSkip?Kf(c.minUnit,this.min,this.max,this._getLabelCapacity(v)):function Vc(l,u,a,c,f){for(let m=Ia.length-1;m>=Ia.indexOf(a);m--){const v=Ia[m];if(Pd[v].common&&l._adapter.diff(f,c,v)>=u-1)return v}return Ia[a?Ia.indexOf(a):0]}(this,C.length,c.minUnit,this.min,this.max)),this._majorUnit=f.major.enabled&&"year"!==this._unit?function lg(l){for(let u=Ia.indexOf(l)+1,a=Ia.length;u<a;++u)if(Pd[Ia[u]].common)return Ia[u]}(this._unit):void 0,this.initOffsets(m),a.reverse&&C.reverse(),J_(this,C,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(a=>+a.value))}initOffsets(a=[]){let m,v,c=0,f=0;this.options.offset&&a.length&&(m=this.getDecimalForValue(a[0]),c=1===a.length?1-m:(this.getDecimalForValue(a[1])-m)/2,v=this.getDecimalForValue(a[a.length-1]),f=1===a.length?v:(v-this.getDecimalForValue(a[a.length-2]))/2);const E=a.length<3?.5:.25;c=Zt(c,0,E),f=Zt(f,0,E),this._offsets={start:c,end:f,factor:1/(c+1+f)}}_generate(){const a=this._adapter,c=this.min,f=this.max,m=this.options,v=m.time,E=v.unit||Kf(v.minUnit,c,f,this._getLabelCapacity(c)),C=In(m.ticks.stepSize,1),N="week"===E&&v.isoWeekday,j=Sn(N)||!0===N,J={};let pe,Se,ue=c;if(j&&(ue=+a.startOf(ue,"isoWeek",N)),ue=+a.startOf(ue,j?"day":E),a.diff(f,c,E)>1e5*C)throw new Error(c+" and "+f+" are too far apart with stepSize of "+C+" "+E);const Re="data"===m.ticks.source&&this.getDataTimestamps();for(pe=ue,Se=0;pe<f;pe=+a.add(pe,C,E),Se++)ml(J,pe,Re);return(pe===f||"ticks"===m.bounds||1===Se)&&ml(J,pe,Re),Object.keys(J).sort(vu).map(Oe=>+Oe)}getLabelForValue(a){const f=this.options.time;return this._adapter.format(a,f.tooltipFormat?f.tooltipFormat:f.displayFormats.datetime)}format(a,c){return this._adapter.format(a,c||this.options.time.displayFormats[this._unit])}_tickFormatFunction(a,c,f,m){const v=this.options,E=v.ticks.callback;if(E)return nn(E,[a,c,f],this);const C=v.time.displayFormats,N=this._unit,j=this._majorUnit,ue=j&&C[j],pe=f[c];return this._adapter.format(a,m||(j&&ue&&pe&&pe.major?ue:N&&C[N]))}generateTickLabels(a){let c,f,m;for(c=0,f=a.length;c<f;++c)m=a[c],m.label=this._tickFormatFunction(m.value,c,a)}getDecimalForValue(a){return null===a?NaN:(a-this.min)/(this.max-this.min)}getPixelForValue(a){const c=this._offsets,f=this.getDecimalForValue(a);return this.getPixelForDecimal((c.start+f)*c.factor)}getValueForPixel(a){const c=this._offsets,f=this.getDecimalForPixel(a)/c.factor-c.end;return this.min+f*(this.max-this.min)}_getLabelSize(a){const c=this.options.ticks,f=this.ctx.measureText(a).width,m=cr(this.isHorizontal()?c.maxRotation:c.minRotation),v=Math.cos(m),E=Math.sin(m),C=this._resolveTickFontOptions(0).size;return{w:f*v+C*E,h:f*E+C*v}}_getLabelCapacity(a){const c=this.options.time,f=c.displayFormats,m=f[c.unit]||f.millisecond,v=this._tickFormatFunction(a,0,J_(this,[a],this._majorUnit),m),E=this._getLabelSize(v),C=Math.floor(this.isHorizontal()?this.width/E.w:this.height/E.h)-1;return C>0?C:1}getDataTimestamps(){let c,f,a=this._cache.data||[];if(a.length)return a;const m=this.getMatchingVisibleMetas();if(this._normalized&&m.length)return this._cache.data=m[0].controller.getAllParsedValues(this);for(c=0,f=m.length;c<f;++c)a=a.concat(m[c].controller.getAllParsedValues(this));return this._cache.data=this.normalize(a)}getLabelTimestamps(){const a=this._cache.labels||[];let c,f;if(a.length)return a;const m=this.getLabels();for(c=0,f=m.length;c<f;++c)a.push(bu(this,m[c]));return this._cache.labels=this._normalized?a:this.normalize(a)}normalize(a){return ui(a.sort(vu))}})();function Bc(l,u,a){let m,v,E,C,c=0,f=l.length-1;a?(u>=l[c].pos&&u<=l[f].pos&&({lo:c,hi:f}=An(l,"pos",u)),({pos:m,time:E}=l[c]),({pos:v,time:C}=l[f])):(u>=l[c].time&&u<=l[f].time&&({lo:c,hi:f}=An(l,"time",u)),({time:m,pos:E}=l[c]),({time:v,pos:C}=l[f]));const N=v-m;return N?E+(C-E)*(u-m)/N:E}var Gu=Object.freeze({__proto__:null,CategoryScale:y,LinearScale:class de extends Q{static id="linear";static defaults={ticks:{callback:xs.formatters.numeric}};determineDataLimits(){const{min:u,max:a}=this.getMinMax(!0);this.min=Zn(u)?u:0,this.max=Zn(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const u=this.isHorizontal(),a=u?this.width:this.height,c=cr(this.options.ticks.minRotation),f=(u?Math.sin(c):Math.cos(c))||.001,m=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,m.lineHeight/f))}getPixelForValue(u){return null===u?NaN:this.getPixelForDecimal((u-this._startValue)/this._valueRange)}getValueForPixel(u){return this._startValue+this.getDecimalForPixel(u)*this._valueRange}},LogarithmicScale:class Ji extends Xo{static id="logarithmic";static defaults={ticks:{callback:xs.formatters.logarithmic,major:{enabled:!0}}};constructor(u){super(u),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(u,a){const c=Q.prototype.parse.apply(this,[u,a]);if(0!==c)return Zn(c)&&c>0?c:null;this._zero=!0}determineDataLimits(){const{min:u,max:a}=this.getMinMax(!0);this.min=Zn(u)?Math.max(0,u):null,this.max=Zn(a)?Math.max(0,a):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Zn(this._userMin)&&(this.min=u===st(this.min,0)?st(this.min,-1):st(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:u,maxDefined:a}=this.getUserBounds();let c=this.min,f=this.max;const m=E=>c=u?c:E,v=E=>f=a?f:E;c===f&&(c<=0?(m(1),v(10)):(m(st(c,-1)),v(st(f,1)))),c<=0&&m(st(f,-1)),f<=0&&v(st(c,1)),this.min=c,this.max=f}buildTicks(){const u=this.options,c=function Dr(l,{min:u,max:a}){u=ln(l.min,u);const c=[],f=Fe(u);let m=function Ln(l,u){let c=Fe(u-l);for(;En(l,u,c)>10;)c++;for(;En(l,u,c)<10;)c--;return Math.min(c,Fe(l))}(u,a),v=m<0?Math.pow(10,Math.abs(m)):1;const E=Math.pow(10,m),C=f>m?Math.pow(10,f):0,N=Math.round((u-C)*v)/v,j=Math.floor((u-C)/E/10)*E*10;let J=Math.floor((N-j)/Math.pow(10,m)),ue=ln(l.min,Math.round((C+j+J*Math.pow(10,m))*v)/v);for(;ue<a;)c.push({value:ue,major:Et(ue),significand:J}),J>=10?J=J<15?15:20:J++,J>=20&&(m++,J=2,v=m>=0?1:v),ue=Math.round((C+j+J*Math.pow(10,m))*v)/v;const pe=ln(l.max,ue);return c.push({value:pe,major:Et(pe),significand:J}),c}({min:this._userMin,max:this._userMax},this);return"ticks"===u.bounds&&jn(c,this,"value"),u.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}getLabelForValue(u){return void 0===u?"0":ho(u,this.chart.options.locale,this.options.ticks.format)}configure(){const u=this.min;super.configure(),this._startValue=ce(u),this._valueRange=ce(this.max)-ce(u)}getPixelForValue(u){return(void 0===u||0===u)&&(u=this.min),null===u||isNaN(u)?NaN:this.getPixelForDecimal(u===this.min?0:(ce(u)-this._startValue)/this._valueRange)}getValueForPixel(u){const a=this.getDecimalForPixel(u);return Math.pow(10,this._startValue+a*this._valueRange)}},RadialLinearScale:class ag extends Q{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:xs.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:u=>u,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(u){super(u),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const u=this._padding=Ne(ra(this.options)/2),a=this.width=this.maxWidth-u.width,c=this.height=this.maxHeight-u.height;this.xCenter=Math.floor(this.left+a/2+u.left),this.yCenter=Math.floor(this.top+c/2+u.top),this.drawingArea=Math.floor(Math.min(a,c)/2)}determineDataLimits(){const{min:u,max:a}=this.getMinMax(!1);this.min=Zn(u)&&!isNaN(u)?u:0,this.max=Zn(a)&&!isNaN(a)?a:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ra(this.options))}generateTickLabels(u){Q.prototype.generateTickLabels.call(this,u),this._pointLabels=this.getLabels().map((a,c)=>{const f=nn(this.options.pointLabels.callback,[a,c],this);return f||0===f?f:""}).filter((a,c)=>this.chart.getDataVisibility(c))}fit(){const u=this.options;u.display&&u.pointLabels.display?function gl(l){const u={l:l.left+l._padding.left,r:l.right-l._padding.right,t:l.top+l._padding.top,b:l.bottom-l._padding.bottom},a=Object.assign({},u),c=[],f=[],m=l._pointLabels.length,v=l.options.pointLabels,E=v.centerPointLabels?Ut/m:0;for(let C=0;C<m;C++){const N=v.setContext(l.getPointLabelContext(C));f[C]=N.padding;const j=l.getPointPosition(C,l.drawingArea+f[C],E),J=Xe(N.font),ue=ju(l.ctx,J,l._pointLabels[C]);c[C]=ue;const pe=$e(l.getIndexAngle(C)+E),Se=Math.round(He(pe));Hu(a,u,pe,Vl(Se,j.x,ue.w,0,180),Vl(Se,j.y,ue.h,90,270))}l.setCenterPoint(u.l-a.l,a.r-u.r,u.t-a.t,a.b-u.b),l._pointLabelItems=function kc(l,u,a){const c=[],f=l._pointLabels.length,m=l.options,{centerPointLabels:v,display:E}=m.pointLabels,C={extra:ra(m)/2,additionalAngle:v?Ut/f:0};let N;for(let j=0;j<f;j++){C.padding=a[j],C.size=u[j];const J=Md(l,j,C);c.push(J),"auto"===E&&(J.visible=Nc(J,N),J.visible&&(N=J))}return c}(l,c,f)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(u,a,c,f){this.xCenter+=Math.floor((u-a)/2),this.yCenter+=Math.floor((c-f)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(u,a,c,f))}getIndexAngle(u){return $e(u*(On/(this._pointLabels.length||1))+cr(this.options.startAngle||0))}getDistanceFromCenterForValue(u){if(Mn(u))return NaN;const a=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-u)*a:(u-this.min)*a}getValueForDistanceFromCenter(u){if(Mn(u))return NaN;const a=u/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-a:this.min+a}getPointLabelContext(u){const a=this._pointLabels||[];if(u>=0&&u<a.length){const c=a[u];return function xh(l,u,a){return It(l,{label:a,index:u,type:"pointLabel"})}(this.getContext(),u,c)}}getPointPosition(u,a,c=0){const f=this.getIndexAngle(u)-re+c;return{x:Math.cos(f)*a+this.xCenter,y:Math.sin(f)*a+this.yCenter,angle:f}}getPointPositionForValue(u,a){return this.getPointPosition(u,this.getDistanceFromCenterForValue(a))}getBasePosition(u){return this.getPointPositionForValue(u||0,this.getBaseValue())}getPointLabelPosition(u){const{left:a,top:c,right:f,bottom:m}=this._pointLabelItems[u];return{left:a,top:c,right:f,bottom:m}}drawBackground(){const{backgroundColor:u,grid:{circular:a}}=this.options;if(u){const c=this.ctx;c.save(),c.beginPath(),Sh(this,this.getDistanceFromCenterForValue(this._endValue),a,this._pointLabels.length),c.closePath(),c.fillStyle=u,c.fill(),c.restore()}}drawGrid(){const u=this.ctx,a=this.options,{angleLines:c,grid:f,border:m}=a,v=this._pointLabels.length;let E,C,N;if(a.pointLabels.display&&function Fc(l,u){const{ctx:a,options:{pointLabels:c}}=l;for(let f=u-1;f>=0;f--){const m=l._pointLabelItems[f];if(!m.visible)continue;const v=c.setContext(l.getPointLabelContext(f));Zf(a,v,m);const E=Xe(v.font),{x:C,y:N,textAlign:j}=m;So(a,l._pointLabels[f],C,N+E.lineHeight/2,E,{color:v.color,textAlign:j,textBaseline:"middle"})}}(this,v),f.display&&this.ticks.forEach((j,J)=>{if(0!==J){C=this.getDistanceFromCenterForValue(j.value);const ue=this.getContext(J),pe=f.setContext(ue),Se=m.setContext(ue);!function Rm(l,u,a,c,f){const m=l.ctx,v=u.circular,{color:E,lineWidth:C}=u;!v&&!c||!E||!C||a<0||(m.save(),m.strokeStyle=E,m.lineWidth=C,m.setLineDash(f.dash),m.lineDashOffset=f.dashOffset,m.beginPath(),Sh(l,a,v,c),m.closePath(),m.stroke(),m.restore())}(this,pe,C,v,Se)}}),c.display){for(u.save(),E=v-1;E>=0;E--){const j=c.setContext(this.getPointLabelContext(E)),{color:J,lineWidth:ue}=j;!ue||!J||(u.lineWidth=ue,u.strokeStyle=J,u.setLineDash(j.borderDash),u.lineDashOffset=j.borderDashOffset,C=this.getDistanceFromCenterForValue(a.ticks.reverse?this.min:this.max),N=this.getPointPosition(E,C),u.beginPath(),u.moveTo(this.xCenter,this.yCenter),u.lineTo(N.x,N.y),u.stroke())}u.restore()}}drawBorder(){}drawLabels(){const u=this.ctx,a=this.options,c=a.ticks;if(!c.display)return;const f=this.getIndexAngle(0);let m,v;u.save(),u.translate(this.xCenter,this.yCenter),u.rotate(f),u.textAlign="center",u.textBaseline="middle",this.ticks.forEach((E,C)=>{if(0===C&&!a.reverse)return;const N=c.setContext(this.getContext(C)),j=Xe(N.font);if(m=this.getDistanceFromCenterForValue(this.ticks[C].value),N.showLabelBackdrop){u.font=j.string,v=u.measureText(E.label).width,u.fillStyle=N.backdropColor;const J=Ne(N.backdropPadding);u.fillRect(-v/2-J.left,-m-j.size/2-J.top,v+J.width,j.size+J.height)}So(u,E.label,0,-m,j,{color:N.color,strokeColor:N.textStrokeColor,strokeWidth:N.textStrokeWidth})}),u.restore()}drawTitle(){}},TimeScale:Uc,TimeSeriesScale:class $u extends Uc{static id="timeseries";static defaults=Uc.defaults;constructor(u){super(u),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const u=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(u);this._minPos=Bc(a,this.min),this._tableRange=Bc(a,this.max)-this._minPos,super.initOffsets(u)}buildLookupTable(u){const{min:a,max:c}=this,f=[],m=[];let v,E,C,N,j;for(v=0,E=u.length;v<E;++v)N=u[v],N>=a&&N<=c&&f.push(N);if(f.length<2)return[{time:a,pos:0},{time:c,pos:1}];for(v=0,E=f.length;v<E;++v)j=f[v+1],C=f[v-1],N=f[v],Math.round((j+C)/2)!==N&&m.push({time:N,pos:v/(E-1)});return m}_generate(){const u=this.min,a=this.max;let c=super.getDataTimestamps();return(!c.includes(u)||!c.length)&&c.splice(0,0,u),(!c.includes(a)||1===c.length)&&c.push(a),c.sort((f,m)=>f-m)}_getTimestampsForTable(){let u=this._cache.all||[];if(u.length)return u;const a=this.getDataTimestamps(),c=this.getLabelTimestamps();return u=a.length&&c.length?this.normalize(a.concat(c)):a.length?a:c,u=this._cache.all=u,u}getDecimalForValue(u){return(Bc(this._table,u)-this._minPos)/this._tableRange}getValueForPixel(u){const a=this._offsets,c=this.getDecimalForPixel(u)/a.factor-a.end;return Bc(this._table,c*this._tableRange+this._minPos,!0)}}});const Wu=[fh,Mf,Oc,Gu],Ul=function Od(l,u){return l===u||l!=l&&u!=u},Hc=function cg(l,u){for(var a=l.length;a--;)if(Ul(l[a][0],u))return a;return-1};var dg=Array.prototype.splice;function zc(l){var u=-1,a=null==l?0:l.length;for(this.clear();++u<a;){var c=l[u];this.set(c[0],c[1])}}zc.prototype.clear=function jc(){this.__data__=[],this.size=0},zc.prototype.delete=function Qf(l){var u=this.__data__,a=Hc(u,l);return!(a<0||(a==u.length-1?u.pop():dg.call(u,a,1),--this.size,0))},zc.prototype.get=function Rh(l){var u=this.__data__,a=Hc(u,l);return a<0?void 0:u[a][1]},zc.prototype.has=function X_(l){return Hc(this.__data__,l)>-1},zc.prototype.set=function ey(l,u){var a=this.__data__,c=Hc(a,l);return c<0?(++this.size,a.push([l,u])):a[c][1]=u,this};const _l=zc,Gc="object"==typeof global&&global&&global.Object===Object&&global;var Ph="object"==typeof self&&self&&self.Object===Object&&self;const Bl=Gc||Ph||Function("return this")();var Lm=Bl.Symbol,Oh=Object.prototype,ry=Oh.hasOwnProperty,Fm=Oh.toString,jl=Lm?Lm.toStringTag:void 0;var Vm=Object.prototype.toString;var Um=Lm?Lm.toStringTag:void 0;const Tu=function Iu(l){return null==l?void 0===l?"[object Undefined]":"[object Null]":Um&&Um in Object(l)?function Nh(l){var u=ry.call(l,jl),a=l[jl];try{l[jl]=void 0;var c=!0}catch{}var f=Fm.call(l);return c&&(u?l[jl]=a:delete l[jl]),f}(l):function ia(l){return Vm.call(l)}(l)},Ba=function Bm(l){var u=typeof l;return null!=l&&("object"==u||"function"==u)},Jf=function mg(l){if(!Ba(l))return!1;var u=Tu(l);return"[object Function]"==u||"[object GeneratorFunction]"==u||"[object AsyncFunction]"==u||"[object Proxy]"==u};var l,_g=Bl["__core-js_shared__"],Hm=(l=/[^.]+$/.exec(_g&&_g.keys&&_g.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"";var ov=Function.prototype.toString;var qc=/^\[object .+?Constructor\]$/,Wm=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ay=function bg(l){return!(!Ba(l)||function sv(l){return!!Hm&&Hm in l}(l))&&(Jf(l)?Wm:qc).test(function oy(l){if(null!=l){try{return ov.call(l)}catch{}try{return l+""}catch{}}return""}(l))},ep=function ly(l,u){var a=function Yu(l,u){return l?.[u]}(l,u);return ay(a)?a:void 0},Zm=ep(Bl,"Map"),Lh=ep(Object,"create");var Ld=Object.prototype.hasOwnProperty;var cy=Object.prototype.hasOwnProperty;function Fd(l){var u=-1,a=null==l?0:l.length;for(this.clear();++u<a;){var c=l[u];this.set(c[0],c[1])}}Fd.prototype.clear=function tp(){this.__data__=Lh?Lh(null):{},this.size=0},Fd.prototype.delete=function av(l){var u=this.has(l)&&delete this.__data__[l];return this.size-=u?1:0,u},Fd.prototype.get=function Vh(l){var u=this.__data__;if(Lh){var a=u[l];return"__lodash_hash_undefined__"===a?void 0:a}return Ld.call(u,l)?u[l]:void 0},Fd.prototype.has=function Ig(l){var u=this.__data__;return Lh?void 0!==u[l]:cy.call(u,l)},Fd.prototype.set=function dy(l,u){var a=this.__data__;return this.size+=this.has(l)?0:1,a[l]=Lh&&void 0===u?"__lodash_hash_undefined__":u,this};const zh=Fd,wu=function Qu(l,u){var a=l.__data__;return function Yc(l){var u=typeof l;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==l:null===l}(u)?a["string"==typeof u?"string":"hash"]:a.map};function Ju(l){var u=-1,a=null==l?0:l.length;for(this.clear();++u<a;){var c=l[u];this.set(c[0],c[1])}}Ju.prototype.clear=function Ym(){this.size=0,this.__data__={hash:new zh,map:new(Zm||_l),string:new zh}},Ju.prototype.delete=function np(l){var u=wu(this,l).delete(l);return this.size-=u?1:0,u},Ju.prototype.get=function $h(l){return wu(this,l).get(l)},Ju.prototype.has=function Ud(l){return wu(this,l).has(l)},Ju.prototype.set=function hy(l,u){var a=wu(this,l),c=a.size;return a.set(l,u),this.size+=a.size==c?0:1,this};const Qc=Ju;function vl(l){var u=this.__data__=new _l(l);this.size=u.size}vl.prototype.clear=function Eu(){this.__data__=new _l,this.size=0},vl.prototype.delete=function Nm(l){var u=this.__data__,a=u.delete(l);return this.size=u.size,a},vl.prototype.get=function ty(l){return this.__data__.get(l)},vl.prototype.has=function Mh(l){return this.__data__.has(l)},vl.prototype.set=function ip(l,u){var a=this.__data__;if(a instanceof _l){var c=a.__data__;if(!Zm||c.length<199)return c.push([l,u]),this.size=++a.size,this;a=this.__data__=new Qc(c)}return a.set(l,u),this.size=a.size,this};const sp=vl;var Ag=function(){try{var l=ep(Object,"defineProperty");return l({},"",{}),l}catch{}}();const Jc=Ag,Qm=function op(l,u,a){"__proto__"==u&&Jc?Jc(l,u,{configurable:!0,enumerable:!0,value:a,writable:!0}):l[u]=a},Bd=function fy(l,u,a){(void 0!==a&&!Ul(l[u],a)||void 0===a&&!(u in l))&&Qm(l,u,a)};var lv=function Dg(l){return function(u,a,c){for(var f=-1,m=Object(u),v=c(u),E=v.length;E--;){var C=v[l?E:++f];if(!1===a(m[C],C,m))break}return u}}();const co=lv;var Jm="object"==typeof exports&&exports&&!exports.nodeType&&exports,qh=Jm&&"object"==typeof module&&module&&!module.nodeType&&module,bl=qh&&qh.exports===Jm?Bl.Buffer:void 0,Hd=bl?bl.allocUnsafe:void 0;const Xc=Bl.Uint8Array,uv=function up(l,u){var a=u?function Sg(l){var u=new l.constructor(l.byteLength);return new Xc(u).set(new Xc(l)),u}(l.buffer):l.buffer;return new l.constructor(a,l.byteOffset,l.length)};var nd=Object.create,cp=function(){function l(){}return function(u){if(!Ba(u))return{};if(nd)return nd(u);l.prototype=u;var a=new l;return l.prototype=void 0,a}}();const dp=cp;var xg=function Yh(l,u){return function(a){return l(u(a))}}(Object.getPrototypeOf,Object);const fp=xg;var Rg=Object.prototype;const Mg=function rd(l){var u=l&&l.constructor;return l===("function"==typeof u&&u.prototype||Rg)},Xu=function py(l){return null!=l&&"object"==typeof l},Jh=function zd(l){return Xu(l)&&"[object Arguments]"==Tu(l)};var Xh=Object.prototype,Xm=Xh.hasOwnProperty,id=Xh.propertyIsEnumerable,e_=Jh(function(){return arguments}())?Jh:function(l){return Xu(l)&&Xm.call(l,"callee")&&!id.call(l,"callee")};const Og=e_,mp=Array.isArray,_p=function ef(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=9007199254740991},tf=function t_(l){return null!=l&&_p(l.length)&&!Jf(l)};var nf="object"==typeof exports&&exports&&!exports.nodeType&&exports,kg=nf&&"object"==typeof module&&module&&!module.nodeType&&module,sf=kg&&kg.exports===nf?Bl.Buffer:void 0;const af=(sf?sf.isBuffer:void 0)||function n_(){return!1};var ad=Function.prototype.toString,cv=Object.prototype.hasOwnProperty,i_=ad.call(Object);var $i={};$i["[object Float32Array]"]=$i["[object Float64Array]"]=$i["[object Int8Array]"]=$i["[object Int16Array]"]=$i["[object Int32Array]"]=$i["[object Uint8Array]"]=$i["[object Uint8ClampedArray]"]=$i["[object Uint16Array]"]=$i["[object Uint32Array]"]=!0,$i["[object Arguments]"]=$i["[object Array]"]=$i["[object ArrayBuffer]"]=$i["[object Boolean]"]=$i["[object DataView]"]=$i["[object Date]"]=$i["[object Error]"]=$i["[object Function]"]=$i["[object Map]"]=$i["[object Number]"]=$i["[object Object]"]=$i["[object RegExp]"]=$i["[object Set]"]=$i["[object String]"]=$i["[object WeakMap]"]=!1;var zl="object"==typeof exports&&exports&&!exports.nodeType&&exports,el=zl&&"object"==typeof module&&module&&!module.nodeType&&module,cf=el&&el.exports===zl&&Gc.process,h_=function(){try{return el&&el.require&&el.require("util").types||cf&&cf.binding&&cf.binding("util")}catch{}}(),Wd=h_&&h_.isTypedArray;const $l=Wd?function d_(l){return function(u){return l(u)}}(Wd):function zg(l){return Xu(l)&&_p(l.length)&&!!$i[Tu(l)]},qd=function $g(l,u){if(("constructor"!==u||"function"!=typeof l[u])&&"__proto__"!=u)return l[u]};var Gg=Object.prototype.hasOwnProperty;const Wg=function Cu(l,u,a){var c=l[u];(!Gg.call(l,u)||!Ul(c,a)||void 0===a&&!(u in l))&&Qm(l,u,a)};var m_=/^(?:0|[1-9]\d*)$/;const Iy=function Tp(l,u){var a=typeof l;return!!(u=u??9007199254740991)&&("number"==a||"symbol"!=a&&m_.test(l))&&l>-1&&l%1==0&&l<u};var __=Object.prototype.hasOwnProperty;const y_=function wp(l,u){var a=mp(l),c=!a&&Og(l),f=!a&&!c&&af(l),m=!a&&!c&&!f&&$l(l),v=a||c||f||m,E=v?function Ey(l,u){for(var a=-1,c=Array(l);++a<l;)c[a]=u(a);return c}(l.length,String):[],C=E.length;for(var N in l)(u||__.call(l,N))&&(!v||!("length"==N||f&&("offset"==N||"parent"==N)||m&&("buffer"==N||"byteLength"==N||"byteOffset"==N)||Iy(N,C)))&&E.push(N);return E};var v_=Object.prototype.hasOwnProperty;const Kd=function Ap(l){if(!Ba(l))return function Cp(l){var u=[];if(null!=l)for(var a in Object(l))u.push(a);return u}(l);var u=Mg(l),a=[];for(var c in l)"constructor"==c&&(u||!v_.call(l,c))||a.push(c);return a},Sp=function Dp(l){return tf(l)?y_(l,!0):Kd(l)},Qd=function Yd(l){return function f_(l,u,a,c){var f=!a;a||(a={});for(var m=-1,v=u.length;++m<v;){var E=u[m],C=c?c(a[E],l[E],E,a,l):void 0;void 0===C&&(C=l[E]),f?Qm(a,E,C):Wg(a,E,C)}return a}(l,Sp(l))},hf=function Jd(l,u,a,c,f,m,v){var E=qd(l,a),C=qd(u,a),N=v.get(C);if(N)Bd(l,a,N);else{var j=m?m(E,C,a+"",l,u,v):void 0,J=void 0===j;if(J){var ue=mp(C),pe=!ue&&af(C),Se=!ue&&!pe&&$l(C);j=C,ue||pe||Se?mp(E)?j=E:function gy(l){return Xu(l)&&tf(l)}(E)?j=function ed(l,u){var a=-1,c=l.length;for(u||(u=Array(c));++a<c;)u[a]=l[a];return u}(E):pe?(J=!1,j=function ap(l,u){if(u)return l.slice();var a=l.length,c=Hd?Hd(a):new l.constructor(a);return l.copy(c),c}(C,!0)):Se?(J=!1,j=uv(C,!0)):j=[]:function vp(l){if(!Xu(l)||"[object Object]"!=Tu(l))return!1;var u=fp(l);if(null===u)return!0;var a=cv.call(u,"constructor")&&u.constructor;return"function"==typeof a&&a instanceof a&&ad.call(a)==i_}(C)||Og(C)?(j=E,Og(E)?j=Qd(E):(!Ba(E)||Jf(E))&&(j=function pp(l){return"function"!=typeof l.constructor||Mg(l)?{}:dp(fp(l))}(C))):J=!1}J&&(v.set(C,j),f(j,C,c,m,v),v.delete(C)),Bd(l,a,j)}},Rp=function xp(l,u,a,c,f){l!==u&&co(u,function(m,v){if(f||(f=new sp),Ba(m))hf(l,u,v,a,xp,c,f);else{var E=c?c(qd(l,v),m,v+"",l,u,f):void 0;void 0===E&&(E=m),Bd(l,v,E)}},Sp)},ff=function rc(l){return l};var b_=Math.max;const Kg=function gf(l){return function(){return l}};var Yg=Jc?function(l,u){return Jc(l,"toString",{configurable:!0,enumerable:!1,value:Kg(u),writable:!0})}:ff,Pp=Date.now,Ta=function Op(l){var u=0,a=0;return function(){var c=Pp(),f=16-(c-a);if(a=c,f>0){if(++u>=800)return arguments[0]}else u=0;return l.apply(void 0,arguments)}}(Yg);const Xd=Ta,w_=function T_(l,u){return Xd(function Ty(l,u,a){return u=b_(void 0===u?l.length-1:u,0),function(){for(var c=arguments,f=-1,m=b_(c.length-u,0),v=Array(m);++f<m;)v[f]=c[u+f];f=-1;for(var E=Array(u+1);++f<u;)E[f]=c[f];return E[u]=a(v),function pf(l,u,a){switch(a.length){case 0:return l.call(u);case 1:return l.call(u,a[0]);case 2:return l.call(u,a[0],a[1]);case 3:return l.call(u,a[0],a[1],a[2])}return l.apply(u,a)}(l,this,E)}}(l,u,ff),l+"")};var Cy=function Jg(l){return w_(function(u,a){var c=-1,f=a.length,m=f>1?a[f-1]:void 0,v=f>2?a[2]:void 0;for(m=l.length>3&&"function"==typeof m?(f--,m):void 0,v&&function Np(l,u,a){if(!Ba(a))return!1;var c=typeof u;return!!("number"==c?tf(a)&&Iy(u,a.length):"string"==c&&u in a)&&Ul(a[u],l)}(a[0],a[1],v)&&(m=f<3?void 0:m,f=1),u=Object(u);++c<f;){var E=a[c];E&&l(u,E,c,m)}return u})}(function(l,u,a){Rp(l,u,a)});const C_=Cy,kp=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],Dy={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:l=>ic(sc(l.datasetIndex),.4),borderColor:l=>ic(sc(l.datasetIndex),1),pointBackgroundColor:l=>ic(sc(l.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:l=>ic(sc(l.datasetIndex),.6),borderColor:l=>ic(sc(l.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:l=>ic(sc(l.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:l=>ic(sc(l.dataIndex),.6),borderColor:l=>ic(sc(l.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function ic(l,u){return"rgba("+l.concat(u).join(",")+")"}function Xg(l,u){return Math.floor(Math.random()*(u-l+1))+l}function sc(l=0){return kp[l]||function Sy(){return[Xg(0,255),Xg(0,255),Xg(0,255)]}()}let Il=(()=>{class l{constructor(){this.generateColors=!0}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275prov=T.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();zi.register(...Wu);let Lp=(()=>{class l{constructor(a){a?.plugins&&zi.register(...a.plugins);const c=C_(a?.generateColors?Dy:{},a?.defaults||{});Zr.set(c)}static forRoot(a){return{ngModule:l,providers:[{provide:Il,useValue:a}]}}static#e=this.\u0275fac=function(c){return new(c||l)(T.LFG(Il,8))};static#t=this.\u0275mod=T.oAB({type:l});static#n=this.\u0275inj=T.cJS({})}return l})();const em_firebase={apiKey:"AIzaSyBbCizM3I4KZ22G7fZMsPLc_hVSt7m1_nE",authDomain:"coala-df864.firebaseapp.com",databaseURL:"https://coala-df864-default-rtdb.europe-west1.firebasedatabase.app",projectId:"coala-df864",storageBucket:"coala-df864.appspot.com",messagingSenderId:"912952563459",appId:"1:912952563459:web:774607334db6568efc3b36"};var cd=X(721),Fp=X(5349),eh=X(9404),tm=X(5816),Xi=X(8589);const Br=function(){return["/afdelingLijst",2]},xy=function(){return["/afdelingLijst",1]},nm=function(){return["/afdelingLijst",4]},th=function(){return["/afdelingLijst",3]},A_=function(){return["/afdelingLijst",6]},Co=function(){return["/afdelingLijst",5]},ps=function(){return["/afdelingLijst",8]},Ao=function(){return["/afdelingLijst",7]},Ry=function(){return["/afdelingLijst",9]},gv=function(){return["/afdelingLijst",10]},Vp=function(){return["/afdelingLijst",12]},mv=function(){return["/afdelingLijst",11]};let rm=(()=>{class l{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=T.Xpm({type:l,selectors:[["app-dashboard"]],decls:63,vars:24,consts:[[1,"container","mx-auto","p-8"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],[1,"bg-white","p-4","rounded-lg","shadow-md"],[1,"text-xl","font-semibold","mb-2","hover:text-blue-700","ease-in-out","duration-300"],["href","#"],[1,"text-xl"],[1,"w-fit","mx-auto","mt-5"],[1,"border-2","border-blue-700","bg-blue-300","px-4","py-1","my-2","rounded-lg","hover:bg-blue-400","ease-in-out","duration-500"],[1,"w-fit","mx-auto"],[1,"text-xl","font-semibold","mb-2"],[1,"grid","grid-cols-2","gap-1","text-sm","text-center"],[1,"cursor-pointer","border-2","border-purple-700","bg-purple-400","rounded-sm","py-1","px-4",3,"routerLink"],[1,"fa-solid","fa-venus","fa-sm"],[1,"fa-solid","fa-mars","fa-sm"],[1,"cursor-pointer","border-2","border-yellow-700","bg-yellow-400","rounded-sm","py-1","px-4",3,"routerLink"],[1,"cursor-pointer","border-2","border-green-700","bg-green-400","rounded-sm","py-1","px-4",3,"routerLink"],[1,"cursor-pointer","border-2","border-red-700","bg-red-400","rounded-sm","py-1","px-4",3,"routerLink"],[1,"cursor-pointer","border-2","border-blue-700","bg-blue-400","rounded-sm","py-1","px-4",3,"routerLink"],[1,"cursor-pointer","border-2","border-orange-700","bg-orange-400","rounded-sm","py-1","px-4",3,"routerLink"],[1,"bg-white","p-4","rounded-lg","shadow-md","text-center"],[1,"text-7xl","font-bold","mt-16"]],template:function(c,f){1&c&&(T.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3)(4,"a",4),T._uU(5," Jou Afdeling "),T.qZA()(),T.TgZ(6,"h3",5),T._uU(7,"Kerels"),T.qZA(),T.TgZ(8,"h2"),T._uU(9,"- Leden: 13"),T.qZA(),T.TgZ(10,"h2"),T._uU(11,"- Leiding: 3"),T.qZA(),T.TgZ(12,"div",6)(13,"button",7),T._uU(14,"Download Mailijst"),T.qZA()(),T.TgZ(15,"div",8)(16,"button",7),T._uU(17,"Afdeling Info"),T.qZA()()(),T.TgZ(18,"div",2)(19,"h2",9),T._uU(20,"Afdeling"),T.qZA(),T.TgZ(21,"div",10)(22,"div",11),T._uU(23,"Ribbel "),T._UZ(24,"i",12),T.qZA(),T.TgZ(25,"div",11),T._uU(26,"Ribbel "),T._UZ(27,"i",13),T.qZA(),T.TgZ(28,"div",14),T._uU(29,"Speelclub "),T._UZ(30,"i",12),T.qZA(),T.TgZ(31,"div",14),T._uU(32,"Speelclub "),T._UZ(33,"i",13),T.qZA(),T.TgZ(34,"div",15),T._uU(35,"Kwiks "),T._UZ(36,"i",12),T.qZA(),T.TgZ(37,"div",15),T._uU(38,"Rakkers "),T._UZ(39,"i",13),T.qZA(),T.TgZ(40,"div",16),T._uU(41,"Tippers "),T._UZ(42,"i",12),T.qZA(),T.TgZ(43,"div",16),T._uU(44,"Toppers "),T._UZ(45,"i",13),T.qZA(),T.TgZ(46,"div",17),T._uU(47,"Tip 10's "),T._UZ(48,"i",12),T.qZA(),T.TgZ(49,"div",17),T._uU(50,"Kerels "),T._UZ(51,"i",13),T.qZA(),T.TgZ(52,"div",18),T._uU(53,"Aspi "),T._UZ(54,"i",13),T.qZA(),T.TgZ(55,"div",18),T._uU(56,"Aspi "),T._UZ(57,"i",13),T.qZA()()(),T.TgZ(58,"div",19)(59,"h2",9),T._uU(60,"Totaal Ingeschreven Leden"),T.qZA(),T.TgZ(61,"h3",20),T._uU(62," NaN "),T.qZA()()()()),2&c&&(T.xp6(22),T.Q6J("routerLink",T.DdM(12,Br)),T.xp6(3),T.Q6J("routerLink",T.DdM(13,xy)),T.xp6(3),T.Q6J("routerLink",T.DdM(14,nm)),T.xp6(3),T.Q6J("routerLink",T.DdM(15,th)),T.xp6(3),T.Q6J("routerLink",T.DdM(16,A_)),T.xp6(3),T.Q6J("routerLink",T.DdM(17,Co)),T.xp6(3),T.Q6J("routerLink",T.DdM(18,ps)),T.xp6(3),T.Q6J("routerLink",T.DdM(19,Ao)),T.xp6(3),T.Q6J("routerLink",T.DdM(20,Ry)),T.xp6(3),T.Q6J("routerLink",T.DdM(21,gv)),T.xp6(3),T.Q6J("routerLink",T.DdM(22,Vp)),T.xp6(3),T.Q6J("routerLink",T.DdM(23,mv)))},dependencies:[Xi.rH]})}return l})();var im=X(5303);const nh=function(){return["/addLid"]},mf=function(){return["/afdelingLijst",1]},My=function(){return["/afdelingLijst",2]},Ti=function(){return["/afdelingLijst",3]},cb=function(){return["/afdelingLijst",4]},Py=function(){return["/afdelingLijst",5]},ws=function(){return["/afdelingLijst",6]},sm=function(){return["/afdelingLijst",7]},_v=function(){return["/afdelingLijst",8]},yv=function(){return["/afdelingLijst",9]},om=function(){return["/afdelingLijst",10]},Oy=function(){return["/afdelingLijst",11]},Up=function(){return["/afdelingLijst",12]};let vv=(()=>{class l{constructor(a){this.dataService=a,this.users=[]}ngOnInit(){}static#e=this.\u0275fac=function(c){return new(c||l)(T.Y36(im.D))};static#t=this.\u0275cmp=T.Xpm({type:l,selectors:[["app-afdelingen"]],decls:43,vars:26,consts:[[1,"bg-white","p-6","rounded-lg","shadow-md"],[1,"text-5xl","font-semibold","text-center"],[1,"mb-4","mx-auto","w-fit","mt-4"],["routerLinkActive","router-link-active",1,"border-2","bg-red-300","border-red-700","px-8","py-2","text-lg","rounded-md","hover:bg-red-400","ease-in-out","font-semibold",3,"routerLink"],[1,"grid","grid-cols-2","gap-4","text-lg","text-center"],[1,"border-2","border-purple-700","bg-purple-400","rounded-lg","py-2","px-6","cursor-pointer","ease-in-out","duration-300","hover:bg-purple-500","hover:font-semibold",3,"routerLink"],[1,"fa-solid","fa-venus","fa-lg"],[1,"fa-solid","fa-mars","fa-lg"],[1,"border-2","border-yellow-700","bg-yellow-400","rounded-lg","py-2","px-6","cursor-pointer","ease-in-out","duration-300","hover:bg-yellow-500","hover:font-semibold",3,"routerLink"],[1,"border-2","border-green-700","bg-green-400","rounded-lg","py-2","px-6","cursor-pointer","ease-in-out","duration-300","hover:bg-green-500","hover:font-semibold",3,"routerLink"],[1,"border-2","border-red-700","bg-red-400","rounded-lg","py-2","px-6","cursor-pointer","ease-in-out","duration-300","hover:bg-red-500","hover:font-semibold",3,"routerLink"],[1,"border-2","border-blue-700","bg-blue-400","rounded-lg","py-2","px-6","cursor-pointer","ease-in-out","duration-300","hover:bg-blue-500","hover:font-semibold",3,"routerLink"],[1,"border-2","border-orange-700","bg-orange-400","rounded-lg","py-2","px-6","cursor-pointer","ease-in-out","duration-300","hover:bg-orange-500","hover:font-semibold",3,"routerLink"]],template:function(c,f){1&c&&(T.TgZ(0,"div",0)(1,"h2",1),T._uU(2,"Afdeling"),T.qZA(),T.TgZ(3,"div",2)(4,"button",3),T._uU(5,"Voeg Nieuw Lid Toe"),T.qZA()(),T.TgZ(6,"div",4)(7,"div",5),T._uU(8," Ribbel "),T._UZ(9,"i",6),T.qZA(),T.TgZ(10,"div",5),T._uU(11," Ribbel "),T._UZ(12,"i",7),T.qZA(),T.TgZ(13,"div",8),T._uU(14," Speelclub "),T._UZ(15,"i",6),T.qZA(),T.TgZ(16,"div",8),T._uU(17," Speelclub "),T._UZ(18,"i",7),T.qZA(),T.TgZ(19,"div",9),T._uU(20," Kwiks "),T._UZ(21,"i",6),T.qZA(),T.TgZ(22,"div",9),T._uU(23," Rakkers "),T._UZ(24,"i",7),T.qZA(),T.TgZ(25,"div",10),T._uU(26," Tippers "),T._UZ(27,"i",6),T.qZA(),T.TgZ(28,"div",10),T._uU(29," Toppers "),T._UZ(30,"i",7),T.qZA(),T.TgZ(31,"div",11),T._uU(32," Tip 10's "),T._UZ(33,"i",6),T.qZA(),T.TgZ(34,"div",11),T._uU(35," Kerels "),T._UZ(36,"i",7),T.qZA(),T.TgZ(37,"div",12),T._uU(38," Aspi "),T._UZ(39,"i",6),T.qZA(),T.TgZ(40,"div",12),T._uU(41," Aspi "),T._UZ(42,"i",7),T.qZA()()()),2&c&&(T.xp6(4),T.Q6J("routerLink",T.DdM(13,nh)),T.xp6(3),T.Q6J("routerLink",T.DdM(14,mf)),T.xp6(3),T.Q6J("routerLink",T.DdM(15,My)),T.xp6(3),T.Q6J("routerLink",T.DdM(16,Ti)),T.xp6(3),T.Q6J("routerLink",T.DdM(17,cb)),T.xp6(3),T.Q6J("routerLink",T.DdM(18,Py)),T.xp6(3),T.Q6J("routerLink",T.DdM(19,ws)),T.xp6(3),T.Q6J("routerLink",T.DdM(20,sm)),T.xp6(3),T.Q6J("routerLink",T.DdM(21,_v)),T.xp6(3),T.Q6J("routerLink",T.DdM(22,yv)),T.xp6(3),T.Q6J("routerLink",T.DdM(23,om)),T.xp6(3),T.Q6J("routerLink",T.DdM(24,Oy)),T.xp6(3),T.Q6J("routerLink",T.DdM(25,Up)))},dependencies:[Xi.rH,Xi.Od]})}return l})();var Bp=X(5220),rh=X(6814),sa=X(95);let bv=(()=>{class l{constructor(a,c){this.el=a,this.renderer=c}onMouseEnter(){this.renderer.setStyle(this.el.nativeElement,"background-color","#FFA500"),this.renderer.setStyle(this.el.nativeElement,"font-size","18px")}onMouseLeave(){this.renderer.removeStyle(this.el.nativeElement,"background-color"),this.renderer.removeStyle(this.el.nativeElement,"font-size")}static#e=this.\u0275fac=function(c){return new(c||l)(T.Y36(T.SBq),T.Y36(T.Qsj))};static#t=this.\u0275dir=T.lG2({type:l,selectors:[["","appHover",""]],hostBindings:function(c,f){1&c&&T.NdJ("mouseenter",function(){return f.onMouseEnter()})("mouseleave",function(){return f.onMouseLeave()})}})}return l})(),ih=(()=>{class l{transform(a,c){return Array.isArray(a)?a.sort((f,m)=>{const v=f[c].toLowerCase(),E=m[c].toLowerCase();return v<E?-1:v>E?1:0}):a}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275pipe=T.Yjl({name:"sortByName",type:l,pure:!0})}return l})();const _f=function(l){return["/ledenDetails",l]};function Ny(l,u){if(1&l){const a=T.EpF();T.TgZ(0,"div",10)(1,"div",11)(2,"span",12),T._uU(3),T.qZA()(),T.TgZ(4,"div",11)(5,"span",12),T._uU(6),T.qZA()(),T.TgZ(7,"div",8)(8,"span",12),T._uU(9),T.qZA()(),T.TgZ(10,"div",8)(11,"span",12),T._uU(12),T.qZA()(),T.TgZ(13,"div",8)(14,"input",13),T.NdJ("ngModelChange",function(f){const v=T.CHM(a).$implicit;return T.KtG(v.betaald=f)})("change",function(){const m=T.CHM(a).$implicit,v=T.oxw();return T.KtG(v.handleCheckboxChange(m.Id,m.betaald,m))}),T.qZA()(),T._UZ(15,"div",8),T.TgZ(16,"div",8)(17,"button",14),T._uU(18," Details "),T.qZA()()()}if(2&l){const a=u.$implicit;T.xp6(3),T.hij("",a.voornaam," "),T.xp6(3),T.hij(" ",a.name," "),T.xp6(3),T.hij(" ",a.geboortedatum," "),T.xp6(3),T.Oqu(a.afdeling),T.xp6(2),T.Q6J("ngModel",a.betaald),T.xp6(3),T.Q6J("routerLink",T.VKq(6,_f,a.Id))}}let dd=(()=>{class l{constructor(a,c,f,m){this.dataService=a,this.route=c,this.router=f,this.fb=m,this.leden=[],this.ledenAll=[],this.inschrijvingIsChecked=!1}ngOnInit(){this.route.params.subscribe(a=>{this.parameterValue=a.afdelingParId}),this.onGetAfdeling(this.parameterValue)}handleCheckboxChange(a,c,f){f.betaald=c,this.fb.changeCheckBoxState(f,f.Id)}onGetAfdeling(a){const c=parseInt(a);this.fb.getAllLedenPerAfdeling(c).subscribe(f=>{this.leden=f})}static#e=this.\u0275fac=function(c){return new(c||l)(T.Y36(im.D),T.Y36(Xi.gz),T.Y36(Xi.F0),T.Y36(Bp.O))};static#t=this.\u0275cmp=T.Xpm({type:l,selectors:[["app-afdeling-lijst"]],decls:29,vars:6,consts:[[1,"text-center","font-bold","text-3xl","mt-3"],[1,"mx-auto","w-fit","mt-2"],[1,"border-2","text-black","border-blue-600","bg-blue-500","hover:bg-blue-700","px-4","py-1","rounded-md","font-semibold","text-xl",3,"routerLink"],[1,"grid","grid-cols-1","gap-2","px-2","py-4"],[1,"grid","grid-cols-7","grid-rows-1","p-2","shadow-md","text-left","bg-orange-300","rounded-lg","border-2","border-black"],[1,"text-center","w-fit","ml-6"],[1,"text-xl","font-bold"],[1,"text-cente","w-fit","px-3"],[1,"text-center"],["class","grid grid-cols-7 grid-rows-1 p-2 shadow-md  text-left bg-orange-300 rounded-lg border-2 border-black","appHover","",4,"ngFor","ngForOf"],["appHover","",1,"grid","grid-cols-7","grid-rows-1","p-2","shadow-md","text-left","bg-orange-300","rounded-lg","border-2","border-black"],[1,"text-center","w-fit","px-3","ml-6"],[1,"text-lg","font-semibold"],["type","checkbox","id","inschrijvingCheckbox",1,"w-5","h-5",3,"ngModel","ngModelChange","change"],[1,"bg-red-500","border-2","border-red-800","hover:bg-red-800","ease-in-out","duration-400","px-4","rounded-md","text-white","font-semibold",3,"routerLink"]],template:function(c,f){1&c&&(T.TgZ(0,"div",0),T._uU(1),T.qZA(),T.TgZ(2,"div",1)(3,"button",2),T._uU(4,"Terug"),T.qZA()(),T.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"span",6),T._uU(9,"Naam: "),T.qZA()(),T.TgZ(10,"div",7)(11,"span",6),T._uU(12,"Achternaam: "),T.qZA()(),T.TgZ(13,"div",8)(14,"span",6),T._uU(15,"Geboortedatum "),T.qZA()(),T.TgZ(16,"div",8)(17,"span",6),T._uU(18,"Afdeling: "),T.qZA()(),T.TgZ(19,"div",8)(20,"span",6),T._uU(21," LidGeld Betaald?"),T.qZA()(),T.TgZ(22,"div",8),T._UZ(23,"span",6),T.qZA(),T.TgZ(24,"div",8)(25,"span",6),T._uU(26," Meer Info:"),T.qZA()()(),T.YNc(27,Ny,19,8,"div",9),T.ALo(28,"sortByName"),T.qZA()),2&c&&(T.xp6(1),T.hij(" ",f.afdeling," "),T.xp6(2),T.Q6J("routerLink","/afdelingen"),T.xp6(24),T.Q6J("ngForOf",T.xi3(28,3,f.leden,"voornaam")))},dependencies:[rh.sg,Xi.rH,sa.Wl,sa.JJ,sa.On,bv,ih]})}return l})();const sh=function(l){return["/edit",l]},Ev=function(l){return["/afdelingLijst",l]};function am(l,u){if(1&l){const a=T.EpF();T.TgZ(0,"div",2)(1,"div",3)(2,"h2",4),T._uU(3,"Lid Overview"),T.qZA(),T.TgZ(4,"div",5)(5,"p")(6,"strong",6),T._uU(7,"Naam"),T.qZA(),T._uU(8),T.qZA(),T._UZ(9,"br"),T.TgZ(10,"p")(11,"strong",6),T._uU(12,"Email 1 ( OPMERKING ):"),T.qZA(),T._uU(13),T.qZA(),T._UZ(14,"br"),T.TgZ(15,"p")(16,"strong",6),T._uU(17,"Telefoon 1 ( OPMERKING ):"),T.qZA(),T._uU(18),T.qZA(),T._UZ(19,"br"),T.TgZ(20,"p")(21,"strong",6),T._uU(22,"Address 1 ( OPMERKING ):"),T.qZA(),T._uU(23),T.qZA(),T._UZ(24,"br"),T.TgZ(25,"p")(26,"strong",6),T._uU(27,"Geboortedatum"),T.qZA(),T._uU(28),T.qZA(),T._UZ(29,"br"),T.TgZ(30,"p")(31,"strong",6),T._uU(32,"Afdeling"),T.qZA(),T._uU(33),T.qZA()(),T.TgZ(34,"div",7)(35,"button",8),T._uU(36," Aanpassen "),T.qZA(),T.TgZ(37,"button",9),T._uU(38," Terug "),T.qZA(),T.TgZ(39,"button",10),T.NdJ("click",function(){T.CHM(a);const f=T.oxw();return T.KtG(f.openDisableModal())}),T._uU(40," Gestopt "),T.qZA()()()()}if(2&l){const a=u.$implicit,c=T.oxw();T.xp6(8),T.AsE(" ",a.voornaam," ",a.name," "),T.xp6(5),T.hij(" ",a.email," "),T.xp6(5),T.hij(" ",a.telefoon," "),T.xp6(5),T.hij(" ",a.Address," "),T.xp6(5),T.hij(" ",a.geboortedatum," "),T.xp6(5),T.hij(" ",a.afdeling," "),T.xp6(2),T.Q6J("routerLink",T.VKq(9,sh,a.Id)),T.xp6(2),T.Q6J("routerLink",T.VKq(11,Ev,c.tempAfdelingID))}}function lm(l,u){if(1&l){const a=T.EpF();T.TgZ(0,"div",11),T._UZ(1,"div",12),T.TgZ(2,"div",13)(3,"h2",14),T._uU(4,"Lid Uitschrijven?"),T.qZA(),T.TgZ(5,"h4",15),T._uU(6,"Ben je zeker dat dit lid wilt uitschrijven?"),T.qZA(),T.TgZ(7,"h5",16),T._uU(8,"Dit zal het lid verwijderen"),T.qZA(),T.TgZ(9,"div",17)(10,"button",18),T.NdJ("click",function(){T.CHM(a);const f=T.oxw();return T.KtG(f.schrijfLidUit())}),T._uU(11,"Ja"),T.qZA(),T.TgZ(12,"button",19),T.NdJ("click",function(){T.CHM(a);const f=T.oxw();return T.KtG(f.closeDisableModal())}),T._uU(13,"Nee"),T.qZA()()()()}}let ky=(()=>{class l{constructor(a,c,f){this.fb=a,this.route=c,this.router=f,this.leden=[],this.isModalOpen=!1}ngOnInit(){this.route.params.subscribe(c=>{this.parameterValue=c.lidId}),parseInt(this.parameterValue),this.fb.getLidPerId(this.parameterValue).subscribe(c=>{this.leden=c,this.tempAfdelingID=c[0].afdelingId})}openDisableModal(){this.isModalOpen=!0}schrijfLidUit(){this.fb.deleteLid(this.parameterValue),this.router.navigate(["/afdelingLijst/"+this.leden[0].afdelingId])}closeDisableModal(){this.isModalOpen=!1}static#e=this.\u0275fac=function(c){return new(c||l)(T.Y36(Bp.O),T.Y36(Xi.gz),T.Y36(Xi.F0))};static#t=this.\u0275cmp=T.Xpm({type:l,selectors:[["app-leden-details"]],decls:2,vars:2,consts:[["class","",4,"ngFor","ngForOf"],["class","fixed inset-0 flex items-center justify-center z-50",4,"ngIf"],[1,""],[1,"bg-orange-300","border-2","border-black","p-6","rounded-lg","shadow-md","w-2/6","m-auto","mt-10"],[1,"text-2xl","font-semibold","mb-4","text-center"],[1,"mb-4"],[1,"text-gray-800"],[1,"flex","justify-between"],[1,"bg-yellow-400","hover:bg-yellow-600","text-white","px-4","py-2","rounded","focus:outline-none","focus:shadow-outline-blue",3,"routerLink"],["routerLinkActive","router-link-active",1,"bg-blue-400","hover:bg-blue-600","text-white","px-4","py-2","rounded","focus:outline-none","focus:shadow-outline-red",3,"routerLink"],[1,"bg-red-400","hover:bg-red-600","text-white","px-4","py-2","rounded","focus:outline-none","focus:shadow-outline-red",3,"click"],[1,"fixed","inset-0","flex","items-center","justify-center","z-50"],[1,"fixed","inset-0","bg-gray-500","opacity-50"],[1,"modal-content","p-6","bg-white","rounded-lg","shadow-lg","relative"],[1,"text-2xl","font-semibold","mb-4"],[1,"text-xl"],[1,"text-sm"],[1,"flex","justify-between","mt-4"],[1,"bg-red-500","text-white","px-4","py-2","rounded-md","hover:bg-red-600",3,"click"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-blue-600",3,"click"]],template:function(c,f){1&c&&(T.YNc(0,am,41,13,"div",0),T.YNc(1,lm,14,0,"div",1)),2&c&&(T.Q6J("ngForOf",f.leden),T.xp6(1),T.Q6J("ngIf",f.isModalOpen))},dependencies:[rh.sg,rh.O5,Xi.rH,Xi.Od]})}return l})(),D_=(()=>{class l{constructor(a,c,f,m){this.dataService=a,this.route=c,this.router=f,this.firebaseservice=m,this.voornaam="",this.name="",this.department="",this.afdelingId=0,this.email="",this.phone="",this.street="",this.houseNumber="",this.postcode="",this.city="",this.geboortedatum="",this.validForm=!1}ngOnInit(){}submitNieuwLidForm(a){a.voornaam.trim()?a.name.trim()?a.email.trim()?a.street.trim()?a.houseNumber.trim()?a.postcode.trim()?a.city.trim()?a.geboortedatum.trim()?(this.afdelingId=this.firebaseservice.getAfdelingId(this.department),this.firebaseservice.addLid({voornaam:this.voornaam,name:this.name,afdeling:this.department,afdelingId:this.afdelingId,email:this.email,telefoon:this.phone,Address:this.street+" "+this.houseNumber+" "+this.postcode+" "+this.city,betaald:!1,geboortedatum:this.geboortedatum}).then(()=>{this.clearFormInput(),this.bgColor="#9fff96",this.bColor="3px solid green",this.responseMessage="Nieuw Lid toegevoegd!"}).catch(f=>{this.bgColor="#fca5a5",this.bColor="3px solid red",this.responseMessage="Error Met toevoegen van Lid: "+f})):(this.validForm=!1,this.responseMessage="Vul Je geboortedatum In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul Je gemeente In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul Je postcode In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul Je huisnummer In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul Je straat In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul Je email In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul Je naam In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul Je voornaam In!",this.bgColor="#fca5a5",this.bColor="3px solid red")}clearFormInput(){this.voornaam="",this.name="",this.department="",this.email="",this.phone="",this.street="",this.houseNumber="",this.postcode="",this.city=""}static#e=this.\u0275fac=function(c){return new(c||l)(T.Y36(im.D),T.Y36(Xi.gz),T.Y36(Xi.F0),T.Y36(Bp.O))};static#t=this.\u0275cmp=T.Xpm({type:l,selectors:[["app-add-lid"]],decls:76,vars:15,consts:[[3,"ngSubmit"],["nieuwLidForm","ngForm"],[1,"max-w-2xl","mx-auto","mt-1","p-4","border","rounded-lg","shadow-lg"],[1,"bg-red-500","text-white","text-center","py-2","px-4","rounded-t-lg"],[1,"text-xl","font-bold"],[1,"bg-white","p-4","rounded-b-lg","flex","flex-wrap","justify-between"],[1,"w-full","md:w-1/2","mb-4","md:pr-2"],["for","voornaam",1,"font-semibold"],["type","text","name","voornaam","placeholder","Voornaam","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],[1,"w-full","md:w-1/2","mb-4","md:pl-2"],["for","name",1,"font-semibold"],["type","text","name","name","placeholder","Naam","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","department",1,"font-semibold"],["name","department","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],["value","Ribbel Jongens"],["value","Ribbel Meisjes"],["value","Speelclub Jongens"],["value","Speelclub Meisjes"],["value","Rakkers"],["value","Kwiks"],["value","Toppers"],["value","Tippers"],["value","Kerels"],["value","Tiptiens"],["value","Aspi Jongens"],["value","Aspi Meisjes"],["for","email",1,"font-semibold"],["type","email","name","email","placeholder","Email","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","phone",1,"font-semibold"],["type","tel","name","phone","placeholder","Telefoon",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","street",1,"font-semibold"],["type","text","name","street","placeholder","Straat","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","houseNumber",1,"font-semibold"],["type","text","name","houseNumber","placeholder","Huisnummer","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","postcode",1,"font-semibold"],["type","text","name","postcode","placeholder","Postcode","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","city",1,"font-semibold"],["type","text","name","city","placeholder","Gemeente","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","geboortedatum",1,"font-semibold"],["type","date","name","geboortedatum","placeholder","geboortedatum","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],[1,"w-full","text-center"],["type","submit",1,"bg-red-500","hover:bg-red-600","text-white","font-bold","py-2","px-4","rounded-full"],[1,"rounded-md","px-2","py-3","text-center","mt-2","font-bold","w-full","text-center","mt-2"]],template:function(c,f){if(1&c){const m=T.EpF();T.TgZ(0,"form",0,1),T.NdJ("ngSubmit",function(){T.CHM(m);const E=T.MAs(1);return T.KtG(f.submitNieuwLidForm(E.value))}),T.TgZ(2,"div",2)(3,"div",3)(4,"h2",4),T._uU(5,"Nieuw Lid Form"),T.qZA()(),T.TgZ(6,"div",5)(7,"div",6)(8,"label",7),T._uU(9,"Voornaam:"),T.qZA(),T.TgZ(10,"input",8),T.NdJ("ngModelChange",function(E){return f.voornaam=E}),T.qZA()(),T.TgZ(11,"div",9)(12,"label",10),T._uU(13,"Naam:"),T.qZA(),T.TgZ(14,"input",11),T.NdJ("ngModelChange",function(E){return f.name=E}),T.qZA()(),T.TgZ(15,"div",6)(16,"label",12),T._uU(17,"Voornaam Afdeling:"),T.qZA(),T.TgZ(18,"select",13),T.NdJ("ngModelChange",function(E){return f.department=E}),T.TgZ(19,"option",14),T._uU(20,"Ribbel Jongens"),T.qZA(),T.TgZ(21,"option",15),T._uU(22,"Ribbel Meisjes"),T.qZA(),T.TgZ(23,"option",16),T._uU(24,"Speelclub Jongens"),T.qZA(),T.TgZ(25,"option",17),T._uU(26,"Speelclub Meisjes"),T.qZA(),T.TgZ(27,"option",18),T._uU(28,"Rakkers"),T.qZA(),T.TgZ(29,"option",19),T._uU(30,"Kwiks"),T.qZA(),T.TgZ(31,"option",20),T._uU(32,"Toppers"),T.qZA(),T.TgZ(33,"option",21),T._uU(34,"Tippers"),T.qZA(),T.TgZ(35,"option",22),T._uU(36,"Kerels"),T.qZA(),T.TgZ(37,"option",23),T._uU(38,"Tiptiens"),T.qZA(),T.TgZ(39,"option",24),T._uU(40,"Aspi Jongens"),T.qZA(),T.TgZ(41,"option",25),T._uU(42,"Aspi Meisjes"),T.qZA()()(),T.TgZ(43,"div",9)(44,"label",26),T._uU(45,"Email:"),T.qZA(),T.TgZ(46,"input",27),T.NdJ("ngModelChange",function(E){return f.email=E}),T.qZA()(),T.TgZ(47,"div",6)(48,"label",28),T._uU(49,"Telefoon:"),T.qZA(),T.TgZ(50,"input",29),T.NdJ("ngModelChange",function(E){return f.phone=E}),T.qZA()(),T.TgZ(51,"div",9)(52,"label",30),T._uU(53,"Straat:"),T.qZA(),T.TgZ(54,"input",31),T.NdJ("ngModelChange",function(E){return f.street=E}),T.qZA()(),T.TgZ(55,"div",6)(56,"label",32),T._uU(57,"Huisnummer:"),T.qZA(),T.TgZ(58,"input",33),T.NdJ("ngModelChange",function(E){return f.houseNumber=E}),T.qZA()(),T.TgZ(59,"div",9)(60,"label",34),T._uU(61,"Postcode:"),T.qZA(),T.TgZ(62,"input",35),T.NdJ("ngModelChange",function(E){return f.postcode=E}),T.qZA()(),T.TgZ(63,"div",9)(64,"label",36),T._uU(65,"Gemeente:"),T.qZA(),T.TgZ(66,"input",37),T.NdJ("ngModelChange",function(E){return f.city=E}),T.qZA()(),T.TgZ(67,"div",9)(68,"label",38),T._uU(69,"Geboorte Datum:"),T.qZA(),T.TgZ(70,"input",39),T.NdJ("ngModelChange",function(E){return f.geboortedatum=E}),T.qZA()(),T.TgZ(71,"div",40)(72,"button",41),T._uU(73,"Submit"),T.qZA()(),T.TgZ(74,"div",42),T._uU(75),T.qZA()()()()}2&c&&(T.xp6(10),T.Q6J("ngModel",f.voornaam),T.xp6(4),T.Q6J("ngModel",f.name),T.xp6(4),T.Q6J("ngModel",f.department),T.xp6(28),T.Q6J("ngModel",f.email),T.xp6(4),T.Q6J("ngModel",f.phone),T.xp6(4),T.Q6J("ngModel",f.street),T.xp6(4),T.Q6J("ngModel",f.houseNumber),T.xp6(4),T.Q6J("ngModel",f.postcode),T.xp6(4),T.Q6J("ngModel",f.city),T.xp6(4),T.Q6J("ngModel",f.geboortedatum),T.xp6(4),T.Udp("border",f.bColor)("background",f.bgColor),T.xp6(1),T.hij(" ",f.responseMessage," "))},dependencies:[sa._Y,sa.YN,sa.Kr,sa.Fj,sa.EJ,sa.JJ,sa.JL,sa.Q7,sa.On,sa.F]})}return l})();var oc=X(1391);const S_=[{path:"",component:rm,canActivate:[oc.a]},{path:"afdelingen",component:vv,canActivate:[oc.a]},{path:"afdelingLijst/:afdelingParId",component:dd,canActivate:[oc.a]},{path:"ledenDetails/:lidId",component:ky,canActivate:[oc.a]},{path:"addLid",component:D_,canActivate:[oc.a]},{path:"authentication",loadChildren:()=>Promise.resolve().then(X.bind(X,7469)).then(l=>l.AuthenticationRoutingModule)},{path:"ledenActions",loadChildren:()=>Promise.resolve().then(X.bind(X,1871)).then(l=>l.LedenActionsModule)},{path:"admin",loadChildren:()=>X.e(8).then(X.bind(X,7008)).then(l=>l.AdminModule)},{path:"sub",loadChildren:()=>Promise.resolve().then(X.bind(X,6383)).then(l=>l.RandomNumberModule)}];let hd=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275mod=T.oAB({type:l});static#n=this.\u0275inj=T.cJS({imports:[Xi.Bz.forRoot(S_),Xi.Bz]})}return l})();var x_=X(4060);function oh(l,u){1&l&&(T.TgZ(0,"li",14)(1,"a",6),T._uU(2,"Login"),T.qZA()())}function um(l,u){1&l&&(T.TgZ(0,"li",15)(1,"a",6),T._uU(2,"Logout"),T.qZA()())}const yf=function(){return["/AdminDashboard"]};let R_=(()=>{class l{constructor(a,c,f,m){this.auth=a,this.router=c,this.authService=f,this.firebaseService=m,this.loggedIn=this.auth.isLoggedIn()}ngOnInit(){this.test=this.firebaseService.getAdmin(this.authService.getUid()),console.log(this.test),this.router.events.subscribe(a=>{a instanceof Xi.m2&&(this.loggedIn=this.auth.isLoggedIn())})}static#e=this.\u0275fac=function(c){return new(c||l)(T.Y36(x_.q),T.Y36(Xi.F0),T.Y36(x_.q),T.Y36(Bp.O))};static#t=this.\u0275cmp=T.Xpm({type:l,selectors:[["app-header"]],decls:17,vars:4,consts:[[1,"bg-red-500","p-2"],[1,"flex","justify-between","items-center"],[1,"text-white","text-xl","font-semibold"],["src","assets/chiro.png","alt","",2,"height","50px"],[1,"flex","space-x-4","items-center"],["routerLink","/afdelingen",1,"px-2","rounded-lg","ease-in-out","duration-400","hover:bg-red-800","cursor-pointer"],[1,"text-white"],["routerLink","/login","class","px-2 rounded-lg ease-in-out duration-400 hover:bg-red-800 cursor-pointer",4,"ngIf"],["routerLink","/logout","class","px-2 rounded-lg ease-in-out duration-400 hover:bg-red-800 cursor-pointer",4,"ngIf"],["routerLinkActive","router-link-active",1,"px-2","rounded-lg","ease-in-out","duration-400","hover:bg-red-800","cursor-pointer",3,"routerLink"],[1,"relative"],["type","text","placeholder","Search",1,"px-3","py-1","text-gray-800","border","rounded-lg","focus:outline-none","focus:border-blue-500"],[1,"absolute","right-0","top-0","mt-1","mr-2"],[1,"fas","fa-search","text-gray-600"],["routerLink","/login",1,"px-2","rounded-lg","ease-in-out","duration-400","hover:bg-red-800","cursor-pointer"],["routerLink","/logout",1,"px-2","rounded-lg","ease-in-out","duration-400","hover:bg-red-800","cursor-pointer"]],template:function(c,f){1&c&&(T.TgZ(0,"header",0)(1,"nav",1)(2,"div",2),T._UZ(3,"img",3),T.qZA(),T.TgZ(4,"ul",4)(5,"li",5)(6,"a",6),T._uU(7,"Afdelingen"),T.qZA()(),T.YNc(8,oh,3,0,"li",7),T.YNc(9,um,3,0,"li",8),T.TgZ(10,"li",9)(11,"a",6),T._uU(12,"Admin"),T.qZA()()(),T.TgZ(13,"div",10),T._UZ(14,"input",11),T.TgZ(15,"button",12),T._UZ(16,"i",13),T.qZA()()()()),2&c&&(T.xp6(8),T.Q6J("ngIf",!f.loggedIn),T.xp6(1),T.Q6J("ngIf",f.loggedIn),T.xp6(1),T.Q6J("routerLink",T.DdM(3,yf)))},dependencies:[rh.O5,Xi.rH,Xi.Od]})}return l})(),cm=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=T.Xpm({type:l,selectors:[["app-footer"]],decls:11,vars:0,consts:[["id","footer",1,"bg-red-500","text-white","...","sticky","bottom-0"],[1,"grid","grid-cols-3"],[1,"col-span-1"],[1,"col-span-1","text-sm","font-semibold","flex","items-center","justify-center"],[1,"col-span-1","flex","items-center","justify-end","space-x-4","mr-6"],["href","https://www.linkedin.com/in/killian-serluppens-289909224/",1,"text-white","hover:text-gray-300"],[1,"fab","fa-linkedin"],["href","https://github.com/KilliBruhh",1,"text-white","hover:text-gray-300"],[1,"fab","fa-github"]],template:function(c,f){1&c&&(T.TgZ(0,"footer",0)(1,"div",1),T._UZ(2,"div",2),T.TgZ(3,"div",3)(4,"span"),T._uU(5,"\xa9 2023 Killian Serluppens. All rights reserved."),T.qZA()(),T.TgZ(6,"div",4)(7,"a",5),T._UZ(8,"i",6),T.qZA(),T.TgZ(9,"a",7),T._UZ(10,"i",8),T.qZA()()()())},styles:["#footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;background-color:red;color:#fff;text-align:center}"]})}return l})(),Ly=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=T.Xpm({type:l,selectors:[["app-root"]],decls:3,vars:0,template:function(c,f){1&c&&T._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Xi.lC,R_,cm]})}return l})();var M_=X(6383),dm=X(7469);let P_=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275mod=T.oAB({type:l});static#n=this.\u0275inj=T.cJS({imports:[rh.ez,dm.AuthenticationRoutingModule,sa.u5,sa.UX,(0,cd.hX)(()=>(0,cd.ZF)(em_firebase)),(0,Fp.Cm)(()=>(0,Fp.ad)()),(0,eh.AR)(()=>(0,eh.v0)())]})}return l})();var Fy=X(4894),hm=X(9862),ac=X(1871),Vy=X(8243);let vf=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275mod=T.oAB({type:l,bootstrap:[Ly]});static#n=this.\u0275inj=T.cJS({imports:[A.b2,Lp,hd,P_,dm.AuthenticationRoutingModule,Fy.c,hm.JF,sa.u5,ac.LedenActionsModule,M_.RandomNumberModule,(0,cd.hX)(()=>(0,cd.ZF)(em_firebase)),(0,Fp.Cm)(()=>(0,Fp.ad)()),(0,eh.AR)(()=>(0,eh.v0)()),(0,tm.Vq)(()=>(0,Vy.cF)()),rh.ez]})}return l})();A.q6().bootstrapModule(vf).catch(l=>console.error(l))},5619:(vn,ft,X)=>{X.d(ft,{X:()=>T});var A=X(8645);class T extends A.x{constructor(z){super(),this._value=z}get value(){return this.getValue()}_subscribe(z){const fe=super._subscribe(z);return!fe.closed&&z.next(this._value),fe}getValue(){const{hasError:z,thrownError:fe,_value:he}=this;if(z)throw fe;return this._throwIfClosed(),he}next(z){super.next(this._value=z)}}},5592:(vn,ft,X)=>{X.d(ft,{y:()=>Dt});var A=X(305),T=X(7394),se=X(4850),z=X(8407),fe=X(2653),he=X(4674),Ke=X(1441);let Dt=(()=>{class qe{constructor(vt){vt&&(this._subscribe=vt)}lift(vt){const je=new qe;return je.source=this,je.operator=vt,je}subscribe(vt,je,$t){const Nt=function _e(qe){return qe&&qe instanceof A.Lv||function ge(qe){return qe&&(0,he.m)(qe.next)&&(0,he.m)(qe.error)&&(0,he.m)(qe.complete)}(qe)&&(0,T.Nn)(qe)}(vt)?vt:new A.Hp(vt,je,$t);return(0,Ke.x)(()=>{const{operator:_n,source:Dn}=this;Nt.add(_n?_n.call(Nt,Dn):Dn?this._subscribe(Nt):this._trySubscribe(Nt))}),Nt}_trySubscribe(vt){try{return this._subscribe(vt)}catch(je){vt.error(je)}}forEach(vt,je){return new(je=Ze(je))(($t,Nt)=>{const _n=new A.Hp({next:Dn=>{try{vt(Dn)}catch(fn){Nt(fn),_n.unsubscribe()}},error:Nt,complete:$t});this.subscribe(_n)})}_subscribe(vt){var je;return null===(je=this.source)||void 0===je?void 0:je.subscribe(vt)}[se.L](){return this}pipe(...vt){return(0,z.U)(vt)(this)}toPromise(vt){return new(vt=Ze(vt))((je,$t)=>{let Nt;this.subscribe(_n=>Nt=_n,_n=>$t(_n),()=>je(Nt))})}}return qe.create=Ce=>new qe(Ce),qe})();function Ze(qe){var Ce;return null!==(Ce=qe??fe.config.Promise)&&void 0!==Ce?Ce:Promise}},8645:(vn,ft,X)=>{X.d(ft,{x:()=>Ke});var A=X(5592),T=X(7394);const z=(0,X(2306).d)(Ze=>function(){Ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=X(9039),he=X(1441);let Ke=(()=>{class Ze extends A.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(_e){const qe=new Dt(this,this);return qe.operator=_e,qe}_throwIfClosed(){if(this.closed)throw new z}next(_e){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const qe of this.currentObservers)qe.next(_e)}})}error(_e){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=_e;const{observers:qe}=this;for(;qe.length;)qe.shift().error(_e)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:_e}=this;for(;_e.length;)_e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var _e;return(null===(_e=this.observers)||void 0===_e?void 0:_e.length)>0}_trySubscribe(_e){return this._throwIfClosed(),super._trySubscribe(_e)}_subscribe(_e){return this._throwIfClosed(),this._checkFinalizedStatuses(_e),this._innerSubscribe(_e)}_innerSubscribe(_e){const{hasError:qe,isStopped:Ce,observers:vt}=this;return qe||Ce?T.Lc:(this.currentObservers=null,vt.push(_e),new T.w0(()=>{this.currentObservers=null,(0,fe.P)(vt,_e)}))}_checkFinalizedStatuses(_e){const{hasError:qe,thrownError:Ce,isStopped:vt}=this;qe?_e.error(Ce):vt&&_e.complete()}asObservable(){const _e=new A.y;return _e.source=this,_e}}return Ze.create=(ge,_e)=>new Dt(ge,_e),Ze})();class Dt extends Ke{constructor(ge,_e){super(),this.destination=ge,this.source=_e}next(ge){var _e,qe;null===(qe=null===(_e=this.destination)||void 0===_e?void 0:_e.next)||void 0===qe||qe.call(_e,ge)}error(ge){var _e,qe;null===(qe=null===(_e=this.destination)||void 0===_e?void 0:_e.error)||void 0===qe||qe.call(_e,ge)}complete(){var ge,_e;null===(_e=null===(ge=this.destination)||void 0===ge?void 0:ge.complete)||void 0===_e||_e.call(ge)}_subscribe(ge){var _e,qe;return null!==(qe=null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(ge))&&void 0!==qe?qe:T.Lc}}},305:(vn,ft,X)=>{X.d(ft,{Hp:()=>$t,Lv:()=>qe});var A=X(4674),T=X(7394),se=X(2653),z=X(3894),fe=X(2420);const he=Ze("C",void 0,void 0);function Ze(dt,Ye,at){return{kind:dt,value:Ye,error:at}}var ge=X(7599),_e=X(1441);class qe extends T.w0{constructor(Ye){super(),this.isStopped=!1,Ye?(this.destination=Ye,(0,T.Nn)(Ye)&&Ye.add(this)):this.destination=fn}static create(Ye,at,ct){return new $t(Ye,at,ct)}next(Ye){this.isStopped?Dn(function Dt(dt){return Ze("N",dt,void 0)}(Ye),this):this._next(Ye)}error(Ye){this.isStopped?Dn(function Ke(dt){return Ze("E",void 0,dt)}(Ye),this):(this.isStopped=!0,this._error(Ye))}complete(){this.isStopped?Dn(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ye){this.destination.next(Ye)}_error(Ye){try{this.destination.error(Ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ce=Function.prototype.bind;function vt(dt,Ye){return Ce.call(dt,Ye)}class je{constructor(Ye){this.partialObserver=Ye}next(Ye){const{partialObserver:at}=this;if(at.next)try{at.next(Ye)}catch(ct){Nt(ct)}}error(Ye){const{partialObserver:at}=this;if(at.error)try{at.error(Ye)}catch(ct){Nt(ct)}else Nt(Ye)}complete(){const{partialObserver:Ye}=this;if(Ye.complete)try{Ye.complete()}catch(at){Nt(at)}}}class $t extends qe{constructor(Ye,at,ct){let pt;if(super(),(0,A.m)(Ye)||!Ye)pt={next:Ye??void 0,error:at??void 0,complete:ct??void 0};else{let gt;this&&se.config.useDeprecatedNextContext?(gt=Object.create(Ye),gt.unsubscribe=()=>this.unsubscribe(),pt={next:Ye.next&&vt(Ye.next,gt),error:Ye.error&&vt(Ye.error,gt),complete:Ye.complete&&vt(Ye.complete,gt)}):pt=Ye}this.destination=new je(pt)}}function Nt(dt){se.config.useDeprecatedSynchronousErrorHandling?(0,_e.O)(dt):(0,z.h)(dt)}function Dn(dt,Ye){const{onStoppedNotification:at}=se.config;at&&ge.z.setTimeout(()=>at(dt,Ye))}const fn={closed:!0,next:fe.Z,error:function _n(dt){throw dt},complete:fe.Z}},7394:(vn,ft,X)=>{X.d(ft,{Lc:()=>he,w0:()=>fe,Nn:()=>Ke});var A=X(4674);const se=(0,X(2306).d)(Ze=>function(_e){Ze(this),this.message=_e?`${_e.length} errors occurred during unsubscription:\n${_e.map((qe,Ce)=>`${Ce+1}) ${qe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_e});var z=X(9039);class fe{constructor(ge){this.initialTeardown=ge,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ge;if(!this.closed){this.closed=!0;const{_parentage:_e}=this;if(_e)if(this._parentage=null,Array.isArray(_e))for(const vt of _e)vt.remove(this);else _e.remove(this);const{initialTeardown:qe}=this;if((0,A.m)(qe))try{qe()}catch(vt){ge=vt instanceof se?vt.errors:[vt]}const{_finalizers:Ce}=this;if(Ce){this._finalizers=null;for(const vt of Ce)try{Dt(vt)}catch(je){ge=ge??[],je instanceof se?ge=[...ge,...je.errors]:ge.push(je)}}if(ge)throw new se(ge)}}add(ge){var _e;if(ge&&ge!==this)if(this.closed)Dt(ge);else{if(ge instanceof fe){if(ge.closed||ge._hasParent(this))return;ge._addParent(this)}(this._finalizers=null!==(_e=this._finalizers)&&void 0!==_e?_e:[]).push(ge)}}_hasParent(ge){const{_parentage:_e}=this;return _e===ge||Array.isArray(_e)&&_e.includes(ge)}_addParent(ge){const{_parentage:_e}=this;this._parentage=Array.isArray(_e)?(_e.push(ge),_e):_e?[_e,ge]:ge}_removeParent(ge){const{_parentage:_e}=this;_e===ge?this._parentage=null:Array.isArray(_e)&&(0,z.P)(_e,ge)}remove(ge){const{_finalizers:_e}=this;_e&&(0,z.P)(_e,ge),ge instanceof fe&&ge._removeParent(this)}}fe.EMPTY=(()=>{const Ze=new fe;return Ze.closed=!0,Ze})();const he=fe.EMPTY;function Ke(Ze){return Ze instanceof fe||Ze&&"closed"in Ze&&(0,A.m)(Ze.remove)&&(0,A.m)(Ze.add)&&(0,A.m)(Ze.unsubscribe)}function Dt(Ze){(0,A.m)(Ze)?Ze():Ze.unsubscribe()}},2653:(vn,ft,X)=>{X.d(ft,{config:()=>A});const A={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(vn,ft,X)=>{X.d(ft,{E:()=>T});const T=new(X(5592).y)(fe=>fe.complete())},2459:(vn,ft,X)=>{X.d(ft,{D:()=>Ye});var A=X(4829),T=X(3093),se=X(5137),he=X(5592),Dt=X(4971),Ze=X(4674),ge=X(7103);function qe(at,ct){if(!at)throw new Error("Iterable cannot be null");return new he.y(pt=>{(0,ge.f)(pt,ct,()=>{const gt=at[Symbol.asyncIterator]();(0,ge.f)(pt,ct,()=>{gt.next().then(Tt=>{Tt.done?pt.complete():pt.next(Tt.value)})},0,!0)})})}var Ce=X(8382),vt=X(4026),je=X(4266),$t=X(3664),Nt=X(5726),_n=X(9853),Dn=X(541);function Ye(at,ct){return ct?function dt(at,ct){if(null!=at){if((0,Ce.c)(at))return function z(at,ct){return(0,A.Xf)(at).pipe((0,se.R)(ct),(0,T.Q)(ct))}(at,ct);if((0,je.z)(at))return function Ke(at,ct){return new he.y(pt=>{let gt=0;return ct.schedule(function(){gt===at.length?pt.complete():(pt.next(at[gt++]),pt.closed||this.schedule())})})}(at,ct);if((0,vt.t)(at))return function fe(at,ct){return(0,A.Xf)(at).pipe((0,se.R)(ct),(0,T.Q)(ct))}(at,ct);if((0,Nt.D)(at))return qe(at,ct);if((0,$t.T)(at))return function _e(at,ct){return new he.y(pt=>{let gt;return(0,ge.f)(pt,ct,()=>{gt=at[Dt.h](),(0,ge.f)(pt,ct,()=>{let Tt,Tn;try{({value:Tt,done:Tn}=gt.next())}catch(zn){return void pt.error(zn)}Tn?pt.complete():pt.next(Tt)},0,!0)}),()=>(0,Ze.m)(gt?.return)&&gt.return()})}(at,ct);if((0,Dn.L)(at))return function fn(at,ct){return qe((0,Dn.Q)(at),ct)}(at,ct)}throw(0,_n.z)(at)}(at,ct):(0,A.Xf)(at)}},4829:(vn,ft,X)=>{X.d(ft,{Xf:()=>Ce});var A=X(7582),T=X(4266),se=X(4026),z=X(5592),fe=X(8382),he=X(5726),Ke=X(9853),Dt=X(3664),Ze=X(541),ge=X(4674),_e=X(3894),qe=X(4850);function Ce(dt){if(dt instanceof z.y)return dt;if(null!=dt){if((0,fe.c)(dt))return function vt(dt){return new z.y(Ye=>{const at=dt[qe.L]();if((0,ge.m)(at.subscribe))return at.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(dt);if((0,T.z)(dt))return function je(dt){return new z.y(Ye=>{for(let at=0;at<dt.length&&!Ye.closed;at++)Ye.next(dt[at]);Ye.complete()})}(dt);if((0,se.t)(dt))return function $t(dt){return new z.y(Ye=>{dt.then(at=>{Ye.closed||(Ye.next(at),Ye.complete())},at=>Ye.error(at)).then(null,_e.h)})}(dt);if((0,he.D)(dt))return _n(dt);if((0,Dt.T)(dt))return function Nt(dt){return new z.y(Ye=>{for(const at of dt)if(Ye.next(at),Ye.closed)return;Ye.complete()})}(dt);if((0,Ze.L)(dt))return function Dn(dt){return _n((0,Ze.Q)(dt))}(dt)}throw(0,Ke.z)(dt)}function _n(dt){return new z.y(Ye=>{(function fn(dt,Ye){var at,ct,pt,gt;return(0,A.mG)(this,void 0,void 0,function*(){try{for(at=(0,A.KL)(dt);!(ct=yield at.next()).done;)if(Ye.next(ct.value),Ye.closed)return}catch(Tt){pt={error:Tt}}finally{try{ct&&!ct.done&&(gt=at.return)&&(yield gt.call(at))}finally{if(pt)throw pt.error}}Ye.complete()})})(dt,Ye).catch(at=>Ye.error(at))})}},2096:(vn,ft,X)=>{X.d(ft,{of:()=>se});var A=X(4564),T=X(2459);function se(...z){const fe=(0,A.yG)(z);return(0,T.D)(z,fe)}},8251:(vn,ft,X)=>{X.d(ft,{x:()=>T});var A=X(305);function T(z,fe,he,Ke,Dt){return new se(z,fe,he,Ke,Dt)}class se extends A.Lv{constructor(fe,he,Ke,Dt,Ze,ge){super(fe),this.onFinalize=Ze,this.shouldUnsubscribe=ge,this._next=he?function(_e){try{he(_e)}catch(qe){fe.error(qe)}}:super._next,this._error=Dt?function(_e){try{Dt(_e)}catch(qe){fe.error(qe)}finally{this.unsubscribe()}}:super._error,this._complete=Ke?function(){try{Ke()}catch(_e){fe.error(_e)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},6328:(vn,ft,X)=>{X.d(ft,{b:()=>se});var A=X(1631),T=X(4674);function se(z,fe){return(0,T.m)(fe)?(0,A.z)(z,fe,1):(0,A.z)(z,1)}},2181:(vn,ft,X)=>{X.d(ft,{h:()=>se});var A=X(9360),T=X(8251);function se(z,fe){return(0,A.e)((he,Ke)=>{let Dt=0;he.subscribe((0,T.x)(Ke,Ze=>z.call(fe,Ze,Dt++)&&Ke.next(Ze)))})}},4716:(vn,ft,X)=>{X.d(ft,{x:()=>T});var A=X(9360);function T(se){return(0,A.e)((z,fe)=>{try{z.subscribe(fe)}finally{fe.add(se)}})}},7398:(vn,ft,X)=>{X.d(ft,{U:()=>se});var A=X(9360),T=X(8251);function se(z,fe){return(0,A.e)((he,Ke)=>{let Dt=0;he.subscribe((0,T.x)(Ke,Ze=>{Ke.next(z.call(fe,Ze,Dt++))}))})}},7537:(vn,ft,X)=>{X.d(ft,{J:()=>se});var A=X(1631),T=X(2737);function se(z=1/0){return(0,A.z)(T.y,z)}},1631:(vn,ft,X)=>{X.d(ft,{z:()=>Dt});var A=X(7398),T=X(4829),se=X(9360),z=X(7103),fe=X(8251),Ke=X(4674);function Dt(Ze,ge,_e=1/0){return(0,Ke.m)(ge)?Dt((qe,Ce)=>(0,A.U)((vt,je)=>ge(qe,vt,Ce,je))((0,T.Xf)(Ze(qe,Ce))),_e):("number"==typeof ge&&(_e=ge),(0,se.e)((qe,Ce)=>function he(Ze,ge,_e,qe,Ce,vt,je,$t){const Nt=[];let _n=0,Dn=0,fn=!1;const dt=()=>{fn&&!Nt.length&&!_n&&ge.complete()},Ye=ct=>_n<qe?at(ct):Nt.push(ct),at=ct=>{vt&&ge.next(ct),_n++;let pt=!1;(0,T.Xf)(_e(ct,Dn++)).subscribe((0,fe.x)(ge,gt=>{Ce?.(gt),vt?Ye(gt):ge.next(gt)},()=>{pt=!0},void 0,()=>{if(pt)try{for(_n--;Nt.length&&_n<qe;){const gt=Nt.shift();je?(0,z.f)(ge,je,()=>at(gt)):at(gt)}dt()}catch(gt){ge.error(gt)}}))};return Ze.subscribe((0,fe.x)(ge,Ye,()=>{fn=!0,dt()})),()=>{$t?.()}}(qe,Ce,Ze,_e)))}},3093:(vn,ft,X)=>{X.d(ft,{Q:()=>z});var A=X(7103),T=X(9360),se=X(8251);function z(fe,he=0){return(0,T.e)((Ke,Dt)=>{Ke.subscribe((0,se.x)(Dt,Ze=>(0,A.f)(Dt,fe,()=>Dt.next(Ze),he),()=>(0,A.f)(Dt,fe,()=>Dt.complete(),he),Ze=>(0,A.f)(Dt,fe,()=>Dt.error(Ze),he)))})}},5137:(vn,ft,X)=>{X.d(ft,{R:()=>T});var A=X(9360);function T(se,z=0){return(0,A.e)((fe,he)=>{he.add(se.schedule(()=>fe.subscribe(he),z))})}},4664:(vn,ft,X)=>{X.d(ft,{w:()=>z});var A=X(4829),T=X(9360),se=X(8251);function z(fe,he){return(0,T.e)((Ke,Dt)=>{let Ze=null,ge=0,_e=!1;const qe=()=>_e&&!Ze&&Dt.complete();Ke.subscribe((0,se.x)(Dt,Ce=>{Ze?.unsubscribe();let vt=0;const je=ge++;(0,A.Xf)(fe(Ce,je)).subscribe(Ze=(0,se.x)(Dt,$t=>Dt.next(he?he(Ce,$t,je,vt++):$t),()=>{Ze=null,qe()}))},()=>{_e=!0,qe()}))})}},9397:(vn,ft,X)=>{X.d(ft,{b:()=>fe});var A=X(4674),T=X(9360),se=X(8251),z=X(2737);function fe(he,Ke,Dt){const Ze=(0,A.m)(he)||Ke||Dt?{next:he,error:Ke,complete:Dt}:he;return Ze?(0,T.e)((ge,_e)=>{var qe;null===(qe=Ze.subscribe)||void 0===qe||qe.call(Ze);let Ce=!0;ge.subscribe((0,se.x)(_e,vt=>{var je;null===(je=Ze.next)||void 0===je||je.call(Ze,vt),_e.next(vt)},()=>{var vt;Ce=!1,null===(vt=Ze.complete)||void 0===vt||vt.call(Ze),_e.complete()},vt=>{var je;Ce=!1,null===(je=Ze.error)||void 0===je||je.call(Ze,vt),_e.error(vt)},()=>{var vt,je;Ce&&(null===(vt=Ze.unsubscribe)||void 0===vt||vt.call(Ze)),null===(je=Ze.finalize)||void 0===je||je.call(Ze)}))}):z.y}},7599:(vn,ft,X)=>{X.d(ft,{z:()=>A});const A={setTimeout(T,se,...z){const{delegate:fe}=A;return fe?.setTimeout?fe.setTimeout(T,se,...z):setTimeout(T,se,...z)},clearTimeout(T){const{delegate:se}=A;return(se?.clearTimeout||clearTimeout)(T)},delegate:void 0}},4971:(vn,ft,X)=>{X.d(ft,{h:()=>T});const T=function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(vn,ft,X)=>{X.d(ft,{L:()=>A});const A="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(vn,ft,X)=>{X.d(ft,{_6:()=>he,jO:()=>z,yG:()=>fe});var A=X(4674);function se(Ke){return Ke[Ke.length-1]}function z(Ke){return(0,A.m)(se(Ke))?Ke.pop():void 0}function fe(Ke){return function T(Ke){return Ke&&(0,A.m)(Ke.schedule)}(se(Ke))?Ke.pop():void 0}function he(Ke,Dt){return"number"==typeof se(Ke)?Ke.pop():Dt}},7453:(vn,ft,X)=>{X.d(ft,{D:()=>fe});const{isArray:A}=Array,{getPrototypeOf:T,prototype:se,keys:z}=Object;function fe(Ke){if(1===Ke.length){const Dt=Ke[0];if(A(Dt))return{args:Dt,keys:null};if(function he(Ke){return Ke&&"object"==typeof Ke&&T(Ke)===se}(Dt)){const Ze=z(Dt);return{args:Ze.map(ge=>Dt[ge]),keys:Ze}}}return{args:Ke,keys:null}}},9039:(vn,ft,X)=>{function A(T,se){if(T){const z=T.indexOf(se);0<=z&&T.splice(z,1)}}X.d(ft,{P:()=>A})},2306:(vn,ft,X)=>{function A(T){const z=T(fe=>{Error.call(fe),fe.stack=(new Error).stack});return z.prototype=Object.create(Error.prototype),z.prototype.constructor=z,z}X.d(ft,{d:()=>A})},2714:(vn,ft,X)=>{function A(T,se){return T.reduce((z,fe,he)=>(z[fe]=se[he],z),{})}X.d(ft,{n:()=>A})},1441:(vn,ft,X)=>{X.d(ft,{O:()=>z,x:()=>se});var A=X(2653);let T=null;function se(fe){if(A.config.useDeprecatedSynchronousErrorHandling){const he=!T;if(he&&(T={errorThrown:!1,error:null}),fe(),he){const{errorThrown:Ke,error:Dt}=T;if(T=null,Ke)throw Dt}}else fe()}function z(fe){A.config.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=fe)}},7103:(vn,ft,X)=>{function A(T,se,z,fe=0,he=!1){const Ke=se.schedule(function(){z(),he?T.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(T.add(Ke),!he)return Ke}X.d(ft,{f:()=>A})},2737:(vn,ft,X)=>{function A(T){return T}X.d(ft,{y:()=>A})},4266:(vn,ft,X)=>{X.d(ft,{z:()=>A});const A=T=>T&&"number"==typeof T.length&&"function"!=typeof T},5726:(vn,ft,X)=>{X.d(ft,{D:()=>T});var A=X(4674);function T(se){return Symbol.asyncIterator&&(0,A.m)(se?.[Symbol.asyncIterator])}},4674:(vn,ft,X)=>{function A(T){return"function"==typeof T}X.d(ft,{m:()=>A})},8382:(vn,ft,X)=>{X.d(ft,{c:()=>se});var A=X(4850),T=X(4674);function se(z){return(0,T.m)(z[A.L])}},3664:(vn,ft,X)=>{X.d(ft,{T:()=>se});var A=X(4971),T=X(4674);function se(z){return(0,T.m)(z?.[A.h])}},4026:(vn,ft,X)=>{X.d(ft,{t:()=>T});var A=X(4674);function T(se){return(0,A.m)(se?.then)}},541:(vn,ft,X)=>{X.d(ft,{L:()=>z,Q:()=>se});var A=X(7582),T=X(4674);function se(fe){return(0,A.FC)(this,arguments,function*(){const Ke=fe.getReader();try{for(;;){const{value:Dt,done:Ze}=yield(0,A.qq)(Ke.read());if(Ze)return yield(0,A.qq)(void 0);yield yield(0,A.qq)(Dt)}}finally{Ke.releaseLock()}})}function z(fe){return(0,T.m)(fe?.getReader)}},9360:(vn,ft,X)=>{X.d(ft,{A:()=>T,e:()=>se});var A=X(4674);function T(z){return(0,A.m)(z?.lift)}function se(z){return fe=>{if(T(fe))return fe.lift(function(he){try{return z(he,this)}catch(Ke){this.error(Ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(vn,ft,X)=>{X.d(ft,{Z:()=>z});var A=X(7398);const{isArray:T}=Array;function z(fe){return(0,A.U)(he=>function se(fe,he){return T(he)?fe(...he):fe(he)}(fe,he))}},2420:(vn,ft,X)=>{function A(){}X.d(ft,{Z:()=>A})},8407:(vn,ft,X)=>{X.d(ft,{U:()=>se,z:()=>T});var A=X(2737);function T(...z){return se(z)}function se(z){return 0===z.length?A.y:1===z.length?z[0]:function(he){return z.reduce((Ke,Dt)=>Dt(Ke),he)}}},3894:(vn,ft,X)=>{X.d(ft,{h:()=>se});var A=X(2653),T=X(7599);function se(z){T.z.setTimeout(()=>{const{onUnhandledError:fe}=A.config;if(!fe)throw z;fe(z)})}},9853:(vn,ft,X)=>{function A(T){return new TypeError(`You provided ${null!==T&&"object"==typeof T?"an invalid object":`'${T}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}X.d(ft,{z:()=>A})},6814:(vn,ft,X)=>{X.d(ft,{Do:()=>$t,EM:()=>we,HT:()=>z,JF:()=>un,K0:()=>he,Mx:()=>As,O5:()=>Kn,PC:()=>vi,PM:()=>xn,S$:()=>Ce,V_:()=>Dt,Ye:()=>Nt,b0:()=>je,bD:()=>Fs,ez:()=>go,q:()=>se,sg:()=>jr,w_:()=>fe});var A=X(4946);let T=null;function se(){return T}function z(P){T||(T=P)}class fe{}const he=new A.OlP("DocumentToken");let Ke=(()=>{class P{historyGo(B){throw new Error("Not implemented")}static#e=this.\u0275fac=function(K){return new(K||P)};static#t=this.\u0275prov=A.Yz7({token:P,factory:function(){return(0,A.f3M)(Ze)},providedIn:"platform"})}return P})();const Dt=new A.OlP("Location Initialized");let Ze=(()=>{class P extends Ke{constructor(){super(),this._doc=(0,A.f3M)(he),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return se().getBaseHref(this._doc)}onPopState(B){const K=se().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",B,!1),()=>K.removeEventListener("popstate",B)}onHashChange(B){const K=se().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",B,!1),()=>K.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,K,Ie){this._history.pushState(B,K,Ie)}replaceState(B,K,Ie){this._history.replaceState(B,K,Ie)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}static#e=this.\u0275fac=function(K){return new(K||P)};static#t=this.\u0275prov=A.Yz7({token:P,factory:function(){return new P},providedIn:"platform"})}return P})();function ge(P,ee){if(0==P.length)return ee;if(0==ee.length)return P;let B=0;return P.endsWith("/")&&B++,ee.startsWith("/")&&B++,2==B?P+ee.substring(1):1==B?P+ee:P+"/"+ee}function _e(P){const ee=P.match(/#|\?|$/),B=ee&&ee.index||P.length;return P.slice(0,B-("/"===P[B-1]?1:0))+P.slice(B)}function qe(P){return P&&"?"!==P[0]?"?"+P:P}let Ce=(()=>{class P{historyGo(B){throw new Error("Not implemented")}static#e=this.\u0275fac=function(K){return new(K||P)};static#t=this.\u0275prov=A.Yz7({token:P,factory:function(){return(0,A.f3M)(je)},providedIn:"root"})}return P})();const vt=new A.OlP("appBaseHref");let je=(()=>{class P extends Ce{constructor(B,K){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=K??this._platformLocation.getBaseHrefFromDOM()??(0,A.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return ge(this._baseHref,B)}path(B=!1){const K=this._platformLocation.pathname+qe(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&B?`${K}${Ie}`:K}pushState(B,K,Ie,it){const At=this.prepareExternalUrl(Ie+qe(it));this._platformLocation.pushState(B,K,At)}replaceState(B,K,Ie,it){const At=this.prepareExternalUrl(Ie+qe(it));this._platformLocation.replaceState(B,K,At)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static#e=this.\u0275fac=function(K){return new(K||P)(A.LFG(Ke),A.LFG(vt,8))};static#t=this.\u0275prov=A.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),$t=(()=>{class P extends Ce{constructor(B,K){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(B){const K=ge(this._baseHref,B);return K.length>0?"#"+K:K}pushState(B,K,Ie,it){let At=this.prepareExternalUrl(Ie+qe(it));0==At.length&&(At=this._platformLocation.pathname),this._platformLocation.pushState(B,K,At)}replaceState(B,K,Ie,it){let At=this.prepareExternalUrl(Ie+qe(it));0==At.length&&(At=this._platformLocation.pathname),this._platformLocation.replaceState(B,K,At)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static#e=this.\u0275fac=function(K){return new(K||P)(A.LFG(Ke),A.LFG(vt,8))};static#t=this.\u0275prov=A.Yz7({token:P,factory:P.\u0275fac})}return P})(),Nt=(()=>{class P{constructor(B){this._subject=new A.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const K=this._locationStrategy.getBaseHref();this._basePath=function dt(P){if(new RegExp("^(https?:)?//").test(P)){const[,B]=P.split(/\/\/[^\/]+/);return B}return P}(_e(fn(K))),this._locationStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,K=""){return this.path()==this.normalize(B+qe(K))}normalize(B){return P.stripTrailingSlash(function Dn(P,ee){if(!P||!ee.startsWith(P))return ee;const B=ee.substring(P.length);return""===B||["/",";","?","#"].includes(B[0])?B:ee}(this._basePath,fn(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,K="",Ie=null){this._locationStrategy.pushState(Ie,"",B,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+qe(K)),Ie)}replaceState(B,K="",Ie=null){this._locationStrategy.replaceState(Ie,"",B,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+qe(K)),Ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)})),()=>{const K=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(K,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",K){this._urlChangeListeners.forEach(Ie=>Ie(B,K))}subscribe(B,K,Ie){return this._subject.subscribe({next:B,error:K,complete:Ie})}static#e=this.normalizeQueryParams=qe;static#t=this.joinWithSlash=ge;static#n=this.stripTrailingSlash=_e;static#r=this.\u0275fac=function(K){return new(K||P)(A.LFG(Ce))};static#i=this.\u0275prov=A.Yz7({token:P,factory:function(){return function _n(){return new Nt((0,A.LFG)(Ce))}()},providedIn:"root"})}return P})();function fn(P){return P.replace(/\/index.html$/,"")}function As(P,ee){ee=encodeURIComponent(ee);for(const B of P.split(";")){const K=B.indexOf("="),[Ie,it]=-1==K?[B,""]:[B.slice(0,K),B.slice(K+1)];if(Ie.trim()===ee)return decodeURIComponent(it)}return null}class Nn{constructor(ee,B,K,Ie){this.$implicit=ee,this.ngForOf=B,this.index=K,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jr=(()=>{class P{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,K,Ie){this._viewContainer=B,this._template=K,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const K=this._viewContainer;B.forEachOperation((Ie,it,At)=>{if(null==Ie.previousIndex)K.createEmbeddedView(this._template,new Nn(Ie.item,this._ngForOf,-1,-1),null===At?void 0:At);else if(null==At)K.remove(null===it?void 0:it);else if(null!==it){const bn=K.get(it);K.move(bn,At),Ds(bn,Ie)}});for(let Ie=0,it=K.length;Ie<it;Ie++){const bn=K.get(Ie).context;bn.index=Ie,bn.count=it,bn.ngForOf=this._ngForOf}B.forEachIdentityChange(Ie=>{Ds(K.get(Ie.currentIndex),Ie)})}static ngTemplateContextGuard(B,K){return!0}static#e=this.\u0275fac=function(K){return new(K||P)(A.Y36(A.s_b),A.Y36(A.Rgc),A.Y36(A.ZZ4))};static#t=this.\u0275dir=A.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return P})();function Ds(P,ee){P.context.$implicit=ee.item}let Kn=(()=>{class P{constructor(B,K){this._viewContainer=B,this._context=new ms,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Qs("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Qs("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,K){return!0}static#e=this.\u0275fac=function(K){return new(K||P)(A.Y36(A.s_b),A.Y36(A.Rgc))};static#t=this.\u0275dir=A.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return P})();class ms{constructor(){this.$implicit=null,this.ngIf=null}}function Qs(P,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,A.AaK)(ee)}'.`)}let vi=(()=>{class P{constructor(B,K,Ie){this._ngEl=B,this._differs=K,this._renderer=Ie,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,K){const[Ie,it]=B.split("."),At=-1===Ie.indexOf("-")?void 0:A.JOm.DashCase;null!=K?this._renderer.setStyle(this._ngEl.nativeElement,Ie,it?`${K}${it}`:K,At):this._renderer.removeStyle(this._ngEl.nativeElement,Ie,At)}_applyChanges(B){B.forEachRemovedItem(K=>this._setStyle(K.key,null)),B.forEachAddedItem(K=>this._setStyle(K.key,K.currentValue)),B.forEachChangedItem(K=>this._setStyle(K.key,K.currentValue))}static#e=this.\u0275fac=function(K){return new(K||P)(A.Y36(A.SBq),A.Y36(A.aQg),A.Y36(A.Qsj))};static#t=this.\u0275dir=A.lG2({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return P})(),go=(()=>{class P{static#e=this.\u0275fac=function(K){return new(K||P)};static#t=this.\u0275mod=A.oAB({type:P});static#n=this.\u0275inj=A.cJS({})}return P})();const Fs="browser",So="server";function xn(P){return P===So}let we=(()=>{class P{static#e=this.\u0275prov=(0,A.Yz7)({token:P,providedIn:"root",factory:()=>new Ne((0,A.LFG)(he),window)})}return P})();class Ne{constructor(ee,B){this.document=ee,this.window=B,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const B=function Xe(P,ee){const B=P.getElementById(ee)||P.getElementsByName(ee)[0];if(B)return B;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const K=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Ie=K.currentNode;for(;Ie;){const it=Ie.shadowRoot;if(it){const At=it.getElementById(ee)||it.querySelector(`[name="${ee}"]`);if(At)return At}Ie=K.nextNode()}}return null}(this.document,ee);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(ee){this.supportsScrolling()&&(this.window.history.scrollRestoration=ee)}scrollToElement(ee){const B=ee.getBoundingClientRect(),K=B.left+this.window.pageXOffset,Ie=B.top+this.window.pageYOffset,it=this.offset();this.window.scrollTo(K-it[0],Ie-it[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class un{}},9862:(vn,ft,X)=>{X.d(ft,{JF:()=>ce,eN:()=>We});var A=X(4946),T=X(2096),se=X(2459),z=X(5592),fe=X(6328),he=X(2181),Ke=X(7398),Dt=X(4716),Ze=X(4664),ge=X(6814);class _e{}class qe{}class Ce{constructor(Ae){this.normalizedNames=new Map,this.lazyUpdate=null,Ae?"string"==typeof Ae?this.lazyInit=()=>{this.headers=new Map,Ae.split("\n").forEach(Pe=>{const Te=Pe.indexOf(":");if(Te>0){const Ee=Pe.slice(0,Te),$e=Ee.toLowerCase(),et=Pe.slice(Te+1).trim();this.maybeSetNormalizedName(Ee,$e),this.headers.has($e)?this.headers.get($e).push(et):this.headers.set($e,[et])}})}:typeof Headers<"u"&&Ae instanceof Headers?(this.headers=new Map,Ae.forEach((Pe,Te)=>{this.setHeaderEntries(Te,Pe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ae).forEach(([Pe,Te])=>{this.setHeaderEntries(Pe,Te)})}:this.headers=new Map}has(Ae){return this.init(),this.headers.has(Ae.toLowerCase())}get(Ae){this.init();const Pe=this.headers.get(Ae.toLowerCase());return Pe&&Pe.length>0?Pe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ae){return this.init(),this.headers.get(Ae.toLowerCase())||null}append(Ae,Pe){return this.clone({name:Ae,value:Pe,op:"a"})}set(Ae,Pe){return this.clone({name:Ae,value:Pe,op:"s"})}delete(Ae,Pe){return this.clone({name:Ae,value:Pe,op:"d"})}maybeSetNormalizedName(Ae,Pe){this.normalizedNames.has(Pe)||this.normalizedNames.set(Pe,Ae)}init(){this.lazyInit&&(this.lazyInit instanceof Ce?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ae=>this.applyUpdate(Ae)),this.lazyUpdate=null))}copyFrom(Ae){Ae.init(),Array.from(Ae.headers.keys()).forEach(Pe=>{this.headers.set(Pe,Ae.headers.get(Pe)),this.normalizedNames.set(Pe,Ae.normalizedNames.get(Pe))})}clone(Ae){const Pe=new Ce;return Pe.lazyInit=this.lazyInit&&this.lazyInit instanceof Ce?this.lazyInit:this,Pe.lazyUpdate=(this.lazyUpdate||[]).concat([Ae]),Pe}applyUpdate(Ae){const Pe=Ae.name.toLowerCase();switch(Ae.op){case"a":case"s":let Te=Ae.value;if("string"==typeof Te&&(Te=[Te]),0===Te.length)return;this.maybeSetNormalizedName(Ae.name,Pe);const Ee=("a"===Ae.op?this.headers.get(Pe):void 0)||[];Ee.push(...Te),this.headers.set(Pe,Ee);break;case"d":const $e=Ae.value;if($e){let et=this.headers.get(Pe);if(!et)return;et=et.filter(Zt=>-1===$e.indexOf(Zt)),0===et.length?(this.headers.delete(Pe),this.normalizedNames.delete(Pe)):this.headers.set(Pe,et)}else this.headers.delete(Pe),this.normalizedNames.delete(Pe)}}setHeaderEntries(Ae,Pe){const Te=(Array.isArray(Pe)?Pe:[Pe]).map($e=>$e.toString()),Ee=Ae.toLowerCase();this.headers.set(Ee,Te),this.maybeSetNormalizedName(Ae,Ee)}forEach(Ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(Pe=>Ae(this.normalizedNames.get(Pe),this.headers.get(Pe)))}}class je{encodeKey(Ae){return Dn(Ae)}encodeValue(Ae){return Dn(Ae)}decodeKey(Ae){return decodeURIComponent(Ae)}decodeValue(Ae){return decodeURIComponent(Ae)}}const Nt=/%(\d[a-f0-9])/gi,_n={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Dn(He){return encodeURIComponent(He).replace(Nt,(Ae,Pe)=>_n[Pe]??Ae)}function fn(He){return`${He}`}class dt{constructor(Ae={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ae.encoder||new je,Ae.fromString){if(Ae.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $t(He,Ae){const Pe=new Map;return He.length>0&&He.replace(/^\?/,"").split("&").forEach(Ee=>{const $e=Ee.indexOf("="),[et,Zt]=-1==$e?[Ae.decodeKey(Ee),""]:[Ae.decodeKey(Ee.slice(0,$e)),Ae.decodeValue(Ee.slice($e+1))],wt=Pe.get(et)||[];wt.push(Zt),Pe.set(et,wt)}),Pe}(Ae.fromString,this.encoder)}else Ae.fromObject?(this.map=new Map,Object.keys(Ae.fromObject).forEach(Pe=>{const Te=Ae.fromObject[Pe],Ee=Array.isArray(Te)?Te.map(fn):[fn(Te)];this.map.set(Pe,Ee)})):this.map=null}has(Ae){return this.init(),this.map.has(Ae)}get(Ae){this.init();const Pe=this.map.get(Ae);return Pe?Pe[0]:null}getAll(Ae){return this.init(),this.map.get(Ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ae,Pe){return this.clone({param:Ae,value:Pe,op:"a"})}appendAll(Ae){const Pe=[];return Object.keys(Ae).forEach(Te=>{const Ee=Ae[Te];Array.isArray(Ee)?Ee.forEach($e=>{Pe.push({param:Te,value:$e,op:"a"})}):Pe.push({param:Te,value:Ee,op:"a"})}),this.clone(Pe)}set(Ae,Pe){return this.clone({param:Ae,value:Pe,op:"s"})}delete(Ae,Pe){return this.clone({param:Ae,value:Pe,op:"d"})}toString(){return this.init(),this.keys().map(Ae=>{const Pe=this.encoder.encodeKey(Ae);return this.map.get(Ae).map(Te=>Pe+"="+this.encoder.encodeValue(Te)).join("&")}).filter(Ae=>""!==Ae).join("&")}clone(Ae){const Pe=new dt({encoder:this.encoder});return Pe.cloneFrom=this.cloneFrom||this,Pe.updates=(this.updates||[]).concat(Ae),Pe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ae=>this.map.set(Ae,this.cloneFrom.map.get(Ae))),this.updates.forEach(Ae=>{switch(Ae.op){case"a":case"s":const Pe=("a"===Ae.op?this.map.get(Ae.param):void 0)||[];Pe.push(fn(Ae.value)),this.map.set(Ae.param,Pe);break;case"d":if(void 0===Ae.value){this.map.delete(Ae.param);break}{let Te=this.map.get(Ae.param)||[];const Ee=Te.indexOf(fn(Ae.value));-1!==Ee&&Te.splice(Ee,1),Te.length>0?this.map.set(Ae.param,Te):this.map.delete(Ae.param)}}}),this.cloneFrom=this.updates=null)}}class at{constructor(){this.map=new Map}set(Ae,Pe){return this.map.set(Ae,Pe),this}get(Ae){return this.map.has(Ae)||this.map.set(Ae,Ae.defaultValue()),this.map.get(Ae)}delete(Ae){return this.map.delete(Ae),this}has(Ae){return this.map.has(Ae)}keys(){return this.map.keys()}}function pt(He){return typeof ArrayBuffer<"u"&&He instanceof ArrayBuffer}function gt(He){return typeof Blob<"u"&&He instanceof Blob}function Tt(He){return typeof FormData<"u"&&He instanceof FormData}class zn{constructor(Ae,Pe,Te,Ee){let $e;if(this.url=Pe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ae.toUpperCase(),function ct(He){switch(He){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ee?(this.body=void 0!==Te?Te:null,$e=Ee):$e=Te,$e&&(this.reportProgress=!!$e.reportProgress,this.withCredentials=!!$e.withCredentials,$e.responseType&&(this.responseType=$e.responseType),$e.headers&&(this.headers=$e.headers),$e.context&&(this.context=$e.context),$e.params&&(this.params=$e.params)),this.headers||(this.headers=new Ce),this.context||(this.context=new at),this.params){const et=this.params.toString();if(0===et.length)this.urlWithParams=Pe;else{const Zt=Pe.indexOf("?");this.urlWithParams=Pe+(-1===Zt?"?":Zt<Pe.length-1?"&":"")+et}}else this.params=new dt,this.urlWithParams=Pe}serializeBody(){return null===this.body?null:pt(this.body)||gt(this.body)||Tt(this.body)||function Tn(He){return typeof URLSearchParams<"u"&&He instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof dt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Tt(this.body)?null:gt(this.body)?this.body.type||null:pt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof dt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ae={}){const Pe=Ae.method||this.method,Te=Ae.url||this.url,Ee=Ae.responseType||this.responseType,$e=void 0!==Ae.body?Ae.body:this.body,et=void 0!==Ae.withCredentials?Ae.withCredentials:this.withCredentials,Zt=void 0!==Ae.reportProgress?Ae.reportProgress:this.reportProgress;let wt=Ae.headers||this.headers,gn=Ae.params||this.params;const gr=Ae.context??this.context;return void 0!==Ae.setHeaders&&(wt=Object.keys(Ae.setHeaders).reduce((An,li)=>An.set(li,Ae.setHeaders[li]),wt)),Ae.setParams&&(gn=Object.keys(Ae.setParams).reduce((An,li)=>An.set(li,Ae.setParams[li]),gn)),new zn(Pe,Te,$e,{params:gn,headers:wt,context:gr,reportProgress:Zt,responseType:Ee,withCredentials:et})}}var St=function(He){return He[He.Sent=0]="Sent",He[He.UploadProgress=1]="UploadProgress",He[He.ResponseHeader=2]="ResponseHeader",He[He.DownloadProgress=3]="DownloadProgress",He[He.Response=4]="Response",He[He.User=5]="User",He}(St||{});class Cn{constructor(Ae,Pe=200,Te="OK"){this.headers=Ae.headers||new Ce,this.status=void 0!==Ae.status?Ae.status:Pe,this.statusText=Ae.statusText||Te,this.url=Ae.url||null,this.ok=this.status>=200&&this.status<300}}class xt extends Cn{constructor(Ae={}){super(Ae),this.type=St.ResponseHeader}clone(Ae={}){return new xt({headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class cn extends Cn{constructor(Ae={}){super(Ae),this.type=St.Response,this.body=void 0!==Ae.body?Ae.body:null}clone(Ae={}){return new cn({body:void 0!==Ae.body?Ae.body:this.body,headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class Gt extends Cn{constructor(Ae){super(Ae,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ae.url||"(unknown url)"}`:`Http failure response for ${Ae.url||"(unknown url)"}: ${Ae.status} ${Ae.statusText}`,this.error=Ae.error||null}}function ut(He,Ae){return{body:Ae,headers:He.headers,context:He.context,observe:He.observe,params:He.params,reportProgress:He.reportProgress,responseType:He.responseType,withCredentials:He.withCredentials}}let We=(()=>{class He{constructor(Pe){this.handler=Pe}request(Pe,Te,Ee={}){let $e;if(Pe instanceof zn)$e=Pe;else{let wt,gn;wt=Ee.headers instanceof Ce?Ee.headers:new Ce(Ee.headers),Ee.params&&(gn=Ee.params instanceof dt?Ee.params:new dt({fromObject:Ee.params})),$e=new zn(Pe,Te,void 0!==Ee.body?Ee.body:null,{headers:wt,context:Ee.context,params:gn,reportProgress:Ee.reportProgress,responseType:Ee.responseType||"json",withCredentials:Ee.withCredentials})}const et=(0,T.of)($e).pipe((0,fe.b)(wt=>this.handler.handle(wt)));if(Pe instanceof zn||"events"===Ee.observe)return et;const Zt=et.pipe((0,he.h)(wt=>wt instanceof cn));switch(Ee.observe||"body"){case"body":switch($e.responseType){case"arraybuffer":return Zt.pipe((0,Ke.U)(wt=>{if(null!==wt.body&&!(wt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return wt.body}));case"blob":return Zt.pipe((0,Ke.U)(wt=>{if(null!==wt.body&&!(wt.body instanceof Blob))throw new Error("Response is not a Blob.");return wt.body}));case"text":return Zt.pipe((0,Ke.U)(wt=>{if(null!==wt.body&&"string"!=typeof wt.body)throw new Error("Response is not a string.");return wt.body}));default:return Zt.pipe((0,Ke.U)(wt=>wt.body))}case"response":return Zt;default:throw new Error(`Unreachable: unhandled observe type ${Ee.observe}}`)}}delete(Pe,Te={}){return this.request("DELETE",Pe,Te)}get(Pe,Te={}){return this.request("GET",Pe,Te)}head(Pe,Te={}){return this.request("HEAD",Pe,Te)}jsonp(Pe,Te){return this.request("JSONP",Pe,{params:(new dt).append(Te,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Pe,Te={}){return this.request("OPTIONS",Pe,Te)}patch(Pe,Te,Ee={}){return this.request("PATCH",Pe,ut(Ee,Te))}post(Pe,Te,Ee={}){return this.request("POST",Pe,ut(Ee,Te))}put(Pe,Te,Ee={}){return this.request("PUT",Pe,ut(Ee,Te))}static#e=this.\u0275fac=function(Te){return new(Te||He)(A.LFG(_e))};static#t=this.\u0275prov=A.Yz7({token:He,factory:He.\u0275fac})}return He})();function Vt(He,Ae){return Ae(He)}function kt(He,Ae){return(Pe,Te)=>Ae.intercept(Pe,{handle:Ee=>He(Ee,Te)})}const hr=new A.OlP(""),Gn=new A.OlP(""),xr=new A.OlP("");function Fr(){let He=null;return(Ae,Pe)=>{null===He&&(He=((0,A.f3M)(hr,{optional:!0})??[]).reduceRight(kt,Vt));const Te=(0,A.f3M)(A.HDt),Ee=Te.add();return He(Ae,Pe).pipe((0,Dt.x)(()=>Te.remove(Ee)))}}let wr=(()=>{class He extends _e{constructor(Pe,Te){super(),this.backend=Pe,this.injector=Te,this.chain=null,this.pendingTasks=(0,A.f3M)(A.HDt)}handle(Pe){if(null===this.chain){const Ee=Array.from(new Set([...this.injector.get(Gn),...this.injector.get(xr,[])]));this.chain=Ee.reduceRight(($e,et)=>function pn(He,Ae,Pe){return(Te,Ee)=>Pe.runInContext(()=>Ae(Te,$e=>He($e,Ee)))}($e,et,this.injector),Vt)}const Te=this.pendingTasks.add();return this.chain(Pe,Ee=>this.backend.handle(Ee)).pipe((0,Dt.x)(()=>this.pendingTasks.remove(Te)))}static#e=this.\u0275fac=function(Te){return new(Te||He)(A.LFG(qe),A.LFG(A.lqb))};static#t=this.\u0275prov=A.Yz7({token:He,factory:He.\u0275fac})}return He})();const ai=/^\)\]\}',?\n/;let Mr=(()=>{class He{constructor(Pe){this.xhrFactory=Pe}handle(Pe){if("JSONP"===Pe.method)throw new A.vHH(-2800,!1);const Te=this.xhrFactory;return(Te.\u0275loadImpl?(0,se.D)(Te.\u0275loadImpl()):(0,T.of)(null)).pipe((0,Ze.w)(()=>new z.y($e=>{const et=Te.build();if(et.open(Pe.method,Pe.urlWithParams),Pe.withCredentials&&(et.withCredentials=!0),Pe.headers.forEach((Vn,lr)=>et.setRequestHeader(Vn,lr.join(","))),Pe.headers.has("Accept")||et.setRequestHeader("Accept","application/json, text/plain, */*"),!Pe.headers.has("Content-Type")){const Vn=Pe.detectContentTypeHeader();null!==Vn&&et.setRequestHeader("Content-Type",Vn)}if(Pe.responseType){const Vn=Pe.responseType.toLowerCase();et.responseType="json"!==Vn?Vn:"text"}const Zt=Pe.serializeBody();let wt=null;const gn=()=>{if(null!==wt)return wt;const Vn=et.statusText||"OK",lr=new Ce(et.getAllResponseHeaders()),ui=function pi(He){return"responseURL"in He&&He.responseURL?He.responseURL:/^X-Request-URL:/m.test(He.getAllResponseHeaders())?He.getResponseHeader("X-Request-URL"):null}(et)||Pe.url;return wt=new xt({headers:lr,status:et.status,statusText:Vn,url:ui}),wt},gr=()=>{let{headers:Vn,status:lr,statusText:ui,url:ti}=gn(),Nn=null;204!==lr&&(Nn=typeof et.response>"u"?et.responseText:et.response),0===lr&&(lr=Nn?200:0);let jr=lr>=200&&lr<300;if("json"===Pe.responseType&&"string"==typeof Nn){const Ds=Nn;Nn=Nn.replace(ai,"");try{Nn=""!==Nn?JSON.parse(Nn):null}catch(ni){Nn=Ds,jr&&(jr=!1,Nn={error:ni,text:Nn})}}jr?($e.next(new cn({body:Nn,headers:Vn,status:lr,statusText:ui,url:ti||void 0})),$e.complete()):$e.error(new Gt({error:Nn,headers:Vn,status:lr,statusText:ui,url:ti||void 0}))},An=Vn=>{const{url:lr}=gn(),ui=new Gt({error:Vn,status:et.status||0,statusText:et.statusText||"Unknown Error",url:lr||void 0});$e.error(ui)};let li=!1;const As=Vn=>{li||($e.next(gn()),li=!0);let lr={type:St.DownloadProgress,loaded:Vn.loaded};Vn.lengthComputable&&(lr.total=Vn.total),"text"===Pe.responseType&&et.responseText&&(lr.partialText=et.responseText),$e.next(lr)},Pi=Vn=>{let lr={type:St.UploadProgress,loaded:Vn.loaded};Vn.lengthComputable&&(lr.total=Vn.total),$e.next(lr)};return et.addEventListener("load",gr),et.addEventListener("error",An),et.addEventListener("timeout",An),et.addEventListener("abort",An),Pe.reportProgress&&(et.addEventListener("progress",As),null!==Zt&&et.upload&&et.upload.addEventListener("progress",Pi)),et.send(Zt),$e.next({type:St.Sent}),()=>{et.removeEventListener("error",An),et.removeEventListener("abort",An),et.removeEventListener("load",gr),et.removeEventListener("timeout",An),Pe.reportProgress&&(et.removeEventListener("progress",As),null!==Zt&&et.upload&&et.upload.removeEventListener("progress",Pi)),et.readyState!==et.DONE&&et.abort()}})))}static#e=this.\u0275fac=function(Te){return new(Te||He)(A.LFG(ge.JF))};static#t=this.\u0275prov=A.Yz7({token:He,factory:He.\u0275fac})}return He})();const pr=new A.OlP("XSRF_ENABLED"),Pr=new A.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Yt=new A.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class gs{}let Wi=(()=>{class He{constructor(Pe,Te,Ee){this.doc=Pe,this.platform=Te,this.cookieName=Ee,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Pe=this.doc.cookie||"";return Pe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ge.Mx)(Pe,this.cookieName),this.lastCookieString=Pe),this.lastToken}static#e=this.\u0275fac=function(Te){return new(Te||He)(A.LFG(ge.K0),A.LFG(A.Lbi),A.LFG(Pr))};static#t=this.\u0275prov=A.Yz7({token:He,factory:He.\u0275fac})}return He})();function Cr(He,Ae){const Pe=He.url.toLowerCase();if(!(0,A.f3M)(pr)||"GET"===He.method||"HEAD"===He.method||Pe.startsWith("http://")||Pe.startsWith("https://"))return Ae(He);const Te=(0,A.f3M)(gs).getToken(),Ee=(0,A.f3M)(Yt);return null!=Te&&!He.headers.has(Ee)&&(He=He.clone({headers:He.headers.set(Ee,Te)})),Ae(He)}var ir=function(He){return He[He.Interceptors=0]="Interceptors",He[He.LegacyInterceptors=1]="LegacyInterceptors",He[He.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",He[He.NoXsrfProtection=3]="NoXsrfProtection",He[He.JsonpSupport=4]="JsonpSupport",He[He.RequestsMadeViaParent=5]="RequestsMadeViaParent",He[He.Fetch=6]="Fetch",He}(ir||{});function Mi(...He){const Ae=[We,Mr,wr,{provide:_e,useExisting:wr},{provide:qe,useExisting:Mr},{provide:Gn,useValue:Cr,multi:!0},{provide:pr,useValue:!0},{provide:gs,useClass:Wi}];for(const Pe of He)Ae.push(...Pe.\u0275providers);return(0,A.MR2)(Ae)}const Ut=new A.OlP("LEGACY_INTERCEPTOR_FN");function On(){return function rn(He,Ae){return{\u0275kind:He,\u0275providers:Ae}}(ir.LegacyInterceptors,[{provide:Ut,useFactory:Fr},{provide:Gn,useExisting:Ut,multi:!0}])}let ce=(()=>{class He{static#e=this.\u0275fac=function(Te){return new(Te||He)};static#t=this.\u0275mod=A.oAB({type:He});static#n=this.\u0275inj=A.cJS({providers:[Mi(On())]})}return He})()},4946:(vn,ft,X)=>{X.d(ft,{tb:()=>k0,AFp:()=>sp,ip1:()=>nT,hGG:()=>qA,z2F:()=>Z_,Ojb:()=>Bd,sBO:()=>MA,Sil:()=>QC,EJc:()=>ZC,Xts:()=>Kc,SBq:()=>ef,lqb:()=>yl,qLn:()=>tc,vpe:()=>El,XFs:()=>Yt,OlP:()=>Ut,zs3:()=>ja,ZZ4:()=>j0,aQg:()=>H0,soG:()=>rb,YKP:()=>iI,h0i:()=>ym,PXZ:()=>TA,R0b:()=>wo,FiY:()=>Zs,Lbi:()=>op,g9A:()=>Jc,Qsj:()=>tf,FYo:()=>t_,JOm:()=>Ah,tp0:()=>Ll,Rgc:()=>nv,dDg:()=>vA,eoX:()=>cT,q4F:()=>yp,GfV:()=>n_,s_b:()=>tb,ifc:()=>ui,VuI:()=>iD,MMx:()=>oI,Lck:()=>Ow,eFA:()=>pT,Gpc:()=>gt,f3M:()=>wt,$WT:()=>qi,MR2:()=>Bh,_c5:()=>WA,qFp:()=>oD,rg0:()=>yi,c2e:()=>rT,zSh:()=>Qu,HDt:()=>iT,wAp:()=>g,vHH:()=>xt,lri:()=>lT,rWj:()=>uT,cg1:()=>i,kL8:()=>n,dqk:()=>rn,Z0I:()=>Rr,eJc:()=>C0,QGY:()=>V_,F4k:()=>Mv,RDi:()=>hg,AaK:()=>at,qOj:()=>oc,Xq5:()=>ac,TTD:()=>ji,_Bn:()=>rI,jDz:()=>aI,xp6:()=>v_,uIk:()=>j,ekj:()=>Gv,Suo:()=>kI,Xpm:()=>Do,lG2:()=>cs,Yz7:()=>sr,cJS:()=>nn,oAB:()=>ua,Yjl:()=>to,Y36:()=>Kd,_UZ:()=>Hy,qZA:()=>jy,TgZ:()=>L_,EpF:()=>Eb,n5z:()=>bh,LFG:()=>et,$8M:()=>Ir,$Z:()=>Dp,NdJ:()=>Pv,CRH:()=>LI,oxw:()=>wb,ALo:()=>EI,xi3:()=>II,Q6J:()=>Dv,DdM:()=>pI,VKq:()=>gI,iGM:()=>NI,MAs:()=>mb,KtG:()=>Qe,CHM:()=>Ru,P3R:()=>Fh,Udp:()=>$v,YNc:()=>wv,_uU:()=>jb,Oqu:()=>qv,hij:()=>Ky,AsE:()=>Zv});var A=X(8645),T=X(7394),se=X(5592),z=X(7537),fe=X(4829),he=X(6232),Ke=X(4564),Dt=X(2459),ge=X(5619),_e=X(2096),qe=X(305),Ce=X(9360);function vt(t={}){const{connector:r=(()=>new A.x),resetOnError:s=!0,resetOnComplete:d=!0,resetOnRefCountZero:p=!0}=t;return _=>{let w,x,L,$=0,te=!1,ye=!1;const Ve=()=>{x?.unsubscribe(),x=void 0},Je=()=>{Ve(),w=L=void 0,te=ye=!1},Ct=()=>{const zt=w;Je(),zt?.unsubscribe()};return(0,Ce.e)((zt,hn)=>{$++,!ye&&!te&&Ve();const Bn=L=L??r();hn.add(()=>{$--,0===$&&!ye&&!te&&(x=je(Ct,p))}),Bn.subscribe(hn),!w&&$>0&&(w=new qe.Hp({next:Ot=>Bn.next(Ot),error:Ot=>{ye=!0,Ve(),x=je(Je,s,Ot),Bn.error(Ot)},complete:()=>{te=!0,Ve(),x=je(Je,d),Bn.complete()}}),(0,fe.Xf)(zt).subscribe(w))})(_)}}function je(t,r,...s){if(!0===r)return void t();if(!1===r)return;const d=new qe.Hp({next:()=>{d.unsubscribe(),t()}});return(0,fe.Xf)(r(...s)).subscribe(d)}var $t=X(4664),Nt=X(2737),_n=X(8251);function fn(t,r){return t===r}function dt(t){for(let r in t)if(t[r]===dt)return r;throw Error("Could not find renamed property on target object.")}function Ye(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function at(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(at).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function ct(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const pt=dt({__forward_ref__:dt});function gt(t){return t.__forward_ref__=gt,t.toString=function(){return at(this())},t}function Tt(t){return Tn(t)?t():t}function Tn(t){return"function"==typeof t&&t.hasOwnProperty(pt)&&t.__forward_ref__===gt}function zn(t){return t&&!!t.\u0275providers}const Cn="https://g.co/ng/security#xss";class xt extends Error{constructor(r,s){super(function cn(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Gt(t){return"string"==typeof t?t:null==t?"":String(t)}function Le(t,r){throw new xt(-201,!1)}function Pn(t,r){null==t&&function Ht(t,r,s,d){throw new Error(`ASSERTION ERROR: ${t}`+(null==d?"":` [Expected=> ${s} ${d} ${r} <=Actual]`))}(r,t,null,"!=")}function sr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function nn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Jt(t){return ai(t,pr)||ai(t,Pr)}function Rr(t){return null!==Jt(t)}function ai(t,r){return t.hasOwnProperty(r)?t[r]:null}function Mr(t){return t&&(t.hasOwnProperty(wi)||t.hasOwnProperty(ts))?t[wi]:null}const pr=dt({\u0275prov:dt}),wi=dt({\u0275inj:dt}),Pr=dt({ngInjectableDef:dt}),ts=dt({ngInjectorDef:dt});var Yt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Yt||{});let gs;function Cr(t){const r=gs;return gs=t,r}function Xr(t,r,s){const d=Jt(t);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:s&Yt.Optional?null:void 0!==r?r:void Le(at(t))}const rn=globalThis;class Ut{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=sr({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const yn={},Sn="__NG_DI_FLAG__",Wn="ngTempTokenPath",cr=/\n/gm,Ae="__source";let Pe;function Ee(t){const r=Pe;return Pe=t,r}function $e(t,r=Yt.Default){if(void 0===Pe)throw new xt(-203,!1);return null===Pe?Xr(t,void 0,r):Pe.get(t,r&Yt.Optional?null:void 0,r)}function et(t,r=Yt.Default){return(function Wi(){return gs}()||$e)(Tt(t),r)}function wt(t,r=Yt.Default){return et(t,gn(r))}function gn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function gr(t){const r=[];for(let s=0;s<t.length;s++){const d=Tt(t[s]);if(Array.isArray(d)){if(0===d.length)throw new xt(900,!1);let p,_=Yt.Default;for(let w=0;w<d.length;w++){const x=d[w],L=li(x);"number"==typeof L?-1===L?p=x.token:_|=L:p=x}r.push(et(p,_))}else r.push(et(d))}return r}function An(t,r){return t[Sn]=r,t.prototype[Sn]=r,t}function li(t){return t[Sn]}function Vn(t){return{toString:t}.toString()}var lr=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(lr||{}),ui=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ui||{});const ti={},Nn=[],jr=dt({\u0275cmp:dt}),Ds=dt({\u0275dir:dt}),ni=dt({\u0275pipe:dt}),Kn=dt({\u0275mod:dt}),ms=dt({\u0275fac:dt}),Qs=dt({__NG_ELEMENT_ID__:dt}),_s=dt({__NG_ENV_ID__:dt});function ls(t,r,s){let d=t.length;for(;;){const p=t.indexOf(r,s);if(-1===p)return p;if(0===p||t.charCodeAt(p-1)<=32){const _=r.length;if(p+_===d||t.charCodeAt(p+_)<=32)return p}s=p+1}}function Ei(t,r,s){let d=0;for(;d<s.length;){const p=s[d];if("number"==typeof p){if(0!==p)break;d++;const _=s[d++],w=s[d++],x=s[d++];t.setAttribute(r,w,x,_)}else{const _=p,w=s[++d];Js(_)?t.setProperty(r,_,w):t.setAttribute(r,_,w),d++}}return d}function Uo(t){return 3===t||4===t||6===t}function Js(t){return 64===t.charCodeAt(0)}function Oi(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let d=0;d<r.length;d++){const p=r[d];"number"==typeof p?s=p:0===s||ks(t,s,p,null,-1===s||2===s?r[++d]:null)}}return t}function ks(t,r,s,d,p){let _=0,w=t.length;if(-1===r)w=-1;else for(;_<t.length;){const x=t[_++];if("number"==typeof x){if(x===r){w=-1;break}if(x>r){w=_-1;break}}}for(;_<t.length;){const x=t[_];if("number"==typeof x)break;if(x===s){if(null===d)return void(null!==p&&(t[_+1]=p));if(d===t[_+1])return void(t[_+2]=p)}_++,null!==d&&_++,null!==p&&_++}-1!==w&&(t.splice(w,0,r),_=w+1),t.splice(_++,0,s),null!==d&&t.splice(_++,0,d),null!==p&&t.splice(_++,0,p)}const vi="ng-template";function Xs(t,r,s){let d=0,p=!0;for(;d<t.length;){let _=t[d++];if("string"==typeof _&&p){const w=t[d++];if(s&&"class"===_&&-1!==ls(w.toLowerCase(),r,0))return!0}else{if(1===_){for(;d<t.length&&"string"==typeof(_=t[d++]);)if(_.toLowerCase()===r)return!0;return!1}"number"==typeof _&&(p=!1)}}return!1}function Ss(t){return 4===t.type&&t.value!==vi}function Ni(t,r,s){return r===(4!==t.type||s?t.value:vi)}function Ls(t,r,s){let d=4;const p=t.attrs||[],_=function Aa(t){for(let r=0;r<t.length;r++)if(Uo(t[r]))return r;return t.length}(p);let w=!1;for(let x=0;x<r.length;x++){const L=r[x];if("number"!=typeof L){if(!w)if(4&d){if(d=2|1&d,""!==L&&!Ni(t,L,s)||""===L&&1===r.length){if(Ui(d))return!1;w=!0}}else{const $=8&d?L:r[++x];if(8&d&&null!==t.attrs){if(!Xs(t.attrs,$,s)){if(Ui(d))return!1;w=!0}continue}const ye=Ca(8&d?"class":L,p,Ss(t),s);if(-1===ye){if(Ui(d))return!1;w=!0;continue}if(""!==$){let Ve;Ve=ye>_?"":p[ye+1].toLowerCase();const Je=8&d?Ve:null;if(Je&&-1!==ls(Je,$,0)||2&d&&$!==Ve){if(Ui(d))return!1;w=!0}}}}else{if(!w&&!Ui(d)&&!Ui(L))return!1;if(w&&Ui(L))continue;w=!1,d=L|1&d}}return Ui(d)||w}function Ui(t){return 0==(1&t)}function Ca(t,r,s,d){if(null===r)return-1;let p=0;if(d||!s){let _=!1;for(;p<r.length;){const w=r[p];if(w===t)return p;if(3===w||6===w)_=!0;else{if(1===w||2===w){let x=r[++p];for(;"string"==typeof x;)x=r[++p];continue}if(4===w)break;if(0===w){p+=4;continue}}p+=_?1:2}return-1}return function xs(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const d=t[s];if("number"==typeof d)return-1;if(d===r)return s;s++}return-1}(r,t)}function ho(t,r,s=!1){for(let d=0;d<r.length;d++)if(Ls(t,r[d],s))return!0;return!1}function us(t,r){return t?":not("+r.trim()+")":r}function eo(t){let r=t[0],s=1,d=2,p="",_=!1;for(;s<t.length;){let w=t[s];if("string"==typeof w)if(2&d){const x=t[++s];p+="["+w+(x.length>0?'="'+x+'"':"")+"]"}else 8&d?p+="."+w:4&d&&(p+=" "+w);else""!==p&&!Ui(w)&&(r+=us(_,p),p=""),d=w,_=_||!Ui(d);s++}return""!==p&&(r+=us(_,p)),r}function Do(t){return Vn(()=>{const r=ca(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===lr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ui.Emulated,styles:t.styles||Nn,_:null,schemas:t.schemas||null,tView:null,id:""};go(s);const d=t.dependencies;return s.directiveDefs=Fs(d,!1),s.pipeDefs=Fs(d,!0),s.id=function Vs(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const p of s)r=Math.imul(31,r)+p.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function fo(t){return qn(t)||kn(t)}function po(t){return null!==t}function ua(t){return Vn(()=>({type:t.type,bootstrap:t.bootstrap||Nn,declarations:t.declarations||Nn,imports:t.imports||Nn,exports:t.exports||Nn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Bi(t,r){if(null==t)return ti;const s={};for(const d in t)if(t.hasOwnProperty(d)){let p=t[d],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),s[p]=d,r&&(r[p]=_)}return s}function cs(t){return Vn(()=>{const r=ca(t);return go(r),r})}function to(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function qn(t){return t[jr]||null}function kn(t){return t[Ds]||null}function Or(t){return t[ni]||null}function qi(t){const r=qn(t)||kn(t)||Or(t);return null!==r&&r.standalone}function Ai(t,r){const s=t[Kn]||null;if(!s&&!0===r)throw new Error(`Type ${at(t)} does not have '\u0275mod' property.`);return s}function ca(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||ti,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Nn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bi(t.inputs,r),outputs:Bi(t.outputs)}}function go(t){t.features?.forEach(r=>r(t))}function Fs(t,r){if(!t)return null;const s=r?Or:fo;return()=>("function"==typeof t?t():t).map(d=>s(d)).filter(po)}const ci=0,Kt=1,xn=2,q=3,Y=4,be=5,we=6,Ne=7,Xe=8,Bt=9,un=10,It=11,Fn=12,Xn=13,Nr=14,Yn=15,kr=16,Vr=17,Kr=18,Ur=19,mo=20,mi=21,br=22,ri=23,ki=24,Qn=25,Us=1,Ko=2,Jn=7,ys=9,Ii=11;function Hr(t){return Array.isArray(t)&&"object"==typeof t[Us]}function Di(t){return Array.isArray(t)&&!0===t[Us]}function rl(t){return 0!=(4&t.flags)}function Bo(t){return t.componentOffset>-1}function er(t){return 1==(1&t.flags)}function is(t){return!!t.template}function il(t){return 0!=(512&t[xn])}function Ho(t,r){return t.hasOwnProperty(ms)?t[ms]:null}let hs=null,_o=!1;function fs(t){const r=hs;return hs=t,r}const Ql={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ol(t){if(!yo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ro(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function ll(t){t.dirty=!0,function Lr(t){if(void 0===t.liveConsumerNode)return;const r=_o;_o=!0;try{for(const s of t.liveConsumerNode)s.dirty||ll(s)}finally{_o=r}}(t),t.consumerMarkedDirty?.(t)}function js(t){return t&&(t.nextProducerIndex=0),fs(t)}function Jl(t,r){if(fs(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(yo(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Qo(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ro(t){Rs(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],d=t.producerLastReadVersion[r];if(d!==s.version||(ol(s),d!==s.version))return!0}return!1}function xa(t){if(Rs(t),yo(t))for(let r=0;r<t.producerNode.length;r++)Qo(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Qo(t,r){if(function Zi(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Rs(t),1===t.liveConsumerNode.length)for(let d=0;d<t.producerNode.length;d++)Qo(t.producerNode[d],t.producerIndexOfThis[d]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const d=t.liveConsumerIndexOfThis[r],p=t.liveConsumerNode[r];Rs(p),p.producerIndexOfThis[d]=r}}function yo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Rs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ie=null;function yi(t){const r=fs(null);try{return t()}finally{fs(r)}}const Si=()=>{},io=(()=>({...Ql,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Si}))();class Rt{constructor(r,s,d){this.previousValue=r,this.currentValue=s,this.firstChange=d}isFirstChange(){return this.firstChange}}function ji(){return bo}function bo(t){return t.type.prototype.ngOnChanges&&(t.setInput=dn),pc}function pc(){const t=ch(this),r=t?.current;if(r){const s=t.previous;if(s===ti)t.previous=r;else for(let d in r)s[d]=r[d];t.current=null,this.ngOnChanges(r)}}function dn(t,r,s,d){const p=this.declaredInputs[s],_=ch(t)||function Xt(t,r){return t[Rn]=r}(t,{previous:ti,current:null}),w=_.current||(_.current={}),x=_.previous,L=x[p];w[p]=new Rt(L&&L.currentValue,r,x===ti),t[d]=r}ji.ngInherit=!0;const Rn="__ngSimpleChanges__";function ch(t){return t[Rn]||null}const hi=function(t,r,s){};function mr(t){for(;Array.isArray(t);)t=t[ci];return t}function Pa(t,r){return mr(r[t])}function Hs(t,r){return mr(r[t.index])}function hh(t,r){return t.data[r]}function Su(t,r){return t[r]}function Jo(t,r){const s=r[t];return Hr(s)?s:s[ci]}function Oa(t,r){return null==r?null:t[r]}function bi(t){t[Vr]=0}function wn(t){1024&t[xn]||(t[xn]|=1024,Ar(t,1))}function Eo(t){1024&t[xn]&&(t[xn]&=-1025,Ar(t,-1))}function Ar(t,r){let s=t[q];if(null===s)return;s[be]+=r;let d=s;for(s=s[q];null!==s&&(1===r&&1===d[be]||-1===r&&0===d[be]);)s[be]+=r,d=s,s=s[q]}const bt={lFrame:dr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function eu(){return bt.bindingsEnabled}function Pt(){return bt.lFrame.lView}function ur(){return bt.lFrame.tView}function Ru(t){return bt.lFrame.contextLView=t,t[Xe]}function Qe(t){return bt.lFrame.contextLView=null,t}function xi(){let t=Ms();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ms(){return bt.lFrame.currentTNode}function so(t,r){const s=bt.lFrame;s.currentTNode=t,s.isParent=r}function Go(){return bt.lFrame.isParent}function zs(){const t=bt.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function qa(){return bt.lFrame.bindingIndex++}function oo(t){const r=bt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function D(t,r){const s=bt.lFrame;s.bindingIndex=s.bindingRootIndex=t,H(r)}function H(t){bt.lFrame.currentDirectiveIndex=t}function ve(){return bt.lFrame.currentQueryIndex}function rt(t){bt.lFrame.currentQueryIndex=t}function nt(t){const r=t[Kt];return 2===r.type?r.declTNode:1===r.type?t[we]:null}function sn(t,r,s){if(s&Yt.SkipSelf){let p=r,_=t;for(;!(p=p.parent,null!==p||s&Yt.Host||(p=nt(_),null===p||(_=_[Nr],10&p.type))););if(null===p)return!1;r=p,t=_}const d=bt.lFrame=si();return d.currentTNode=r,d.lView=t,!0}function tr(t){const r=si(),s=t[Kt];bt.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function si(){const t=bt.lFrame,r=null===t?null:t.child;return null===r?dr(t):r}function dr(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function ma(){const t=bt.lFrame;return bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Al=ma;function Za(){const t=ma();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function bs(){return bt.lFrame.selectedIndex}function cl(t){bt.lFrame.selectedIndex=t}function os(){const t=bt.lFrame;return hh(t.tView,t.selectedIndex)}let dl=!0;function iu(){return dl}function hl(t){dl=t}function _d(t,r){for(let s=r.directiveStart,d=r.directiveEnd;s<d;s++){const _=t.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:x,ngAfterViewInit:L,ngAfterViewChecked:$,ngOnDestroy:te}=_;w&&(t.contentHooks??=[]).push(-s,w),x&&((t.contentHooks??=[]).push(s,x),(t.contentCheckHooks??=[]).push(s,x)),L&&(t.viewHooks??=[]).push(-s,L),$&&((t.viewHooks??=[]).push(s,$),(t.viewCheckHooks??=[]).push(s,$)),null!=te&&(t.destroyHooks??=[]).push(s,te)}}function ao(t,r,s){bc(t,r,3,s)}function Xo(t,r,s,d){(3&t[xn])===s&&bc(t,r,s,d)}function oi(t,r){let s=t[xn];(3&s)===r&&(s&=8191,s+=1,t[xn]=s)}function bc(t,r,s,d){const _=d??-1,w=r.length-1;let x=0;for(let L=void 0!==d?65535&t[Vr]:0;L<w;L++)if("number"==typeof r[L+1]){if(x=r[L],null!=d&&x>=d)break}else r[L]<0&&(t[Vr]+=65536),(x<_||-1==_)&&(fi(t,s,r,L),t[Vr]=(4294901760&t[Vr])+L+2),L++}function $s(t,r){hi(4,t,r);const s=fs(null);try{r.call(t)}finally{fs(s),hi(5,t,r)}}function fi(t,r,s,d){const p=s[d]<0,_=s[d+1],x=t[p?-s[d]:s[d]];p?t[xn]>>13<t[Vr]>>16&&(3&t[xn])===r&&(t[xn]+=8192,$s(x,_)):$s(x,_)}const su=-1;class Gs{constructor(r,s,d){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=d}}function Na(t){return t!==su}function Sl(t){return 32767&t}function xl(t,r){let s=function ou(t){return t>>16}(t),d=r;for(;s>0;)d=d[Nr],s--;return d}let ka=!0;function ta(t){const r=ka;return ka=t,r}const Ka=255,ya=5;let au=0;const lo={};function Oo(t,r){const s=Mu(t,r);if(-1!==s)return s;const d=r[Kt];d.firstCreatePass&&(t.injectorIndex=r.length,yd(d.data,t),yd(r,null),yd(d.blueprint,null));const p=va(t,r),_=t.injectorIndex;if(Na(p)){const w=Sl(p),x=xl(p,r),L=x[Kt].data;for(let $=0;$<8;$++)r[_+$]=x[w+$]|L[w+$]}return r[_+8]=p,_}function yd(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Mu(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function va(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,d=null,p=r;for(;null!==p;){if(d=Qa(p),null===d)return su;if(s++,p=p[Nr],-1!==d.injectorIndex)return d.injectorIndex|s<<16}return su}function vd(t,r,s){!function Ec(t,r,s){let d;"string"==typeof s?d=s.charCodeAt(0)||0:s.hasOwnProperty(Qs)&&(d=s[Qs]),null==d&&(d=s[Qs]=au++);const p=d&Ka;r.data[t+(p>>ya)]|=1<<p}(t,r,s)}function Tc(t,r,s){if(s&Yt.Optional||void 0!==t)return t;Le()}function _h(t,r,s,d){if(s&Yt.Optional&&void 0===d&&(d=null),!(s&(Yt.Self|Yt.Host))){const p=t[Bt],_=Cr(void 0);try{return p?p.get(r,d,s&Yt.Optional):Xr(r,d,s&Yt.Optional)}finally{Cr(_)}}return Tc(d,0,s)}function Rl(t,r,s,d=Yt.Default,p){if(null!==t){if(2048&r[xn]&&!(d&Yt.Self)){const w=function Yp(t,r,s,d,p){let _=t,w=r;for(;null!==_&&null!==w&&2048&w[xn]&&!(512&w[xn]);){const x=Ml(_,w,s,d|Yt.Self,lo);if(x!==lo)return x;let L=_.parent;if(!L){const $=w[mo];if($){const te=$.get(s,lo,d);if(te!==lo)return te}L=Qa(w),w=w[Nr]}_=L}return p}(t,r,s,d,lo);if(w!==lo)return w}const _=Ml(t,r,s,d,lo);if(_!==lo)return _}return _h(r,s,d,p)}function Ml(t,r,s,d,p){const _=function yh(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Qs)?t[Qs]:void 0;return"number"==typeof r?r>=0?r&Ka:wc:r}(s);if("function"==typeof _){if(!sn(r,t,d))return d&Yt.Host?Tc(p,0,d):_h(r,s,d,p);try{let w;if(w=_(d),null!=w||d&Yt.Optional)return w;Le()}finally{Al()}}else if("number"==typeof _){let w=null,x=Mu(t,r),L=su,$=d&Yt.Host?r[Yn][we]:null;for((-1===x||d&Yt.SkipSelf)&&(L=-1===x?va(t,r):r[x+8],L!==su&&Ps(d,!1)?(w=r[Kt],x=Sl(L),r=xl(L,r)):x=-1);-1!==x;){const te=r[Kt];if(vh(_,x,te.data)){const ye=bd(x,r,s,w,d,$);if(ye!==lo)return ye}L=r[x+8],L!==su&&Ps(d,r[Kt].data[x+8]===$)&&vh(_,x,r)?(w=te,x=Sl(L),r=xl(L,r)):x=-1}}return p}function bd(t,r,s,d,p,_){const w=r[Kt],x=w.data[t+8],te=Pu(x,w,s,null==d?Bo(x)&&ka:d!=w&&0!=(3&x.type),p&Yt.Host&&_===x);return null!==te?ba(r,w,te,x):lo}function Pu(t,r,s,d,p){const _=t.providerIndexes,w=r.data,x=1048575&_,L=t.directiveStart,te=_>>20,Ve=p?x+te:t.directiveEnd;for(let Je=d?x:x+te;Je<Ve;Je++){const Ct=w[Je];if(Je<L&&s===Ct||Je>=L&&Ct.type===s)return Je}if(p){const Je=w[L];if(Je&&is(Je)&&Je.type===s)return L}return null}function ba(t,r,s,d){let p=t[s];const _=r.data;if(function ea(t){return t instanceof Gs}(p)){const w=p;w.resolving&&function We(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new xt(-200,`Circular dependency in DI detected for ${t}${s}`)}(function ut(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Gt(t)}(_[s]));const x=ta(w.canSeeViewProviders);w.resolving=!0;const $=w.injectImpl?Cr(w.injectImpl):null;sn(t,d,Yt.Default);try{p=t[s]=w.factory(void 0,_,t,d),r.firstCreatePass&&s>=d.directiveStart&&function Es(t,r,s){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:_}=r.type.prototype;if(d){const w=bo(r);(s.preOrderHooks??=[]).push(t,w),(s.preOrderCheckHooks??=[]).push(t,w)}p&&(s.preOrderHooks??=[]).push(0-t,p),_&&((s.preOrderHooks??=[]).push(t,_),(s.preOrderCheckHooks??=[]).push(t,_))}(s,_[s],r)}finally{null!==$&&Cr($),ta(x),w.resolving=!1,Al()}}return p}function vh(t,r,s){return!!(s[r+(t>>ya)]&1<<t)}function Ps(t,r){return!(t&Yt.Self||t&Yt.Host&&r)}class zi{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,d){return Rl(this._tNode,this._lView,r,gn(d),s)}}function wc(){return new zi(xi(),Pt())}function bh(t){return Vn(()=>{const r=t.prototype.constructor,s=r[ms]||lu(r),d=Object.prototype;let p=Object.getPrototypeOf(t.prototype).constructor;for(;p&&p!==d;){const _=p[ms]||lu(p);if(_&&_!==s)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function lu(t){return Tn(t)?()=>{const r=lu(Tt(t));return r&&r()}:Ho(t)}function Qa(t){const r=t[Kt],s=r.type;return 2===s?r.declTNode:1===s?t[we]:null}function Ir(t){return function Ic(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const d=s.length;let p=0;for(;p<d;){const _=s[p];if(Uo(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<d&&"string"==typeof s[p];)p++;else{if(_===r)return s[p+1];p+=2}}}return null}(xi(),t)}const Ea="__parameters__";function Nl(t,r,s){return Vn(()=>{const d=function Ed(t){return function(...s){if(t){const d=t(...s);for(const p in d)this[p]=d[p]}}}(r);function p(..._){if(this instanceof p)return d.apply(this,_),this;const w=new p(..._);return x.annotation=w,x;function x(L,$,te){const ye=L.hasOwnProperty(Ea)?L[Ea]:Object.defineProperty(L,Ea,{value:[]})[Ea];for(;ye.length<=te;)ye.push(null);return(ye[te]=ye[te]||[]).push(w),L}}return s&&(p.prototype=Object.create(s.prototype)),p.prototype.ngMetadataName=t,p.annotationCls=p,p})}function fl(t,r){t.forEach(s=>Array.isArray(s)?fl(s,r):r(s))}function Dc(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Ou(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function qs(t,r,s){let d=du(t,r);return d>=0?t[1|d]=s:(d=~d,function Mf(t,r,s,d){let p=t.length;if(p==r)t.push(s,d);else if(1===p)t.push(d,t[0]),t[0]=s;else{for(p--,t.push(t[p-1],t[p]);p>r;)t[p]=t[p-2],p--;t[r]=s,t[r+1]=d}}(t,d,r,s)),d}function Ns(t,r){const s=du(t,r);if(s>=0)return t[1|s]}function du(t,r){return function hu(t,r,s){let d=0,p=t.length>>s;for(;p!==d;){const _=d+(p-d>>1),w=t[_<<s];if(r===w)return _<<s;w>r?p=_:d=_+1}return~(p<<s)}(t,r,1)}const Zs=An(Nl("Optional"),8),Ll=An(Nl("SkipSelf"),4);function qo(t){return 128==(128&t.flags)}var Ah=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ah||{});const _u=new Map;let ig=0;const Rd="__ngContext__";function Io(t,r){Hr(r)?(t[Rd]=r[Ur],function Gf(t){_u.set(t[Ur],t)}(r)):t[Rd]=r}let st;function Et(t,r){return st(t,r)}function Ln(t){const r=t[q];return Di(r)?r[q]:r}function ra(t){return Vl(t[Fn])}function ju(t){return Vl(t[Y])}function Vl(t){for(;null!==t&&!Di(t);)t=t[Y];return t}function gl(t,r,s,d,p){if(null!=d){let _,w=!1;Di(d)?_=d:Hr(d)&&(w=!0,d=d[ci]);const x=mr(d);0===t&&null!==s?null==p?lg(r,s,x):Vc(r,s,x,p||null,!0):1===t&&null!==s?Vc(r,s,x,p||null,!0):2===t?function Yf(t,r,s){const d=Uc(t,r);d&&function Mm(t,r,s,d){t.removeChild(r,s,d)}(t,d,r,s)}(r,x,w):3===t&&r.destroyNode(x),null!=_&&function X_(t,r,s,d,p){const _=s[Jn];_!==mr(s)&&gl(r,t,d,_,p);for(let x=Ii;x<s.length;x++){const L=s[x];qu(L[Kt],L,t,r,d,_)}}(r,t,_,s,p)}}function kc(t,r,s){return t.createElement(r,s)}function Rm(t,r){const s=t[ys],d=s.indexOf(r);Eo(r),s.splice(d,1)}function xh(t,r){if(t.length<=Ii)return;const s=Ii+r,d=t[s];if(d){const p=d[kr];null!==p&&p!==t&&Rm(p,d),r>0&&(t[s-1][Y]=d[Y]);const _=Ou(t,Ii+r);!function zu(t,r){qu(t,r,r[It],2,null,null),r[ci]=null,r[we]=null}(d[Kt],d);const w=_[Kr];null!==w&&w.detachView(_[Kt]),d[q]=null,d[Y]=null,d[xn]&=-129}return d}function ag(t,r){if(!(256&r[xn])){const s=r[It];r[ri]&&xa(r[ri]),r[ki]&&xa(r[ki]),s.destroyNode&&qu(t,r,s,3,null,null),function Zf(t){let r=t[Fn];if(!r)return Pd(t[Kt],t);for(;r;){let s=null;if(Hr(r))s=r[Fn];else{const d=r[Ii];d&&(s=d)}if(!s){for(;r&&!r[Y]&&r!==t;)Hr(r)&&Pd(r[Kt],r),r=r[q];null===r&&(r=t),Hr(r)&&Pd(r[Kt],r),s=r&&r[Y]}r=s}}(r)}}function Pd(t,r){if(!(256&r[xn])){r[xn]&=-129,r[xn]|=256,function vu(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let d=0;d<s.length;d+=2){const p=r[s[d]];if(!(p instanceof Gs)){const _=s[d+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const x=p[_[w]],L=_[w+1];hi(4,x,L);try{L.call(x)}finally{hi(5,x,L)}}else{hi(4,p,_);try{_.call(p)}finally{hi(5,p,_)}}}}}(t,r),function Ia(t,r){const s=t.cleanup,d=r[Ne];if(null!==s)for(let _=0;_<s.length-1;_+=2)if("string"==typeof s[_]){const w=s[_+3];w>=0?d[w]():d[-w].unsubscribe(),_+=2}else s[_].call(d[s[_+1]]);null!==d&&(r[Ne]=null);const p=r[mi];if(null!==p){r[mi]=null;for(let _=0;_<p.length;_++)(0,p[_])()}}(t,r),1===r[Kt].type&&r[It].destroy();const s=r[kr];if(null!==s&&Di(r[q])){s!==r[q]&&Rm(s,r);const d=r[Kr];null!==d&&d.detachView(t)}!function Dh(t){_u.delete(t[Ur])}(r)}}function bu(t,r,s){return function Kf(t,r,s){let d=r;for(;null!==d&&40&d.type;)d=(r=d).parent;if(null===d)return s[ci];{const{componentOffset:p}=d;if(p>-1){const{encapsulation:_}=t.data[d.directiveStart+p];if(_===ui.None||_===ui.Emulated)return null}return Hs(d,s)}}(t,r.parent,s)}function Vc(t,r,s,d,p){t.insertBefore(r,s,d,p)}function lg(t,r,s){t.appendChild(r,s)}function ml(t,r,s,d,p){null!==d?Vc(t,r,s,d,p):lg(t,r,s)}function Uc(t,r){return t.parentNode(r)}let jc,Mh,Gc,Wu=function Gu(t,r,s){return 40&t.type?Hs(t,s):null};function Od(t,r,s,d){const p=bu(t,d,r),_=r[It],x=function $u(t,r,s){return Wu(t,r,s)}(d.parent||r[we],d,r);if(null!=p)if(Array.isArray(s))for(let L=0;L<s.length;L++)ml(_,p,s[L],x,!1);else ml(_,p,s,x,!1);void 0!==jc&&jc(_,d,r,s,p)}function Ul(t,r){if(null!==r){const s=r.type;if(3&s)return Hs(r,t);if(4&s)return Hc(-1,t[r.index]);if(8&s){const d=r.child;if(null!==d)return Ul(t,d);{const p=t[r.index];return Di(p)?Hc(-1,p):mr(p)}}if(32&s)return Et(r,t)()||mr(t[r.index]);{const d=cg(t,r);return null!==d?Array.isArray(d)?d[0]:Ul(Ln(t[Yn]),d):Ul(t,r.next)}}return null}function cg(t,r){return null!==r?t[Yn][we].projection[r.projection]:null}function Hc(t,r){const s=Ii+t+1;if(s<r.length){const d=r[s],p=d[Kt].firstChild;if(null!==p)return Ul(d,p)}return r[Jn]}function Qf(t,r,s,d,p,_,w){for(;null!=s;){const x=d[s.index],L=s.type;if(w&&0===r&&(x&&Io(mr(x),d),s.flags|=2),32!=(32&s.flags))if(8&L)Qf(t,r,s.child,d,p,_,!1),gl(r,t,p,x,_);else if(32&L){const $=Et(s,d);let te;for(;te=$();)gl(r,t,p,te,_);gl(r,t,p,x,_)}else 16&L?Zu(t,r,d,s,p,_):gl(r,t,p,x,_);s=w?s.projectionNext:s.next}}function qu(t,r,s,d,p,_){Qf(s,d,t.firstChild,r,p,_,!1)}function Zu(t,r,s,d,p,_){const w=s[Yn],L=w[we].projection[d.projection];if(Array.isArray(L))for(let $=0;$<L.length;$++)gl(r,t,p,L[$],_);else{let $=L;const te=w[q];qo(d)&&($.flags|=128),Qf(t,r,$,te,p,_,!0)}}function Om(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function zc(t,r,s){const{mergedAttrs:d,classes:p,styles:_}=s;null!==d&&Ei(t,r,d),null!==p&&Om(t,r,p),null!==_&&function ey(t,r,s){t.setAttribute(r,"style",s)}(t,r,_)}function hg(t){Mh=t}function Lm(t){return function Ph(){if(void 0===Gc&&(Gc=null,rn.trustedTypes))try{Gc=rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Gc}()?.createScriptURL(t)||t}class Wc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Cn})`}}function Ua(t){return t instanceof Wc?t.changingThisBreaksApplicationSecurity:t}function Nd(t,r){const s=function Vm(t){return t instanceof Wc&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Cn})`)}return s===r}const sy=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Yu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Yu||{});function ep(t){const r=Zc();return r?r.sanitize(Yu.URL,t)||"":Nd(t,"URL")?Ua(t):function Ku(t){return(t=String(t)).match(sy)?t:"unsafe:"+t}(Gt(t))}function qm(t){const r=Zc();if(r)return Lm(r.sanitize(Yu.RESOURCE_URL,t)||"");if(Nd(t,"ResourceURL"))return Lm(Ua(t));throw new xt(904,!1)}function Fh(t,r,s){return function tp(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?qm:ep}(r,s)(t)}function Zc(){const t=Pt();return t&&t[un].sanitizer}const Kc=new Ut("ENVIRONMENT_INITIALIZER"),Ld=new Ut("INJECTOR",-1),Vh=new Ut("INJECTOR_DEF_TYPES");class Uh{get(r,s=yn){if(s===yn){const d=new Error(`NullInjectorError: No provider for ${at(r)}!`);throw d.name="NullInjectorError",d}return s}}function Bh(t){return{\u0275providers:t}}function cy(...t){return{\u0275providers:Ig(0,t),\u0275fromNgModule:!0}}function Ig(t,...r){const s=[],d=new Set;let p;const _=w=>{s.push(w)};return fl(r,w=>{const x=w;jh(x,_,[],d)&&(p||=[],p.push(x))}),void 0!==p&&Km(p,_),s}function Km(t,r){for(let s=0;s<t.length;s++){const{ngModule:d,providers:p}=t[s];Hh(p,_=>{r(_,d)})}}function jh(t,r,s,d){if(!(t=Tt(t)))return!1;let p=null,_=Mr(t);const w=!_&&qn(t);if(_||w){if(w&&!w.standalone)return!1;p=t}else{const L=t.ngModule;if(_=Mr(L),!_)return!1;p=L}const x=d.has(p);if(w){if(x)return!1;if(d.add(p),w.dependencies){const L="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const $ of L)jh($,r,s,d)}}else{if(!_)return!1;{if(null!=_.imports&&!x){let $;d.add(p);try{fl(_.imports,te=>{jh(te,r,s,d)&&($||=[],$.push(te))})}finally{}void 0!==$&&Km($,r)}if(!x){const $=Ho(p)||(()=>new p);r({provide:p,useFactory:$,deps:Nn},p),r({provide:Vh,useValue:p,multi:!0},p),r({provide:Kc,useValue:()=>et(p),multi:!0},p)}const L=_.providers;if(null!=L&&!x){const $=t;Hh(L,te=>{r(te,$)})}}}return p!==t&&void 0!==t.providers}function Hh(t,r){for(let s of t)zn(s)&&(s=s.\u0275providers),Array.isArray(s)?Hh(s,r):r(s)}const Fd=dt({provide:String,useValue:dt});function zh(t){return null!==t&&"object"==typeof t&&Fd in t}function Yc(t){return"function"==typeof t}const Qu=new Ut("Set Injector scope."),wu={},np={};let rp;function $h(){return void 0===rp&&(rp=new Uh),rp}class yl{}class Ud extends yl{get destroyed(){return this._destroyed}constructor(r,s,d,p){super(),this.parent=s,this.source=d,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vl(r,w=>this.processProvider(w)),this.records.set(Ld,Qc(void 0,this)),p.has("environment")&&this.records.set(yl,Qc(void 0,this));const _=this.records.get(Qu);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Vh.multi,Nn,Yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=Ee(this),d=Cr(void 0);try{return r()}finally{Ee(s),Cr(d)}}get(r,s=yn,d=Yt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(_s))return r[_s](this);d=gn(d);const _=Ee(this),w=Cr(void 0);try{if(!(d&Yt.SkipSelf)){let L=this.records.get(r);if(void 0===L){const $=function Wh(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ut}(r)&&Jt(r);L=$&&this.injectableDefInScope($)?Qc(Gh(r),wu):null,this.records.set(r,L)}if(null!=L)return this.hydrate(r,L)}return(d&Yt.Self?$h():this.parent).get(r,s=d&Yt.Optional&&s===yn?null:s)}catch(x){if("NullInjectorError"===x.name){if((x[Wn]=x[Wn]||[]).unshift(at(r)),_)throw x;return function As(t,r,s,d){const p=t[Wn];throw r[Ae]&&p.unshift(r[Ae]),t.message=function Pi(t,r,s,d=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let p=at(r);if(Array.isArray(r))p=r.map(at).join(" -> ");else if("object"==typeof r){let _=[];for(let w in r)if(r.hasOwnProperty(w)){let x=r[w];_.push(w+":"+("string"==typeof x?JSON.stringify(x):at(x)))}p=`{${_.join(", ")}}`}return`${s}${d?"("+d+")":""}[${p}]: ${t.replace(cr,"\n  ")}`}("\n"+t.message,p,s,d),t.ngTokenPath=p,t[Wn]=null,t}(x,r,"R3InjectorError",this.source)}throw x}finally{Cr(w),Ee(_)}}resolveInjectorInitializers(){const r=Ee(this),s=Cr(void 0);try{const p=this.get(Kc.multi,Nn,Yt.Self);for(const _ of p)_()}finally{Ee(r),Cr(s)}}toString(){const r=[],s=this.records;for(const d of s.keys())r.push(at(d));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xt(205,!1)}processProvider(r){let s=Yc(r=Tt(r))?r:Tt(r&&r.provide);const d=function wg(t){return zh(t)?Qc(void 0,t.useValue):Qc(Ju(t),wu)}(r);if(Yc(r)||!0!==r.multi)this.records.get(s);else{let p=this.records.get(s);p||(p=Qc(void 0,wu,!0),p.factory=()=>gr(p.multi),this.records.set(s,p)),s=r,p.multi.push(r)}this.records.set(s,d)}hydrate(r,s){return s.value===wu&&(s.value=np,s.value=s.factory()),"object"==typeof s.value&&s.value&&function ip(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Tt(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Gh(t){const r=Jt(t),s=null!==r?r.factory:Ho(t);if(null!==s)return s;if(t instanceof Ut)throw new xt(204,!1);if(t instanceof Function)return function hy(t){const r=t.length;if(r>0)throw function ko(t,r){const s=[];for(let d=0;d<t;d++)s.push(r);return s}(r,"?"),new xt(204,!1);const s=function pi(t){return t&&(t[pr]||t[Pr])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new xt(204,!1)}function Ju(t,r,s){let d;if(Yc(t)){const p=Tt(t);return Ho(p)||Gh(p)}if(zh(t))d=()=>Tt(t.useValue);else if(function Tg(t){return!(!t||!t.useFactory)}(t))d=()=>t.useFactory(...gr(t.deps||[]));else if(function Ym(t){return!(!t||!t.useExisting)}(t))d=()=>et(Tt(t.useExisting));else{const p=Tt(t&&(t.useClass||t.provide));if(!function Cg(t){return!!t.deps}(t))return Ho(p)||Gh(p);d=()=>new p(...gr(t.deps))}return d}function Qc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function vl(t,r){for(const s of t)Array.isArray(s)?vl(s,r):s&&zn(s)?vl(s.\u0275providers,r):r(s)}const sp=new Ut("AppId",{providedIn:"root",factory:()=>Ag}),Ag="ng",Jc=new Ut("Platform Initializer"),op=new Ut("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Bd=new Ut("CSP nonce",{providedIn:"root",factory:()=>function $c(){if(void 0!==Mh)return Mh;if(typeof document<"u")return document;throw new xt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cp=(t,r,s)=>null;function hp(t,r,s=!1){return cp(t,r,s)}class Jh{}class Xh{}class Og{resolveComponentFactory(r){throw function Xm(t){const r=Error(`No component factory found for ${at(t)}.`);return r.ngComponent=t,r}(r)}}let gp=(()=>{class t{static#e=this.NULL=new Og}return t})();function mp(){return sd(xi(),Pt())}function sd(t,r){return new ef(Hs(t,r))}let ef=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=mp}return t})();function _p(t){return t instanceof ef?t.nativeElement:t}class t_{}let tf=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function gy(){const t=Pt(),s=Jo(xi().index,t);return(Hr(s)?s:t)[It]}()}return t})(),Ng=(()=>{class t{static#e=this.\u0275prov=sr({token:t,providedIn:"root",factory:()=>null})}return t})();class n_{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const yp=new n_("16.2.11"),nf={};function i_(t,r=null,s=null,d){const p=vp(t,r,s,d);return p.resolveInjectorInitializers(),p}function vp(t,r=null,s=null,d,p=new Set){const _=[s||Nn,cy(t)];return d=d||("object"==typeof t?void 0:at(t)),new Ud(_,r||$h(),d||null,p)}let ja=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=yn;static#t=this.NULL=new Uh;static create(s,d){if(Array.isArray(s))return i_({name:""},d,s,"");{const p=s.name??"";return i_({name:p},s.parent,s.providers,p)}}static#n=this.\u0275prov=sr({token:t,providedIn:"any",factory:()=>et(Ld)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Lg(t){return t.ngOriginalError}class tc{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Lg(r);for(;s&&Lg(s);)s=Lg(s);return s||null}}function Vg(t){return r=>{setTimeout(t,void 0,r)}}const El=class o_ extends A.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,d){let p=r,_=s||(()=>null),w=d;if(r&&"object"==typeof r){const L=r;p=L.next?.bind(L),_=L.error?.bind(L),w=L.complete?.bind(L)}this.__isAsync&&(_=Vg(_),p&&(p=Vg(p)),w&&(w=Vg(w)));const x=super.subscribe({next:p,error:_,complete:w});return r instanceof T.w0&&r.add(x),x}};function Ug(...t){}class wo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new El(!1),this.onMicrotaskEmpty=new El(!1),this.onStable=new El(!1),this.onError=new El(!1),typeof Zone>"u")throw new xt(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&s,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function a_(){const t="function"==typeof rn.requestAnimationFrame;let r=rn[t?"requestAnimationFrame":"setTimeout"],s=rn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const d=r[Zone.__symbol__("OriginalDelegate")];d&&(r=d);const p=s[Zone.__symbol__("OriginalDelegate")];p&&(s=p)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function jg(t){const r=()=>{!function yy(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(rn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,uf(t),t.isCheckStableRunning=!0,Bg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),uf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,d,p,_,w,x)=>{if(function $i(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(x))return s.invokeTask(p,_,w,x);try{return Ep(t),s.invokeTask(p,_,w,x)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||t.shouldCoalesceRunChangeDetection)&&r(),l_(t)}},onInvoke:(s,d,p,_,w,x,L)=>{try{return Ep(t),s.invoke(p,_,w,x,L)}finally{t.shouldCoalesceRunChangeDetection&&r(),l_(t)}},onHasTask:(s,d,p,_)=>{s.hasTask(p,_),d===p&&("microTask"==_.change?(t._hasPendingMicrotasks=_.microTask,uf(t),Bg(t)):"macroTask"==_.change&&(t.hasPendingMacrotasks=_.macroTask))},onHandleError:(s,d,p,_)=>(s.handleError(p,_),t.runOutsideAngular(()=>t.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wo.isInAngularZone())throw new xt(909,!1)}static assertNotInAngularZone(){if(wo.isInAngularZone())throw new xt(909,!1)}run(r,s,d){return this._inner.run(r,s,d)}runTask(r,s,d,p){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+p,r,_y,Ug,Ug);try{return _.runTask(w,s,d)}finally{_.cancelTask(w)}}runGuarded(r,s,d){return this._inner.runGuarded(r,s,d)}runOutsideAngular(r){return this._outer.run(r)}}const _y={};function Bg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function uf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ep(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function l_(t){t._nesting--,Bg(t)}class Hg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new El,this.onMicrotaskEmpty=new El,this.onStable=new El,this.onError=new El}run(r,s,d){return r.apply(s,d)}runGuarded(r,s,d){return r.apply(s,d)}runOutsideAngular(r){return r()}runTask(r,s,d,p){return r.apply(s,d)}}const u_=new Ut("",{providedIn:"root",factory:Ip});function Ip(){const t=wt(wo);let r=!0;return function Ze(...t){const r=(0,Ke.yG)(t),s=(0,Ke._6)(t,1/0),d=t;return d.length?1===d.length?(0,fe.Xf)(d[0]):(0,z.J)(s)((0,Dt.D)(d,r)):he.E}(new se.y(p=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{p.next(r),p.complete()})}),new se.y(p=>{let _;t.runOutsideAngular(()=>{_=t.onStable.subscribe(()=>{wo.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,p.next(!0))})})});const w=t.onUnstable.subscribe(()=>{wo.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{p.next(!1)}))});return()=>{_.unsubscribe(),w.unsubscribe()}}).pipe(vt()))}function zl(t){return t instanceof Function?t():t}let Wd=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=sr({token:t,providedIn:"root",factory:()=>new t})}return t})();function ld(t){for(;t;){t[xn]|=64;const r=Ln(t);if(il(t)&&!r)return t;t=r}return null}const qd=new Ut("",{providedIn:"root",factory:()=>!1});let Zd=null;function __(t,r){return t[r]??qg()}function wp(t,r){const s=qg();s.producerNode?.length&&(t[r]=Zd,s.lView=t,Zd=Cp())}const y_={...Ql,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ld(t.lView)},lView:null};function Cp(){return Object.create(y_)}function qg(){return Zd??=Cp(),Zd}const yr={};function v_(t){Ap(ur(),Pt(),bs()+t,!1)}function Ap(t,r,s,d){if(!d)if(3==(3&r[xn])){const _=t.preOrderCheckHooks;null!==_&&ao(r,_,s)}else{const _=t.preOrderHooks;null!==_&&Xo(r,_,0,s)}cl(s)}function Kd(t,r=Yt.Default){const s=Pt();return null===s?et(t,r):Rl(xi(),s,Tt(t),r)}function Dp(){throw new Error("invalid")}function Yd(t,r,s,d,p,_,w,x,L,$,te){const ye=r.blueprint.slice();return ye[ci]=p,ye[xn]=140|d,(null!==$||t&&2048&t[xn])&&(ye[xn]|=2048),bi(ye),ye[q]=ye[Nr]=t,ye[Xe]=s,ye[un]=w||t&&t[un],ye[It]=x||t&&t[It],ye[Bt]=L||t&&t[Bt]||null,ye[we]=_,ye[Ur]=function xm(){return ig++}(),ye[br]=te,ye[mo]=$,ye[Yn]=2==r.type?t[Yn]:ye,ye}function Qd(t,r,s,d,p){let _=t.data[r];if(null===_)_=function Jd(t,r,s,d,p){const _=Ms(),w=Go(),L=t.data[r]=function E_(t,r,s,d,p,_){let w=r?r.injectorIndex:-1,x=0;return function Yr(){return null!==bt.skipHydrationRootTNode}()&&(x|=128),{type:s,index:d,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:x,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?_:_&&_.parent,s,r,d,p);return null===t.firstChild&&(t.firstChild=L),null!==_&&(w?null==_.child&&null!==L.parent&&(_.child=L):null===_.next&&(_.next=L,L.prev=_)),L}(t,r,s,d,p),function S(){return bt.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=s,_.value=d,_.attrs=p;const w=function Li(){const t=bt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();_.injectorIndex=null===w?-1:w.injectorIndex}return so(_,!0),_}function hf(t,r,s,d){if(0===s)return-1;const p=r.length;for(let _=0;_<s;_++)r.push(d),t.blueprint.push(d),t.data.push(null);return p}function xp(t,r,s,d,p){const _=__(r,ri),w=bs(),x=2&d;try{cl(-1),x&&r.length>Qn&&Ap(t,r,Qn,!1),hi(x?2:0,p);const $=x?_:null,te=js($);try{null!==$&&($.dirty=!1),s(d,p)}finally{Jl($,te)}}finally{x&&null===r[ri]&&wp(r,ri),cl(w),hi(x?3:1,p)}}function Rp(t,r,s){if(rl(r)){const d=fs(null);try{const _=r.directiveEnd;for(let w=r.directiveStart;w<_;w++){const x=t.data[w];x.contentQueries&&x.contentQueries(1,s[w],w)}}finally{fs(d)}}}function rc(t,r,s){eu()&&(function Cy(t,r,s,d){const p=s.directiveStart,_=s.directiveEnd;Bo(s)&&function sc(t,r,s){const d=Hs(r,t),p=pf(s);let w=16;s.signals?w=4096:s.onPush&&(w=64);const x=Xi(t,Yd(t,p,null,w,d,r,null,t[un].rendererFactory.createRenderer(d,s),null,null,null));t[r.index]=x}(r,s,t.data[p+s.componentOffset]),t.firstCreatePass||Oo(s,r),Io(d,r);const w=s.initialInputs;for(let x=p;x<_;x++){const L=t.data[x],$=ba(r,t,x,s);Io($,r),null!==w&&em(0,x-p,$,L,0,w),is(L)&&(Jo(s.index,r)[Xe]=ba(r,t,x,s))}}(t,r,s,Hs(s,r)),64==(64&s.flags)&&C_(t,r,s))}function ff(t,r,s=Hs){const d=r.localNames;if(null!==d){let p=r.index+1;for(let _=0;_<d.length;_+=2){const w=d[_+1],x=-1===w?s(r,t):t[w];t[p++]=x}}}function pf(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Zg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Zg(t,r,s,d,p,_,w,x,L,$,te){const ye=Qn+d,Ve=ye+p,Je=function b_(t,r){const s=[];for(let d=0;d<r;d++)s.push(d<t?null:yr);return s}(ye,Ve),Ct="function"==typeof $?$():$;return Je[Kt]={type:t,blueprint:Je,template:s,queries:null,viewQuery:x,declTNode:r,data:Je.slice().fill(null,ye),bindingStartIndex:ye,expandoStartIndex:Ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:L,consts:Ct,incompleteFirstPass:!1,ssrId:te}}let gf=t=>null;function Mp(t,r,s,d){for(let p in t)if(t.hasOwnProperty(p)){s=null===s?{}:s;const _=t[p];null===d?Pp(s,r,p,_):d.hasOwnProperty(p)&&Pp(s,r,d[p],_)}return s}function Pp(t,r,s,d){t.hasOwnProperty(s)?t[s].push(r,d):t[s]=[r,d]}function Np(t,r,s,d){if(eu()){const p=null===d?null:{"":-1},_=function pv(t,r){const s=t.directiveRegistry;let d=null,p=null;if(s)for(let _=0;_<s.length;_++){const w=s[_];if(ho(r,w.selectors,!1))if(d||(d=[]),is(w))if(null!==w.findHostDirectiveDefs){const x=[];p=p||new Map,w.findHostDirectiveDefs(w,x,p),d.unshift(...x,w),kp(t,r,x.length)}else d.unshift(w),kp(t,r,0);else p=p||new Map,w.findHostDirectiveDefs?.(w,d,p),d.push(w)}return null===d?null:[d,p]}(t,s);let w,x;null===_?w=x=null:[w,x]=_,null!==w&&ud(t,r,s,w,p,x),p&&function Dy(t,r,s){if(r){const d=t.localNames=[];for(let p=0;p<r.length;p+=2){const _=s[r[p+1]];if(null==_)throw new xt(-301,!1);d.push(r[p],_)}}}(s,d,p)}s.mergedAttrs=Oi(s.mergedAttrs,s.attrs)}function ud(t,r,s,d,p,_){for(let $=0;$<d.length;$++)vd(Oo(s,r),t,d[$].type);!function Xg(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,d.length);for(let $=0;$<d.length;$++){const te=d[$];te.providersResolver&&te.providersResolver(te)}let w=!1,x=!1,L=hf(t,r,d.length,null);for(let $=0;$<d.length;$++){const te=d[$];s.mergedAttrs=Oi(s.mergedAttrs,te.hostAttrs),Sy(t,s,r,L,te),ic(L,te,p),null!==te.contentQueries&&(s.flags|=4),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(s.flags|=64);const ye=te.type.prototype;!w&&(ye.ngOnChanges||ye.ngOnInit||ye.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),w=!0),!x&&(ye.ngOnChanges||ye.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),x=!0),L++}!function Op(t,r,s){const p=r.directiveEnd,_=t.data,w=r.attrs,x=[];let L=null,$=null;for(let te=r.directiveStart;te<p;te++){const ye=_[te],Ve=s?s.get(ye):null,Ct=Ve?Ve.outputs:null;L=Mp(ye.inputs,te,L,Ve?Ve.inputs:null),$=Mp(ye.outputs,te,$,Ct);const zt=null===L||null===w||Ss(r)?null:Fp(L,te,w);x.push(zt)}null!==L&&(L.hasOwnProperty("class")&&(r.flags|=8),L.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=x,r.inputs=L,r.outputs=$}(t,s,_)}function C_(t,r,s){const d=s.directiveStart,p=s.directiveEnd,_=s.index,w=function F(){return bt.lFrame.currentDirectiveIndex}();try{cl(_);for(let x=d;x<p;x++){const L=t.data[x],$=r[x];H(x),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&Ay(L,$)}}finally{cl(-1),H(w)}}function Ay(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function kp(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function ic(t,r,s){if(s){if(r.exportAs)for(let d=0;d<r.exportAs.length;d++)s[r.exportAs[d]]=t;is(r)&&(s[""]=t)}}function Sy(t,r,s,d,p){t.data[d]=p;const _=p.factory||(p.factory=Ho(p.type)),w=new Gs(_,is(p),Kd);t.blueprint[d]=w,s[d]=w,function Jg(t,r,s,d,p){const _=p.hostBindings;if(_){let w=t.hostBindingOpCodes;null===w&&(w=t.hostBindingOpCodes=[]);const x=~r.index;(function fv(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(w)!=x&&w.push(x),w.push(s,d,_)}}(t,r,d,hf(t,s,p.hostVars,yr),p)}function Il(t,r,s,d,p,_){const w=Hs(t,r);!function Lp(t,r,s,d,p,_,w){if(null==_)t.removeAttribute(r,p,s);else{const x=null==w?Gt(_):w(_,d||"",p);t.setAttribute(r,p,x,s)}}(r[It],w,_,t.value,s,d,p)}function em(t,r,s,d,p,_){const w=_[r];if(null!==w)for(let x=0;x<w.length;)cd(d,s,w[x++],w[x++],w[x++])}function cd(t,r,s,d,p){const _=fs(null);try{const w=t.inputTransforms;null!==w&&w.hasOwnProperty(d)&&(p=w[d].call(r,p)),null!==t.setInput?t.setInput(r,p,s,d):r[d]=p}finally{fs(_)}}function Fp(t,r,s){let d=null,p=0;for(;p<s.length;){const _=s[p];if(0!==_)if(5!==_){if("number"==typeof _)break;if(t.hasOwnProperty(_)){null===d&&(d=[]);const w=t[_];for(let x=0;x<w.length;x+=2)if(w[x]===r){d.push(_,w[x+1],s[p+1]);break}}p+=2}else p+=2;else p+=4}return d}function eh(t,r,s,d){return[t,!0,!1,r,null,0,d,s,null,null,null]}function tm(t,r){const s=t.contentQueries;if(null!==s)for(let d=0;d<s.length;d+=2){const _=s[d+1];if(-1!==_){const w=t.data[_];rt(s[d]),w.contentQueries(2,r[_],_)}}}function Xi(t,r){return t[Fn]?t[Xn][Y]=r:t[Fn]=r,t[Xn]=r,r}function Br(t,r,s){rt(0);const d=fs(null);try{r(t,s)}finally{fs(d)}}function nm(t){return t[Ne]||(t[Ne]=[])}function th(t){return t.cleanup||(t.cleanup=[])}function Co(t,r){const s=t[Bt],d=s?s.get(tc,null):null;d&&d.handleError(r)}function ps(t,r,s,d,p){for(let _=0;_<s.length;){const w=s[_++],x=s[_++];cd(t.data[w],r[w],d,x,p)}}function Ao(t,r,s){const d=Pa(r,t);!function Md(t,r,s){t.setValue(r,s)}(t[It],d,s)}function Ry(t,r){const s=Jo(r,t),d=s[Kt];!function gv(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(d,s);const p=s[ci];null!==p&&null===s[br]&&(s[br]=hp(p,s[Bt])),Vp(d,s,s[Xe])}function Vp(t,r,s){tr(r);try{const d=t.viewQuery;null!==d&&Br(1,d,s);const p=t.template;null!==p&&xp(t,r,p,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&tm(t,r),t.staticViewQueries&&Br(2,t.viewQuery,s);const _=t.components;null!==_&&function mv(t,r){for(let s=0;s<r.length;s++)Ry(t,r[s])}(r,_)}catch(d){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),d}finally{r[xn]&=-5,Za()}}let rm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,d,p){const _=typeof Zone>"u"?null:Zone.current,w=function Ki(t,r,s){const d=Object.create(io);s&&(d.consumerAllowSignalWrites=!0),d.fn=t,d.schedule=r;const p=w=>{d.cleanupFn=w};return d.ref={notify:()=>ll(d),run:()=>{if(d.dirty=!1,d.hasRun&&!ro(d))return;d.hasRun=!0;const w=js(d);try{d.cleanupFn(),d.cleanupFn=Si,d.fn(p)}finally{Jl(d,w)}},cleanup:()=>d.cleanupFn()},d.ref}(s,$=>{this.all.has($)&&this.queue.set($,_)},p);let x;this.all.add(w),w.notify();const L=()=>{w.cleanup(),x?.(),this.all.delete(w),this.queue.delete(w)};return x=d?.onDestroy(L),{destroy:L}}flush(){if(0!==this.queue.size)for(const[s,d]of this.queue)this.queue.delete(s),d?d.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=sr({token:t,providedIn:"root",factory:()=>new t})}return t})();function nh(t,r,s){let d=s?t.styles:null,p=s?t.classes:null,_=0;if(null!==r)for(let w=0;w<r.length;w++){const x=r[w];"number"==typeof x?_=x:1==_?p=ct(p,x):2==_&&(d=ct(d,x+": "+r[++w]+";"))}s?t.styles=d:t.stylesWithoutHost=d,s?t.classes=p:t.classesWithoutHost=p}function mf(t,r,s,d,p=!1){for(;null!==s;){const _=r[s.index];null!==_&&d.push(mr(_)),Di(_)&&My(_,d);const w=s.type;if(8&w)mf(t,r,s.child,d);else if(32&w){const x=Et(s,r);let L;for(;L=x();)d.push(L)}else if(16&w){const x=cg(r,s);if(Array.isArray(x))d.push(...x);else{const L=Ln(r[Yn]);mf(L[Kt],L,x,d,!0)}}s=p?s.projectionNext:s.next}return d}function My(t,r){for(let s=Ii;s<t.length;s++){const d=t[s],p=d[Kt].firstChild;null!==p&&mf(d[Kt],d,p,r)}t[Jn]!==t[ci]&&r.push(t[Jn])}function Ti(t,r,s,d=!0){const p=r[un],_=p.rendererFactory,w=p.afterRenderEventManager;_.begin?.(),w?.begin();try{ws(t,r,t.template,s)}catch(L){throw d&&Co(r,L),L}finally{_.end?.(),p.effectManager?.flush(),w?.end()}}function ws(t,r,s,d){const p=r[xn];if(256!=(256&p)){r[un].effectManager?.flush(),tr(r);try{bi(r),function Po(t){return bt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&xp(t,r,s,2,d);const w=3==(3&p);if(w){const $=t.preOrderCheckHooks;null!==$&&ao(r,$,null)}else{const $=t.preOrderHooks;null!==$&&Xo(r,$,0,null),oi(r,0)}if(function _v(t){for(let r=ra(t);null!==r;r=ju(r)){if(!r[Ko])continue;const s=r[ys];for(let d=0;d<s.length;d++){wn(s[d])}}}(r),sm(r,2),null!==t.contentQueries&&tm(t,r),w){const $=t.contentCheckHooks;null!==$&&ao(r,$)}else{const $=t.contentHooks;null!==$&&Xo(r,$,1),oi(r,1)}!function Sp(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const d=__(r,ki);try{for(let p=0;p<s.length;p++){const _=s[p];if(_<0)cl(~_);else{const w=_,x=s[++p],L=s[++p];D(x,w),d.dirty=!1;const $=js(d);try{L(2,r[w])}finally{Jl(d,$)}}}}finally{null===r[ki]&&wp(r,ki),cl(-1)}}(t,r);const x=t.components;null!==x&&Oy(r,x,0);const L=t.viewQuery;if(null!==L&&Br(2,L,d),w){const $=t.viewCheckHooks;null!==$&&ao(r,$)}else{const $=t.viewHooks;null!==$&&Xo(r,$,2),oi(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[xn]&=-73,Eo(r)}finally{Za()}}}function sm(t,r){for(let s=ra(t);null!==s;s=ju(s))for(let d=Ii;d<s.length;d++)om(s[d],r)}function yv(t,r,s){om(Jo(r,t),s)}function om(t,r){if(!function $n(t){return 128==(128&t[xn])}(t))return;const s=t[Kt],d=t[xn];if(80&d&&0===r||1024&d||2===r)ws(s,t,s.template,t[Xe]);else if(t[be]>0){sm(t,1);const p=s.components;null!==p&&Oy(t,p,1)}}function Oy(t,r,s){for(let d=0;d<r.length;d++)yv(t,r[d],s)}class Up{get rootNodes(){const r=this._lView,s=r[Kt];return mf(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xe]}set context(r){this._lView[Xe]=r}get destroyed(){return 256==(256&this._lView[xn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[q];if(Di(r)){const s=r[8],d=s?s.indexOf(this):-1;d>-1&&(xh(r,d),Ou(s,d))}this._attachedToViewContainer=!1}ag(this._lView[Kt],this._lView)}onDestroy(r){!function ph(t,r){if(256==(256&t[xn]))throw new xt(911,!1);null===t[mi]&&(t[mi]=[]),t[mi].push(r)}(this._lView,r)}markForCheck(){ld(this._cdRefInjectingView||this._lView)}detach(){this._lView[xn]&=-129}reattach(){this._lView[xn]|=128}detectChanges(){Ti(this._lView[Kt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qf(t,r){qu(t,r,r[It],2,null,null)}(this._lView[Kt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new xt(902,!1);this._appRef=r}}class vv extends Up{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Ti(r[Kt],r,r[Xe],!1)}checkNoChanges(){}get context(){return null}}class Bp extends gp{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=qn(r);return new ih(s,this.ngModule)}}function rh(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class bv{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,d){d=gn(d);const p=this.injector.get(r,nf,d);return p!==nf||s===nf?p:this.parentInjector.get(r,s,d)}}class ih extends Xh{get inputs(){const r=this.componentDef,s=r.inputTransforms,d=rh(r.inputs);if(null!==s)for(const p of d)s.hasOwnProperty(p.propName)&&(p.transform=s[p.propName]);return d}get outputs(){return rh(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function ns(t){return t.map(eo).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,d,p){let _=(p=p||this.ngModule)instanceof yl?p:p?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const w=_?new bv(r,_):r,x=w.get(t_,null);if(null===x)throw new xt(407,!1);const ye={rendererFactory:x,sanitizer:w.get(Ng,null),effectManager:w.get(rm,null),afterRenderEventManager:w.get(Wd,null)},Ve=x.createRenderer(null,this.componentDef),Je=this.componentDef.selectors[0][0]||"div",Ct=d?function Ty(t,r,s,d){const _=d.get(qd,!1)||s===ui.ShadowDom,w=t.selectRootElement(r,_);return function wy(t){gf(t)}(w),w}(Ve,d,this.componentDef.encapsulation,w):kc(Ve,Je,function sa(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Je)),Bn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ot=null;null!==Ct&&(Ot=hp(Ct,w,!0));const Tr=Zg(0,null,null,1,0,null,null,null,null,null,null),qr=Yd(null,Tr,null,Bn,null,null,ye,Ve,w,null,Ot);let es,Zl;tr(qr);try{const Af=this.componentDef;let K_,$0=null;Af.findHostDirectiveDefs?(K_=[],$0=new Map,Af.findHostDirectiveDefs(Af,K_,$0),K_.push(Af)):K_=[Af];const aD=function Ny(t,r){const s=t[Kt],d=Qn;return t[d]=r,Qd(s,d,2,"#host",null)}(qr,Ct),lD=function dd(t,r,s,d,p,_,w){const x=p[Kt];!function sh(t,r,s,d){for(const p of t)r.mergedAttrs=Oi(r.mergedAttrs,p.hostAttrs);null!==r.mergedAttrs&&(nh(r,r.mergedAttrs,!0),null!==s&&zc(d,s,r))}(d,t,r,w);let L=null;null!==r&&(L=hp(r,p[Bt]));const $=_.rendererFactory.createRenderer(r,s);let te=16;s.signals?te=4096:s.onPush&&(te=64);const ye=Yd(p,pf(s),null,te,p[t.index],t,_,$,null,null,L);return x.firstCreatePass&&kp(x,t,d.length-1),Xi(p,ye),p[t.index]=ye}(aD,Ct,Af,K_,qr,ye,Ve);Zl=hh(Tr,Qn),Ct&&function am(t,r,s,d){if(d)Ei(t,s,["ng-version",yp.full]);else{const{attrs:p,classes:_}=function la(t){const r=[],s=[];let d=1,p=2;for(;d<t.length;){let _=t[d];if("string"==typeof _)2===p?""!==_&&r.push(_,t[++d]):8===p&&s.push(_);else{if(!Ui(p))break;p=_}d++}return{attrs:r,classes:s}}(r.selectors[0]);p&&Ei(t,s,p),_&&_.length>0&&Om(t,s,_.join(" "))}}(Ve,Af,Ct,d),void 0!==s&&function lm(t,r,s){const d=t.projection=[];for(let p=0;p<r.length;p++){const _=s[p];d.push(null!=_?Array.from(_):null)}}(Zl,this.ngContentSelectors,s),es=function Ev(t,r,s,d,p,_){const w=xi(),x=p[Kt],L=Hs(w,p);ud(x,p,w,s,null,d);for(let te=0;te<s.length;te++)Io(ba(p,x,w.directiveStart+te,w),p);C_(x,p,w),L&&Io(L,p);const $=ba(p,x,w.directiveStart+w.componentOffset,w);if(t[Xe]=p[Xe]=$,null!==_)for(const te of _)te($,r);return Rp(x,w,t),$}(lD,Af,K_,$0,qr,[ky]),Vp(Tr,qr,null)}finally{Za()}return new _f(this.componentType,es,sd(Zl,qr),qr,Zl)}}class _f extends Jh{constructor(r,s,d,p,_){super(),this.location=d,this._rootLView=p,this._tNode=_,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new vv(p),this.componentType=r}setInput(r,s){const d=this._tNode.inputs;let p;if(null!==d&&(p=d[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const _=this._rootLView;ps(_[Kt],_,p,r,s),this.previousInputValues.set(r,s),ld(Jo(this._tNode.index,_))}}get injector(){return new zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function ky(){const t=xi();_d(Pt()[Kt],t)}function oc(t){let r=function D_(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const d=[t];for(;r;){let p;if(is(t))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new xt(903,!1);p=r.\u0275dir}if(p){if(s){d.push(p);const w=t;w.inputs=hd(t.inputs),w.inputTransforms=hd(t.inputTransforms),w.declaredInputs=hd(t.declaredInputs),w.outputs=hd(t.outputs);const x=p.hostBindings;x&&um(t,x);const L=p.viewQuery,$=p.contentQueries;if(L&&x_(t,L),$&&oh(t,$),Ye(t.inputs,p.inputs),Ye(t.declaredInputs,p.declaredInputs),Ye(t.outputs,p.outputs),null!==p.inputTransforms&&(null===w.inputTransforms&&(w.inputTransforms={}),Ye(w.inputTransforms,p.inputTransforms)),is(p)&&p.data.animation){const te=t.data;te.animation=(te.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let w=0;w<_.length;w++){const x=_[w];x&&x.ngInherit&&x(t),x===oc&&(s=!1)}}r=Object.getPrototypeOf(r)}!function S_(t){let r=0,s=null;for(let d=t.length-1;d>=0;d--){const p=t[d];p.hostVars=r+=p.hostVars,p.hostAttrs=Oi(p.hostAttrs,s=Oi(s,p.hostAttrs))}}(d)}function hd(t){return t===ti?{}:t===Nn?[]:t}function x_(t,r){const s=t.viewQuery;t.viewQuery=s?(d,p)=>{r(d,p),s(d,p)}:r}function oh(t,r){const s=t.contentQueries;t.contentQueries=s?(d,p,_)=>{r(d,p,_),s(d,p,_)}:r}function um(t,r){const s=t.hostBindings;t.hostBindings=s?(d,p)=>{r(d,p),s(d,p)}:r}function ac(t){const r=t.inputConfig,s={};for(const d in r)if(r.hasOwnProperty(d)){const p=r[d];Array.isArray(p)&&p[2]&&(s[d]=p[2])}t.inputTransforms=s}function vf(t){return!!a(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function a(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function f(t,r,s){return t[r]=s}function v(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function E(t,r,s,d){const p=v(t,r,s);return v(t,r+1,d)||p}function j(t,r,s,d){const p=Pt();return v(p,qa(),r)&&(ur(),Il(os(),p,t,r,s,d)),j}function pe(t,r,s,d,p,_){const x=E(t,function Wa(){return bt.lFrame.bindingIndex}(),s,p);return oo(2),x?r+Gt(s)+d+Gt(p)+_:yr}function wv(t,r,s,d,p,_,w,x){const L=Pt(),$=ur(),te=t+Qn,ye=$.firstCreatePass?function pb(t,r,s,d,p,_,w,x,L){const $=r.consts,te=Qd(r,t,4,w||null,Oa($,x));Np(r,s,te,Oa($,L)),_d(r,te);const ye=te.tView=Zg(2,te,d,p,_,r.directiveRegistry,r.pipeRegistry,null,r.schemas,$,null);return null!==r.queries&&(r.queries.template(r,te),ye.queries=r.queries.embeddedTView(te)),te}(te,$,L,r,s,d,p,_,w):$.data[te];so(ye,!1);const Ve=Cv($,L,ye,t);iu()&&Od($,L,Ve,ye),Io(Ve,L),Xi(L,L[te]=eh(Ve,L,Ve,ye)),er(ye)&&rc($,L,ye),null!=w&&ff(L,ye,x)}let Cv=function Av(t,r,s,d){return hl(!0),r[It].createComment("")};function mb(t){return Su(function ga(){return bt.lFrame.contextLView}(),Qn+t)}function Dv(t,r,s){const d=Pt();return v(d,qa(),r)&&function Ta(t,r,s,d,p,_,w,x){const L=Hs(r,s);let te,$=r.inputs;!x&&null!=$&&(te=$[d])?(ps(t,s,te,d,p),Bo(r)&&function Xd(t,r){const s=Jo(r,t);16&s[xn]||(s[xn]|=64)}(s,r.index)):3&r.type&&(d=function I_(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(d),p=null!=w?w(p,r.value||"",d):p,_.setProperty(L,d,p))}(ur(),os(),d,t,r,d[It],s,!1),Dv}function By(t,r,s,d,p){const w=p?"class":"style";ps(t,s,r.inputs[w],w,d)}function L_(t,r,s,d){const p=Pt(),_=ur(),w=Qn+t,x=p[It],L=_.firstCreatePass?function _b(t,r,s,d,p,_){const w=r.consts,L=Qd(r,t,2,d,Oa(w,p));return Np(r,s,L,Oa(w,_)),null!==L.attrs&&nh(L,L.attrs,!1),null!==L.mergedAttrs&&nh(L,L.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,L),L}(w,_,p,r,s,d):_.data[w],$=Sv(_,p,L,x,r,t);p[w]=$;const te=er(L);return so(L,!0),zc(x,$,L),32!=(32&L.flags)&&iu()&&Od(_,p,$,L),0===function fa(){return bt.lFrame.elementDepthCount}()&&Io($,p),function Xl(){bt.lFrame.elementDepthCount++}(),te&&(rc(_,p,L),Rp(_,L,p)),null!==d&&ff(p,L),L_}function jy(){let t=xi();Go()?function ul(){bt.lFrame.isParent=!1}():(t=t.parent,so(t,!1));const r=t;(function pd(t){return bt.skipHydrationRootTNode===t})(r)&&function mc(){bt.skipHydrationRootTNode=null}(),function pa(){bt.lFrame.elementDepthCount--}();const s=ur();return s.firstCreatePass&&(_d(s,t),rl(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Em(t){return 0!=(8&t.flags)}(r)&&By(s,r,Pt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function _a(t){return 0!=(16&t.flags)}(r)&&By(s,r,Pt(),r.stylesWithoutHost,!1),jy}function Hy(t,r,s,d){return L_(t,r,s,d),jy(),Hy}let Sv=(t,r,s,d,p,_)=>(hl(!0),kc(d,p,function vc(){return bt.lFrame.currentNamespace}()));function Eb(){return Pt()}function V_(t){return!!t&&"function"==typeof t.then}function Mv(t){return!!t&&"function"==typeof t.subscribe}function Pv(t,r,s,d){const p=Pt(),_=ur(),w=xi();return function Tb(t,r,s,d,p,_,w){const x=er(d),$=t.firstCreatePass&&th(t),te=r[Xe],ye=nm(r);let Ve=!0;if(3&d.type||w){const zt=Hs(d,r),hn=w?w(zt):zt,Bn=ye.length,Ot=w?qr=>w(mr(qr[d.index])):d.index;let Tr=null;if(!w&&x&&(Tr=function rE(t,r,s,d){const p=t.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const w=p[_];if(w===s&&p[_+1]===d){const x=r[Ne],L=p[_+2];return x.length>L?x[L]:null}"string"==typeof w&&(_+=2)}return null}(t,r,p,d.index)),null!==Tr)(Tr.__ngLastListenerFn__||Tr).__ngNextListenerFn__=_,Tr.__ngLastListenerFn__=_,Ve=!1;else{_=$y(d,r,te,_,!1);const qr=s.listen(hn,p,_);ye.push(_,qr),$&&$.push(p,Ot,Bn,Bn+1)}}else _=$y(d,r,te,_,!1);const Je=d.outputs;let Ct;if(Ve&&null!==Je&&(Ct=Je[p])){const zt=Ct.length;if(zt)for(let hn=0;hn<zt;hn+=2){const es=r[Ct[hn]][Ct[hn+1]].subscribe(_),Zl=ye.length;ye.push(_,es),$&&$.push(p,d.index,Zl,-(Zl+1))}}}(_,p,p[It],w,t,r,d),Pv}function zy(t,r,s,d){try{return hi(6,r,s),!1!==s(d)}catch(p){return Co(t,p),!1}finally{hi(7,r,s)}}function $y(t,r,s,d,p){return function _(w){if(w===Function)return d;ld(t.componentOffset>-1?Jo(t.index,r):r);let L=zy(r,s,d,w),$=_.__ngNextListenerFn__;for(;$;)L=zy(r,s,$,w)&&L,$=$.__ngNextListenerFn__;return p&&!1===L&&w.preventDefault(),L}}function wb(t=1){return function _c(t){return(bt.lFrame.contextLView=function ru(t,r){for(;t>0;)r=r[Nr],t--;return r}(t,bt.lFrame.contextLView))[Xe]}(t)}function zp(t,r){return t<<17|r<<2}function uh(t){return t>>17&32767}function gm(t){return 2|t}function Cf(t){return(131068&t)>>2}function z_(t,r){return-131069&t|r<<2}function Vv(t){return 1|t}function mm(t,r,s,d,p){const _=t[s+1],w=null===r;let x=d?uh(_):Cf(_),L=!1;for(;0!==x&&(!1===L||w);){const te=t[x+1];Uv(t[x],r)&&(L=!0,t[x+1]=d?Vv(te):gm(te)),x=d?uh(te):Cf(te)}L&&(t[s+1]=d?gm(_):Vv(_))}function Uv(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&du(t,r)>=0}function $v(t,r,s){return cc(t,r,s,!1),$v}function Gv(t,r){return cc(t,r,null,!0),Gv}function cc(t,r,s,d){const p=Pt(),_=ur(),w=oo(2);_.firstUpdatePass&&function Nb(t,r,s,d){const p=t.data;if(null===p[s+1]){const _=p[bs()],w=function Ob(t,r){return r>=t.expandoStartIndex}(t,s);(function Bb(t,r){return 0!=(t.flags&(r?8:16))})(_,d)&&null===r&&!w&&(r=!1),r=function dE(t,r,s,d){const p=function ie(t){const r=bt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let _=d?r.residualClasses:r.residualStyles;if(null===p)0===(d?r.classBindings:r.styleBindings)&&(s=$_(s=Wv(null,t,r,s,d),r.attrs,d),_=null);else{const w=r.directiveStylingLast;if(-1===w||t[w]!==p)if(s=Wv(p,t,r,s,d),null===_){let L=function hE(t,r,s){const d=s?r.classBindings:r.styleBindings;if(0!==Cf(d))return t[uh(d)]}(t,r,d);void 0!==L&&Array.isArray(L)&&(L=Wv(null,t,r,L[1],d),L=$_(L,r.attrs,d),function fE(t,r,s,d){t[uh(s?r.classBindings:r.styleBindings)]=d}(t,r,d,L))}else _=function kb(t,r,s){let d;const p=r.directiveEnd;for(let _=1+r.directiveStylingLast;_<p;_++)d=$_(d,t[_].hostAttrs,s);return $_(d,r.attrs,s)}(t,r,d)}return void 0!==_&&(d?r.residualClasses=_:r.residualStyles=_),s}(p,_,r,d),function Sb(t,r,s,d,p,_){let w=_?r.classBindings:r.styleBindings,x=uh(w),L=Cf(w);t[d]=s;let te,$=!1;if(Array.isArray(s)?(te=s[1],(null===te||du(s,te)>0)&&($=!0)):te=s,p)if(0!==L){const Ve=uh(t[x+1]);t[d+1]=zp(Ve,x),0!==Ve&&(t[Ve+1]=z_(t[Ve+1],d)),t[x+1]=function Fv(t,r){return 131071&t|r<<17}(t[x+1],d)}else t[d+1]=zp(x,0),0!==x&&(t[x+1]=z_(t[x+1],d)),x=d;else t[d+1]=zp(L,0),0===x?x=d:t[L+1]=z_(t[L+1],d),L=d;$&&(t[d+1]=gm(t[d+1])),mm(t,te,d,!0),mm(t,te,d,!1),function sE(t,r,s,d,p){const _=p?t.residualClasses:t.residualStyles;null!=_&&"string"==typeof r&&du(_,r)>=0&&(s[d+1]=Vv(s[d+1]))}(r,te,t,d,_),w=zp(x,L),_?r.classBindings=w:r.styleBindings=w}(p,_,r,s,w,d)}}(_,t,w,d),r!==yr&&v(p,w,r)&&function Vb(t,r,s,d,p,_,w,x){if(!(3&r.type))return;const L=t.data,$=L[x+1],te=function Db(t){return 1==(1&t)}($)?Ub(L,r,s,p,Cf($),w):void 0;G_(te)||(G_(_)||function Ab(t){return 2==(2&t)}($)&&(_=Ub(L,null,s,p,x,w)),function Pm(t,r,s,d,p){if(r)p?t.addClass(s,d):t.removeClass(s,d);else{let _=-1===d.indexOf("-")?void 0:Ah.DashCase;null==p?t.removeStyle(s,d,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=Ah.Important),t.setStyle(s,d,p,_))}}(d,w,Pa(bs(),s),p,_))}(_,_.data[bs()],p,p[It],t,p[w+1]=function mE(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=at(Ua(t)))),t}(r,s),d,w)}function Wv(t,r,s,d,p){let _=null;const w=s.directiveEnd;let x=s.directiveStylingLast;for(-1===x?x=s.directiveStart:x++;x<w&&(_=r[x],d=$_(d,_.hostAttrs,p),_!==t);)x++;return null!==t&&(s.directiveStylingLast=x),d}function $_(t,r,s){const d=s?1:2;let p=-1;if(null!==r)for(let _=0;_<r.length;_++){const w=r[_];"number"==typeof w?p=w:p===d&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qs(t,w,!!s||r[++_]))}return void 0===t?null:t}function Ub(t,r,s,d,p,_){const w=null===r;let x;for(;p>0;){const L=t[p],$=Array.isArray(L),te=$?L[1]:L,ye=null===te;let Ve=s[p+1];Ve===yr&&(Ve=ye?Nn:void 0);let Je=ye?Ns(Ve,d):te===d?Ve:void 0;if($&&!G_(Je)&&(Je=Ns(L,d)),G_(Je)&&(x=Je,w))return x;const Ct=t[p+1];p=w?uh(Ct):Cf(Ct)}if(null!==r){let L=_?r.residualClasses:r.residualStyles;null!=L&&(x=Ns(L,d))}return x}function G_(t){return void 0!==t}function jb(t,r=""){const s=Pt(),d=ur(),p=t+Qn,_=d.firstCreatePass?Qd(d,p,1,r,null):d.data[p],w=Hb(d,s,_,r,t);s[p]=w,iu()&&Od(d,s,w,_),so(_,!1)}let Hb=(t,r,s,d,p)=>(hl(!0),function Hu(t,r){return t.createText(r)}(r[It],d));function qv(t){return Ky("",t,""),qv}function Ky(t,r,s){const d=Pt(),p=function ue(t,r,s,d){return v(t,qa(),s)?r+Gt(s)+d:yr}(d,t,r,s);return p!==yr&&Ao(d,bs(),p),Ky}function Zv(t,r,s,d,p){const _=Pt(),w=pe(_,t,r,s,d,p);return w!==yr&&Ao(_,bs(),w),Zv}const Gp=void 0;var LE=["en",[["a","p"],["AM","PM"],Gp],[["AM","PM"],Gp,Gp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gp,"{1} 'at' {0}",Gp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function l0(t){const s=Math.floor(Math.abs(t)),d=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===d?1:5}];let Wp={};function i(t){const r=function b(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=o(r);if(s)return s;const d=r.split("-")[0];if(s=o(d),s)return s;if("en"===d)return LE;throw new xt(701,!1)}function n(t){return i(t)[g.PluralCase]}function o(t){return t in Wp||(Wp[t]=rn.ng&&rn.ng.common&&rn.ng.common.locales&&rn.ng.common.locales[t]),Wp[t]}var g=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(g||{});const G="en-US";let en=G;function d0(t,r,s,d,p){if(t=Tt(t),Array.isArray(t))for(let _=0;_<t.length;_++)d0(t[_],r,s,d,p);else{const _=ur(),w=Pt(),x=xi();let L=Yc(t)?t:Tt(t.provide);const $=Ju(t),te=1048575&x.providerIndexes,ye=x.directiveStart,Ve=x.providerIndexes>>20;if(Yc(t)||!t.multi){const Je=new Gs($,p,Kd),Ct=f0(L,r,p?te:te+Ve,ye);-1===Ct?(vd(Oo(x,w),_,L),h0(_,t,r.length),r.push(L),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),s.push(Je),w.push(Je)):(s[Ct]=Je,w[Ct]=Je)}else{const Je=f0(L,r,te+Ve,ye),Ct=f0(L,r,te,te+Ve),hn=Ct>=0&&s[Ct];if(p&&!hn||!p&&!(Je>=0&&s[Je])){vd(Oo(x,w),_,L);const Bn=function Pw(t,r,s,d,p){const _=new Gs(t,s,Kd);return _.multi=[],_.index=r,_.componentProviders=0,nI(_,p,d&&!s),_}(p?Mw:Rw,s.length,p,d,$);!p&&hn&&(s[Ct].providerFactory=Bn),h0(_,t,r.length,0),r.push(L),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),s.push(Bn),w.push(Bn)}else h0(_,t,Je>-1?Je:Ct,nI(s[p?Ct:Je],$,!p&&d));!p&&d&&hn&&s[Ct].componentProviders++}}}function h0(t,r,s,d){const p=Yc(r),_=function Vd(t){return!!t.useClass}(r);if(p||_){const L=(_?Tt(r.useClass):r).prototype.ngOnDestroy;if(L){const $=t.destroyHooks||(t.destroyHooks=[]);if(!p&&r.multi){const te=$.indexOf(s);-1===te?$.push(s,[d,L]):$[te+1].push(d,L)}else $.push(s,L)}}}function nI(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function f0(t,r,s,d){for(let p=s;p<d;p++)if(r[p]===t)return p;return-1}function Rw(t,r,s,d){return p0(this.multi,[])}function Mw(t,r,s,d){const p=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,x=ba(s,s[Kt],this.providerFactory.index,d);_=x.slice(0,w),p0(p,_);for(let L=w;L<x.length;L++)_.push(x[L])}else _=[],p0(p,_);return _}function p0(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function rI(t,r=[]){return s=>{s.providersResolver=(d,p)=>function xw(t,r,s){const d=ur();if(d.firstCreatePass){const p=is(t);d0(s,d.data,d.blueprint,p,!0),d0(r,d.data,d.blueprint,p,!1)}}(d,p?p(t):t,r)}}class ym{}class iI{}function Ow(t,r){return new g0(t,r??null,[])}class g0 extends ym{constructor(r,s,d){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bp(this);const p=Ai(r);this._bootstrapComponents=zl(p.bootstrap),this._r3Injector=vp(r,s,[{provide:ym,useValue:this},{provide:gp,useValue:this.componentFactoryResolver},...d],at(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class m0 extends iI{constructor(r){super(),this.moduleType=r}create(r){return new g0(this.moduleType,r,[])}}class sI extends ym{constructor(r){super(),this.componentFactoryResolver=new Bp(this),this.instance=null;const s=new Ud([...r.providers,{provide:ym,useValue:this},{provide:gp,useValue:this.componentFactoryResolver}],r.parent||$h(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function oI(t,r,s=null){return new sI({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let kw=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const d=Ig(0,s.type),p=d.length>0?oI([d],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,p)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=sr({token:t,providedIn:"environment",factory:()=>new t(et(yl))})}return t})();function aI(t){t.getStandaloneInjector=r=>r.get(kw).getOrCreateStandaloneInjector(t)}function pI(t,r,s){const d=zs()+t,p=Pt();return p[d]===yr?f(p,d,s?r.call(s):r()):function m(t,r){return t[r]}(p,d)}function gI(t,r,s,d){return function mI(t,r,s,d,p,_){const w=r+s;return v(t,w,p)?f(t,w+1,_?d.call(_,p):d(p)):ev(t,w+1)}(Pt(),zs(),t,r,s,d)}function ev(t,r){const s=t[r];return s===yr?void 0:s}function EI(t,r){const s=ur();let d;const p=t+Qn;s.firstCreatePass?(d=function Jw(t,r){if(r)for(let s=r.length-1;s>=0;s--){const d=r[s];if(t===d.name)return d}}(r,s.pipeRegistry),s.data[p]=d,d.onDestroy&&(s.destroyHooks??=[]).push(p,d.onDestroy)):d=s.data[p];const _=d.factory||(d.factory=Ho(d.type)),x=Cr(Kd);try{const L=ta(!1),$=_();return ta(L),function X0(t,r,s,d){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=d}(s,Pt(),p,$),$}finally{Cr(x)}}function II(t,r,s,d){const p=t+Qn,_=Pt(),w=Su(_,p);return function tv(t,r){return t[Kt].data[r].pure}(_,p)?function _I(t,r,s,d,p,_,w){const x=r+s;return E(t,x,p,_)?f(t,x+2,w?d.call(w,p,_):d(p,_)):ev(t,x+2)}(_,zs(),r,w.transform,s,d,w):w.transform(s,d)}function rC(){return this._results[Symbol.iterator]()}class y0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new El)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=y0.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=rC)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const d=this;d.dirty=!1;const p=function No(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Ac(t,r,s){if(t.length!==r.length)return!1;for(let d=0;d<t.length;d++){let p=t[d],_=r[d];if(s&&(p=s(p),_=s(_)),_!==p)return!1}return!0}(d._results,p,s))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function sC(t,r,s,d=!0){const p=r[Kt];if(function Fc(t,r,s,d){const p=Ii+d,_=s.length;d>0&&(s[p-1][Y]=r),d<_-Ii?(r[Y]=s[p],Dc(s,Ii+d,r)):(s.push(r),r[Y]=null),r[q]=s;const w=r[kr];null!==w&&s!==w&&function Sh(t,r){const s=t[ys];r[Yn]!==r[q][q][Yn]&&(t[Ko]=!0),null===s?t[ys]=[r]:s.push(r)}(w,r);const x=r[Kr];null!==x&&x.insertView(t),r[xn]|=128}(p,r,t,s),d){const _=Hc(s,t),w=r[It],x=Uc(w,t[Jn]);null!==x&&function Lc(t,r,s,d,p,_){d[ci]=p,d[we]=r,qu(t,d,s,1,p,_)}(p,t[we],w,r,x,_)}}let nv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=lC}return t})();const oC=nv,aC=class extends oC{constructor(r,s,d){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,d){const p=function iC(t,r,s,d){const p=r.tView,x=Yd(t,p,s,4096&t[xn]?4096:16,null,r,null,null,null,d?.injector??null,d?.hydrationInfo??null);x[kr]=t[r.index];const $=t[Kr];return null!==$&&(x[Kr]=$.createEmbeddedView(p)),Vp(p,x,s),x}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:d});return new Up(p)}};function lC(){return Xv(xi(),Pt())}function Xv(t,r){return 4&t.type?new aC(r,t,sd(t,r)):null}let tb=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=pC}return t})();function pC(){return xI(xi(),Pt())}const gC=tb,DI=class extends gC{constructor(r,s,d){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=d}get element(){return sd(this._hostTNode,this._hostLView)}get injector(){return new zi(this._hostTNode,this._hostLView)}get parentInjector(){const r=va(this._hostTNode,this._hostLView);if(Na(r)){const s=xl(r,this._hostLView),d=Sl(r);return new zi(s[Kt].data[d+8],s)}return new zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=SI(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-Ii}createEmbeddedView(r,s,d){let p,_;"number"==typeof d?p=d:null!=d&&(p=d.index,_=d.injector);const x=r.createEmbeddedViewImpl(s||{},_,null);return this.insertImpl(x,p,false),x}createComponent(r,s,d,p,_){const w=r&&!function Ws(t){return"function"==typeof t}(r);let x;if(w)x=s;else{const zt=s||{};x=zt.index,d=zt.injector,p=zt.projectableNodes,_=zt.environmentInjector||zt.ngModuleRef}const L=w?r:new ih(qn(r)),$=d||this.parentInjector;if(!_&&null==L.ngModule){const hn=(w?$:this.parentInjector).get(yl,null);hn&&(_=hn)}qn(L.componentType??{});const Je=L.create($,p,null,_);return this.insertImpl(Je.hostView,x,false),Je}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,d){const p=r._lView;if(function zo(t){return Di(t[q])}(p)){const L=this.indexOf(r);if(-1!==L)this.detach(L);else{const $=p[q],te=new DI($,$[we],$[q]);te.detach(te.indexOf(r))}}const w=this._adjustIndex(s),x=this._lContainer;return sC(x,p,w,!d),r.attachToViewContainerRef(),Dc(v0(x),w,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=SI(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),d=xh(this._lContainer,s);d&&(Ou(v0(this._lContainer),s),ag(d[Kt],d))}detach(r){const s=this._adjustIndex(r,-1),d=xh(this._lContainer,s);return d&&null!=Ou(v0(this._lContainer),s)?new Up(d):null}_adjustIndex(r,s=0){return r??this.length+s}};function SI(t){return t[8]}function v0(t){return t[8]||(t[8]=[])}function xI(t,r){let s;const d=r[t.index];return Di(d)?s=d:(s=eh(d,r,null,t),r[t.index]=s,Xi(r,s)),RI(s,r,t,d),new DI(s,t,r)}let RI=function MI(t,r,s,d){if(t[Jn])return;let p;p=8&s.type?mr(d):function mC(t,r){const s=t[It],d=s.createComment(""),p=Hs(r,t);return Vc(s,Uc(s,p),d,function Bc(t,r){return t.nextSibling(r)}(s,p),!1),d}(r,s),t[Jn]=p};class b0{constructor(r){this.queryList=r,this.matches=null}clone(){return new b0(this.queryList)}setDirty(){this.queryList.setDirty()}}class E0{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const d=null!==r.contentQueries?r.contentQueries[0]:s.length,p=[];for(let _=0;_<d;_++){const w=s.getByIndex(_);p.push(this.queries[w.indexInDeclarationView].clone())}return new E0(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==UI(r,s).matches&&this.queries[s].setDirty()}}class PI{constructor(r,s,d=null){this.predicate=r,this.flags=s,this.read=d}}class I0{constructor(r=[]){this.queries=r}elementStart(r,s){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let d=0;d<this.length;d++){const p=null!==s?s.length:0,_=this.getByIndex(d).embeddedTView(r,p);_&&(_.indexInDeclarationView=d,null!==s?s.push(_):s=[_])}return null!==s?new I0(s):null}template(r,s){for(let d=0;d<this.queries.length;d++)this.queries[d].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class T0{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new T0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let d=r.parent;for(;null!==d&&8&d.type&&d.index!==s;)d=d.parent;return s===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const _=d[p];this.matchTNodeWithReadOption(r,s,vC(s,_)),this.matchTNodeWithReadOption(r,s,Pu(s,r,_,!1,!1))}else d===nv?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Pu(s,r,d,!1,!1))}matchTNodeWithReadOption(r,s,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===ef||p===tb||p===nv&&4&s.type)this.addMatch(s.index,-2);else{const _=Pu(s,r,p,!1,!1);null!==_&&this.addMatch(s.index,_)}else this.addMatch(s.index,d)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function vC(t,r){const s=t.localNames;if(null!==s)for(let d=0;d<s.length;d+=2)if(s[d]===r)return s[d+1];return null}function EC(t,r,s,d){return-1===s?function bC(t,r){return 11&t.type?sd(t,r):4&t.type?Xv(t,r):null}(r,t):-2===s?function IC(t,r,s){return s===ef?sd(r,t):s===nv?Xv(r,t):s===tb?xI(r,t):void 0}(t,r,d):ba(t,t[Kt],s,r)}function OI(t,r,s,d){const p=r[Kr].queries[d];if(null===p.matches){const _=t.data,w=s.matches,x=[];for(let L=0;L<w.length;L+=2){const $=w[L];x.push($<0?null:EC(r,_[$],w[L+1],s.metadata.read))}p.matches=x}return p.matches}function w0(t,r,s,d){const p=t.queries.getByIndex(s),_=p.matches;if(null!==_){const w=OI(t,r,p,s);for(let x=0;x<_.length;x+=2){const L=_[x];if(L>0)d.push(w[x/2]);else{const $=_[x+1],te=r[-L];for(let ye=Ii;ye<te.length;ye++){const Ve=te[ye];Ve[kr]===Ve[q]&&w0(Ve[Kt],Ve,$,d)}if(null!==te[ys]){const ye=te[ys];for(let Ve=0;Ve<ye.length;Ve++){const Je=ye[Ve];w0(Je[Kt],Je,$,d)}}}}}return d}function NI(t){const r=Pt(),s=ur(),d=ve();rt(d+1);const p=UI(s,d);if(t.dirty&&function fh(t){return 4==(4&t[xn])}(r)===(2==(2&p.metadata.flags))){if(null===p.matches)t.reset([]);else{const _=p.crossesNgTemplate?w0(s,r,d,[]):OI(s,r,p,d);t.reset(_,_p),t.notifyOnChanges()}return!0}return!1}function kI(t,r,s,d){const p=ur();if(p.firstCreatePass){const _=xi();(function VI(t,r,s){null===t.queries&&(t.queries=new I0),t.queries.track(new T0(r,s))})(p,new PI(r,s,d),_.index),function CC(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(p,t),2==(2&s)&&(p.staticContentQueries=!0)}!function FI(t,r,s){const d=new y0(4==(4&s));(function Qg(t,r,s,d){const p=nm(r);p.push(s),t.firstCreatePass&&th(t).push(d,p.length-1)})(t,r,d,d.destroy),null===r[Kr]&&(r[Kr]=new E0),r[Kr].queries.push(new b0(d))}(p,Pt(),s)}function LI(){return function wC(t,r){return t[Kr].queries[r].queryList}(Pt(),ve())}function UI(t,r){return t.queries.getByIndex(r)}function C0(t){return!!Ai(t)}const nT=new Ut("Application Initializer");let R0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,d)=>{this.resolve=s,this.reject=d}),this.appInits=wt(nT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const p of this.appInits){const _=p();if(V_(_))s.push(_);else if(Mv(_)){const w=new Promise((x,L)=>{_.subscribe({complete:x,error:L})});s.push(w)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{d()}).catch(p=>{this.reject(p)}),0===s.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rT=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const rb=new Ut("LocaleId",{providedIn:"root",factory:()=>wt(rb,Yt.Optional|Yt.SkipSelf)||function qC(){return typeof $localize<"u"&&$localize.locale||G}()}),ZC=new Ut("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let iT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ge.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class YC{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let QC=(()=>{class t{compileModuleSync(s){return new m0(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const d=this.compileModuleSync(s),_=zl(Ai(s).declarations).reduce((w,x)=>{const L=qn(x);return L&&w.push(new ih(L)),w},[]);return new YC(d,_)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const lT=new Ut(""),uT=new Ut("");let O0,vA=(()=>{class t{constructor(s,d,p){this._ngZone=s,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,O0||(function bA(t){O0=t}(p),p.addToWindow(d)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(s)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,d,p){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),s(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:s,timeoutId:_,updateCb:p})}whenStable(s,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,d,p){return[]}static#e=this.\u0275fac=function(d){return new(d||t)(et(wo),et(cT),et(uT))};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac})}return t})(),cT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,d){this._applications.set(s,d)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,d=!0){return O0?.findTestabilityInTree(this,s,d)??null}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),qp=null;const dT=new Ut("AllowMultipleToken"),N0=new Ut("PlatformDestroyListeners"),k0=new Ut("appBootstrapListener");class TA{constructor(r,s){this.name=r,this.token=s}}function pT(t,r,s=[]){const d=`Platform: ${r}`,p=new Ut(d);return(_=[])=>{let w=L0();if(!w||w.injector.get(dT,!1)){const x=[...s,..._,{provide:p,useValue:!0}];t?t(x):function wA(t){if(qp&&!qp.get(dT,!1))throw new xt(400,!1);(function hT(){!function At(t){Ie=t}(()=>{throw new xt(600,!1)})})(),qp=t;const r=t.get(mT);(function fT(t){t.get(Jc,null)?.forEach(s=>s())})(t)}(function gT(t=[],r){return ja.create({name:r,providers:[{provide:Qu,useValue:"platform"},{provide:N0,useValue:new Set([()=>qp=null])},...t]})}(x,d))}return function AA(t){const r=L0();if(!r)throw new xt(401,!1);return r}()}}function L0(){return qp?.get(mT)??null}let mT=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,d){const p=function DA(t="zone.js",r){return"noop"===t?new Hg:"zone.js"===t?new wo(r):t}(d?.ngZone,function _T(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return p.run(()=>{const _=function Nw(t,r,s){return new g0(t,r,s)}(s.moduleType,this.injector,function IT(t){return[{provide:wo,useFactory:t},{provide:Kc,multi:!0,useFactory:()=>{const r=wt(xA,{optional:!0});return()=>r.initialize()}},{provide:ET,useFactory:SA},{provide:u_,useFactory:Ip}]}(()=>p)),w=_.injector.get(tc,null);return p.runOutsideAngular(()=>{const x=p.onError.subscribe({next:L=>{w.handleError(L)}});_.onDestroy(()=>{sb(this._modules,_),x.unsubscribe()})}),function yT(t,r,s){try{const d=s();return V_(d)?d.catch(p=>{throw r.runOutsideAngular(()=>t.handleError(p)),p}):d}catch(d){throw r.runOutsideAngular(()=>t.handleError(d)),d}}(w,p,()=>{const x=_.injector.get(R0);return x.runInitializers(),x.donePromise.then(()=>(function tn(t){Pn(t,"Expected localeId to be defined"),"string"==typeof t&&(en=t.toLowerCase().replace(/_/g,"-"))}(_.injector.get(rb,G)||G),this._moduleDoBootstrap(_),_))})})}bootstrapModule(s,d=[]){const p=vT({},d);return function EA(t,r,s){const d=new m0(s);return Promise.resolve(d)}(0,0,s).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(s){const d=s.injector.get(Z_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!s.instance.ngDoBootstrap)throw new xt(-403,!1);s.instance.ngDoBootstrap(d)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xt(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const s=this._injector.get(N0,null);s&&(s.forEach(d=>d()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||t)(et(ja))};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function vT(t,r){return Array.isArray(r)?r.reduce(vT,t):{...t,...r}}let Z_=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wt(ET),this.zoneIsStable=wt(u_),this.componentTypes=[],this.components=[],this.isStable=wt(iT).hasPendingTasks.pipe((0,$t.w)(s=>s?(0,_e.of)(!1):this.zoneIsStable),function Dn(t,r=Nt.y){return t=t??fn,(0,Ce.e)((s,d)=>{let p,_=!0;s.subscribe((0,_n.x)(d,w=>{const x=r(w);(_||!t(p,x))&&(_=!1,p=x,d.next(w))}))})}(),vt()),this._injector=wt(yl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,d){const p=s instanceof Xh;if(!this._injector.get(R0).done)throw!p&&qi(s),new xt(405,!1);let w;w=p?s:this._injector.get(gp).resolveComponentFactory(s),this.componentTypes.push(w.componentType);const x=function IA(t){return t.isBoundToModule}(w)?void 0:this._injector.get(ym),$=w.create(ja.NULL,[],d||w.selector,x),te=$.location.nativeElement,ye=$.injector.get(lT,null);return ye?.registerApplication(te),$.onDestroy(()=>{this.detachView($.hostView),sb(this.components,$),ye?.unregisterApplication(te)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new xt(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const d=s;this._views.push(d),d.attachToAppRef(this)}detachView(s){const d=s;sb(this._views,d),d.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const d=this._injector.get(k0,[]);d.push(...this._bootstrapListeners),d.forEach(p=>p(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>sb(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new xt(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sb(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const ET=new Ut("",{providedIn:"root",factory:()=>wt(tc).handleError.bind(void 0)});function SA(){const t=wt(wo),r=wt(tc);return s=>t.runOutsideAngular(()=>r.handleError(s))}let xA=(()=>{class t{constructor(){this.zone=wt(wo),this.applicationRef=wt(Z_)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let MA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=PA}return t})();function PA(t){return function OA(t,r,s){if(Bo(t)&&!s){const d=Jo(t.index,r);return new Up(d,d)}return 47&t.type?new Up(r[Yn],r):null}(xi(),Pt(),16==(16&t))}class AT{constructor(){}supports(r){return vf(r)}create(r){return new UA(r)}}const VA=(t,r)=>r;class UA{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||VA}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,d=this._removalsHead,p=0,_=null;for(;s||d;){const w=!d||s&&s.currentIndex<ST(d,p,_)?s:d,x=ST(w,p,_),L=w.currentIndex;if(w===d)p--,d=d._nextRemoved;else if(s=s._next,null==w.previousIndex)p++;else{_||(_=[]);const $=x-p,te=L-p;if($!=te){for(let Ve=0;Ve<$;Ve++){const Je=Ve<_.length?_[Ve]:_[Ve]=0,Ct=Je+Ve;te<=Ct&&Ct<$&&(_[Ve]=Je+1)}_[w.previousIndex]=te-$}}x!==L&&r(w,x,L)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!vf(r))throw new xt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,_,w,s=this._itHead,d=!1;if(Array.isArray(r)){this.length=r.length;for(let x=0;x<this.length;x++)_=r[x],w=this._trackByFn(x,_),null!==s&&Object.is(s.trackById,w)?(d&&(s=this._verifyReinsertion(s,_,w,x)),Object.is(s.item,_)||this._addIdentityChange(s,_)):(s=this._mismatch(s,_,w,x),d=!0),s=s._next}else p=0,function u(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let d;for(;!(d=s.next()).done;)r(d.value)}}(r,x=>{w=this._trackByFn(p,x),null!==s&&Object.is(s.trackById,w)?(d&&(s=this._verifyReinsertion(s,x,w,p)),Object.is(s.item,x)||this._addIdentityChange(s,x)):(s=this._mismatch(s,x,w,p),d=!0),s=s._next,p++}),this.length=p;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,d,p){let _;return null===r?_=this._itTail:(_=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,_,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,_,p)):r=this._addAfter(new BA(s,d),_,p),r}_verifyReinsertion(r,s,d,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?r=this._reinsertAfter(_,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,_=r._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(r,s,d),this._addToMoves(r,d),r}_moveAfter(r,s,d){return this._unlink(r),this._insertAfter(r,s,d),this._addToMoves(r,d),r}_addAfter(r,s,d){return this._insertAfter(r,s,d),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,d){const p=null===s?this._itHead:s._next;return r._next=p,r._prev=s,null===p?this._itTail=r:p._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new DT),this._linkedRecords.put(r),r.currentIndex=d,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,d=r._next;return null===s?this._itHead=d:s._next=d,null===d?this._itTail=s:d._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DT),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class BA{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jA{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===s||s<=d.currentIndex)&&Object.is(d.trackById,r))return d;return null}remove(r){const s=r._prevDup,d=r._nextDup;return null===s?this._head=d:s._nextDup=d,null===d?this._tail=s:d._prevDup=s,null===this._head}}class DT{constructor(){this.map=new Map}put(r){const s=r.trackById;let d=this.map.get(s);d||(d=new jA,this.map.set(s,d)),d.add(r)}get(r,s){const p=this.map.get(r);return p?p.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ST(t,r,s){const d=t.previousIndex;if(null===d)return d;let p=0;return s&&d<s.length&&(p=s[d]),d+r+p}class xT{constructor(){}supports(r){return r instanceof Map||a(r)}create(){return new HA}}class HA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||a(r)))throw new xt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(d,p)=>{if(s&&s.key===p)this._maybeAddToChanges(s,d),this._appendAfter=s,s=s._next;else{const _=this._getOrCreateRecordForKey(p,d);s=this._insertBeforeOrAppend(s,_)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let d=s;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const d=r._prev;return s._next=r,s._prev=d,r._prev=s,d&&(d._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,s);const _=p._prev,w=p._next;return _&&(_._next=w),w&&(w._prev=_),p._next=null,p._prev=null,p}const d=new zA(r);return this._records.set(r,d),d.currentValue=s,this._addToAdditions(d),d}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(d=>s(r[d],d))}}class zA{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function RT(){return new j0([new AT])}let j0=(()=>{class t{static#e=this.\u0275prov=sr({token:t,providedIn:"root",factory:RT});constructor(s){this.factories=s}static create(s,d){if(null!=d){const p=d.factories.slice();s=s.concat(p)}return new t(s)}static extend(s){return{provide:t,useFactory:d=>t.create(s,d||RT()),deps:[[t,new Ll,new Zs]]}}find(s){const d=this.factories.find(p=>p.supports(s));if(null!=d)return d;throw new xt(901,!1)}}return t})();function MT(){return new H0([new xT])}let H0=(()=>{class t{static#e=this.\u0275prov=sr({token:t,providedIn:"root",factory:MT});constructor(s){this.factories=s}static create(s,d){if(d){const p=d.factories.slice();s=s.concat(p)}return new t(s)}static extend(s){return{provide:t,useFactory:d=>t.create(s,d||MT()),deps:[[t,new Ll,new Zs]]}}find(s){const d=this.factories.find(p=>p.supports(s));if(d)return d;throw new xt(901,!1)}}return t})();const WA=pT(null,"core",[]);let qA=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(d){return new(d||t)(et(Z_))};static#t=this.\u0275mod=ua({type:t});static#n=this.\u0275inj=nn({})}return t})();function iD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function oD(t){const r=qn(t);if(!r)return null;const s=new ih(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},721:(vn,ft,X)=>{X.d(ft,{Ot:()=>z,ZF:()=>Nt,hX:()=>Ce,z6:()=>fe});var A=X(3182),T=X(4946),se=X(4810);class z{constructor(Ye){return Ye}}class fe{constructor(){return(0,A.C6)()}}const Dt=new T.OlP("angularfire2._apps"),Ze={provide:z,useFactory:function Ke(dt){return dt&&1===dt.length?dt[0]:new z((0,A.Mq)())},deps:[[new T.FiY,Dt]]},ge={provide:fe,deps:[[new T.FiY,Dt]]};function _e(dt){return(Ye,at)=>{const ct=Ye.runOutsideAngular(()=>dt(at));return new z(ct)}}let qe=(()=>{class dt{constructor(at){(0,A.KN)("angularfire",se.q4.full,"core"),(0,A.KN)("angularfire",se.q4.full,"app"),(0,A.KN)("angular",T.q4F.full,at.toString())}static \u0275fac=function(ct){return new(ct||dt)(T.LFG(T.Lbi))};static \u0275mod=T.oAB({type:dt});static \u0275inj=T.cJS({providers:[Ze,ge]})}return dt})();function Ce(dt,...Ye){return{ngModule:qe,providers:[{provide:Dt,useFactory:_e(dt),multi:!0,deps:[T.R0b,T.zs3,se.HU,...Ye]}]}}const Nt=(0,se.u3)(A.ZF,!0)},9404:(vn,ft,X)=>{X.d(ft,{gx:()=>Wo,dh:()=>fu,Xb:()=>gu,v0:()=>tg,AR:()=>Xp,e5:()=>_u});var A=X(4810),T=X(4946),se=X(721),z=X(3182),fe=X(5861),he=X(9058),Ke=X(534),Dt=X(7879),Ze=X(7582),ge=X(4537);const Dn=function Nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fn=new he.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new Dt.Yd("@firebase/auth");function ct(R,...y){Ye.logLevel<=Dt.in.ERROR&&Ye.error(`Auth (${Ke.Jn}): ${R}`,...y)}function pt(R,...y){throw zn(R,...y)}function gt(R,...y){return zn(R,...y)}function zn(R,...y){if("string"!=typeof R){const I=y[0],M=[...y.slice(1)];return M[0]&&(M[0].appName=R.name),R._errorFactory.create(I,...M)}return fn.create(R,...y)}function St(R,y,...I){if(!R)throw zn(y,...I)}function Cn(R){const y="INTERNAL ASSERTION FAILED: "+R;throw ct(y),new Error(y)}function xt(R,y){R||Cn(y)}function cn(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.href)||""}function ut(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.protocol)||null}class Be{constructor(y,I){this.shortDelay=y,this.longDelay=I,xt(I>y,"Short delay should be less than long delay!"),this.isMobile=(0,he.uI)()||(0,he.b$)()}get(){return function We(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Gt(){return"http:"===ut()||"https:"===ut()}()||(0,he.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Le(R,y){xt(R.emulator,"Emulator should always be set here");const{url:I}=R.emulator;return y?`${I}${y.startsWith("/")?y.slice(1):y}`:I}class ze{static initialize(y,I,M){this.fetchImpl=y,I&&(this.headersImpl=I),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ot=new Be(3e4,6e4);function yt(R,y){return R.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:R.tenantId}):y}function Vt(R,y,I,M){return kt.apply(this,arguments)}function kt(){return(kt=(0,fe.Z)(function*(R,y,I,M,Q={}){return pn(R,Q,(0,fe.Z)(function*(){let de={},Fe={};M&&("GET"===y?Fe=M:de={body:JSON.stringify(M)});const st=(0,he.xO)(Object.assign({key:R.config.apiKey},Fe)).slice(1),Et=yield R._getAdditionalHeaders();return Et["Content-Type"]="application/json",R.languageCode&&(Et["X-Firebase-Locale"]=R.languageCode),ze.fetch()(Fr(R,R.config.apiHost,I,st),Object.assign({method:y,headers:Et,referrerPolicy:"no-referrer"},de))}))})).apply(this,arguments)}function pn(R,y,I){return hr.apply(this,arguments)}function hr(){return(hr=(0,fe.Z)(function*(R,y,I){R._canInitEmulator=!1;const M=Object.assign(Object.assign({},Ge),y);try{const Q=new Mn(R),de=yield Promise.race([I(),Q.promise]);Q.clearNetworkTimeout();const Fe=yield de.json();if("needConfirmation"in Fe)throw Pn(R,"account-exists-with-different-credential",Fe);if(de.ok&&!("errorMessage"in Fe))return Fe;{const st=de.ok?Fe.errorMessage:Fe.error.message,[Et,En]=st.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Et)throw Pn(R,"credential-already-in-use",Fe);if("EMAIL_EXISTS"===Et)throw Pn(R,"email-already-in-use",Fe);if("USER_DISABLED"===Et)throw Pn(R,"user-disabled",Fe);const Ln=M[Et]||Et.toLowerCase().replace(/[_\s]+/g,"-");if(En)throw function Tt(R,y,I){const M=Object.assign(Object.assign({},Dn()),{[y]:I});return new he.LL("auth","Firebase",M).create(y,{appName:R.name})}(R,Ln,En);pt(R,Ln)}}catch(Q){if(Q instanceof he.ZR)throw Q;pt(R,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function Gn(R,y,I,M){return xr.apply(this,arguments)}function xr(){return(xr=(0,fe.Z)(function*(R,y,I,M,Q={}){const de=yield Vt(R,y,I,M,Q);return"mfaPendingCredential"in de&&pt(R,"multi-factor-auth-required",{_serverResponse:de}),de})).apply(this,arguments)}function Fr(R,y,I,M){const Q=`${y}${I}?${M}`;return R.config.emulator?Le(R.config,Q):`${R.config.apiScheme}://${Q}`}function wr(R){switch(R){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mn{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((I,M)=>{this.timer=setTimeout(()=>M(gt(this.auth,"network-request-failed")),ot.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pn(R,y,I){const M={appName:R.name};I.email&&(M.email=I.email),I.phoneNumber&&(M.phoneNumber=I.phoneNumber);const Q=gt(R,y,M);return Q.customData._tokenResponse=I,Q}function Zn(R){return void 0!==R&&void 0!==R.enterprise}class ln{constructor(y){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===y.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=y.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=y.recaptchaEnforcementState}getProviderEnforcementState(y){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const I of this.recaptchaEnforcementState)if(I.provider&&I.provider===y)return wr(I.enforcementState);return null}isProviderEnabled(y){return"ENFORCE"===this.getProviderEnforcementState(y)||"AUDIT"===this.getProviderEnforcementState(y)}}function fr(R,y){return nn.apply(this,arguments)}function nn(){return(nn=(0,fe.Z)(function*(R,y){return Vt(R,"GET","/v2/recaptchaConfig",yt(R,y))})).apply(this,arguments)}function Rr(){return(Rr=(0,fe.Z)(function*(R,y){return Vt(R,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function pr(){return(pr=(0,fe.Z)(function*(R,y){return Vt(R,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function wi(R){if(R)try{const y=new Date(Number(R));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function Yt(){return(Yt=(0,fe.Z)(function*(R,y=!1){const I=(0,he.m9)(R),M=yield I.getIdToken(y),Q=Wi(M);St(Q&&Q.exp&&Q.auth_time&&Q.iat,I.auth,"internal-error");const de="object"==typeof Q.firebase?Q.firebase:void 0,Fe=de?.sign_in_provider;return{claims:Q,token:M,authTime:wi(gs(Q.auth_time)),issuedAtTime:wi(gs(Q.iat)),expirationTime:wi(gs(Q.exp)),signInProvider:Fe||null,signInSecondFactor:de?.sign_in_second_factor||null}})).apply(this,arguments)}function gs(R){return 1e3*Number(R)}function Wi(R){const[y,I,M]=R.split(".");if(void 0===y||void 0===I||void 0===M)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,he.tV)(I);return Q?JSON.parse(Q):(ct("Failed to decode base64 JWT payload"),null)}catch(Q){return ct("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function Xr(R,y){return ir.apply(this,arguments)}function ir(){return(ir=(0,fe.Z)(function*(R,y,I=!1){if(I)return y;try{return yield y}catch(M){throw M instanceof he.ZR&&function rn({code:R}){return"auth/user-disabled"===R||"auth/user-token-expired"===R}(M)&&R.auth.currentUser===R&&(yield R.auth.signOut()),M}})).apply(this,arguments)}class Mi{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var I;if(y){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const Q=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(y=!1){var I=this;if(!this.isRunning)return;const M=this.getInterval(y);this.timerId=setTimeout((0,fe.Z)(function*(){yield I.iteration()}),M)}iteration(){var y=this;return(0,fe.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===I?.code&&y.schedule(!0))}y.schedule()})()}}class Ci{constructor(y,I){this.createdAt=y,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=wi(this.lastLoginAt),this.creationTime=wi(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ut(R){return On.apply(this,arguments)}function On(){return On=(0,fe.Z)(function*(R){var y;const I=R.auth,M=yield R.getIdToken(),Q=yield Xr(R,function Mr(R,y){return pr.apply(this,arguments)}(I,{idToken:M}));St(Q?.users.length,I,"internal-error");const de=Q.users[0];R._notifyReloadListener(de);const Fe=null!==(y=de.providerUserInfo)&&void 0!==y&&y.length?function re(R){return R.map(y=>{var{providerId:I}=y,M=(0,Ze._T)(y,["providerId"]);return{providerId:I,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}(de.providerUserInfo):[],st=function xe(R,y){return[...R.filter(M=>!y.some(Q=>Q.providerId===M.providerId)),...y]}(R.providerData,Fe),Ln=!!R.isAnonymous&&!(R.email&&de.passwordHash||st?.length),Dr={uid:de.localId,displayName:de.displayName||null,photoURL:de.photoUrl||null,email:de.email||null,emailVerified:de.emailVerified||!1,phoneNumber:de.phoneNumber||null,tenantId:de.tenantId||null,providerData:st,metadata:new Ci(de.createdAt,de.lastLoginAt),isAnonymous:Ln};Object.assign(R,Dr)}),On.apply(this,arguments)}function gi(){return(gi=(0,fe.Z)(function*(R){const y=(0,he.m9)(R);yield Ut(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function le(){return(le=(0,fe.Z)(function*(R,y){const I=yield pn(R,{},(0,fe.Z)(function*(){const M=(0,he.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:Q,apiKey:de}=R.config,Fe=Fr(R,Q,"/v1/token",`key=${de}`),st=yield R._getAdditionalHeaders();return st["Content-Type"]="application/x-www-form-urlencoded",ze.fetch()(Fe,{method:"POST",headers:st,body:M})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}function Ue(){return(Ue=(0,fe.Z)(function*(R,y){return Vt(R,"POST","/v2/accounts:revokeToken",yt(R,y))})).apply(this,arguments)}class mt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){St(y.idToken,"internal-error"),St(typeof y.idToken<"u","internal-error"),St(typeof y.refreshToken<"u","internal-error");const I="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function Cr(R){const y=Wi(R);return St(y,"internal-error"),St(typeof y.exp<"u","internal-error"),St(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,I)}getToken(y,I=!1){var M=this;return(0,fe.Z)(function*(){return St(!M.accessToken||M.refreshToken,y,"user-token-expired"),I||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(y,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,I){var M=this;return(0,fe.Z)(function*(){const{accessToken:Q,refreshToken:de,expiresIn:Fe}=yield function ae(R,y){return le.apply(this,arguments)}(y,I);M.updateTokensAndExpiration(Q,de,Number(Fe))})()}updateTokensAndExpiration(y,I,M){this.refreshToken=I||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(y,I){const{refreshToken:M,accessToken:Q,expirationTime:de}=I,Fe=new mt;return M&&(St("string"==typeof M,"internal-error",{appName:y}),Fe.refreshToken=M),Q&&(St("string"==typeof Q,"internal-error",{appName:y}),Fe.accessToken=Q),de&&(St("number"==typeof de,"internal-error",{appName:y}),Fe.expirationTime=de),Fe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new mt,this.toJSON())}_performRefresh(){return Cn("not implemented")}}function Lt(R,y){St("string"==typeof R||typeof R>"u","internal-error",{appName:y})}class yn{constructor(y){var{uid:I,auth:M,stsTokenManager:Q}=y,de=(0,Ze._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=M,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=de.displayName||null,this.email=de.email||null,this.emailVerified=de.emailVerified||!1,this.phoneNumber=de.phoneNumber||null,this.photoURL=de.photoURL||null,this.isAnonymous=de.isAnonymous||!1,this.tenantId=de.tenantId||null,this.providerData=de.providerData?[...de.providerData]:[],this.metadata=new Ci(de.createdAt||void 0,de.lastLoginAt||void 0)}getIdToken(y){var I=this;return(0,fe.Z)(function*(){const M=yield Xr(I,I.stsTokenManager.getToken(I.auth,y));return St(M,I.auth,"internal-error"),I.accessToken!==M&&(I.accessToken=M,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),M})()}getIdTokenResult(y){return function ts(R){return Yt.apply(this,arguments)}(this,y)}reload(){return function ei(R){return gi.apply(this,arguments)}(this)}_assign(y){this!==y&&(St(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(I=>Object.assign({},I)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const I=new yn(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return I.metadata._copy(this.metadata),I}_onReload(y){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,I=!1){var M=this;return(0,fe.Z)(function*(){let Q=!1;y.idToken&&y.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(y),Q=!0),I&&(yield Ut(M)),yield M.auth._persistUserIfCurrent(M),Q&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var y=this;return(0,fe.Z)(function*(){const I=yield y.getIdToken();return yield Xr(y,function Jt(R,y){return Rr.apply(this,arguments)}(y.auth,{idToken:I})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,I){var M,Q,de,Fe,st,Et,En,Ln;const Dr=null!==(M=I.displayName)&&void 0!==M?M:void 0,Ji=null!==(Q=I.email)&&void 0!==Q?Q:void 0,ra=null!==(de=I.phoneNumber)&&void 0!==de?de:void 0,ju=null!==(Fe=I.photoURL)&&void 0!==Fe?Fe:void 0,Vl=null!==(st=I.tenantId)&&void 0!==st?st:void 0,gl=null!==(Et=I._redirectEventId)&&void 0!==Et?Et:void 0,Hu=null!==(En=I.createdAt)&&void 0!==En?En:void 0,Md=null!==(Ln=I.lastLoginAt)&&void 0!==Ln?Ln:void 0,{uid:Nc,emailVerified:kc,isAnonymous:zu,providerData:Lc,stsTokenManager:qf}=I;St(Nc&&qf,y,"internal-error");const Zf=mt.fromJSON(this.name,qf);St("string"==typeof Nc,y,"internal-error"),Lt(Dr,y.name),Lt(Ji,y.name),St("boolean"==typeof kc,y,"internal-error"),St("boolean"==typeof zu,y,"internal-error"),Lt(ra,y.name),Lt(ju,y.name),Lt(Vl,y.name),Lt(gl,y.name),Lt(Hu,y.name),Lt(Md,y.name);const Fc=new yn({uid:Nc,auth:y,email:Ji,emailVerified:kc,displayName:Dr,isAnonymous:zu,photoURL:ju,phoneNumber:ra,tenantId:Vl,stsTokenManager:Zf,createdAt:Hu,lastLoginAt:Md});return Lc&&Array.isArray(Lc)&&(Fc.providerData=Lc.map(Sh=>Object.assign({},Sh))),gl&&(Fc._redirectEventId=gl),Fc}static _fromIdTokenResponse(y,I,M=!1){return(0,fe.Z)(function*(){const Q=new mt;Q.updateFromServerResponse(I);const de=new yn({uid:I.localId,auth:y,stsTokenManager:Q,isAnonymous:M});return yield Ut(de),de})()}}const Sn=new Map;function Wn(R){xt(R instanceof Function,"Expected a class definition");let y=Sn.get(R);return y?(xt(y instanceof R,"Instance stored in cache mismatched with class"),y):(y=new R,Sn.set(R,y),y)}const cr=(()=>{class R{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,fe.Z)(function*(){return!0})()}_set(I,M){var Q=this;return(0,fe.Z)(function*(){Q.storage[I]=M})()}_get(I){var M=this;return(0,fe.Z)(function*(){const Q=M.storage[I];return void 0===Q?null:Q})()}_remove(I){var M=this;return(0,fe.Z)(function*(){delete M.storage[I]})()}_addListener(I,M){}_removeListener(I,M){}}return R.type="NONE",R})();function He(R,y,I){return`firebase:${R}:${y}:${I}`}class Ae{constructor(y,I,M){this.persistence=y,this.auth=I,this.userKey=M;const{config:Q,name:de}=this.auth;this.fullUserKey=He(this.userKey,Q.apiKey,de),this.fullPersistenceKey=He("persistence",Q.apiKey,de),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,fe.Z)(function*(){const I=yield y.persistence._get(y.fullUserKey);return I?yn._fromJSON(y.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var I=this;return(0,fe.Z)(function*(){if(I.persistence===y)return;const M=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=y,M?I.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,I,M="authUser"){return(0,fe.Z)(function*(){if(!I.length)return new Ae(Wn(cr),y,M);const Q=(yield Promise.all(I.map(function(){var En=(0,fe.Z)(function*(Ln){if(yield Ln._isAvailable())return Ln});return function(Ln){return En.apply(this,arguments)}}()))).filter(En=>En);let de=Q[0]||Wn(cr);const Fe=He(M,y.config.apiKey,y.name);let st=null;for(const En of I)try{const Ln=yield En._get(Fe);if(Ln){const Dr=yn._fromJSON(y,Ln);En!==de&&(st=Dr),de=En;break}}catch{}const Et=Q.filter(En=>En._shouldAllowMigration);return de._shouldAllowMigration&&Et.length?(de=Et[0],st&&(yield de._set(Fe,st.toJSON())),yield Promise.all(I.map(function(){var En=(0,fe.Z)(function*(Ln){if(Ln!==de)try{yield Ln._remove(Fe)}catch{}});return function(Ln){return En.apply(this,arguments)}}())),new Ae(de,y,M)):new Ae(de,y,M)})()}}function Pe(R){const y=R.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(et(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(Te(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(wt(y))return"Blackberry";if(gn(y))return"Webos";if(Ee(y))return"Safari";if((y.includes("chrome/")||$e(y))&&!y.includes("edge/"))return"Chrome";if(Zt(y))return"Android";{const M=R.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function Te(R=(0,he.z$)()){return/firefox\//i.test(R)}function Ee(R=(0,he.z$)()){const y=R.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function $e(R=(0,he.z$)()){return/crios\//i.test(R)}function et(R=(0,he.z$)()){return/iemobile/i.test(R)}function Zt(R=(0,he.z$)()){return/android/i.test(R)}function wt(R=(0,he.z$)()){return/blackberry/i.test(R)}function gn(R=(0,he.z$)()){return/webos/i.test(R)}function gr(R=(0,he.z$)()){return/iphone|ipad|ipod/i.test(R)||/macintosh/i.test(R)&&/mobile/i.test(R)}function Pi(R=(0,he.z$)()){return gr(R)||Zt(R)||gn(R)||wt(R)||/windows phone/i.test(R)||et(R)}function lr(R,y=[]){let I;switch(R){case"Browser":I=Pe((0,he.z$)());break;case"Worker":I=`${Pe((0,he.z$)())}-${R}`;break;default:I=R}const M=y.length?y.join(","):"FirebaseCore-web";return`${I}/JsCore/${Ke.Jn}/${M}`}class ui{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,I){const M=de=>new Promise((Fe,st)=>{try{Fe(y(de))}catch(Et){st(Et)}});M.onAbort=I,this.queue.push(M);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(y){var I=this;return(0,fe.Z)(function*(){if(I.auth.currentUser===y)return;const M=[];try{for(const Q of I.queue)yield Q(y),Q.onAbort&&M.push(Q.onAbort)}catch(Q){M.reverse();for(const de of M)try{de()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}function Nn(){return(Nn=(0,fe.Z)(function*(R,y={}){return Vt(R,"GET","/v2/passwordPolicy",yt(R,y))})).apply(this,arguments)}class Ds{constructor(y){var I,M,Q,de;const Fe=y.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(I=Fe.minPasswordLength)&&void 0!==I?I:6,Fe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Fe.maxPasswordLength),void 0!==Fe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Fe.containsLowercaseCharacter),void 0!==Fe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Fe.containsUppercaseCharacter),void 0!==Fe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Fe.containsNumericCharacter),void 0!==Fe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Fe.containsNonAlphanumericCharacter),this.enforcementState=y.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Q=null===(M=y.allowedNonAlphanumericCharacters)||void 0===M?void 0:M.join(""))&&void 0!==Q?Q:"",this.forceUpgradeOnSignin=null!==(de=y.forceUpgradeOnSignin)&&void 0!==de&&de,this.schemaVersion=y.schemaVersion}validatePassword(y){var I,M,Q,de,Fe,st;const Et={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(y,Et),this.validatePasswordCharacterOptions(y,Et),Et.isValid&&(Et.isValid=null===(I=Et.meetsMinPasswordLength)||void 0===I||I),Et.isValid&&(Et.isValid=null===(M=Et.meetsMaxPasswordLength)||void 0===M||M),Et.isValid&&(Et.isValid=null===(Q=Et.containsLowercaseLetter)||void 0===Q||Q),Et.isValid&&(Et.isValid=null===(de=Et.containsUppercaseLetter)||void 0===de||de),Et.isValid&&(Et.isValid=null===(Fe=Et.containsNumericCharacter)||void 0===Fe||Fe),Et.isValid&&(Et.isValid=null===(st=Et.containsNonAlphanumericCharacter)||void 0===st||st),Et}validatePasswordLengthOptions(y,I){const M=this.customStrengthOptions.minPasswordLength,Q=this.customStrengthOptions.maxPasswordLength;M&&(I.meetsMinPasswordLength=y.length>=M),Q&&(I.meetsMaxPasswordLength=y.length<=Q)}validatePasswordCharacterOptions(y,I){let M;this.updatePasswordCharacterOptionsStatuses(I,!1,!1,!1,!1);for(let Q=0;Q<y.length;Q++)M=y.charAt(Q),this.updatePasswordCharacterOptionsStatuses(I,M>="a"&&M<="z",M>="A"&&M<="Z",M>="0"&&M<="9",this.allowedNonAlphanumericCharacters.includes(M))}updatePasswordCharacterOptionsStatuses(y,I,M,Q,de){this.customStrengthOptions.containsLowercaseLetter&&(y.containsLowercaseLetter||(y.containsLowercaseLetter=I)),this.customStrengthOptions.containsUppercaseLetter&&(y.containsUppercaseLetter||(y.containsUppercaseLetter=M)),this.customStrengthOptions.containsNumericCharacter&&(y.containsNumericCharacter||(y.containsNumericCharacter=Q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(y.containsNonAlphanumericCharacter||(y.containsNonAlphanumericCharacter=de))}}class ni{constructor(y,I,M,Q){this.app=y,this.heartbeatServiceProvider=I,this.appCheckServiceProvider=M,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ms(this),this.idTokenSubscription=new ms(this),this.beforeStateQueue=new ui(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(y,I){var M=this;return I&&(this._popupRedirectResolver=Wn(I)),this._initializationPromise=this.queue((0,fe.Z)(function*(){var Q,de;if(!M._deleted&&(M.persistenceManager=yield Ae.create(M,y),!M._deleted)){if(null!==(Q=M._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(I),M.lastNotifiedUid=(null===(de=M.currentUser)||void 0===de?void 0:de.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,fe.Z)(function*(){if(y._deleted)return;const I=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||I){if(y.currentUser&&I&&y.currentUser.uid===I.uid)return y._currentUser._assign(I),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(I,!0)}})()}initializeCurrentUser(y){var I=this;return(0,fe.Z)(function*(){var M;const Q=yield I.assertedPersistence.getCurrentUser();let de=Q,Fe=!1;if(y&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const st=null===(M=I.redirectUser)||void 0===M?void 0:M._redirectEventId,Et=de?._redirectEventId,En=yield I.tryRedirectSignIn(y);(!st||st===Et)&&En?.user&&(de=En.user,Fe=!0)}if(!de)return I.directlySetCurrentUser(null);if(!de._redirectEventId){if(Fe)try{yield I.beforeStateQueue.runMiddleware(de)}catch(st){de=Q,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(st))}return de?I.reloadAndSetCurrentUserOrClear(de):I.directlySetCurrentUser(null)}return St(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===de._redirectEventId?I.directlySetCurrentUser(de):I.reloadAndSetCurrentUserOrClear(de)})()}tryRedirectSignIn(y){var I=this;return(0,fe.Z)(function*(){let M=null;try{M=yield I._popupRedirectResolver._completeRedirectFn(I,y,!0)}catch{yield I._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(y){var I=this;return(0,fe.Z)(function*(){try{yield Ut(y)}catch(M){if("auth/network-request-failed"!==M?.code)return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function De(){if(typeof navigator>"u")return null;const R=navigator;return R.languages&&R.languages[0]||R.language||null}()}_delete(){var y=this;return(0,fe.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var I=this;return(0,fe.Z)(function*(){const M=y?(0,he.m9)(y):null;return M&&St(M.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(M&&M._clone(I))})()}_updateCurrentUser(y,I=!1){var M=this;return(0,fe.Z)(function*(){if(!M._deleted)return y&&St(M.tenantId===y.tenantId,M,"tenant-id-mismatch"),I||(yield M.beforeStateQueue.runMiddleware(y)),M.queue((0,fe.Z)(function*(){yield M.directlySetCurrentUser(y),M.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,fe.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var I=this;return this.queue((0,fe.Z)(function*(){yield I.assertedPersistence.setPersistence(Wn(y))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(y){var I=this;return(0,fe.Z)(function*(){I._getPasswordPolicyInternal()||(yield I._updatePasswordPolicy());const M=I._getPasswordPolicyInternal();return M.schemaVersion!==I.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(I._errorFactory.create("unsupported-password-policy-schema-version",{})):M.validatePassword(y)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var y=this;return(0,fe.Z)(function*(){const I=yield function ti(R){return Nn.apply(this,arguments)}(y),M=new Ds(I);null===y.tenantId?y._projectPasswordPolicy=M:y._tenantPasswordPolicies[y.tenantId]=M})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new he.LL("auth","Firebase",y())}onAuthStateChanged(y,I,M){return this.registerStateListener(this.authStateSubscription,y,I,M)}beforeAuthStateChanged(y,I){return this.beforeStateQueue.pushCallback(y,I)}onIdTokenChanged(y,I,M){return this.registerStateListener(this.idTokenSubscription,y,I,M)}authStateReady(){return new Promise((y,I)=>{if(this.currentUser)y();else{const M=this.onAuthStateChanged(()=>{M(),y()},I)}})}revokeAccessToken(y){var I=this;return(0,fe.Z)(function*(){if(I.currentUser){const M=yield I.currentUser.getIdToken(),Q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:y,idToken:M};null!=I.tenantId&&(Q.tenantId=I.tenantId),yield function ce(R,y){return Ue.apply(this,arguments)}(I,Q)}})()}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,I){var M=this;return(0,fe.Z)(function*(){const Q=yield M.getOrInitRedirectPersistenceManager(I);return null===y?Q.removeCurrentUser():Q.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var I=this;return(0,fe.Z)(function*(){if(!I.redirectPersistenceManager){const M=y&&Wn(y)||I._popupRedirectResolver;St(M,I,"argument-error"),I.redirectPersistenceManager=yield Ae.create(I,[Wn(M._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(y){var I=this;return(0,fe.Z)(function*(){var M,Q;return I._isInitialized&&(yield I.queue((0,fe.Z)(function*(){}))),(null===(M=I._currentUser)||void 0===M?void 0:M._redirectEventId)===y?I._currentUser:(null===(Q=I.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===y?I.redirectUser:null})()}_persistUserIfCurrent(y){var I=this;return(0,fe.Z)(function*(){if(y===I.currentUser)return I.queue((0,fe.Z)(function*(){return I.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(I=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,I,M,Q){if(this._deleted)return()=>{};const de="function"==typeof I?I:I.next.bind(I);let Fe=!1;const st=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(st,this,"internal-error"),st.then(()=>{Fe||de(this.currentUser)}),"function"==typeof I){const Et=y.addObserver(I,M,Q);return()=>{Fe=!0,Et()}}{const Et=y.addObserver(I);return()=>{Fe=!0,Et()}}}directlySetCurrentUser(y){var I=this;return(0,fe.Z)(function*(){I.currentUser&&I.currentUser!==y&&I._currentUser._stopProactiveRefresh(),y&&I.isProactiveRefreshEnabled&&y._startProactiveRefresh(),I.currentUser=y,y?yield I.assertedPersistence.setCurrentUser(y):yield I.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=lr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,fe.Z)(function*(){var I;const M={"X-Client-Version":y.clientVersion};y.app.options.appId&&(M["X-Firebase-gmpid"]=y.app.options.appId);const Q=yield null===(I=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();Q&&(M["X-Firebase-Client"]=Q);const de=yield y._getAppCheckToken();return de&&(M["X-Firebase-AppCheck"]=de),M})()}_getAppCheckToken(){var y=this;return(0,fe.Z)(function*(){var I;const M=yield null===(I=y.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getToken();return M?.error&&function at(R,...y){Ye.logLevel<=Dt.in.WARN&&Ye.warn(`Auth (${Ke.Jn}): ${R}`,...y)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function Kn(R){return(0,he.m9)(R)}class ms{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,he.ne)(I=>this.observer=I)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _s(R){return new Promise((y,I)=>{const M=document.createElement("script");M.setAttribute("src",R),M.onload=y,M.onerror=Q=>{const de=gt("internal-error");de.customData=Q,I(de)},M.type="text/javascript",M.charset="UTF-8",function Qs(){var R,y;return null!==(y=null===(R=document.getElementsByTagName("head"))||void 0===R?void 0:R[0])&&void 0!==y?y:document}().appendChild(M)})}function ls(R){return`__${R}${Math.floor(1e6*Math.random())}`}class Oi{constructor(y){this.type="recaptcha-enterprise",this.auth=Kn(y)}verify(y="verify",I=!1){var M=this;return(0,fe.Z)(function*(){function de(){return de=(0,fe.Z)(function*(st){if(!I){if(null==st.tenantId&&null!=st._agentRecaptchaConfig)return st._agentRecaptchaConfig.siteKey;if(null!=st.tenantId&&void 0!==st._tenantRecaptchaConfigs[st.tenantId])return st._tenantRecaptchaConfigs[st.tenantId].siteKey}return new Promise(function(){var Et=(0,fe.Z)(function*(En,Ln){fr(st,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Dr=>{if(void 0!==Dr.recaptchaKey){const Ji=new ln(Dr);return null==st.tenantId?st._agentRecaptchaConfig=Ji:st._tenantRecaptchaConfigs[st.tenantId]=Ji,En(Ji.siteKey)}Ln(new Error("recaptcha Enterprise site key undefined"))}).catch(Dr=>{Ln(Dr)})});return function(En,Ln){return Et.apply(this,arguments)}}())}),de.apply(this,arguments)}function Fe(st,Et,En){const Ln=window.grecaptcha;Zn(Ln)?Ln.enterprise.ready(()=>{Ln.enterprise.execute(st,{action:y}).then(Dr=>{Et(Dr)}).catch(()=>{Et("NO_RECAPTCHA")})}):En(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((st,Et)=>{(function Q(st){return de.apply(this,arguments)})(M.auth).then(En=>{if(!I&&Zn(window.grecaptcha))Fe(En,st,Et);else{if(typeof window>"u")return void Et(new Error("RecaptchaVerifier is only supported in browser"));_s("https://www.google.com/recaptcha/enterprise.js?render="+En).then(()=>{Fe(En,st,Et)}).catch(Ln=>{Et(Ln)})}}).catch(En=>{Et(En)})})})()}}function ks(R,y,I){return vi.apply(this,arguments)}function vi(){return(vi=(0,fe.Z)(function*(R,y,I,M=!1){const Q=new Oi(R);let de;try{de=yield Q.verify(I)}catch{de=yield Q.verify(I,!0)}const Fe=Object.assign({},y);return Object.assign(Fe,M?{captchaResp:de}:{captchaResponse:de}),Object.assign(Fe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Fe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Fe})).apply(this,arguments)}function Xs(R,y,I,M){return Ss.apply(this,arguments)}function Ss(){return Ss=(0,fe.Z)(function*(R,y,I,M){var Q;if(null!==(Q=R._getRecaptchaConfig())&&void 0!==Q&&Q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const de=yield ks(R,y,I,"getOobCode"===I);return M(R,de)}return M(R,y).catch(function(){var de=(0,fe.Z)(function*(Fe){if("auth/missing-recaptcha-token"===Fe.code){console.log(`${I} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const st=yield ks(R,y,I,"getOobCode"===I);return M(R,st)}return Promise.reject(Fe)});return function(Fe){return de.apply(this,arguments)}}())}),Ss.apply(this,arguments)}function aa(R){const y=R.indexOf(":");return y<0?"":R.substr(0,y+1)}function xs(R){if(!R)return null;const y=Number(R);return isNaN(y)?null:y}class us{constructor(y,I){this.providerId=y,this.signInMethod=I}toJSON(){return Cn("not implemented")}_getIdTokenResponse(y){return Cn("not implemented")}_linkToIdToken(y,I){return Cn("not implemented")}_getReauthenticationResolver(y){return Cn("not implemented")}}function Zr(R,y){return fo.apply(this,arguments)}function fo(){return(fo=(0,fe.Z)(function*(R,y){return Vt(R,"POST","/v1/accounts:signUp",y)})).apply(this,arguments)}function rs(R,y){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,fe.Z)(function*(R,y){return Gn(R,"POST","/v1/accounts:signInWithPassword",yt(R,y))})).apply(this,arguments)}function Vs(){return(Vs=(0,fe.Z)(function*(R,y){return Gn(R,"POST","/v1/accounts:signInWithEmailLink",yt(R,y))})).apply(this,arguments)}function Kt(){return(Kt=(0,fe.Z)(function*(R,y){return Gn(R,"POST","/v1/accounts:signInWithEmailLink",yt(R,y))})).apply(this,arguments)}class xn extends us{constructor(y,I,M,Q=null){super("password",M),this._email=y,this._password=I,this._tenantId=Q}static _fromEmailAndPassword(y,I){return new xn(y,I,"password")}static _fromEmailAndCode(y,I,M=null){return new xn(y,I,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const I="string"==typeof y?JSON.parse(y):y;if(I?.email&&I?.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(y){var I=this;return(0,fe.Z)(function*(){switch(I.signInMethod){case"password":return Xs(y,{returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",rs);case"emailLink":return function So(R,y){return Vs.apply(this,arguments)}(y,{email:I._email,oobCode:I._password});default:pt(y,"internal-error")}})()}_linkToIdToken(y,I){var M=this;return(0,fe.Z)(function*(){switch(M.signInMethod){case"password":return Xs(y,{idToken:I,returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zr);case"emailLink":return function ci(R,y){return Kt.apply(this,arguments)}(y,{idToken:I,email:M._email,oobCode:M._password});default:pt(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function q(R,y){return Y.apply(this,arguments)}function Y(){return(Y=(0,fe.Z)(function*(R,y){return Gn(R,"POST","/v1/accounts:signInWithIdp",yt(R,y))})).apply(this,arguments)}class Ur{constructor(y){var I,M,Q,de,Fe,st;const Et=(0,he.zd)((0,he.pd)(y)),En=null!==(I=Et.apiKey)&&void 0!==I?I:null,Ln=null!==(M=Et.oobCode)&&void 0!==M?M:null,Dr=function Vr(R){switch(R){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=Et.mode)&&void 0!==Q?Q:null);St(En&&Ln&&Dr,"argument-error"),this.apiKey=En,this.operation=Dr,this.code=Ln,this.continueUrl=null!==(de=Et.continueUrl)&&void 0!==de?de:null,this.languageCode=null!==(Fe=Et.languageCode)&&void 0!==Fe?Fe:null,this.tenantId=null!==(st=Et.tenantId)&&void 0!==st?st:null}static parseLink(y){const I=function Kr(R){const y=(0,he.zd)((0,he.pd)(R)).link,I=y?(0,he.zd)((0,he.pd)(y)).deep_link_id:null,M=(0,he.zd)((0,he.pd)(R)).deep_link_id;return(M?(0,he.zd)((0,he.pd)(M)).link:null)||M||I||y||R}(y);try{return new Ur(I)}catch{return null}}}let mi=(()=>{class R{constructor(){this.providerId=R.PROVIDER_ID}static credential(I,M){return xn._fromEmailAndPassword(I,M)}static credentialWithLink(I,M){const Q=Ur.parseLink(M);return St(Q,"argument-error"),xn._fromEmailAndCode(I,Q.code,Q.tenantId)}}return R.PROVIDER_ID="password",R.EMAIL_PASSWORD_SIGN_IN_METHOD="password",R.EMAIL_LINK_SIGN_IN_METHOD="emailLink",R})();class br{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class ri extends br{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}function Ii(R,y){return nl.apply(this,arguments)}function nl(){return(nl=(0,fe.Z)(function*(R,y){return Gn(R,"POST","/v1/accounts:signUp",yt(R,y))})).apply(this,arguments)}class Hr{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,I,M,Q=!1){return(0,fe.Z)(function*(){const de=yield yn._fromIdTokenResponse(y,M,Q),Fe=Di(M);return new Hr({user:de,providerId:Fe,_tokenResponse:M,operationType:I})})()}static _forOperation(y,I,M){return(0,fe.Z)(function*(){yield y._updateTokensIfNecessary(M,!0);const Q=Di(M);return new Hr({user:y,providerId:Q,_tokenResponse:M,operationType:I})})()}}function Di(R){return R.providerId?R.providerId:"phoneNumber"in R?"phone":null}class er extends he.ZR{constructor(y,I,M,Q){var de;super(I.code,I.message),this.operationType=M,this.user=Q,Object.setPrototypeOf(this,er.prototype),this.customData={appName:y.name,tenantId:null!==(de=y.tenantId)&&void 0!==de?de:void 0,_serverResponse:I.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(y,I,M,Q){return new er(y,I,M,Q)}}function is(R,y,I,M){return("reauthenticate"===y?I._getReauthenticationResolver(R):I._getIdTokenResponse(R)).catch(de=>{throw"auth/multi-factor-auth-required"===de.code?er._fromErrorAndOperation(R,de,y,M):de})}function oe(){return(oe=(0,fe.Z)(function*(R,y,I=!1){const M=yield Xr(R,y._linkToIdToken(R.auth,yield R.getIdToken()),I);return Hr._forOperation(R,"link",M)})).apply(this,arguments)}function ss(){return(ss=(0,fe.Z)(function*(R,y,I=!1){const{auth:M}=R,Q="reauthenticate";try{const de=yield Xr(R,is(M,Q,y,R),I);St(de.idToken,M,"internal-error");const Fe=Wi(de.idToken);St(Fe,M,"internal-error");const{sub:st}=Fe;return St(R.uid===st,M,"user-mismatch"),Hr._forOperation(R,Q,de)}catch(de){throw"auth/user-not-found"===de?.code&&pt(M,"user-mismatch"),de}})).apply(this,arguments)}function da(R,y){return vs.apply(this,arguments)}function vs(){return(vs=(0,fe.Z)(function*(R,y,I=!1){const M="signIn",Q=yield is(R,M,y),de=yield Hr._fromIdTokenResponse(R,M,Q);return I||(yield R._updateCurrentUser(de.user)),de})).apply(this,arguments)}function Ro(){return(Ro=(0,fe.Z)(function*(R,y){return da(Kn(R),y)})).apply(this,arguments)}function sl(R){return ds.apply(this,arguments)}function ds(){return(ds=(0,fe.Z)(function*(R){const y=Kn(R);y._getPasswordPolicyInternal()&&(yield y._updatePasswordPolicy())})).apply(this,arguments)}function Jl(R,y,I){return ro.apply(this,arguments)}function ro(){return(ro=(0,fe.Z)(function*(R,y,I){const M=Kn(R),Fe=yield Xs(M,{returnSecureToken:!0,email:y,password:I,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ii).catch(Et=>{throw"auth/password-does-not-meet-requirements"===Et.code&&sl(R),Et}),st=yield Hr._fromIdTokenResponse(M,"signIn",Fe);return yield M._updateCurrentUser(st.user),st})).apply(this,arguments)}function xa(R,y,I){return function xo(R,y){return Ro.apply(this,arguments)}((0,he.m9)(R),mi.credential(y,I)).catch(function(){var M=(0,fe.Z)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&sl(R),Q});return function(Q){return M.apply(this,arguments)}}())}const bi="__sak";class wn{constructor(y,I){this.storageRetriever=y,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(bi,"1"),this.storage.removeItem(bi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,I){return this.storage.setItem(y,JSON.stringify(I)),Promise.resolve()}_get(y){const I=this.storage.getItem(y);return Promise.resolve(I?JSON.parse(I):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const bt=(()=>{class R extends wn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,M)=>this.onStorageEvent(I,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Eo(){const R=(0,he.z$)();return Ee(R)||gr(R)}()&&function Vn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Pi(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const M of Object.keys(this.listeners)){const Q=this.storage.getItem(M),de=this.localCache[M];Q!==de&&I(M,de,Q)}}onStorageEvent(I,M=!1){if(!I.key)return void this.forAllChangedKeys((st,Et,En)=>{this.notifyListeners(st,En)});const Q=I.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const st=this.storage.getItem(Q);if(I.newValue!==st)null!==I.newValue?this.storage.setItem(Q,I.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===I.newValue&&!M)return}const de=()=>{const st=this.storage.getItem(Q);!M&&this.localCache[Q]===st||this.notifyListeners(Q,st)},Fe=this.storage.getItem(Q);!function As(){return(0,he.w1)()&&10===document.documentMode}()||Fe===I.newValue||I.newValue===I.oldValue?de():setTimeout(de,10)}notifyListeners(I,M){this.localCache[I]=M;const Q=this.listeners[I];if(Q)for(const de of Array.from(Q))de(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,M,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:M,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(M)}_removeListener(I,M){this.listeners[I]&&(this.listeners[I].delete(M),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,M){var Q=()=>super._set,de=this;return(0,fe.Z)(function*(){yield Q().call(de,I,M),de.localCache[I]=JSON.stringify(M)})()}_get(I){var M=()=>super._get,Q=this;return(0,fe.Z)(function*(){const de=yield M().call(Q,I);return Q.localCache[I]=JSON.stringify(de),de})()}_remove(I){var M=()=>super._remove,Q=this;return(0,fe.Z)(function*(){yield M().call(Q,I),delete Q.localCache[I]})()}}return R.type="LOCAL",R})(),xu=(()=>{class R extends wn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,M){}_removeListener(I,M){}}return R.type="SESSION",R})();let Xl=(()=>{class R{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const M=this.receivers.find(de=>de.isListeningto(I));if(M)return M;const Q=new R(I);return this.receivers.push(Q),Q}isListeningto(I){return this.eventTarget===I}handleEvent(I){var M=this;return(0,fe.Z)(function*(){const Q=I,{eventId:de,eventType:Fe,data:st}=Q.data,Et=M.handlersMap[Fe];if(!Et?.size)return;Q.ports[0].postMessage({status:"ack",eventId:de,eventType:Fe});const En=Array.from(Et).map(function(){var Dr=(0,fe.Z)(function*(Ji){return Ji(Q.origin,st)});return function(Ji){return Dr.apply(this,arguments)}}()),Ln=yield function fa(R){return Promise.all(R.map(function(){var y=(0,fe.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(M){return{fulfilled:!1,reason:M}}});return function(I){return y.apply(this,arguments)}}()))}(En);Q.ports[0].postMessage({status:"done",eventId:de,eventType:Fe,response:Ln})})()}_subscribe(I,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(M)}_unsubscribe(I,M){this.handlersMap[I]&&M&&this.handlersMap[I].delete(M),(!M||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return R.receivers=[],R})();function pa(R="",y=10){let I="";for(let M=0;M<y;M++)I+=Math.floor(10*Math.random());return R+I}class eu{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,I,M=50){var Q=this;return(0,fe.Z)(function*(){const de=typeof MessageChannel<"u"?new MessageChannel:null;if(!de)throw new Error("connection_unavailable");let Fe,st;return new Promise((Et,En)=>{const Ln=pa("",20);de.port1.start();const Dr=setTimeout(()=>{En(new Error("unsupported_event"))},M);st={messageChannel:de,onMessage(Ji){const ra=Ji;if(ra.data.eventId===Ln)switch(ra.data.status){case"ack":clearTimeout(Dr),Fe=setTimeout(()=>{En(new Error("timeout"))},3e3);break;case"done":clearTimeout(Fe),Et(ra.data.response);break;default:clearTimeout(Dr),clearTimeout(Fe),En(new Error("invalid_response"))}}},Q.handlers.add(st),de.port1.addEventListener("message",st.onMessage),Q.target.postMessage({eventType:y,eventId:Ln,data:I},[de.port2])}).finally(()=>{st&&Q.removeMessageHandler(st)})})()}}function Yr(){return window}function gc(){return typeof Yr().WorkerGlobalScope<"u"&&"function"==typeof Yr().importScripts}function tu(){return(tu=(0,fe.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ur="firebaseLocalStorageDb",Qe="firebaseLocalStorage",xi="fbase_key";class Ms{constructor(y){this.request=y}toPromise(){return new Promise((y,I)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function Li(R,y){return R.transaction([Qe],y?"readwrite":"readonly").objectStore(Qe)}function Go(){const R=indexedDB.open(ur,1);return new Promise((y,I)=>{R.addEventListener("error",()=>{I(R.error)}),R.addEventListener("upgradeneeded",()=>{const M=R.result;try{M.createObjectStore(Qe,{keyPath:xi})}catch(Q){I(Q)}}),R.addEventListener("success",(0,fe.Z)(function*(){const M=R.result;M.objectStoreNames.contains(Qe)?y(M):(M.close(),yield function so(){const R=indexedDB.deleteDatabase(ur);return new Ms(R).toPromise()}(),y(yield Go()))}))})}function ul(R,y,I){return ga.apply(this,arguments)}function ga(){return(ga=(0,fe.Z)(function*(R,y,I){const M=Li(R,!0).put({[xi]:y,value:I});return new Ms(M).toPromise()})).apply(this,arguments)}function nu(){return(nu=(0,fe.Z)(function*(R,y){const I=Li(R,!1).get(y),M=yield new Ms(I).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function zs(R,y){const I=Li(R,!0).delete(y);return new Ms(I).toPromise()}const oo=(()=>{class R{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,fe.Z)(function*(){return I.db||(I.db=yield Go()),I.db})()}_withRetries(I){var M=this;return(0,fe.Z)(function*(){let Q=0;for(;;)try{const de=yield M._openDb();return yield I(de)}catch(de){if(Q++>3)throw de;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,fe.Z)(function*(){return gc()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,fe.Z)(function*(){I.receiver=Xl._getInstance(function Pt(){return gc()?self:null}()),I.receiver._subscribe("keyChanged",function(){var M=(0,fe.Z)(function*(Q,de){return{keyProcessed:(yield I._poll()).includes(de.key)}});return function(Q,de){return M.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var M=(0,fe.Z)(function*(Q,de){return["keyChanged"]});return function(Q,de){return M.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,fe.Z)(function*(){var M,Q;if(I.activeServiceWorker=yield function $o(){return tu.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new eu(I.activeServiceWorker);const de=yield I.sender._send("ping",{},800);de&&null!==(M=de[0])&&void 0!==M&&M.fulfilled&&null!==(Q=de[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var M=this;return(0,fe.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function mc(){var R;return(null===(R=navigator?.serviceWorker)||void 0===R?void 0:R.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:I},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,fe.Z)(function*(){try{if(!indexedDB)return!1;const I=yield Go();return yield ul(I,bi,"1"),yield zs(I,bi),!0}catch{}return!1})()}_withPendingWrite(I){var M=this;return(0,fe.Z)(function*(){M.pendingWrites++;try{yield I()}finally{M.pendingWrites--}})()}_set(I,M){var Q=this;return(0,fe.Z)(function*(){return Q._withPendingWrite((0,fe.Z)(function*(){return yield Q._withRetries(de=>ul(de,I,M)),Q.localCache[I]=M,Q.notifyServiceWorker(I)}))})()}_get(I){var M=this;return(0,fe.Z)(function*(){const Q=yield M._withRetries(de=>function gd(R,y){return nu.apply(this,arguments)}(de,I));return M.localCache[I]=Q,Q})()}_remove(I){var M=this;return(0,fe.Z)(function*(){return M._withPendingWrite((0,fe.Z)(function*(){return yield M._withRetries(Q=>zs(Q,I)),delete M.localCache[I],M.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,fe.Z)(function*(){const M=yield I._withRetries(Fe=>{const st=Li(Fe,!1).getAll();return new Ms(st).toPromise()});if(!M)return[];if(0!==I.pendingWrites)return[];const Q=[],de=new Set;if(0!==M.length)for(const{fbase_key:Fe,value:st}of M)de.add(Fe),JSON.stringify(I.localCache[Fe])!==JSON.stringify(st)&&(I.notifyListeners(Fe,st),Q.push(Fe));for(const Fe of Object.keys(I.localCache))I.localCache[Fe]&&!de.has(Fe)&&(I.notifyListeners(Fe,null),Q.push(Fe));return Q})()}notifyListeners(I,M){this.localCache[I]=M;const Q=this.listeners[I];if(Q)for(const de of Array.from(Q))de(M)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,fe.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(M)}_removeListener(I,M){this.listeners[I]&&(this.listeners[I].delete(M),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return R.type="LOCAL",R})();ls("rcb"),new Be(3e4,6e4);class Xo extends us{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return q(y,this._buildIdpRequest())}_linkToIdToken(y,I){return q(y,this._buildIdpRequest(I))}_getReauthenticationResolver(y){return q(y,this._buildIdpRequest())}_buildIdpRequest(y){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(I.idToken=y),I}}function oi(R){return da(R.auth,new Xo(R),R.bypassAuthState)}function bc(R){const{auth:y,user:I}=R;return St(I,y,"internal-error"),function Hn(R,y){return ss.apply(this,arguments)}(I,new Xo(R),R.bypassAuthState)}function $s(R){return fi.apply(this,arguments)}function fi(){return(fi=(0,fe.Z)(function*(R){const{auth:y,user:I}=R;return St(I,y,"internal-error"),function U(R,y){return oe.apply(this,arguments)}(I,new Xo(R),R.bypassAuthState)})).apply(this,arguments)}class su{constructor(y,I,M,Q,de=!1){this.auth=y,this.resolver=M,this.user=Q,this.bypassAuthState=de,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var y=this;return new Promise(function(){var I=(0,fe.Z)(function*(M,Q){y.pendingPromise={resolve:M,reject:Q};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(de){y.reject(de)}});return function(M,Q){return I.apply(this,arguments)}}())}onAuthEvent(y){var I=this;return(0,fe.Z)(function*(){const{urlResponse:M,sessionId:Q,postBody:de,tenantId:Fe,error:st,type:Et}=y;if(st)return void I.reject(st);const En={auth:I.auth,requestUri:M,sessionId:Q,tenantId:Fe||void 0,postBody:de||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(Et)(En))}catch(Ln){I.reject(Ln)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return oi;case"linkViaPopup":case"linkViaRedirect":return $s;case"reauthViaPopup":case"reauthViaRedirect":return bc;default:pt(this.auth,"internal-error")}}resolve(y){xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Be(2e3,1e4);const Dl="pendingRedirect",Na=new Map;class Sl extends su{constructor(y,I,M=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,M),this.eventId=null}execute(){var y=()=>super.execute,I=this;return(0,fe.Z)(function*(){let M=Na.get(I.auth._key());if(!M){try{const de=(yield function ou(R,y){return xl.apply(this,arguments)}(I.resolver,I.auth))?yield y().call(I):null;M=()=>Promise.resolve(de)}catch(Q){M=()=>Promise.reject(Q)}Na.set(I.auth._key(),M)}return I.bypassAuthState||Na.set(I.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(y){var I=()=>super.onAuthEvent,M=this;return(0,fe.Z)(function*(){if("signInViaRedirect"===y.type)return I().call(M,y);if("unknown"!==y.type){if(y.eventId){const Q=yield M.auth._redirectUserForId(y.eventId);if(Q)return M.user=Q,I().call(M,y);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,fe.Z)(function*(){})()}cleanUp(){}}function xl(){return(xl=(0,fe.Z)(function*(R,y){const I=function au(R){return He(Dl,R.config.apiKey,R.name)}(y),M=function ya(R){return Wn(R._redirectPersistence)}(R);if(!(yield M._isAvailable()))return!1;const Q="true"===(yield M._get(I));return yield M._remove(I),Q})).apply(this,arguments)}function Ka(R,y){Na.set(R._key(),y)}function Ml(R,y){return bd.apply(this,arguments)}function bd(){return(bd=(0,fe.Z)(function*(R,y,I=!1){const M=Kn(R),Q=function ao(R,y){return y?Wn(y):(St(R._popupRedirectResolver,R,"argument-error"),R._popupRedirectResolver)}(M,y),Fe=yield new Sl(M,Q,I).execute();return Fe&&!I&&(delete Fe.user._redirectEventId,yield M._persistUserIfCurrent(Fe.user),yield M._setRedirectUser(null,y)),Fe})).apply(this,arguments)}class vh{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let I=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(y,M)&&(I=!0,this.sendToConsumer(y,M),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function Fi(R){switch(R.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ya(R);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=y,I=!0)),I}sendToConsumer(y,I){var M;if(y.error&&!Ya(y)){const Q=(null===(M=y.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";I.onError(gt(this.auth,Q))}else I.onAuthEvent(y)}isEventForConsumer(y,I){const M=null===I.eventId||!!y.eventId&&y.eventId===I.eventId;return I.filter.includes(y.type)&&M}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ps(y))}saveEventToCache(y){this.cachedEventUids.add(Ps(y)),this.lastProcessedEventTime=Date.now()}}function Ps(R){return[R.type,R.eventId,R.sessionId,R.tenantId].filter(y=>y).join("-")}function Ya({type:R,error:y}){return"unknown"===R&&"auth/no-auth-event"===y?.code}function wc(){return(wc=(0,fe.Z)(function*(R,y={}){return Vt(R,"GET","/v1/projects",y)})).apply(this,arguments)}const bh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lu=/^https?/;function Qa(){return Qa=(0,fe.Z)(function*(R){if(R.config.emulator)return;const{authorizedDomains:y}=yield function zi(R){return wc.apply(this,arguments)}(R);for(const I of y)try{if(Ir(I))return}catch{}pt(R,"unauthorized-domain")}),Qa.apply(this,arguments)}function Ir(R){const y=cn(),{protocol:I,hostname:M}=new URL(y);if(R.startsWith("chrome-extension://")){const Fe=new URL(R);return""===Fe.hostname&&""===M?"chrome-extension:"===I&&R.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===I&&Fe.hostname===M}if(!lu.test(I))return!1;if(bh.test(R))return M===R;const Q=R.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(M)}const Gr=new Be(3e4,6e4);function Ea(){const R=Yr().___jsl;if(R?.H)for(const y of Object.keys(R.H))if(R.H[y].r=R.H[y].r||[],R.H[y].L=R.H[y].L||[],R.H[y].r=[...R.H[y].L],R.CP)for(let I=0;I<R.CP.length;I++)R.CP[I]=null}let Ol=null;const Nl=new Be(5e3,15e3),Df="__/auth/iframe",Sf="emulator/auth/iframe",Qp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Im(R){const y=R.config;St(y.authDomain,R,"auth-domain-config-required");const I=y.emulator?Le(y,Sf):`https://${R.config.authDomain}/${Df}`,M={apiKey:y.apiKey,appName:R.name,v:Ke.Jn},Q=xf.get(R.config.apiHost);Q&&(M.eid=Q);const de=R._getFrameworks();return de.length&&(M.fw=de.join(",")),`${I}?${(0,he.xO)(M).slice(1)}`}function Eh(){return Eh=(0,fe.Z)(function*(R){const y=yield function Ed(R){return Ol=Ol||function Pl(R){return new Promise((y,I)=>{var M,Q,de;function Fe(){Ea(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Ea(),I(gt(R,"network-request-failed"))},timeout:Gr.get()})}if(null!==(Q=null===(M=Yr().gapi)||void 0===M?void 0:M.iframes)&&void 0!==Q&&Q.Iframe)y(gapi.iframes.getContext());else{if(null===(de=Yr().gapi)||void 0===de||!de.load){const st=ls("iframefcb");return Yr()[st]=()=>{gapi.load?Fe():I(gt(R,"network-request-failed"))},_s(`https://apis.google.com/js/api.js?onload=${st}`).catch(Et=>I(Et))}Fe()}}).catch(y=>{throw Ol=null,y})}(R),Ol}(R),I=Yr().gapi;return St(I,R,"internal-error"),y.open({where:document.body,url:Im(R),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qp,dontclear:!0},M=>new Promise(function(){var Q=(0,fe.Z)(function*(de,Fe){yield M.restyle({setHideOnLeave:!1});const st=gt(R,"network-request-failed"),Et=Yr().setTimeout(()=>{Fe(st)},Nl.get());function En(){Yr().clearTimeout(Et),de(M)}M.ping(En).then(En,()=>{Fe(st)})});return function(de,Fe){return Q.apply(this,arguments)}}()))}),Eh.apply(this,arguments)}const wm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Cc{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const No="__/auth/handler",fl="emulator/auth/handler",Dc=encodeURIComponent("fac");function Ou(R,y,I,M,Q,de){return ko.apply(this,arguments)}function ko(){return(ko=(0,fe.Z)(function*(R,y,I,M,Q,de){St(R.config.authDomain,R,"auth-domain-config-required"),St(R.config.apiKey,R,"invalid-api-key");const Fe={apiKey:R.config.apiKey,appName:R.name,authType:I,redirectUrl:M,v:Ke.Jn,eventId:Q};if(y instanceof br){y.setDefaultLanguage(R.languageCode),Fe.providerId=y.providerId||"",(0,he.xb)(y.getCustomParameters())||(Fe.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Ln,Dr]of Object.entries(de||{}))Fe[Ln]=Dr}if(y instanceof ri){const Ln=y.getScopes().filter(Dr=>""!==Dr);Ln.length>0&&(Fe.scopes=Ln.join(","))}R.tenantId&&(Fe.tid=R.tenantId);const st=Fe;for(const Ln of Object.keys(st))void 0===st[Ln]&&delete st[Ln];const Et=yield R._getAppCheckToken(),En=Et?`#${Dc}=${encodeURIComponent(Et)}`:"";return`${function Td({config:R}){return R.emulator?Le(R,fl):`https://${R.authDomain}/${No}`}(R)}?${(0,he.xO)(st).slice(1)}${En}`})).apply(this,arguments)}const cu="webStorageSupport",wd=class Mf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xu,this._completeRedirectFn=Ml,this._overrideRedirectResult=Ka}_openPopup(y,I,M,Q){var de=this;return(0,fe.Z)(function*(){var Fe;xt(null===(Fe=de.eventManagers[y._key()])||void 0===Fe?void 0:Fe.manager,"_initialize() not called before _openPopup()");const st=yield Ou(y,I,M,cn(),Q);return function Ws(R,y,I,M=500,Q=600){const de=Math.max((window.screen.availHeight-Q)/2,0).toString(),Fe=Math.max((window.screen.availWidth-M)/2,0).toString();let st="";const Et=Object.assign(Object.assign({},wm),{width:M.toString(),height:Q.toString(),top:de,left:Fe}),En=(0,he.z$)().toLowerCase();I&&(st=$e(En)?"_blank":I),Te(En)&&(y=y||"http://localhost",Et.scrollbars="yes");const Ln=Object.entries(Et).reduce((Ji,[ra,ju])=>`${Ji}${ra}=${ju},`,"");if(function li(R=(0,he.z$)()){var y;return gr(R)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(En)&&"_self"!==st)return function Ac(R,y){const I=document.createElement("a");I.href=R,I.target=y;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(M)}(y||"",st),new Cc(null);const Dr=window.open(y||"",st,Ln);St(Dr,R,"popup-blocked");try{Dr.focus()}catch{}return new Cc(Dr)}(y,st,pa())})()}_openRedirect(y,I,M,Q){var de=this;return(0,fe.Z)(function*(){return yield de._originValidation(y),function pd(R){Yr().location.href=R}(yield Ou(y,I,M,cn(),Q)),new Promise(()=>{})})()}_initialize(y){const I=y._key();if(this.eventManagers[I]){const{manager:Q,promise:de}=this.eventManagers[I];return Q?Promise.resolve(Q):(xt(de,"If manager is not set, promise should be"),de)}const M=this.initAndGetManager(y);return this.eventManagers[I]={promise:M},M.catch(()=>{delete this.eventManagers[I]}),M}initAndGetManager(y){var I=this;return(0,fe.Z)(function*(){const M=yield function Tm(R){return Eh.apply(this,arguments)}(y),Q=new vh(y);return M.register("authEvent",de=>(St(de?.authEvent,y,"invalid-auth-event"),{status:Q.onEvent(de.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[y._key()]={manager:Q},I.iframes[y._key()]=M,Q})()}_isIframeWebStorageSupported(y,I){this.iframes[y._key()].send(cu,{type:cu},Q=>{var de;const Fe=null===(de=Q?.[0])||void 0===de?void 0:de[cu];void 0!==Fe&&I(!!Fe),pt(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const I=y._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function Yp(R){return Qa.apply(this,arguments)}(y)),this.originValidationPromises[I]}get _shouldInitProactively(){return Pi()||Ee()||gr()}};var kl="@firebase/auth";class Pf{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var I=this;return(0,fe.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const I=this.auth.onIdTokenChanged(M=>{y(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(y,I),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const I=this.internalListeners.get(y);I&&(this.internalListeners.delete(y),I(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Nf=(0,he.Pz)("authIdTokenMaxAge")||300;let Zs=null;const kf=R=>function(){var y=(0,fe.Z)(function*(I){const M=I&&(yield I.getIdTokenResult()),Q=M&&((new Date).getTime()-Date.parse(M.issuedAtTime))/1e3;if(Q&&Q>Nf)return;const de=M?.token;Zs!==de&&(Zs=de,yield fetch(R,{method:de?"POST":"DELETE",headers:de?{Authorization:`Bearer ${de}`}:{}}))});return function(I){return y.apply(this,arguments)}}();function Ll(R=(0,Ke.Mq)()){const y=(0,Ke.qX)(R,"auth");if(y.isInitialized())return y.getImmediate();const I=function Ui(R,y){const I=(0,Ke.qX)(R,"auth");if(I.isInitialized()){const Q=I.getImmediate(),de=I.getOptions();if((0,he.vZ)(de,y??{}))return Q;pt(Q,"already-initialized")}return I.initialize({options:y})}(R,{popupRedirectResolver:wd,persistence:[oo,bt,xu]}),M=(0,he.Pz)("authTokenSyncURL");if(M){const de=kf(M);(function ch(R,y,I){(0,he.m9)(R).beforeAuthStateChanged(y,I)})(I,de,()=>de(I.currentUser)),function Rn(R,y,I,M){(0,he.m9)(R).onIdTokenChanged(y,I,M)}(I,Fe=>de(Fe))}const Q=(0,he.q4)("auth");return Q&&function ho(R,y,I){const M=Kn(R);St(M._canInitEmulator,M,"emulator-config-failed"),St(/^https?:\/\//.test(y),M,"invalid-emulator-scheme");const Q=!!I?.disableWarnings,de=aa(y),{host:Fe,port:st}=function Aa(R){const y=aa(R),I=/(\/\/)?([^?#/]+)/.exec(R.substr(y.length));if(!I)return{host:"",port:null};const M=I[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(M);if(Q){const de=Q[1];return{host:de,port:xs(M.substr(de.length+1))}}{const[de,Fe]=M.split(":");return{host:de,port:xs(Fe)}}}(y);M.config.emulator={url:`${de}//${Fe}${null===st?"":`:${st}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Fe,port:st,protocol:de.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function Da(){function R(){const y=document.createElement("p"),I=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",R):R())}()}(I,`http://${Q}`),I}!function Ih(R){(0,Ke.Xd)(new ge.wA("auth",(y,{options:I})=>{const M=y.getProvider("app").getImmediate(),Q=y.getProvider("heartbeat"),de=y.getProvider("app-check-internal"),{apiKey:Fe,authDomain:st}=M.options;St(Fe&&!Fe.includes(":"),"invalid-api-key",{appName:M.name});const Et={apiKey:Fe,authDomain:st,clientPlatform:R,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lr(R)},En=new ni(M,Q,de,Et);return function Ca(R,y){const I=y?.persistence||[],M=(Array.isArray(I)?I:[I]).map(Wn);y?.errorMap&&R._updateErrorMap(y.errorMap),R._initializeWithPersistence(M,y?.popupRedirectResolver)}(En,I),En},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,I,M)=>{y.getProvider("auth-internal").initialize()})),(0,Ke.Xd)(new ge.wA("auth-internal",y=>{const I=Kn(y.getProvider("auth").getImmediate());return new Pf(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ke.KN)(kl,"1.5.1",function Of(R){switch(R){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(R)),(0,Ke.KN)(kl,"1.5.1","esm2017")}("Browser");class Wo{constructor(y){return y}}class fu{constructor(){return(0,A.vb)("auth")}}const Rc=new T.OlP("angularfire2.auth-instances");function _r(R){return(y,I)=>{const M=y.runOutsideAngular(()=>R(I));return new Wo(M)}}const Lu={provide:fu,deps:[[new T.FiY,Rc]]},pu={provide:Wo,useFactory:function Lf(R,y){const I=(0,A.JM)("auth",R,y);return I&&new Wo(I)},deps:[[new T.FiY,Rc],se.Ot]};let Ff=(()=>{class R{constructor(){(0,z.KN)("angularfire",A.q4.full,"auth")}static \u0275fac=function(M){return new(M||R)};static \u0275mod=T.oAB({type:R});static \u0275inj=T.cJS({providers:[pu,Lu]})}return R})();function Xp(R,...y){return{ngModule:Ff,providers:[{provide:Rc,useFactory:_r(R),multi:!0,deps:[T.R0b,T.zs3,A.HU,se.z6,[new T.FiY,A.Rf],...y]}]}}const gu=(0,A.u3)(Jl,!0),tg=(0,A.u3)(Ll,!0),_u=(0,A.u3)(xa,!0)},5349:(vn,ft,X)=>{X.d(ft,{gg:()=>mm,ET:()=>uc,hJ:()=>kb,BS:()=>zv,oe:()=>Fb,JU:()=>G_,_1:()=>lc,ad:()=>Kv,Cm:()=>$p,IO:()=>Kb,r7:()=>l0,ar:()=>Wp});var Ce,A=X(4810),T=X(4946),se=X(721),z=X(9404),fe=X(3182),he=X(5861),Ke=X(534),Dt=X(4537),Ze=X(7879),ge=X(9058),_e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qe={},vt=vt||{},je=_e||self;function $t(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Nt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Dn="closure_uid_"+(1e9*Math.random()>>>0),fn=0;function dt(i,e,n){return i.call.apply(i.bind,arguments)}function Ye(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,o),i.apply(e,h)}}return function(){return i.apply(e,arguments)}}function at(i,e,n){return(at=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dt:Ye).apply(null,arguments)}function ct(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function pt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,h,g){for(var b=Array(arguments.length-2),O=2;O<arguments.length;O++)b[O-2]=arguments[O];return e.prototype[h].apply(o,b)}}function gt(){this.s=this.s,this.o=this.o}gt.prototype.s=!1,gt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function _n(i){Object.prototype.hasOwnProperty.call(i,Dn)&&i[Dn]||(i[Dn]=++fn)}(this)},gt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function zn(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function St(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if($t(o)){const h=i.length||0,g=o.length||0;i.length=h+g;for(let b=0;b<g;b++)i[h+b]=o[b]}else i.push(o)}}function Cn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Cn.prototype.h=function(){this.defaultPrevented=!0};var xt=function(){if(!je.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const n=()=>{};je.addEventListener("test",n,e),je.removeEventListener("test",n,e)}catch{}return i}();function cn(i){return/^[\s\xa0]*$/.test(i)}function Gt(){var i=je.navigator;return i&&(i=i.userAgent)?i:""}function ut(i){return-1!=Gt().indexOf(i)}function We(i){return We[" "](i),i}We[" "]=function(){};var kt,i,Be=ut("Opera"),Le=ut("Trident")||ut("MSIE"),ze=ut("Edge"),Ge=ze||Le,ot=ut("Gecko")&&!(-1!=Gt().toLowerCase().indexOf("webkit")&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),yt=-1!=Gt().toLowerCase().indexOf("webkit")&&!ut("Edge");function Vt(){var i=je.document;return i?i.documentMode:void 0}e:{var pn="",hr=(i=Gt(),ot?/rv:([^\);]+)(\)|;)/.exec(i):ze?/Edge\/([\d\.]+)/.exec(i):Le?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):yt?/WebKit\/(\S+)/.exec(i):Be?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(hr&&(pn=hr?hr[1]:""),Le){var Gn=Vt();if(null!=Gn&&Gn>parseFloat(pn)){kt=String(Gn);break e}}kt=pn}var wr=je.document&&Le&&(Vt()||parseInt(kt,10))||void 0;function Mn(i,e){if(Cn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(ot){e:{try{We(e.nodeName);var h=!0;break e}catch{}h=!1}h||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Pn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Mn.$.h.call(this)}}pt(Mn,Cn);var Pn={2:"touch",3:"pen",4:"mouse"};Mn.prototype.h=function(){Mn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ht="closure_listenable_"+(1e6*Math.random()|0),Zn=0;function ln(i,e,n,o,h){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=h,this.key=++Zn,this.fa=this.ia=!1}function In(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function sr(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function nn(i){const e={};for(const n in i)e[n]=i[n];return e}const Jt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rr(i,e){let n,o;for(let h=1;h<arguments.length;h++){for(n in o=arguments[h],o)i[n]=o[n];for(let g=0;g<Jt.length;g++)n=Jt[g],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function ai(i){this.src=i,this.g={},this.h=0}function pi(i,e){var n=e.type;if(n in i.g){var g,o=i.g[n],h=Tn(o,e);(g=0<=h)&&Array.prototype.splice.call(o,h,1),g&&(In(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Mr(i,e,n,o){for(var h=0;h<i.length;++h){var g=i[h];if(!g.fa&&g.listener==e&&g.capture==!!n&&g.la==o)return h}return-1}ai.prototype.add=function(i,e,n,o,h){var g=i.toString();(i=this.g[g])||(i=this.g[g]=[],this.h++);var b=Mr(i,e,o,h);return-1<b?(e=i[b],n||(e.ia=!1)):((e=new ln(e,this.src,g,!!o,h)).ia=n,i.push(e)),e};var pr="closure_lm_"+(1e6*Math.random()|0),wi={};function Pr(i,e,n,o,h){if(o&&o.once)return gs(i,e,n,o,h);if(Array.isArray(e)){for(var g=0;g<e.length;g++)Pr(i,e[g],n,o,h);return null}return n=Ci(n),i&&i[Ht]?i.O(e,n,Nt(o)?!!o.capture:!!o,h):ts(i,e,n,!1,o,h)}function ts(i,e,n,o,h,g){if(!e)throw Error("Invalid event type");var b=Nt(h)?!!h.capture:!!h,O=rn(i);if(O||(i[pr]=O=new ai(i)),(n=O.add(e,n,o,b,g)).proxy)return n;if(o=function Yt(){const e=ir;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)xt||(h=b),void 0===h&&(h=!1),i.addEventListener(e.toString(),o,h);else if(i.attachEvent)i.attachEvent(Xr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function gs(i,e,n,o,h){if(Array.isArray(e)){for(var g=0;g<e.length;g++)gs(i,e[g],n,o,h);return null}return n=Ci(n),i&&i[Ht]?i.P(e,n,Nt(o)?!!o.capture:!!o,h):ts(i,e,n,!0,o,h)}function Wi(i,e,n,o,h){if(Array.isArray(e))for(var g=0;g<e.length;g++)Wi(i,e[g],n,o,h);else o=Nt(o)?!!o.capture:!!o,n=Ci(n),i&&i[Ht]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Mr(g=i.g[e],n,o,h))&&(In(g[n]),Array.prototype.splice.call(g,n,1),0==g.length&&(delete i.g[e],i.h--))):i&&(i=rn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Mr(e,n,o,h)),(n=-1<i?e[i]:null)&&Cr(n))}function Cr(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Ht])pi(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Xr(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=rn(e))?(pi(n,i),0==n.h&&(n.src=null,e[pr]=null)):In(i)}}}function Xr(i){return i in wi?wi[i]:wi[i]="on"+i}function ir(i,e){if(i.fa)i=!0;else{e=new Mn(e,this);var n=i.listener,o=i.la||i.src;i.ia&&Cr(i),i=n.call(o,e)}return i}function rn(i){return(i=i[pr])instanceof ai?i:null}var Mi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ci(i){return"function"==typeof i?i:(i[Mi]||(i[Mi]=function(e){return i.handleEvent(e)}),i[Mi])}function Ut(){gt.call(this),this.i=new ai(this),this.S=this,this.J=null}function On(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new Cn(e,i);else if(e instanceof Cn)e.target=e.target||i;else{var h=e;Rr(e=new Cn(o,i),h)}if(h=!0,n)for(var g=n.length-1;0<=g;g--){var b=e.g=n[g];h=ei(b,o,!0,e)&&h}if(h=ei(b=e.g=i,o,!0,e)&&h,h=ei(b,o,!1,e)&&h,n)for(g=0;g<n.length;g++)h=ei(b=e.g=n[g],o,!1,e)&&h}function ei(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,g=0;g<e.length;++g){var b=e[g];if(b&&!b.fa&&b.capture==n){var O=b.listener,V=b.la||b.src;b.ia&&pi(i.i,b),h=!1!==O.call(V,o)&&h}}return h&&!o.defaultPrevented}pt(Ut,gt),Ut.prototype[Ht]=!0,Ut.prototype.removeEventListener=function(i,e,n,o){Wi(this,i,e,n,o)},Ut.prototype.N=function(){if(Ut.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)In(n[o]);delete i.g[e],i.h--}}this.J=null},Ut.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},Ut.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var gi=je.JSON.stringify;function re(){var i=Sn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var le=new class xe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ce,i=>i.reset());class ce{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ue(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function mt(i){je.setTimeout(()=>{throw i},0)}let Lt,yn=!1,Sn=new class ae{constructor(){this.h=this.g=null}add(e,n){const o=le.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},Wn=()=>{const i=je.Promise.resolve(void 0);Lt=()=>{i.then(jn)}};var jn=()=>{for(var i;i=re();){try{i.h.call(i.g)}catch(n){mt(n)}var e=le;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}yn=!1};function cr(i,e){Ut.call(this),this.h=i||1,this.g=e||je,this.j=at(this.qb,this),this.l=Date.now()}function He(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Ae(i,e,n){if("function"==typeof i)n&&(i=at(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=at(i.handleEvent,i)}return 2147483647<Number(e)?-1:je.setTimeout(i,e||0)}function Pe(i){i.g=Ae(()=>{i.g=null,i.i&&(i.i=!1,Pe(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}pt(cr,Ut),(Ce=cr.prototype).ga=!1,Ce.T=null,Ce.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),On(this,"tick"),this.ga&&(He(this),this.start()))}},Ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ce.N=function(){cr.$.N.call(this),He(this),delete this.g};class Te extends gt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Pe(this)}N(){super.N(),this.g&&(je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ee(i){gt.call(this),this.h=i,this.g={}}pt(Ee,gt);var $e=[];function et(i,e,n,o){Array.isArray(n)||(n&&($e[0]=n.toString()),n=$e);for(var h=0;h<n.length;h++){var g=Pr(e,n[h],o||i.handleEvent,!1,i.h||i);if(!g)break;i.g[g.key]=g}}function Zt(i){sr(i.g,function(e,n){this.g.hasOwnProperty(n)&&Cr(e)},i),i.g={}}function wt(){this.g=!0}function An(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function As(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var h=o[1];if(Array.isArray(h)&&!(1>h.length)){var g=h[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var b=1;b<h.length;b++)h[b]=""}}}return gi(n)}catch{return e}}(i,n)+(o?" "+o:"")})}Ee.prototype.N=function(){Ee.$.N.call(this),Zt(this)},Ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wt.prototype.Ea=function(){this.g=!1},wt.prototype.info=function(){};var Pi={},Vn=null;function lr(){return Vn=Vn||new Ut}function ui(i){Cn.call(this,Pi.Ta,i)}function ti(i){const e=lr();On(e,new ui(e))}function Nn(i,e){Cn.call(this,Pi.STAT_EVENT,i),this.stat=e}function jr(i){const e=lr();On(e,new Nn(e,i))}function Ds(i,e){Cn.call(this,Pi.Ua,i),this.size=e}function ni(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return je.setTimeout(function(){i()},e)}Pi.Ta="serverreachability",pt(ui,Cn),Pi.STAT_EVENT="statevent",pt(Nn,Cn),Pi.Ua="timingevent",pt(Ds,Cn);var Kn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ms={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qs(){}function ls(){}Qs.prototype.h=null;var Oi,Ei={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Uo(){Cn.call(this,"d")}function Js(){Cn.call(this,"c")}function ks(){}function vi(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new Ee(this),this.P=Ss,this.V=new cr(i=Ge?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Xs}function Xs(){this.i=null,this.g="",this.h=!1}pt(Uo,Cn),pt(Js,Cn),pt(ks,Qs),ks.prototype.g=function(){return new XMLHttpRequest},ks.prototype.i=function(){return{}},Oi=new ks;var Ss=45e3,Ni={},Ls={};function Ui(i,e,n){i.L=1,i.A=Or(Bi(e)),i.u=n,i.S=!0,Ca(i,null)}function Ca(i,e){i.G=Date.now(),xs(i),i.B=Bi(i.A);var n=i.B,o=i.W;Array.isArray(o)||(o=[String(o)]),be(n.i,"t",o),i.o=0,n=i.l.J,i.h=new Xs,i.g=Ho(i.l,n?e:null,!i.u),0<i.O&&(i.M=new Te(at(i.Pa,i,i.g),i.O)),et(i.U,i.g,"readystatechange",i.nb),e=i.I?nn(i.I):{},i.u?(i.v||(i.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.B,i.v,i.u,e)):(i.v="GET",i.g.ha(i.B,i.v,null,e)),ti(),function gn(i,e,n,o,h,g){i.info(function(){if(i.g)if(g)for(var b="",O=g.split("&"),V=0;V<O.length;V++){var G=O[V].split("=");if(1<G.length){var ne=G[0];G=G[1];var me=ne.split("_");b=2<=me.length&&"type"==me[1]?b+(ne+"=")+G+"&":b+(ne+"=redacted&")}}else b=null;else b=g;return"XMLHTTP REQ ("+o+") [attempt "+h+"]: "+e+"\n"+n+"\n"+b})}(i.j,i.v,i.B,i.m,i.W,i.u)}function ho(i){return!!i.g&&"GET"==i.v&&2!=i.L&&i.l.Ha}function aa(i,e,n){let h,o=!0;for(;!i.J&&i.o<n.length;){if(h=Aa(i,n),h==Ls){4==e&&(i.s=4,jr(14),o=!1),An(i.j,i.m,null,"[Incomplete Response]");break}if(h==Ni){i.s=4,jr(15),An(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}An(i.j,i.m,h,null),la(i,h)}ho(i)&&0!=i.o&&(i.h.g=i.h.g.slice(i.o),i.o=0),4!=e||0!=n.length||i.h.h||(i.s=1,jr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hc(e),e.M=!0,jr(11))):(An(i.j,i.m,n,"[Invalid Chunked Response]"),ns(i),eo(i))}function Aa(i,e){var n=i.o,o=e.indexOf("\n",n);return-1==o?Ls:(n=Number(e.substring(n,o)),isNaN(n)?Ni:(o+=1)+n>e.length?Ls:(e=e.slice(o,o+n),i.o=o+n,e))}function xs(i){i.Y=Date.now()+i.P,Da(i,i.P)}function Da(i,e){if(null!=i.C)throw Error("WatchDog timer not null");i.C=ni(at(i.lb,i),e)}function us(i){i.C&&(je.clearTimeout(i.C),i.C=null)}function eo(i){0==i.l.H||i.J||za(i.l,i)}function ns(i){us(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,He(i.V),Zt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function la(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Xn(n.i,i)))if(!i.K&&Xn(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var h=o;if(0==h[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;jo(n),an(n)}Bs(n),jr(18)}}else n.Fa=h[1],0<n.Fa-n.V&&37500>h[2]&&n.G&&0==n.A&&!n.v&&(n.v=ni(at(n.ib,n),6e3));if(1>=Fn(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Sa(n,11)}else if((i.K||n.g==i)&&jo(n),!cn(e))for(h=n.Ja.g.parse(e),e=0;e<h.length;e++){let G=h[e];if(n.V=G[0],G=G[1],2==n.H)if("c"==G[0]){n.K=G[1],n.pa=G[2];const ne=G[3];null!=ne&&(n.ra=ne,n.l.info("VER="+n.ra));const me=G[4];null!=me&&(n.Ga=me,n.l.info("SVER="+n.Ga));const ke=G[5];null!=ke&&"number"==typeof ke&&0<ke&&(n.L=o=1.5*ke,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const tt=i.g;if(tt){const Qt=tt.g?tt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qt){var g=o.i;g.g||-1==Qt.indexOf("spdy")&&-1==Qt.indexOf("quic")&&-1==Qt.indexOf("h2")||(g.j=g.l,g.g=new Set,g.h&&(Nr(g,g.h),g.h=null))}if(o.F){const en=tt.g?tt.g.getResponseHeader("X-HTTP-Session-Id"):null;en&&(o.Da=en,kn(o.I,o.F,en))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var b=i;if((o=n).wa=Yo(o,o.J?o.pa:null,o.Y),b.K){Yn(o.i,b);var O=b,V=o.L;V&&O.setTimeout(V),O.C&&(us(O),xs(O)),o.g=b}else ha(o);0<n.j.length&&ss(n)}else"stop"!=G[0]&&"close"!=G[0]||Sa(n,7);else 3==n.H&&("stop"==G[0]||"close"==G[0]?"stop"==G[0]?Sa(n,7):Me(n):"noop"!=G[0]&&n.h&&n.h.Aa(G),n.A=0)}ti()}catch{}}function fo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if($t(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Zr(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if($t(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function Do(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if($t(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),h=o.length,g=0;g<h;g++)e.call(void 0,o[g],n&&n[g],i)}(Ce=vi.prototype).setTimeout=function(i){this.P=i},Ce.nb=function(i){i=i.target;const e=this.M;e&&3==er(i)?e.l():this.Pa(i)},Ce.Pa=function(i){try{if(i==this.g)e:{const ne=er(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ne)&&(3!=ne||Ge||this.g&&(this.h.h||this.g.ja()||is(this.g)))){this.J||4!=ne||7==e||ti(),us(this);var n=this.g.da();this.ca=n;t:if(ho(this)){var o=is(this.g);i="";var h=o.length,g=4==er(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ns(this),eo(this);var b="";break t}this.h.i=new je.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:g&&e==h-1});o.length=0,this.h.g+=i,this.o=0,b=this.h.g}else b=this.g.ja();if(this.i=200==n,function gr(i,e,n,o,h,g,b){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+h+"]: "+e+"\n"+n+"\n"+g+" "+b})}(this.j,this.v,this.B,this.m,this.W,ne,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var O,V=this.g;if((O=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cn(O)){var G=O;break t}}G=null}if(!(n=G)){this.i=!1,this.s=3,jr(12),ns(this),eo(this);break e}An(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,la(this,n)}this.S?(aa(this,ne,b),Ge&&this.i&&3==ne&&(et(this.U,this.V,"tick",this.mb),this.V.start())):(An(this.j,this.m,b,null),la(this,b)),4==ne&&ns(this),this.i&&!this.J&&(4==ne?za(this.l,this):(this.i=!1,xs(this)))}else(function il(i){const e={};i=(i.g&&2<=er(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(cn(i[o]))continue;var n=Ue(i[o]);const h=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const g=e[h]||[];e[h]=g,g.push(n)}!function fr(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<b.indexOf("Unknown SID")?(this.s=3,jr(12)):(this.s=0,jr(13)),ns(this),eo(this)}}}catch{}},Ce.mb=function(){if(this.g){var i=er(this.g),e=this.g.ja();this.o<e.length&&(us(this),aa(this,i,e),this.i&&4!=i&&xs(this))}},Ce.cancel=function(){this.J=!0,ns(this)},Ce.lb=function(){this.C=null;const i=Date.now();0<=i-this.Y?(function li(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(ti(),jr(17)),ns(this),this.s=2,eo(this)):Da(this,this.Y-i)};var po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rs(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof rs){this.h=i.h,cs(this,i.j),this.s=i.s,this.g=i.g,to(this,i.m),this.l=i.l;var e=i.i,n=new Kt;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),qn(this,n),this.o=i.o}else i&&(e=String(i).match(po))?(this.h=!1,cs(this,e[1]||"",!0),this.s=qi(e[2]||""),this.g=qi(e[3]||"",!0),to(this,e[4]),this.l=qi(e[5]||"",!0),qn(this,e[6]||"",!0),this.o=qi(e[7]||"")):(this.h=!1,this.i=new Kt(null,this.h))}function Bi(i){return new rs(i)}function cs(i,e,n){i.j=n?qi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function to(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function qn(i,e,n){e instanceof Kt?(i.i=e,function Ne(i,e){e&&!i.j&&(xn(i),i.i=null,i.g.forEach(function(n,o){var h=o.toLowerCase();o!=h&&(q(this,o),be(this,h,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Ai(e,Vs)),i.i=new Kt(e,i.h))}function kn(i,e,n){i.i.set(e,n)}function Or(i){return kn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function qi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ai(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ca),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ca(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}rs.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ai(e,go,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ai(e,go,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Ai(n,"/"==n.charAt(0)?So:Fs,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Ai(n,ci)),i.join("")};var go=/[#\/\?@]/g,Fs=/[#\?:]/g,So=/[#\?]/g,Vs=/[#\?@]/g,ci=/#/g;function Kt(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function xn(i){i.g||(i.g=new Map,i.h=0,i.i&&function ua(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),h=null;if(0<=o){var g=i[n].substring(0,o);h=i[n].substring(o+1)}else g=i[n];e(g,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function q(i,e){xn(i),e=we(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Y(i,e){return xn(i),e=we(i,e),i.g.has(e)}function be(i,e,n){q(i,e),0<n.length&&(i.i=null,i.g.set(we(i,e),zn(n)),i.h+=n.length)}function we(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Bt(i){this.l=i||un,i=je.PerformanceNavigationTiming?0<(i=je.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(je.g&&je.g.Ka&&je.g.Ka()&&je.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ce=Kt.prototype).add=function(i,e){xn(this),this.i=null,i=we(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Ce.forEach=function(i,e){xn(this),this.g.forEach(function(n,o){n.forEach(function(h){i.call(e,h,o,this)},this)},this)},Ce.ta=function(){xn(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const h=i[o];for(let g=0;g<h.length;g++)n.push(e[o])}return n},Ce.Z=function(i){xn(this);let e=[];if("string"==typeof i)Y(this,i)&&(e=e.concat(this.g.get(we(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Ce.set=function(i,e){return xn(this),this.i=null,Y(this,i=we(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ce.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const g=encodeURIComponent(String(o)),b=this.Z(o);for(o=0;o<b.length;o++){var h=g;""!==b[o]&&(h+="="+encodeURIComponent(String(b[o]))),i.push(h)}}return this.i=i.join("&")};var un=10;function It(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Fn(i){return i.h?1:i.g?i.g.size:0}function Xn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Nr(i,e){i.g?i.g.add(e):i.h=e}function Yn(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function kr(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return zn(i.i)}Bt.prototype.cancel=function(){if(this.i=kr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Vr=class{stringify(i){return je.JSON.stringify(i,void 0)}parse(i){return je.JSON.parse(i,void 0)}};function Kr(){this.g=new Vr}function Ur(i,e,n){const o=n||"";try{fo(i,function(h,g){let b=h;Nt(h)&&(b=gi(h)),e.push(o+g+"="+encodeURIComponent(b))})}catch(h){throw e.push(o+"type="+encodeURIComponent("_badmap")),h}}function mi(i,e,n,o,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(o)}catch{}}function br(i){this.l=i.ec||null,this.j=i.ob||!1}function ri(i,e){Ut.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=ki,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pt(br,Qs),br.prototype.g=function(){return new ri(this.l,this.j)},br.prototype.i=function(i){return function(){return i}}({}),pt(ri,Ut);var ki=0;function Qn(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Zo(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Us(i)}function Us(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ce=ri.prototype).open=function(i,e){if(this.readyState!=ki)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Us(this)},Ce.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||je).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zo(this)),this.readyState=ki},Ce.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Us(this)),this.g&&(this.readyState=3,Us(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof je.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qn(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Ce.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Zo(this):Us(this),3==this.readyState&&Qn(this)}},Ce.Za=function(i){this.g&&(this.response=this.responseText=i,Zo(this))},Ce.Ya=function(i){this.g&&(this.response=i,Zo(this))},Ce.ka=function(){this.g&&Zo(this)},Ce.setRequestHeader=function(i,e){this.v.append(i,e)},Ce.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ce.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ko=je.JSON.parse;function Jn(i){Ut.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ha,this.L=this.M=!1}pt(Jn,Ut);var Ha="",ys=/^https?$/i,tl=["POST","PUT"];function nl(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Hr(i),rl(i)}function Hr(i){i.F||(i.F=!0,On(i,"complete"),On(i,"error"))}function Di(i){if(i.h&&typeof vt<"u"&&(!i.C[1]||4!=er(i)||2!=i.da()))if(i.v&&4==er(i))Ae(i.La,0,i);else if(On(i,"readystatechange"),4==er(i)){i.h=!1;try{const b=i.da();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===b){var h=String(i.I).match(po)[1]||null;!h&&je.self&&je.self.location&&(h=je.self.location.protocol.slice(0,-1)),o=!ys.test(h?h.toLowerCase():"")}n=o}if(n)On(i,"complete"),On(i,"success");else{i.m=6;try{var g=2<er(i)?i.g.statusText:""}catch{g=""}i.j=g+" ["+i.da()+"]",Hr(i)}}finally{rl(i)}}}function rl(i,e){if(i.g){Bo(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||On(i,"ready");try{n.onreadystatechange=o}catch{}}}function Bo(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(je.clearTimeout(i.A),i.A=null)}function er(i){return i.g?i.g.readyState:0}function is(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Ha:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function W(i){let e="";return sr(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function Z(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=W(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):kn(i,e,n))}function U(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function oe(i){this.Ga=0,this.j=[],this.l=new wt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=U("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=U("baseRetryDelayMs",5e3,i),this.hb=U("retryDelaySeedMs",1e4,i),this.eb=U("forwardChannelMaxRetries",2,i),this.xa=U("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Bt(i&&i.concurrentRequestLimit),this.Ja=new Kr,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Me(i){if(Hn(i),3==i.H){var e=i.W++,n=Bi(i.I);if(kn(n,"SID",i.K),kn(n,"RID",e),kn(n,"TYPE","terminate"),xo(i,n),(e=new vi(i,i.l,e)).L=2,e.A=Or(Bi(n)),n=!1,je.navigator&&je.navigator.sendBeacon)try{n=je.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&je.Image&&((new Image).src=e.A,n=!0),n||(e.g=Ho(e.l,null),e.g.ha(e.A)),e.G=Date.now(),xs(e)}Yl(i)}function an(i){i.g&&(hc(i),i.g.cancel(),i.g=null)}function Hn(i){an(i),i.u&&(je.clearTimeout(i.u),i.u=null),jo(i),i.i.cancel(),i.m&&("number"==typeof i.m&&je.clearTimeout(i.m),i.m=null)}function ss(i){if(!It(i.i)&&!i.m){i.m=!0;var e=i.Na;Lt||Wn(),yn||(Lt(),yn=!0),Sn.add(e,i),i.C=0}}function vs(i,e){var n;n=e?e.m:i.W++;const o=Bi(i.I);kn(o,"SID",i.K),kn(o,"RID",n),kn(o,"AID",i.V),xo(i,o),i.o&&i.s&&Z(o,i.o,i.s),n=new vi(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Ro(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Nr(i.i,n),Ui(n,o,e)}function xo(i,e){i.na&&sr(i.na,function(n,o){kn(e,o,n)}),i.h&&fo({},function(n,o){kn(e,o,n)})}function Ro(i,e,n){n=Math.min(i.j.length,n);var o=i.h?at(i.h.Va,i.h,i):null;e:{var h=i.j;let g=-1;for(;;){const b=["count="+n];-1==g?0<n?(g=h[0].g,b.push("ofs="+g)):g=0:b.push("ofs="+g);let O=!0;for(let V=0;V<n;V++){let G=h[V].g;const ne=h[V].map;if(G-=g,0>G)g=Math.max(0,h[V].g-100),O=!1;else try{Ur(ne,b,"req"+G+"_")}catch{o&&o(ne)}}if(O){o=b.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function ha(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Lt||Wn(),yn||(Lt(),yn=!0),Sn.add(e,i),i.A=0}}function Bs(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=ni(at(i.Ma,i),fc(i,i.A)),i.A++,0))}function hc(i){null!=i.B&&(je.clearTimeout(i.B),i.B=null)}function Kl(i){i.g=new vi(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Bi(i.wa);kn(e,"RID","rpc"),kn(e,"SID",i.K),kn(e,"AID",i.V),kn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&kn(e,"TO",i.qa),kn(e,"TYPE","xmlhttp"),xo(i,e),i.o&&i.s&&Z(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.A=Or(Bi(e)),n.u=null,n.S=!0,Ca(n,i)}function jo(i){null!=i.v&&(je.clearTimeout(i.v),i.v=null)}function za(i,e){var n=null;if(i.g==e){jo(i),hc(i),i.g=null;var o=2}else{if(!Xn(i.i,e))return;n=e.F,Yn(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.u?e.u.length:0,e=Date.now()-e.G;var h=i.C;On(o=lr(),new Ds(o,n)),ss(i)}else ha(i);else if(3==(h=e.s)||0==h&&0<e.ca||!(1==o&&function da(i,e){return!(Fn(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=ni(at(i.Na,i,e),fc(i,i.C)),i.C++,0)))}(i,e)||2==o&&Bs(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),h){case 1:Sa(i,5);break;case 4:Sa(i,10);break;case 3:Sa(i,6);break;default:Sa(i,2)}}function fc(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Sa(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=at(i.pb,i);n||(n=new rs("//www.google.com/images/cleardot.gif"),je.location&&"http"==je.location.protocol||cs(n,"https"),Or(n)),function mo(i,e){const n=new wt;if(je.Image){const o=new Image;o.onload=ct(mi,n,o,"TestLoadImage: loaded",!0,e),o.onerror=ct(mi,n,o,"TestLoadImage: error",!1,e),o.onabort=ct(mi,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=ct(mi,n,o,"TestLoadImage: timeout",!1,e),je.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else jr(2);i.H=0,i.h&&i.h.za(e),Yl(i),Hn(i)}function Yl(i){if(i.H=0,i.ma=[],i.h){const e=kr(i.i);(0!=e.length||0!=i.j.length)&&(St(i.ma,e),St(i.ma,i.j),i.i.i.length=0,zn(i.j),i.j.length=0),i.h.ya()}}function Yo(i,e,n){var o=n instanceof rs?Bi(n):new rs(n);if(""!=o.g)e&&(o.g=e+"."+o.g),to(o,o.m);else{var h=je.location;o=h.protocol,e=e?e+"."+h.hostname:h.hostname,h=+h.port;var g=new rs(null);o&&cs(g,o),e&&(g.g=e),h&&to(g,h),n&&(g.l=n),o=g}return e=i.Da,(n=i.F)&&e&&kn(o,n,e),kn(o,"VER",i.ra),xo(i,o),o}function Ho(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Jn(i.Ha&&!i.va?new br({ob:n}):i.va)).Oa(i.J),e}function no(){}function sl(){if(Le&&!(10<=Number(wr)))throw Error("Environmental error: no available transport.")}function ds(i,e){Ut.call(this),this.g=new oe(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!cn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cn(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new fs(this)}function hs(i){Uo.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function _o(){Js.call(this),this.status=1}function fs(i){this.g=i}function Mo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ol(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var h=0;16>h;++h)o[h]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(h=0;16>h;++h)o[h]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var g=i.g[3],b=(e=i.g[0])+(g^(n=i.g[1])&((h=i.g[2])^g))+o[0]+3614090360&4294967295;b=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=n+(b<<7&4294967295|b>>>25))+((b=g+(h^e&(n^h))+o[1]+3905402710&4294967295)<<12&4294967295|b>>>20))+((b=h+(n^g&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|b>>>15))+((b=n+(e^h&(g^e))+o[3]+3250441966&4294967295)<<22&4294967295|b>>>10))+((b=e+(g^n&(h^g))+o[4]+4118548399&4294967295)<<7&4294967295|b>>>25))+((b=g+(h^e&(n^h))+o[5]+1200080426&4294967295)<<12&4294967295|b>>>20))+((b=h+(n^g&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|b>>>15))+((b=n+(e^h&(g^e))+o[7]+4249261313&4294967295)<<22&4294967295|b>>>10))+((b=e+(g^n&(h^g))+o[8]+1770035416&4294967295)<<7&4294967295|b>>>25))+((b=g+(h^e&(n^h))+o[9]+2336552879&4294967295)<<12&4294967295|b>>>20))+((b=h+(n^g&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|b>>>15))+((b=n+(e^h&(g^e))+o[11]+2304563134&4294967295)<<22&4294967295|b>>>10))+((b=e+(g^n&(h^g))+o[12]+1804603682&4294967295)<<7&4294967295|b>>>25))+((b=g+(h^e&(n^h))+o[13]+4254626195&4294967295)<<12&4294967295|b>>>20))+((b=h+(n^g&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|b>>>15))+((b=n+(e^h&(g^e))+o[15]+1236535329&4294967295)<<22&4294967295|b>>>10))+((b=e+(h^g&(n^h))+o[1]+4129170786&4294967295)<<5&4294967295|b>>>27))+((b=g+(n^h&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|b>>>23))+((b=h+(e^n&(g^e))+o[11]+643717713&4294967295)<<14&4294967295|b>>>18))+((b=n+(g^e&(h^g))+o[0]+3921069994&4294967295)<<20&4294967295|b>>>12))+((b=e+(h^g&(n^h))+o[5]+3593408605&4294967295)<<5&4294967295|b>>>27))+((b=g+(n^h&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|b>>>23))+((b=h+(e^n&(g^e))+o[15]+3634488961&4294967295)<<14&4294967295|b>>>18))+((b=n+(g^e&(h^g))+o[4]+3889429448&4294967295)<<20&4294967295|b>>>12))+((b=e+(h^g&(n^h))+o[9]+568446438&4294967295)<<5&4294967295|b>>>27))+((b=g+(n^h&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|b>>>23))+((b=h+(e^n&(g^e))+o[3]+4107603335&4294967295)<<14&4294967295|b>>>18))+((b=n+(g^e&(h^g))+o[8]+1163531501&4294967295)<<20&4294967295|b>>>12))+((b=e+(h^g&(n^h))+o[13]+2850285829&4294967295)<<5&4294967295|b>>>27))+((b=g+(n^h&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|b>>>23))+((b=h+(e^n&(g^e))+o[7]+1735328473&4294967295)<<14&4294967295|b>>>18))+((b=n+(g^e&(h^g))+o[12]+2368359562&4294967295)<<20&4294967295|b>>>12))+((b=e+(n^h^g)+o[5]+4294588738&4294967295)<<4&4294967295|b>>>28))+((b=g+(e^n^h)+o[8]+2272392833&4294967295)<<11&4294967295|b>>>21))+((b=h+(g^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|b>>>16))+((b=n+(h^g^e)+o[14]+4259657740&4294967295)<<23&4294967295|b>>>9))+((b=e+(n^h^g)+o[1]+2763975236&4294967295)<<4&4294967295|b>>>28))+((b=g+(e^n^h)+o[4]+1272893353&4294967295)<<11&4294967295|b>>>21))+((b=h+(g^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|b>>>16))+((b=n+(h^g^e)+o[10]+3200236656&4294967295)<<23&4294967295|b>>>9))+((b=e+(n^h^g)+o[13]+681279174&4294967295)<<4&4294967295|b>>>28))+((b=g+(e^n^h)+o[0]+3936430074&4294967295)<<11&4294967295|b>>>21))+((b=h+(g^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|b>>>16))+((b=n+(h^g^e)+o[6]+76029189&4294967295)<<23&4294967295|b>>>9))+((b=e+(n^h^g)+o[9]+3654602809&4294967295)<<4&4294967295|b>>>28))+((b=g+(e^n^h)+o[12]+3873151461&4294967295)<<11&4294967295|b>>>21))+((b=h+(g^e^n)+o[15]+530742520&4294967295)<<16&4294967295|b>>>16))+((b=n+(h^g^e)+o[2]+3299628645&4294967295)<<23&4294967295|b>>>9))+((b=e+(h^(n|~g))+o[0]+4096336452&4294967295)<<6&4294967295|b>>>26))+((b=g+(n^(e|~h))+o[7]+1126891415&4294967295)<<10&4294967295|b>>>22))+((b=h+(e^(g|~n))+o[14]+2878612391&4294967295)<<15&4294967295|b>>>17))+((b=n+(g^(h|~e))+o[5]+4237533241&4294967295)<<21&4294967295|b>>>11))+((b=e+(h^(n|~g))+o[12]+1700485571&4294967295)<<6&4294967295|b>>>26))+((b=g+(n^(e|~h))+o[3]+2399980690&4294967295)<<10&4294967295|b>>>22))+((b=h+(e^(g|~n))+o[10]+4293915773&4294967295)<<15&4294967295|b>>>17))+((b=n+(g^(h|~e))+o[1]+2240044497&4294967295)<<21&4294967295|b>>>11))+((b=e+(h^(n|~g))+o[8]+1873313359&4294967295)<<6&4294967295|b>>>26))+((b=g+(n^(e|~h))+o[15]+4264355552&4294967295)<<10&4294967295|b>>>22))+((b=h+(e^(g|~n))+o[6]+2734768916&4294967295)<<15&4294967295|b>>>17))+((b=n+(g^(h|~e))+o[13]+1309151649&4294967295)<<21&4294967295|b>>>11))+((g=(e=n+((b=e+(h^(n|~g))+o[4]+4149444226&4294967295)<<6&4294967295|b>>>26))+((b=g+(n^(e|~h))+o[11]+3174756917&4294967295)<<10&4294967295|b>>>22))^((h=g+((b=h+(e^(g|~n))+o[2]+718787259&4294967295)<<15&4294967295|b>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(h+(b<<21&4294967295|b>>>11))&4294967295,i.g[2]=i.g[2]+h&4294967295,i.g[3]=i.g[3]+g&4294967295}function Lr(i,e){this.h=e;for(var n=[],o=!0,h=i.length-1;0<=h;h--){var g=0|i[h];o&&g==e||(n[h]=g,o=!1)}this.g=n}(Ce=Jn.prototype).Oa=function(i){this.M=i},Ce.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Oi.g(),this.C=function _s(i){return i.h||(i.h=i.i())}(this.u?this.u:Oi),this.g.onreadystatechange=at(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(g){return void nl(this,g)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var h in o)n.set(h,o[h]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const g of o.keys())n.set(g,o.get(g))}o=Array.from(n.keys()).find(g=>"content-type"==g.toLowerCase()),h=je.FormData&&i instanceof je.FormData,!(0<=Tn(tl,e))||o||h||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[g,b]of n)this.g.setRequestHeader(g,b);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Bo(this),0<this.B&&((this.L=function Ii(i){return Le&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=at(this.ua,this)):this.A=Ae(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(g){nl(this,g)}},Ce.ua=function(){typeof vt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,On(this,"timeout"),this.abort(8))},Ce.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,On(this,"complete"),On(this,"abort"),rl(this))},Ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rl(this,!0)),Jn.$.N.call(this)},Ce.La=function(){this.s||(this.G||this.v||this.l?Di(this):this.kb())},Ce.kb=function(){Di(this)},Ce.isActive=function(){return!!this.g},Ce.da=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},Ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ce.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ko(e)}},Ce.Ia=function(){return this.m},Ce.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ce=oe.prototype).ra=8,Ce.H=1,Ce.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const h=new vi(this,this.l,i);let g=this.s;if(this.U&&(g?(g=nn(g),Rr(g,this.U)):g=this.U),null!==this.o||this.O||(h.I=g,g=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ro(this,h,e),kn(n=Bi(this.I),"RID",i),kn(n,"CVER",22),this.F&&kn(n,"X-HTTP-Session-Id",this.F),xo(this,n),g&&(this.O?e="headers="+encodeURIComponent(String(W(g)))+"&"+e:this.o&&Z(n,this.o,g)),Nr(this.i,h),this.bb&&kn(n,"TYPE","init"),this.P?(kn(n,"$req",e),kn(n,"SID","null"),h.aa=!0,Ui(h,n,null)):Ui(h,n,e),this.H=2}}else 3==this.H&&(i?vs(this,i):0==this.j.length||It(this.i)||vs(this))},Ce.Ma=function(){if(this.u=null,Kl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=ni(at(this.jb,this),i)}},Ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,jr(10),an(this),Kl(this))},Ce.ib=function(){null!=this.v&&(this.v=null,an(this),Bs(this),jr(19))},Ce.pb=function(i){i?(this.l.info("Successfully pinged google.com"),jr(2)):(this.l.info("Failed to ping google.com"),jr(1))},Ce.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ce=no.prototype).Ba=function(){},Ce.Aa=function(){},Ce.za=function(){},Ce.ya=function(){},Ce.isActive=function(){return!0},Ce.Va=function(){},sl.prototype.g=function(i,e){return new ds(i,e)},pt(ds,Ut),ds.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;jr(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Yo(i,null,i.Y),ss(i)},ds.prototype.close=function(){Me(this.g)},ds.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=gi(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&ss(e)},ds.prototype.N=function(){this.g.h=null,delete this.j,Me(this.g),delete this.g,ds.$.N.call(this)},pt(hs,Uo),pt(_o,Js),pt(fs,no),fs.prototype.Ba=function(){On(this.g,"a")},fs.prototype.Aa=function(i){On(this.g,new hs(i))},fs.prototype.za=function(i){On(this.g,new _o)},fs.prototype.ya=function(){On(this.g,"b")},pt(Mo,function Ql(){this.blockSize=-1}),Mo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Mo.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,h=this.h,g=0;g<e;){if(0==h)for(;g<=n;)ol(this,i,g),g+=this.blockSize;if("string"==typeof i){for(;g<e;)if(o[h++]=i.charCodeAt(g++),h==this.blockSize){ol(this,o),h=0;break}}else for(;g<e;)if(o[h++]=i[g++],h==this.blockSize){ol(this,o),h=0;break}}this.h=h,this.i+=e},Mo.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var al={};function ll(i){return-128<=i&&128>i?function De(i,e){var n=al;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new Lr([0|e],0>e?-1:0)}):new Lr([0|i],0>i?-1:0)}function js(i){if(isNaN(i)||!isFinite(i))return xa;if(0>i)return Zi(js(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=ro;return new Lr(e,0)}var ro=4294967296,xa=ll(0),Au=ll(1),Qo=ll(16777216);function yo(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Rs(i){return-1==i.h}function Zi(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new Lr(n,~i.h).add(Au)}function Ra(i,e){return i.add(Zi(e))}function Cl(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function P(i,e){this.g=i,this.h=e}function ee(i,e){if(yo(e))throw Error("division by zero");if(yo(i))return new P(xa,xa);if(Rs(i))return e=ee(Zi(i),e),new P(Zi(e.g),Zi(e.h));if(Rs(e))return e=ee(i,Zi(e)),new P(Zi(e.g),e.h);if(30<i.g.length){if(Rs(i)||Rs(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Au,o=e;0>=o.X(i);)n=B(n),o=B(o);var h=K(n,1),g=K(o,1);for(o=K(o,2),n=K(n,2);!yo(o);){var b=g.add(o);0>=b.X(i)&&(h=h.add(n),g=b),o=K(o,1),n=K(n,1)}return e=Ra(i,h.R(e)),new P(h,e)}for(h=xa;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),b=(g=js(n)).R(e);Rs(b)||0<b.X(i);)b=(g=js(n-=o)).R(e);yo(g)&&(g=Au),h=h.add(g),i=Ra(i,b)}return new P(h,i)}function B(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new Lr(n,i.h)}function K(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,h=[],g=0;g<o;g++)h[g]=0<e?i.D(g+n)>>>e|i.D(g+n+1)<<32-e:i.D(g+n);return new Lr(h,i.h)}(Ce=Lr.prototype).ea=function(){if(Rs(this))return-Zi(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:ro+o)*e,e*=ro}return i},Ce.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(yo(this))return"0";if(Rs(this))return"-"+Zi(this).toString(i);for(var e=js(Math.pow(i,6)),n=this,o="";;){var h=ee(n,e).g,g=((0<(n=Ra(n,h.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(yo(n=h))return g+o;for(;6>g.length;)g="0"+g;o=g+o}},Ce.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Ce.X=function(i){return Rs(i=Ra(this,i))?-1:yo(i)?0:1},Ce.abs=function(){return Rs(this)?Zi(this):this},Ce.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,h=0;h<=e;h++){var g=o+(65535&this.D(h))+(65535&i.D(h)),b=(g>>>16)+(this.D(h)>>>16)+(i.D(h)>>>16);o=b>>>16,n[h]=(b&=65535)<<16|(g&=65535)}return new Lr(n,-2147483648&n[n.length-1]?-1:0)},Ce.R=function(i){if(yo(this)||yo(i))return xa;if(Rs(this))return Rs(i)?Zi(this).R(Zi(i)):Zi(Zi(this).R(i));if(Rs(i))return Zi(this.R(Zi(i)));if(0>this.X(Qo)&&0>i.X(Qo))return js(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var h=0;h<i.g.length;h++){var g=this.D(o)>>>16,b=65535&this.D(o),O=i.D(h)>>>16,V=65535&i.D(h);n[2*o+2*h]+=b*V,Cl(n,2*o+2*h),n[2*o+2*h+1]+=g*V,Cl(n,2*o+2*h+1),n[2*o+2*h+1]+=b*O,Cl(n,2*o+2*h+1),n[2*o+2*h+2]+=g*O,Cl(n,2*o+2*h+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new Lr(n,0)},Ce.gb=function(i){return ee(this,i).h},Ce.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new Lr(n,this.h&i.h)},Ce.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new Lr(n,this.h|i.h)},Ce.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new Lr(n,this.h^i.h)},sl.prototype.createWebChannel=sl.prototype.g,ds.prototype.send=ds.prototype.u,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,Kn.NO_ERROR=0,Kn.TIMEOUT=8,Kn.HTTP_ERROR=6,ms.COMPLETE="complete",ls.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",Ut.prototype.listen=Ut.prototype.O,Jn.prototype.listenOnce=Jn.prototype.P,Jn.prototype.getLastError=Jn.prototype.Sa,Jn.prototype.getLastErrorCode=Jn.prototype.Ia,Jn.prototype.getStatus=Jn.prototype.da,Jn.prototype.getResponseJson=Jn.prototype.Wa,Jn.prototype.getResponseText=Jn.prototype.ja,Jn.prototype.send=Jn.prototype.ha,Jn.prototype.setWithCredentials=Jn.prototype.Oa,Mo.prototype.digest=Mo.prototype.l,Mo.prototype.reset=Mo.prototype.reset,Mo.prototype.update=Mo.prototype.j,Lr.prototype.add=Lr.prototype.add,Lr.prototype.multiply=Lr.prototype.R,Lr.prototype.modulo=Lr.prototype.gb,Lr.prototype.compare=Lr.prototype.X,Lr.prototype.toNumber=Lr.prototype.ea,Lr.prototype.toString=Lr.prototype.toString,Lr.prototype.getBits=Lr.prototype.D,Lr.fromNumber=js,Lr.fromString=function Jl(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Zi(Jl(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=js(Math.pow(e,8)),o=xa,h=0;h<i.length;h+=8){var g=Math.min(8,i.length-h),b=parseInt(i.substring(h,h+g),e);8>g?(g=js(Math.pow(e,g)),o=o.R(g).add(js(b))):o=(o=o.R(n)).add(js(b))}return o};var Ie=qe.createWebChannelTransport=function(){return new sl},it=qe.getStatEventTarget=function(){return lr()},At=qe.ErrorCode=Kn,bn=qe.EventType=ms,di=qe.Event=Pi,zr=qe.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},or=(qe.FetchXmlHttpFactory=br,qe.WebChannel=ls),_i=qe.XhrIo=Jn,Er=qe.Md5=Mo,ii=qe.Integer=Lr;const vo="@firebase/firestore";class yi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yi.UNAUTHENTICATED=new yi(null),yi.GOOGLE_CREDENTIALS=new yi("google-credentials-uid"),yi.FIRST_PARTY=new yi("first-party-uid"),yi.MOCK_USER=new yi("mock-user");let Ki="10.7.0";const Si=new Ze.Yd("@firebase/firestore");function io(){return Si.logLevel}function Rt(i,...e){if(Si.logLevel<=Ze.in.DEBUG){const n=e.map(pc);Si.debug(`Firestore (${Ki}): ${i}`,...n)}}function ji(i,...e){if(Si.logLevel<=Ze.in.ERROR){const n=e.map(pc);Si.error(`Firestore (${Ki}): ${i}`,...n)}}function bo(i,...e){if(Si.logLevel<=Ze.in.WARN){const n=e.map(pc);Si.warn(`Firestore (${Ki}): ${i}`,...n)}}function pc(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function dn(i="Unexpected state"){const e=`FIRESTORE (${Ki}) INTERNAL ASSERTION FAILED: `+i;throw ji(e),new Error(e)}function Rn(i,e){i||dn()}function Xt(i,e){return i}const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ft extends ge.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class fd{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yi.UNAUTHENTICATED))}shutdown(){}}class mr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ma{constructor(e){this.t=e,this.currentUser=yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let h=this.i;const g=G=>this.i!==h?(h=this.i,n(G)):Promise.resolve();let b=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new hi,e.enqueueRetryable(()=>g(this.currentUser))};const O=()=>{const G=b;e.enqueueRetryable((0,he.Z)(function*(){yield G.promise,yield g(o.currentUser)}))},V=G=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=G,this.auth.addAuthTokenListener(this.o),O()};this.t.onInit(G=>V(G)),setTimeout(()=>{if(!this.auth){const G=this.t.getImmediate({optional:!0});G?V(G):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new hi)}},0),O()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Rn("string"==typeof o.accessToken),new fd(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rn(null===e||"string"==typeof e),new yi(e)}}class Pa{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=yi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Hs{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new Pa(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Du{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hh{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const o=g=>{null!=g.error&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const b=g.token!==this.R;return this.R=g.token,Rt("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?n(g.token):Promise.resolve()};this.o=g=>{e.enqueueRetryable(()=>o(g))};const h=g=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.A.onInit(g=>h(g)),setTimeout(()=>{if(!this.appCheck){const g=this.A.getImmediate({optional:!0});g?h(g):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Rn("string"==typeof n.token),this.R=n.token,new Du(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jo(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class fh{static newId(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const h=Jo(40);for(let g=0;g<h.length;++g)o.length<20&&h[g]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[g]%62))}return o}}function $n(i,e){return i<e?-1:i>e?1:0}function zo(i,e,n){return i.length===e.length&&i.every((o,h)=>n(o,e[h]))}class bi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ft(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ft(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ft(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ft(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bi.fromMillis(Date.now())}static fromDate(e){return bi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new bi(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$n(this.nanoseconds,e.nanoseconds):$n(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wn(e)}static min(){return new wn(new bi(0,0))}static max(){return new wn(new bi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Eo{constructor(e,n,o){void 0===n?n=0:n>e.length&&dn(),void 0===o?o=e.length-n:o>e.length-n&&dn(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Eo.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Eo?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let h=0;h<o;h++){const g=e.get(h),b=n.get(h);if(g<b)return-1;if(g>b)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ar extends Eo{construct(e,n,o){return new Ar(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ft(lt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(h=>h.length>0))}return new Ar(n)}static emptyPath(){return new Ar([])}}const ph=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hi extends Eo{construct(e,n,o){return new Hi(e,n,o)}static isValidIdentifier(e){return ph.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hi(["__name__"])}static fromServerFormat(e){const n=[];let o="",h=0;const g=()=>{if(0===o.length)throw new Ft(lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let b=!1;for(;h<e.length;){const O=e[h];if("\\"===O){if(h+1===e.length)throw new Ft(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[h+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new Ft(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=V,h+=2}else"`"===O?(b=!b,h++):"."!==O||b?(o+=O,h++):(g(),h++)}if(g(),b)throw new Ft(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hi(n)}static emptyPath(){return new Hi([])}}class bt{constructor(e){this.path=e}static fromPath(e){return new bt(Ar.fromString(e))}static fromName(e){return new bt(Ar.fromString(e).popFirst(5))}static empty(){return new bt(Ar.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ar.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ar.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new Ar(e.slice()))}}function gc(i){return new $o(i.readTime,i.key,-1)}class $o{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new $o(wn.min(),bt.empty(),-1)}static max(){return new $o(wn.max(),bt.empty(),-1)}}function tu(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=bt.comparator(i.documentKey,e.documentKey),0!==n?n:$n(i.largestBatchId,e.largestBatchId))}const mc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ur(i){return Ru.apply(this,arguments)}function Ru(){return Ru=(0,he.Z)(function*(i){if(i.code!==lt.FAILED_PRECONDITION||i.message!==mc)throw i;Rt("LocalStore","Unexpectedly lost primary lease")}),Ru.apply(this,arguments)}class Qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Qe((o,h)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(o,h)},this.catchCallback=g=>{this.wrapFailure(n,g).next(o,h)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Qe?n:Qe.resolve(n)}catch(n){return Qe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Qe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Qe.reject(n)}static resolve(e){return new Qe((n,o)=>{n(e)})}static reject(e){return new Qe((n,o)=>{o(e)})}static waitFor(e){return new Qe((n,o)=>{let h=0,g=0,b=!1;e.forEach(O=>{++h,O.next(()=>{++g,b&&g===h&&n()},V=>o(V))}),b=!0,g===h&&n()})}static or(e){let n=Qe.resolve(!1);for(const o of e)n=n.next(h=>h?Qe.resolve(h):o());return n}static forEach(e,n){const o=[];return e.forEach((h,g)=>{o.push(n.call(this,h,g))}),this.waitFor(o)}static mapArray(e,n){return new Qe((o,h)=>{const g=e.length,b=new Array(g);let O=0;for(let V=0;V<g;V++){const G=V;n(e[G]).next(ne=>{b[G]=ne,++O,O===g&&o(b)},ne=>h(ne))}})}static doWhile(e,n){return new Qe((o,h)=>{const g=()=>{!0===e()?n().next(()=>{g()},h):o()};g()})}}function Go(i){return"IndexedDbTransactionError"===i.name}let Po=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=h=>this.se(h),this.oe=h=>o.writeSequenceNumber(h))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function qa(i){return null==i}function oo(i){return 0===i&&1/i==-1/0}function _d(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ao(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Xo(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class oi{constructor(e,n){this.comparator=e,this.root=n||$s.EMPTY}insert(e,n){return new oi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$s.BLACK,null,null))}remove(e){return new oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$s.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const h=this.comparator(e,o.key);if(0===h)return n+o.left.size;h<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,n,o,h){this.isReverse=h,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=n?o(e.key,n):1,n&&h&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $s{constructor(e,n,o,h,g){this.key=e,this.value=n,this.color=o??$s.RED,this.left=h??$s.EMPTY,this.right=g??$s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,h,g){return new $s(e??this.key,n??this.value,o??this.color,h??this.left,g??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let h=this;const g=o(e,h.key);return h=g<0?h.copy(null,null,null,h.left.insert(e,n,o),null):0===g?h.copy(null,n,null,null,null):h.copy(null,null,null,null,h.right.insert(e,n,o)),h.fixUp()}removeMin(){if(this.left.isEmpty())return $s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,h=this;if(n(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,n),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===n(e,h.key)){if(h.right.isEmpty())return $s.EMPTY;o=h.right.min(),h=h.copy(o.key,o.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,n))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dn();const e=this.left.check();if(e!==this.right.check())throw dn();return e+(this.isRed()?0:1)}}$s.EMPTY=null,$s.RED=!0,$s.BLACK=!1,$s.EMPTY=new class{constructor(){this.size=0}get key(){throw dn()}get value(){throw dn()}get color(){throw dn()}get left(){throw dn()}get right(){throw dn()}copy(e,n,o,h,g){return this}insert(e,n,o){return new $s(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fi{constructor(e){this.comparator=e,this.data=new oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const h=o.getNext();if(this.comparator(h.key,e[1])>=0)return;n(h.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new su(this.data.getIterator())}getIteratorFrom(e){return new su(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof fi)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const h=n.getNext().key,g=o.getNext().key;if(0!==this.comparator(h,g))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new fi(this.comparator);return n.data=e,n}}class su{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ea{constructor(e){this.fields=e,e.sort(Hi.comparator)}static empty(){return new ea([])}unionWith(e){let n=new fi(Hi.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new ea(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class gh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Is{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(h){try{return atob(h)}catch(g){throw typeof DOMException<"u"&&g instanceof DOMException?new gh("Invalid base64 string: "+g):g}}(e);return new Is(n)}static fromUint8Array(e){const n=function(h){let g="";for(let b=0;b<h.length;++b)g+=String.fromCharCode(h[b]);return g}(e);return new Is(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let h=0;h<n.length;h++)o[h]=n.charCodeAt(h);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $n(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Is.EMPTY_BYTE_STRING=new Is("");const Em=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _a(i){if(Rn(!!i),"string"==typeof i){let e=0;const n=Em.exec(i);if(Rn(!!n),n[1]){let h=n[1];h=(h+"000000000").substr(0,9),e=Number(h)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Yi(i.seconds),nanos:Yi(i.nanos)}}function Yi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Dl(i){return"string"==typeof i?Is.fromBase64String(i):Is.fromUint8Array(i)}function Na(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Sl(i){const e=i.mapValue.fields.__previous_value__;return Na(e)?Sl(e):e}function ou(i){const e=_a(i.mapValue.fields.__local_write_time__.timestampValue);return new bi(e.seconds,e.nanos)}class xl{constructor(e,n,o,h,g,b,O,V,G){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=h,this.ssl=g,this.forceLongPolling=b,this.autoDetectLongPolling=O,this.longPollingOptions=V,this.useFetchStreams=G}}class ka{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ka("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ka&&e.projectId===this.projectId&&e.database===this.database}}const ta={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ka(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Na(i)?4:bd(i)?9007199254740991:10:dn()}function ya(i,e){if(i===e)return!0;const n=Ka(i);if(n!==Ka(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ou(i).isEqual(ou(e));case 3:return function(h,g){if("string"==typeof h.timestampValue&&"string"==typeof g.timestampValue&&h.timestampValue.length===g.timestampValue.length)return h.timestampValue===g.timestampValue;const b=_a(h.timestampValue),O=_a(g.timestampValue);return b.seconds===O.seconds&&b.nanos===O.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return g=e,Dl(i.bytesValue).isEqual(Dl(g.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(h,g){return Yi(h.geoPointValue.latitude)===Yi(g.geoPointValue.latitude)&&Yi(h.geoPointValue.longitude)===Yi(g.geoPointValue.longitude)}(i,e);case 2:return function(h,g){if("integerValue"in h&&"integerValue"in g)return Yi(h.integerValue)===Yi(g.integerValue);if("doubleValue"in h&&"doubleValue"in g){const b=Yi(h.doubleValue),O=Yi(g.doubleValue);return b===O?oo(b)===oo(O):isNaN(b)&&isNaN(O)}return!1}(i,e);case 9:return zo(i.arrayValue.values||[],e.arrayValue.values||[],ya);case 10:return function(h,g){const b=h.mapValue.fields||{},O=g.mapValue.fields||{};if(_d(b)!==_d(O))return!1;for(const V in b)if(b.hasOwnProperty(V)&&(void 0===O[V]||!ya(b[V],O[V])))return!1;return!0}(i,e);default:return dn()}var g}function au(i,e){return void 0!==(i.values||[]).find(n=>ya(n,e))}function lo(i,e){if(i===e)return 0;const n=Ka(i),o=Ka(e);if(n!==o)return $n(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return $n(i.booleanValue,e.booleanValue);case 2:return function(g,b){const O=Yi(g.integerValue||g.doubleValue),V=Yi(b.integerValue||b.doubleValue);return O<V?-1:O>V?1:O===V?0:isNaN(O)?isNaN(V)?0:-1:1}(i,e);case 3:return Ec(i.timestampValue,e.timestampValue);case 4:return Ec(ou(i),ou(e));case 5:return $n(i.stringValue,e.stringValue);case 6:return function(g,b){const O=Dl(g),V=Dl(b);return O.compareTo(V)}(i.bytesValue,e.bytesValue);case 7:return function(g,b){const O=g.split("/"),V=b.split("/");for(let G=0;G<O.length&&G<V.length;G++){const ne=$n(O[G],V[G]);if(0!==ne)return ne}return $n(O.length,V.length)}(i.referenceValue,e.referenceValue);case 8:return function(g,b){const O=$n(Yi(g.latitude),Yi(b.latitude));return 0!==O?O:$n(Yi(g.longitude),Yi(b.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(g,b){const O=g.values||[],V=b.values||[];for(let G=0;G<O.length&&G<V.length;++G){const ne=lo(O[G],V[G]);if(ne)return ne}return $n(O.length,V.length)}(i.arrayValue,e.arrayValue);case 10:return function(g,b){if(g===ta.mapValue&&b===ta.mapValue)return 0;if(g===ta.mapValue)return 1;if(b===ta.mapValue)return-1;const O=g.fields||{},V=Object.keys(O),G=b.fields||{},ne=Object.keys(G);V.sort(),ne.sort();for(let me=0;me<V.length&&me<ne.length;++me){const ke=$n(V[me],ne[me]);if(0!==ke)return ke;const tt=lo(O[V[me]],G[ne[me]]);if(0!==tt)return tt}return $n(V.length,ne.length)}(i.mapValue,e.mapValue);default:throw dn()}}function Ec(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return $n(i,e);const n=_a(i),o=_a(e),h=$n(n.seconds,o.seconds);return 0!==h?h:$n(n.nanos,o.nanos)}function Oo(i){return yd(i)}function yd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const o=_a(n);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Dl(i.bytesValue).toBase64():"referenceValue"in i?bt.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let o="[",h=!0;for(const g of n.values||[])h?h=!1:o+=",",o+=yd(g);return o+"]"}(i.arrayValue):"mapValue"in i?function(n){const o=Object.keys(n.fields||{}).sort();let h="{",g=!0;for(const b of o)g?g=!1:h+=",",h+=`${b}:${yd(n.fields[b])}`;return h+"}"}(i.mapValue):dn()}function va(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function vd(i){return!!i&&"integerValue"in i}function Ic(i){return!!i&&"arrayValue"in i}function Tc(i){return!!i&&"nullValue"in i}function _h(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Rl(i){return!!i&&"mapValue"in i}function Ml(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ao(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Ml(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ml(i.arrayValue.values[n]);return e}return Object.assign({},i)}function bd(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ps{constructor(e){this.value=e}static empty(){return new Ps({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Rl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(n)}setAll(e){let n=Hi.emptyPath(),o={},h=[];e.forEach((b,O)=>{if(!n.isImmediateParentOf(O)){const V=this.getFieldsMap(n);this.applyChanges(V,o,h),o={},h=[],n=O.popLast()}b?o[O.lastSegment()]=Ml(b):h.push(O.lastSegment())});const g=this.getFieldsMap(n);this.applyChanges(g,o,h)}delete(e){const n=this.field(e.popLast());Rl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ya(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let h=n.mapValue.fields[e.get(o)];Rl(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=h),n=h}return n.mapValue.fields}applyChanges(e,n,o){ao(n,(h,g)=>e[h]=g);for(const h of o)delete e[h]}clone(){return new Ps(Ml(this.value))}}function Ya(i){const e=[];return ao(i.fields,(n,o)=>{const h=new Hi([n]);if(Rl(o)){const g=Ya(o.mapValue).fields;if(0===g.length)e.push(h);else for(const b of g)e.push(h.child(b))}else e.push(h)}),new ea(e)}class Fi{constructor(e,n,o,h,g,b,O){this.key=e,this.documentType=n,this.version=o,this.readTime=h,this.createTime=g,this.data=b,this.documentState=O}static newInvalidDocument(e){return new Fi(e,0,wn.min(),wn.min(),wn.min(),Ps.empty(),0)}static newFoundDocument(e,n,o,h){return new Fi(e,1,n,wn.min(),o,h,0)}static newNoDocument(e,n){return new Fi(e,2,n,wn.min(),wn.min(),Ps.empty(),0)}static newUnknownDocument(e,n){return new Fi(e,3,n,wn.min(),wn.min(),Ps.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(wn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ps.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ps.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zi{constructor(e,n){this.position=e,this.inclusive=n}}function wc(i,e,n){let o=0;for(let h=0;h<i.position.length;h++){const g=e[h],b=i.position[h];if(o=g.field.isKeyField()?bt.comparator(bt.fromName(b.referenceValue),n.key):lo(b,n.data.field(g.field)),"desc"===g.dir&&(o*=-1),0!==o)break}return o}function bh(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ya(i.position[n],e.position[n]))return!1;return!0}class lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Yp(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Qa{}class Ir extends Qa{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new xf(e,n,o):"array-contains"===n?new wm(e,o):"in"===n?new uu(e,o):"not-in"===n?new Id(e,o):"array-contains-any"===n?new Rf(e,o):new Ir(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new Im(e,o):new Tm(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(lo(n,this.value)):null!==n&&Ka(this.value)===Ka(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gr extends Qa{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Gr(e,n)}matches(e){return Ea(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ea(i){return"and"===i.op}function Ol(i){return function Ed(i){for(const e of i.filters)if(e instanceof Gr)return!1;return!0}(i)&&Ea(i)}function Nl(i){if(i instanceof Ir)return i.field.canonicalString()+i.op.toString()+Oo(i.value);if(Ol(i))return i.filters.map(e=>Nl(e)).join(",");{const e=i.filters.map(n=>Nl(n)).join(",");return`${i.op}(${e})`}}function Df(i,e){return i instanceof Ir?(o=i,(h=e)instanceof Ir&&o.op===h.op&&o.field.isEqual(h.field)&&ya(o.value,h.value)):i instanceof Gr?function(o,h){return h instanceof Gr&&o.op===h.op&&o.filters.length===h.filters.length&&o.filters.reduce((g,b,O)=>g&&Df(b,h.filters[O]),!0)}(i,e):void dn();var o,h}function Qp(i){return i instanceof Ir?`${(n=i).field.canonicalString()} ${n.op} ${Oo(n.value)}`:i instanceof Gr?function(n){return n.op.toString()+" {"+n.getFilters().map(Qp).join(" ,")+"}"}(i):"Filter";var n}class xf extends Ir{constructor(e,n,o){super(e,n,o),this.key=bt.fromName(o.referenceValue)}matches(e){const n=bt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Im extends Ir{constructor(e,n){super(e,"in",n),this.keys=Eh(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Tm extends Ir{constructor(e,n){super(e,"not-in",n),this.keys=Eh(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Eh(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>bt.fromName(o.referenceValue))}class wm extends Ir{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ic(n)&&au(n.arrayValue,this.value)}}class uu extends Ir{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&au(this.value.arrayValue,n)}}class Id extends Ir{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!au(this.value.arrayValue,n)}}class Rf extends Ir{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ic(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>au(this.value.arrayValue,o))}}class Os{constructor(e,n=null,o=[],h=[],g=null,b=null,O=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=h,this.limit=g,this.startAt=b,this.endAt=O,this.ce=null}}function Cc(i,e=null,n=[],o=[],h=null,g=null,b=null){return new Os(i,e,n,o,h,g,b)}function Ws(i){const e=Xt(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>Nl(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(g=o).field.canonicalString()+g.dir;var g}).join(","),qa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Oo(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Oo(o)).join(",")),e.ce=n}return e.ce}function Ac(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Yp(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Df(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!bh(i.startAt,e.startAt)&&bh(i.endAt,e.endAt)}function No(i){return bt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class ko{constructor(e,n=null,o=[],h=[],g=null,b="F",O=null,V=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=h,this.limit=g,this.limitType=b,this.startAt=O,this.endAt=V,this.le=null,this.he=null,this.Pe=null}}function cu(i){return new ko(i)}function Mf(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function wd(i){return null!==i.collectionGroup}function qs(i){const e=Xt(i);if(null===e.le){e.le=[];const n=new Set;for(const g of e.explicitOrderBy)e.le.push(g),n.add(g.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let O=new fi(Hi.comparator);return b.filters.forEach(V=>{V.getFlattenedFilters().forEach(G=>{G.isInequality()&&(O=O.add(G.field))})}),O})(e).forEach(g=>{n.has(g.canonicalString())||g.isKeyField()||e.le.push(new lu(g,o))}),n.has(Hi.keyField().canonicalString())||e.le.push(new lu(Hi.keyField(),o))}return e.le}function Ns(i){const e=Xt(i);return e.he||(e.he=function du(i,e){if("F"===i.limitType)return Cc(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(h=>new lu(h.field,"desc"===h.dir?"asc":"desc"));const n=i.endAt?new zi(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new zi(i.startAt.position,i.startAt.inclusive):null;return Cc(i.path,i.collectionGroup,e,i.filters,i.limit,n,o)}}(e,qs(i))),e.he}function Jp(i,e){const n=i.filters.concat([e]);return new ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function hu(i,e,n){return new ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Nu(i,e){return Ac(Ns(i),Ns(e))&&i.limitType===e.limitType}function Sc(i){return`${Ws(Ns(i))}|lt:${i.limitType}`}function kl(i){return`Query(target=${function(n){let o=n.path.canonicalString();return null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(h=>Qp(h)).join(", ")}]`),qa(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(h=>Oo(h)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(h=>Oo(h)).join(",")),`Target(${o})`}(Ns(i))}; limitType=${i.limitType})`}function ku(i,e){return e.isFoundDocument()&&function(o,h){const g=h.key.path;return null!==o.collectionGroup?h.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(g):bt.isDocumentKey(o.path)?o.path.isEqual(g):o.path.isImmediateParentOf(g)}(i,e)&&function(o,h){for(const g of qs(o))if(!g.field.isKeyField()&&null===h.data.field(g.field))return!1;return!0}(i,e)&&function(o,h){for(const g of o.filters)if(!g.matches(h))return!1;return!0}(i,e)&&(h=e,!((o=i).startAt&&!function(b,O,V){const G=wc(b,O,V);return b.inclusive?G<=0:G<0}(o.startAt,qs(o),h)||o.endAt&&!function(b,O,V){const G=wc(b,O,V);return b.inclusive?G>=0:G>0}(o.endAt,qs(o),h)));var o,h}function Of(i){return(e,n)=>{let o=!1;for(const h of qs(i)){const g=Ih(h,e,n);if(0!==g)return g;o=o||h.field.isKeyField()}return 0}}function Ih(i,e,n){const o=i.field.isKeyField()?bt.comparator(e.key,n.key):function(g,b,O){const V=b.data.field(g),G=O.data.field(g);return null!==V&&null!==G?lo(V,G):dn()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return dn()}}class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[h,g]of o)if(this.equalsFn(h,e))return g}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),h=this.inner[o];if(void 0===h)return this.inner[o]=[[e,n]],void this.innerSize++;for(let g=0;g<h.length;g++)if(this.equalsFn(h[g][0],e))return void(h[g]=[e,n]);h.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return 1===o.length?delete this.inner[n]:o.splice(h,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,(n,o)=>{for(const[h,g]of o)e(h,g)})}isEmpty(){return Xo(this.inner)}size(){return this.innerSize}}const Nf=new oi(bt.comparator);function Zs(){return Nf}const kf=new oi(bt.comparator);function Ll(...i){let e=kf;for(const n of i)e=e.insert(n.key,n);return e}function xc(i){let e=kf;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Wo(){return Fl()}function fu(){return Fl()}function Fl(){return new na(i=>i.toString(),(i,e)=>i.isEqual(e))}const Rc=new oi(bt.comparator),Lf=new fi(bt.comparator);function _r(...i){let e=Lf;for(const n of i)e=e.add(n);return e}const Lu=new fi($n);function Ff(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oo(e)?"-0":e}}function Xp(i){return{integerValue:""+i}}function Vf(i,e){return function S(i){return"number"==typeof i&&Number.isInteger(i)&&!oo(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Xp(e):Ff(i,e)}class Th{constructor(){this._=void 0}}function Y_(i,e,n){return i instanceof Fu?function(h,g){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return g&&Na(g)&&(g=Sl(g)),g&&(b.fields.__previous_value__=g),{mapValue:b}}(n,e):i instanceof pl?Uf(i,e):i instanceof gu?Bf(i,e):function(h,g){const b=eg(h,g),O=Ad(b)+Ad(h.Ie);return vd(b)&&vd(h.Ie)?Xp(O):Ff(h.serializer,O)}(i,e)}function Cm(i,e,n){return i instanceof pl?Uf(i,e):i instanceof gu?Bf(i,e):n}function eg(i,e){return i instanceof Cd?vd(o=e)||(g=o)&&"doubleValue"in g?e:{integerValue:0}:null;var o,g}class Fu extends Th{}class pl extends Th{constructor(e){super(),this.elements=e}}function Uf(i,e){const n=tg(e);for(const o of i.elements)n.some(h=>ya(h,o))||n.push(o);return{arrayValue:{values:n}}}class gu extends Th{constructor(e){super(),this.elements=e}}function Bf(i,e){let n=tg(e);for(const o of i.elements)n=n.filter(h=>!ya(h,o));return{arrayValue:{values:n}}}class Cd extends Th{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Ad(i){return Yi(i.integerValue||i.doubleValue)}function tg(i){return Ic(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class jf{constructor(e,n){this.version=e,this.transformResults=n}}class Qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hf(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Vu{}function Am(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Bu(i.key,Qi.none()):new Uu(i.key,i.data,Qi.none());{const n=i.data,o=Ps.empty();let h=new fi(Hi.comparator);for(let g of e.fields)if(!h.has(g)){let b=n.field(g);null===b&&g.length>1&&(g=g.popLast(),b=n.field(g)),null===b?o.delete(g):o.set(g,b),h=h.add(g)}return new La(i.key,o,new ea(h.toArray()),Qi.none())}}function Dm(i,e,n){i instanceof Uu?function(h,g,b){const O=h.value.clone(),V=Sd(h.fieldTransforms,g,b.transformResults);O.setAll(V),g.convertToFoundDocument(b.version,O).setHasCommittedMutations()}(i,e,n):i instanceof La?function(h,g,b){if(!Hf(h.precondition,g))return void g.convertToUnknownDocument(b.version);const O=Sd(h.fieldTransforms,g,b.transformResults),V=g.data;V.setAll(Dd(h)),V.setAll(O),g.convertToFoundDocument(b.version,V).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function wh(i,e,n,o){return i instanceof Uu?function(g,b,O,V){if(!Hf(g.precondition,b))return O;const G=g.value.clone(),ne=zf(g.fieldTransforms,V,b);return G.setAll(ne),b.convertToFoundDocument(b.version,G).setHasLocalMutations(),null}(i,e,n,o):i instanceof La?function(g,b,O,V){if(!Hf(g.precondition,b))return O;const G=zf(g.fieldTransforms,V,b),ne=b.data;return ne.setAll(Dd(g)),ne.setAll(G),b.convertToFoundDocument(b.version,ne).setHasLocalMutations(),null===O?null:O.unionWith(g.fieldMask.fields).unionWith(g.fieldTransforms.map(me=>me.field))}(i,e,n,o):(O=n,Hf(i.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):O);var b,O}function Q_(i,e){let n=null;for(const o of i.fieldTransforms){const h=e.data.field(o.field),g=eg(o.transform,h||null);null!=g&&(null===n&&(n=Ps.empty()),n.set(o.field,g))}return n||null}function Sm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(o=i.fieldTransforms)&&void 0===h||o&&h&&zo(o,h,(g,b)=>function ng(i,e){return i.field.isEqual(e.field)&&(h=e.transform,(o=i.transform)instanceof pl&&h instanceof pl||o instanceof gu&&h instanceof gu?zo(o.elements,h.elements,ya):o instanceof Cd&&h instanceof Cd?ya(o.Ie,h.Ie):o instanceof Fu&&h instanceof Fu);var o,h}(g,b))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var o,h}class Uu extends Vu{constructor(e,n,o,h=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class La extends Vu{constructor(e,n,o,h,g=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=h,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function Dd(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Sd(i,e,n){const o=new Map;Rn(i.length===n.length);for(let h=0;h<n.length;h++){const g=i[h],b=g.transform,O=e.data.field(g.field);o.set(g.field,Cm(b,O,n[h]))}return o}function zf(i,e,n){const o=new Map;for(const h of i){const g=h.transform,b=n.data.field(h.field);o.set(h.field,Y_(g,b,e))}return o}class Bu extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ja extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ch{constructor(e,n,o,h){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=h}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let h=0;h<this.mutations.length;h++){const g=this.mutations[h];g.key.isEqual(e.key)&&Dm(g,e,o[h])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=wh(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=wh(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=fu();return this.mutations.forEach(h=>{const g=e.get(h.key),b=g.overlayedDocument;let O=this.applyToLocalView(b,g.mutatedFields);O=n.has(h.key)?null:O;const V=Am(b,O);null!==V&&o.set(h.key,V),b.isValidDocument()||b.convertToNoDocument(wn.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_r())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(n,o)=>Sm(n,o))&&zo(this.baseMutations,e.baseMutations,(n,o)=>Sm(n,o))}}class mu{constructor(e,n,o,h){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=h}static from(e,n,o){Rn(e.mutations.length===o.length);let h=Rc;const g=e.mutations;for(let b=0;b<g.length;b++)h=h.insert(g[b].key,o[b].version);return new mu(e,n,o,h)}}class qo{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ah{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ts,Qr;function $f(i){if(void 0===i)return ji("GRPC error has no .code"),lt.UNKNOWN;switch(i){case Ts.OK:return lt.OK;case Ts.CANCELLED:return lt.CANCELLED;case Ts.UNKNOWN:return lt.UNKNOWN;case Ts.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case Ts.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case Ts.INTERNAL:return lt.INTERNAL;case Ts.UNAVAILABLE:return lt.UNAVAILABLE;case Ts.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case Ts.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case Ts.NOT_FOUND:return lt.NOT_FOUND;case Ts.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case Ts.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case Ts.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case Ts.ABORTED:return lt.ABORTED;case Ts.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case Ts.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case Ts.DATA_LOSS:return lt.DATA_LOSS;default:return dn()}}(Qr=Ts||(Ts={}))[Qr.OK=0]="OK",Qr[Qr.CANCELLED=1]="CANCELLED",Qr[Qr.UNKNOWN=2]="UNKNOWN",Qr[Qr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qr[Qr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qr[Qr.NOT_FOUND=5]="NOT_FOUND",Qr[Qr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qr[Qr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qr[Qr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qr[Qr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qr[Qr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qr[Qr.ABORTED=10]="ABORTED",Qr[Qr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qr[Qr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qr[Qr.INTERNAL=13]="INTERNAL",Qr[Qr.UNAVAILABLE=14]="UNAVAILABLE",Qr[Qr.DATA_LOSS=15]="DATA_LOSS";const xm=new ii([4294967295,4294967295],0);function Gf(i){const e=function ig(){return new TextEncoder}().encode(i),n=new Er;return n.update(e),new Uint8Array(n.digest())}function Pc(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),h=e.getUint32(8,!0),g=e.getUint32(12,!0);return[new ii([n,o],0),new ii([h,g],0)]}class Dh{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new xd(`Invalid padding: ${n}`);if(o<0)throw new xd(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new xd(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new xd(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ii.fromNumber(this.Te)}de(e,n,o){let h=e.add(n.multiply(ii.fromNumber(o)));return 1===h.compare(xm)&&(h=new ii([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Gf(e),[o,h]=Pc(n);for(let g=0;g<this.hashCount;g++){const b=this.de(o,h,g);if(!this.Ae(b))return!1}return!0}static create(e,n,o){const h=e%8==0?0:8-e%8,g=new Uint8Array(Math.ceil(e/8)),b=new Dh(g,h,n);return o.forEach(O=>b.insert(O)),b}insert(e){if(0===this.Te)return;const n=Gf(e),[o,h]=Pc(n);for(let g=0;g<this.hashCount;g++){const b=this.de(o,h,g);this.Re(b)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class xd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ks{constructor(e,n,o,h,g){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=h,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const h=new Map;return h.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Ks(wn.min(),h,new oi($n),Zs(),_r())}}class yu{constructor(e,n,o,h,g){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=h,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new yu(o,n,_r(),_r(),_r())}}class uo{constructor(e,n,o,h){this.Ve=e,this.removedTargetIds=n,this.key=o,this.me=h}}class Rd{constructor(e,n){this.targetId=e,this.fe=n}}class Io{constructor(e,n,o=Is.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=h}}class Oc{constructor(){this.ge=0,this.pe=og(),this.ye=Is.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=_r(),n=_r(),o=_r();return this.pe.forEach((h,g)=>{switch(g){case 0:e=e.add(h);break;case 2:n=n.add(h);break;case 1:o=o.add(h);break;default:dn()}}),new yu(this.ye,this.we,e,n,o)}Fe(){this.Se=!1,this.pe=og()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Rn(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class sg{constructor(e){this.Le=e,this.ke=new Map,this.qe=Zs(),this.Qe=Wf(),this.Ke=new oi($n)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.Ce(e.resumeToken);break;case 1:o.Ne(),o.be||o.Fe(),o.Ce(e.resumeToken);break;case 2:o.Ne(),o.be||this.removeTarget(n);break;case 3:this.je(n)&&(o.Be(),o.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.Ce(e.resumeToken));break;default:dn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((o,h)=>{this.je(h)&&n(h)})}Je(e){const n=e.targetId,o=e.fe.count,h=this.Ye(n);if(h){const g=h.target;if(No(g))if(0===o){const b=new bt(g.path);this.We(n,b,Fi.newNoDocument(b,wn.min()))}else Rn(1===o);else{const b=this.Ze(n);if(b!==o){const O=this.Xe(e),V=O?this.et(O,e,b):1;0!==V&&(this.He(n),this.Ke=this.Ke.insert(n,2===V?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:h=0},hashCount:g=0}=n;let b,O;try{b=Dl(o).toUint8Array()}catch(V){if(V instanceof gh)return bo("Decoding the base64 bloom filter in existence filter failed ("+V.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw V}try{O=new Dh(b,h,g)}catch(V){return bo(V instanceof xd?"BloomFilter error: ":"Applying bloom filter failed: ",V),null}return 0===O.Te?null:O}et(e,n,o){return n.fe.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Le.getRemoteKeysForTarget(n);let h=0;return o.forEach(g=>{const b=this.Le.nt(),O=`projects/${b.projectId}/databases/${b.database}/documents/${g.path.canonicalString()}`;e.mightContain(O)||(this.We(n,g,null),h++)}),h}it(e){const n=new Map;this.ke.forEach((g,b)=>{const O=this.Ye(b);if(O){if(g.current&&No(O.target)){const V=new bt(O.target.path);null!==this.qe.get(V)||this.st(b,V)||this.We(b,V,Fi.newNoDocument(V,e))}g.De&&(n.set(b,g.ve()),g.Fe())}});let o=_r();this.Qe.forEach((g,b)=>{let O=!0;b.forEachWhile(V=>{const G=this.Ye(V);return!G||"TargetPurposeLimboResolution"===G.purpose||(O=!1,!1)}),O&&(o=o.add(g))}),this.qe.forEach((g,b)=>b.setReadTime(e));const h=new Ks(e,n,this.Ke,this.qe,o);return this.qe=Zs(),this.Qe=Wf(),this.Ke=new oi($n),h}Ue(e,n){if(!this.je(e))return;const o=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,o),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const h=this.ze(e);this.st(e,n)?h.Me(n,1):h.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),o&&(this.qe=this.qe.insert(n,o))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Oc,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new fi($n),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||Rt("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Oc),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Wf(){return new oi(bt.comparator)}function og(){return new oi(bt.comparator)}const R={asc:"ASCENDING",desc:"DESCENDING"},y={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I={and:"AND",or:"OR"};class M{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Q(i,e){return i.useProto3Json||qa(e)?e:{value:e}}function de(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fe(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function st(i,e){return de(i,e.toTimestamp())}function Et(i){return Rn(!!i),wn.fromTimestamp(function(n){const o=_a(n);return new bi(o.seconds,o.nanos)}(i))}function En(i,e){return(o=i,new Ar(["projects",o.projectId,"databases",o.database])).child("documents").child(e).canonicalString();var o}function Ln(i){const e=Ar.fromString(i);return Rn(lg(e)),e}function Dr(i,e){return En(i.databaseId,e.path)}function Ji(i,e){const n=Ln(e);if(n.get(1)!==i.databaseId.projectId)throw new Ft(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ft(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new bt(gl(n))}function ra(i,e){return En(i.databaseId,e)}function Vl(i){return new Ar(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function gl(i){return Rn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Hu(i,e,n){return{name:Dr(i,e),fields:n.value.mapValue.fields}}function Zf(i,e){return{documents:[ra(i,e.path)]}}function Fc(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=ra(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ra(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const h=function(V){if(0!==V.length)return Kf(Gr.create(V,"and"))}(e.filters);h&&(n.structuredQuery.where=h);const g=function(V){if(0!==V.length)return V.map(G=>{return{field:vu((me=G).field),direction:ag(me.dir)};var me})}(e.orderBy);g&&(n.structuredQuery.orderBy=g);const b=Q(i,e.limit);return null!==b&&(n.structuredQuery.limit=b),e.startAt&&(n.structuredQuery.startAt={before:(V=e.startAt).inclusive,values:V.position}),e.endAt&&(n.structuredQuery.endAt=function(V){return{before:!V.inclusive,values:V.position}}(e.endAt)),n;var V}function Sh(i){let e=function ju(i){const e=Ln(i);return 4===e.length?Ar.emptyPath():gl(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let h=null;if(o>0){Rn(1===o);const ne=n.from[0];ne.allDescendants?h=ne.collectionId:e=e.child(ne.collectionId)}let g=[];n.where&&(g=function(me){const ke=xh(me);return ke instanceof Gr&&Ol(ke)?ke.getFilters():[ke]}(n.where));let b=[];n.orderBy&&(b=n.orderBy.map(ke=>{return new lu(bu((Qt=ke).field),function(tn){switch(tn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Qt.direction));var Qt}));let O=null;n.limit&&(O=function(me){let ke;return ke="object"==typeof me?me.value:me,qa(ke)?null:ke}(n.limit));let V=null;var me;n.startAt&&(V=new zi((me=n.startAt).values||[],!!me.before));let G=null;return n.endAt&&(G=function(me){return new zi(me.values||[],!me.before)}(n.endAt)),function Td(i,e,n,o,h,g,b,O){return new ko(i,e,n,o,h,g,b,O)}(e,h,b,g,O,"F",V,G)}function xh(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=bu(n.unaryFilter.field);return Ir.create(o,"==",{doubleValue:NaN});case"IS_NULL":const h=bu(n.unaryFilter.field);return Ir.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const g=bu(n.unaryFilter.field);return Ir.create(g,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=bu(n.unaryFilter.field);return Ir.create(b,"!=",{nullValue:"NULL_VALUE"});default:return dn()}}(i):void 0!==i.fieldFilter?Ir.create(bu((n=i).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dn()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return Gr.create(n.compositeFilter.filters.map(o=>xh(o)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return dn()}}(n.compositeFilter.op))}(i):dn();var n}function ag(i){return R[i]}function Pd(i){return y[i]}function Ia(i){return I[i]}function vu(i){return{fieldPath:i.canonicalString()}}function bu(i){return Hi.fromServerFormat(i.fieldPath)}function Kf(i){return i instanceof Ir?function(n){if("=="===n.op){if(_h(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NAN"}};if(Tc(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(_h(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NOT_NAN"}};if(Tc(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vu(n.field),op:Pd(n.op),value:n.value}}}(i):i instanceof Gr?function(n){const o=n.getFilters().map(h=>Kf(h));return 1===o.length?o[0]:{compositeFilter:{op:Ia(n.op),filters:o}}}(i):dn()}function Vc(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lg(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class ml{constructor(e,n,o,h,g=wn.min(),b=wn.min(),O=Is.EMPTY_BYTE_STRING,V=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=h,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=O,this.expectedCount=V}withSequenceNumber(e){return new ml(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ml(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ml(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ml(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Mm{constructor(e){this.ut=e}}function Od(i){const e=Sh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?hu(e,e.limit,"L"):e}class Zu{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Yi(e.integerValue));else if("doubleValue"in e){const o=Yi(e.doubleValue);isNaN(o)?this.Tt(n,13):(this.Tt(n,15),oo(o)?n.Et(0):n.Et(o))}else if("timestampValue"in e){const o=e.timestampValue;this.Tt(n,20),"string"==typeof o?n.dt(o):(n.dt(`${o.seconds||""}`),n.Et(o.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Dl(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.Tt(n,45),n.Et(o.latitude||0),n.Et(o.longitude||0)}else"mapValue"in e?bd(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):dn()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const o=e.fields||{};this.Tt(n,55);for(const h of Object.keys(o))this.At(h,n),this.Pt(o[h],n)}yt(e,n){const o=e.values||[];this.Tt(n,50);for(const h of o)this.Pt(h,n)}ft(e,n){this.Tt(n,37),bt.fromName(e).path.forEach(o=>{this.Tt(n,60),this.wt(o,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Zu.St=new Zu;class Lm{constructor(){this.on=new Wc}addToCollectionParentIndex(e,n){return this.on.add(n),Qe.resolve()}getCollectionParents(e,n){return Qe.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Qe.resolve()}deleteFieldIndex(e,n){return Qe.resolve()}deleteAllFieldIndexes(e){return Qe.resolve()}createTargetIndexes(e,n){return Qe.resolve()}getDocumentsMatchingTarget(e,n){return Qe.resolve(null)}getIndexType(e,n){return Qe.resolve(0)}getFieldIndexes(e,n){return Qe.resolve([])}getNextCollectionGroupToUpdate(e){return Qe.resolve(null)}getMinOffset(e,n){return Qe.resolve($o.min())}getMinOffsetFromCollectionGroup(e,n){return Qe.resolve($o.min())}updateCollectionGroup(e,n,o){return Qe.resolve()}updateIndexEntries(e,n){return Qe.resolve()}}class Wc{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),h=this.index[n]||new fi(Ar.comparator),g=!h.has(o);return this.index[n]=h.add(o),g}has(e){const n=e.lastSegment(),o=e.popLast(),h=this.index[n];return h&&h.has(o)}getEntries(e){return(this.index[e]||new fi(Ar.comparator)).toArray()}}new Uint8Array(0);class ia{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ia(e,ia.DEFAULT_COLLECTION_PERCENTILE,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ia.DEFAULT_COLLECTION_PERCENTILE=10,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ia.DEFAULT=new ia(41943040,ia.DEFAULT_COLLECTION_PERCENTILE,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ia.DISABLED=new ia(-1,0,0);class Ba{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ba(0)}static Nn(){return new Ba(-1)}}class yg{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Qe.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xf{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Wm{constructor(e,n,o,h){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=h}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(h=>(o=h,this.remoteDocumentCache.getEntry(e,n))).next(h=>(null!==o&&wh(o.mutation,h,ea.empty(),bi.now()),h))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,_r()).next(()=>o))}getLocalViewOfDocuments(e,n,o=_r()){const h=Wo();return this.populateOverlays(e,h,n).next(()=>this.computeViews(e,n,h,o).next(g=>{let b=Ll();return g.forEach((O,V)=>{b=b.insert(O,V.overlayedDocument)}),b}))}getOverlayedDocuments(e,n){const o=Wo();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,_r()))}populateOverlays(e,n,o){const h=[];return o.forEach(g=>{n.has(g)||h.push(g)}),this.documentOverlayCache.getOverlays(e,h).next(g=>{g.forEach((b,O)=>{n.set(b,O)})})}computeViews(e,n,o,h){let g=Zs();const b=Fl(),O=Fl();return n.forEach((V,G)=>{const ne=o.get(G.key);h.has(G.key)&&(void 0===ne||ne.mutation instanceof La)?g=g.insert(G.key,G):void 0!==ne?(b.set(G.key,ne.mutation.getFieldMask()),wh(ne.mutation,G,ne.mutation.getFieldMask(),bi.now())):b.set(G.key,ea.empty())}),this.recalculateAndSaveOverlays(e,g).next(V=>(V.forEach((G,ne)=>b.set(G,ne)),n.forEach((G,ne)=>{var me;return O.set(G,new Xf(ne,null!==(me=b.get(G))&&void 0!==me?me:null))}),O))}recalculateAndSaveOverlays(e,n){const o=Fl();let h=new oi((b,O)=>b-O),g=_r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(b=>{for(const O of b)O.keys().forEach(V=>{const G=n.get(V);if(null===G)return;let ne=o.get(V)||ea.empty();ne=O.applyToLocalView(G,ne),o.set(V,ne);const me=(h.get(O.batchId)||_r()).add(V);h=h.insert(O.batchId,me)})}).next(()=>{const b=[],O=h.getReverseIterator();for(;O.hasNext();){const V=O.getNext(),G=V.key,ne=V.value,me=fu();ne.forEach(ke=>{if(!g.has(ke)){const tt=Am(n.get(ke),o.get(ke));null!==tt&&me.set(ke,tt),g=g.add(ke)}}),b.push(this.documentOverlayCache.saveOverlays(e,G,me))}return Qe.waitFor(b)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,h){return bt.isDocumentKey((b=n).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):wd(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,h):this.getDocumentsMatchingCollectionQuery(e,n,o,h);var b}getNextDocuments(e,n,o,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,h).next(g=>{const b=h-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,h-g.size):Qe.resolve(Wo());let O=-1,V=g;return b.next(G=>Qe.forEach(G,(ne,me)=>(O<me.largestBatchId&&(O=me.largestBatchId),g.get(ne)?Qe.resolve():this.remoteDocumentCache.getEntry(e,ne).next(ke=>{V=V.insert(ne,ke)}))).next(()=>this.populateOverlays(e,G,g)).next(()=>this.computeViews(e,V,G,_r())).next(ne=>({batchId:O,changes:xc(ne)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new bt(n)).next(o=>{let h=Ll();return o.isFoundDocument()&&(h=h.insert(o.key,o)),h})}getDocumentsMatchingCollectionGroupQuery(e,n,o,h){const g=n.collectionGroup;let b=Ll();return this.indexManager.getCollectionParents(e,g).next(O=>Qe.forEach(O,V=>{const G=(me=n,ke=V.child(g),new ko(ke,null,me.explicitOrderBy.slice(),me.filters.slice(),me.limit,me.limitType,me.startAt,me.endAt));var me,ke;return this.getDocumentsMatchingCollectionQuery(e,G,o,h).next(ne=>{ne.forEach((me,ke)=>{b=b.insert(me,ke)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,n,o,h){let g;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(b=>(g=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,g,h))).next(b=>{g.forEach((V,G)=>{const ne=G.getKey();null===b.get(ne)&&(b=b.insert(ne,Fi.newInvalidDocument(ne)))});let O=Ll();return b.forEach((V,G)=>{const ne=g.get(V);void 0!==ne&&wh(ne.mutation,G,ea.empty(),bi.now()),ku(n,G)&&(O=O.insert(V,G))}),O})}}class bg{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Qe.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(h=n).id,version:h.version,createTime:Et(h.createTime)}),Qe.resolve();var h}getNamedQuery(e,n){return Qe.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(h=n).name,query:Od(h.bundledQuery),readTime:Et(h.readTime)}),Qe.resolve();var h}}class ay{constructor(){this.overlays=new oi(bt.comparator),this.lr=new Map}getOverlay(e,n){return Qe.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Wo();return Qe.forEach(n,h=>this.getOverlay(e,h).next(g=>{null!==g&&o.set(h,g)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((h,g)=>{this.lt(e,n,g)}),Qe.resolve()}removeOverlaysForBatchId(e,n,o){const h=this.lr.get(o);return void 0!==h&&(h.forEach(g=>this.overlays=this.overlays.remove(g)),this.lr.delete(o)),Qe.resolve()}getOverlaysForCollection(e,n,o){const h=Wo(),g=n.length+1,b=new bt(n.child("")),O=this.overlays.getIteratorFrom(b);for(;O.hasNext();){const V=O.getNext().value,G=V.getKey();if(!n.isPrefixOf(G.path))break;G.path.length===g&&V.largestBatchId>o&&h.set(V.getKey(),V)}return Qe.resolve(h)}getOverlaysForCollectionGroup(e,n,o,h){let g=new oi((G,ne)=>G-ne);const b=this.overlays.getIterator();for(;b.hasNext();){const G=b.getNext().value;if(G.getKey().getCollectionGroup()===n&&G.largestBatchId>o){let ne=g.get(G.largestBatchId);null===ne&&(ne=Wo(),g=g.insert(G.largestBatchId,ne)),ne.set(G.getKey(),G)}}const O=Wo(),V=g.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((G,ne)=>O.set(G,ne)),!(O.size()>=h)););return Qe.resolve(O)}lt(e,n,o){const h=this.overlays.get(o.key);if(null!==h){const b=this.lr.get(h.largestBatchId).delete(o.key);this.lr.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(o.key,new qo(n,o));let g=this.lr.get(n);void 0===g&&(g=_r(),this.lr.set(n,g)),this.lr.set(n,g.add(o.key))}}class Yu{constructor(){this.hr=new fi(To.Pr),this.Ir=new fi(To.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const o=new To(e,n);this.hr=this.hr.add(o),this.Ir=this.Ir.add(o)}Er(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.dr(new To(e,n))}Ar(e,n){e.forEach(o=>this.removeReference(o,n))}Rr(e){const n=new bt(new Ar([])),o=new To(n,e),h=new To(n,e+1),g=[];return this.Ir.forEachInRange([o,h],b=>{this.dr(b),g.push(b.key)}),g}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new bt(new Ar([])),o=new To(n,e),h=new To(n,e+1);let g=_r();return this.Ir.forEachInRange([o,h],b=>{g=g.add(b.key)}),g}containsKey(e){const n=new To(e,0),o=this.hr.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class To{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return bt.comparator(e.key,n.key)||$n(e.gr,n.gr)}static Tr(e,n){return $n(e.gr,n.gr)||bt.comparator(e.key,n.key)}}class ly{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new fi(To.Pr)}checkEmpty(e){return Qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,h){const g=this.pr;this.pr++;const b=new Ch(g,n,o,h);this.mutationQueue.push(b);for(const O of h)this.yr=this.yr.add(new To(O.key,g)),this.indexManager.addToCollectionParentIndex(e,O.key.path.popLast());return Qe.resolve(b)}lookupMutationBatch(e,n){return Qe.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const h=this.Sr(n+1),g=h<0?0:h;return Qe.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return Qe.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new To(n,0),h=new To(n,Number.POSITIVE_INFINITY),g=[];return this.yr.forEachInRange([o,h],b=>{const O=this.wr(b.gr);g.push(O)}),Qe.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new fi($n);return n.forEach(h=>{const g=new To(h,0),b=new To(h,Number.POSITIVE_INFINITY);this.yr.forEachInRange([g,b],O=>{o=o.add(O.gr)})}),Qe.resolve(this.br(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,h=o.length+1;let g=o;bt.isDocumentKey(g)||(g=g.child(""));const b=new To(new bt(g),0);let O=new fi($n);return this.yr.forEachWhile(V=>{const G=V.key.path;return!!o.isPrefixOf(G)&&(G.length===h&&(O=O.add(V.gr)),!0)},b),Qe.resolve(this.br(O))}br(e){const n=[];return e.forEach(o=>{const h=this.wr(o);null!==h&&n.push(h)}),n}removeMutationBatch(e,n){Rn(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let o=this.yr;return Qe.forEach(n.mutations,h=>{const g=new To(h.key,n.batchId);return o=o.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.yr=o})}Fn(e){}containsKey(e,n){const o=new To(n,0),h=this.yr.firstAfterOrEqual(o);return Qe.resolve(n.isEqual(h&&h.key))}performConsistencyCheck(e){return Qe.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ep{constructor(e){this.Cr=e,this.docs=new oi(bt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,h=this.docs.get(o),g=h?h.size:0,b=this.Cr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:b}),this.size+=b-g,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Qe.resolve(o?o.document.mutableCopy():Fi.newInvalidDocument(n))}getEntries(e,n){let o=Zs();return n.forEach(h=>{const g=this.docs.get(h);o=o.insert(h,g?g.document.mutableCopy():Fi.newInvalidDocument(h))}),Qe.resolve(o)}getDocumentsMatchingQuery(e,n,o,h){let g=Zs();const b=n.path,O=new bt(b.child("")),V=this.docs.getIteratorFrom(O);for(;V.hasNext();){const{key:G,value:{document:ne}}=V.getNext();if(!b.isPrefixOf(G.path))break;G.path.length>b.length+1||tu(gc(ne),o)<=0||(h.has(ne.key)||ku(n,ne))&&(g=g.insert(ne.key,ne.mutableCopy()))}return Qe.resolve(g)}getAllFromCollectionGroup(e,n,o,h){dn()}vr(e,n){return Qe.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new qm(this)}getSize(e){return Qe.resolve(this.size)}}class qm extends yg{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((o,h)=>{h.isValidDocument()?n.push(this._r.addEntry(e,h)):this._r.removeEntry(o)}),Qe.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Zm{constructor(e){this.persistence=e,this.Fr=new na(n=>Ws(n),Ac),this.lastRemoteSnapshotVersion=wn.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Yu,this.targetCount=0,this.Nr=Ba.On()}forEachTarget(e,n){return this.Fr.forEach((o,h)=>n(h)),Qe.resolve()}getLastRemoteSnapshotVersion(e){return Qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qe.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Qe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Mr&&(this.Mr=n),Qe.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ba(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Qe.resolve()}updateTargetData(e,n){return this.kn(n),Qe.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Qe.resolve()}removeTargets(e,n,o){let h=0;const g=[];return this.Fr.forEach((b,O)=>{O.sequenceNumber<=n&&null===o.get(O.targetId)&&(this.Fr.delete(b),g.push(this.removeMatchingKeysForTargetId(e,O.targetId)),h++)}),Qe.waitFor(g).next(()=>h)}getTargetCount(e){return Qe.resolve(this.targetCount)}getTargetData(e,n){const o=this.Fr.get(n)||null;return Qe.resolve(o)}addMatchingKeys(e,n,o){return this.Or.Er(n,o),Qe.resolve()}removeMatchingKeys(e,n,o){this.Or.Ar(n,o);const h=this.persistence.referenceDelegate,g=[];return h&&n.forEach(b=>{g.push(h.markPotentiallyOrphaned(e,b))}),Qe.waitFor(g)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Qe.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Or.mr(n);return Qe.resolve(o)}containsKey(e,n){return Qe.resolve(this.Or.containsKey(n))}}class Eg{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Po(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Zm(this),this.indexManager=new Lm,this.remoteDocumentCache=new ep(o=>this.referenceDelegate.Qr(o)),this.serializer=new Mm(n),this.Kr=new bg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ay,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Br[e.toKey()];return o||(o=new ly(n,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,o){Rt("MemoryPersistence","Starting transaction:",e);const h=new Lh(this.Lr.next());return this.referenceDelegate.$r(),o(h).next(g=>this.referenceDelegate.Ur(h).next(()=>g)).toPromise().then(g=>(h.raiseOnCommittedEvent(),g))}Wr(e,n){return Qe.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,n)))}}class Lh extends Pt{constructor(e){super(),this.currentSequenceNumber=e}}class tp{constructor(e){this.persistence=e,this.Gr=new Yu,this.zr=null}static jr(e){return new tp(e)}get Hr(){if(this.zr)return this.zr;throw dn()}addReference(e,n,o){return this.Gr.addReference(o,n),this.Hr.delete(o.toString()),Qe.resolve()}removeReference(e,n,o){return this.Gr.removeReference(o,n),this.Hr.add(o.toString()),Qe.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Qe.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(h=>this.Hr.add(h.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(h=>{h.forEach(g=>this.Hr.add(g.toString()))}).next(()=>o.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qe.forEach(this.Hr,o=>{const h=bt.fromPath(o);return this.Jr(e,h).next(g=>{g||n.removeEntry(h,wn.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(o=>{o?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Qe.or([()=>Qe.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class Bh{constructor(e,n,o,h){this.targetId=e,this.fromCache=n,this.ki=o,this.qi=h}static Qi(e,n){let o=_r(),h=_r();for(const g of n.docChanges)switch(g.type){case 0:o=o.add(g.doc.key);break;case 1:h=h.add(g.doc.key)}return new Bh(e,n.fromCache,o,h)}}class cy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ig{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,o,h){const g={result:null};return this.zi(e,n).next(b=>{g.result=b}).next(()=>{if(!g.result)return this.ji(e,n,h,o).next(b=>{g.result=b})}).next(()=>{if(g.result)return;const b=new cy;return this.Hi(e,n,b).next(O=>{if(g.result=O,this.$i)return this.Ji(e,n,b,O.size)})}).next(()=>g.result)}Ji(e,n,o,h){return o.documentReadCount<this.Ui?(io()<=Ze.in.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Qe.resolve()):(io()<=Ze.in.DEBUG&&Rt("QueryEngine","Query:",kl(n),"scans",o.documentReadCount,"local documents and returns",h,"documents as results."),o.documentReadCount>this.Wi*h?(io()<=Ze.in.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ns(n))):Qe.resolve())}zi(e,n){if(Mf(n))return Qe.resolve(null);let o=Ns(n);return this.indexManager.getIndexType(e,o).next(h=>0===h?null:(null!==n.limit&&1===h&&(n=hu(n,null,"F"),o=Ns(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(g=>{const b=_r(...g);return this.Gi.getDocuments(e,b).next(O=>this.indexManager.getMinOffset(e,o).next(V=>{const G=this.Yi(n,O);return this.Zi(n,G,b,V.readTime)?this.zi(e,hu(n,null,"F")):this.Xi(e,G,n,V)}))})))}ji(e,n,o,h){return Mf(n)||h.isEqual(wn.min())?Qe.resolve(null):this.Gi.getDocuments(e,o).next(g=>{const b=this.Yi(n,g);return this.Zi(n,b,o,h)?Qe.resolve(null):(io()<=Ze.in.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),kl(n)),this.Xi(e,b,n,function pd(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,h=wn.fromTimestamp(1e9===o?new bi(n+1,0):new bi(n,o));return new $o(h,bt.empty(),e)}(h,-1)).next(O=>O))})}Yi(e,n){let o=new fi(Of(e));return n.forEach((h,g)=>{ku(e,g)&&(o=o.add(g))}),o}Zi(e,n,o,h){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const g="F"===e.limitType?n.last():n.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(h)>0)}Hi(e,n,o){return io()<=Ze.in.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",kl(n)),this.Gi.getDocumentsMatchingQuery(e,n,$o.min(),o)}Xi(e,n,o,h){return this.Gi.getDocumentsMatchingQuery(e,o,h).next(g=>(n.forEach(b=>{g=g.insert(b.key,b)}),g))}}class Km{constructor(e,n,o,h){this.persistence=e,this.es=n,this.serializer=h,this.ts=new oi($n),this.ns=new na(g=>Ws(g),Ac),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(o)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wm(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function dy(i,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,he.Z)(function*(i,e){const n=Xt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let h;return n.mutationQueue.getAllMutationBatches(o).next(g=>(h=g,n.os(e),n.mutationQueue.getAllMutationBatches(o))).next(g=>{const b=[],O=[];let V=_r();for(const G of h){b.push(G.batchId);for(const ne of G.mutations)V=V.add(ne.key)}for(const G of g){O.push(G.batchId);for(const ne of G.mutations)V=V.add(ne.key)}return n.localDocuments.getDocuments(o,V).next(G=>({_s:G,removedBatchIds:b,addedBatchIds:O}))})})}),Hh.apply(this,arguments)}function zh(i){const e=Xt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Yc(i,e){const n=Xt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Qu(i,e,n){return wu.apply(this,arguments)}function wu(){return wu=(0,he.Z)(function*(i,e,n){const o=Xt(i),h=o.ts.get(e),g=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",g,b=>o.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!Go(b))throw b;Rt("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}o.ts=o.ts.remove(e),o.ns.delete(h.target)}),wu.apply(this,arguments)}function np(i,e,n){const o=Xt(i);let h=wn.min(),g=_r();return o.persistence.runTransaction("Execute query","readwrite",b=>function(V,G,ne){const me=Xt(V),ke=me.ns.get(ne);return void 0!==ke?Qe.resolve(me.ts.get(ke)):me.qr.getTargetData(G,ne)}(o,b,Ns(e)).next(O=>{if(O)return h=O.lastLimboFreeSnapshotVersion,o.qr.getMatchingKeysForTargetId(b,O.targetId).next(V=>{g=V})}).next(()=>o.es.getDocumentsMatchingQuery(b,e,n?h:wn.min(),n?g:_r())).next(O=>(function yl(i,e,n){let o=i.rs.get(e)||wn.min();n.forEach((h,g)=>{g.readTime.compareTo(o)>0&&(o=g.readTime)}),i.rs.set(e,o)}(o,function Pf(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),O),{documents:O,ls:g})))}class Ag{constructor(){this.activeTargetIds=function pu(){return Lu}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class op{constructor(){this.eo=new Ag,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,o){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Ag,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qm{ro(e){}shutdown(){}}class fy{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Bd=null;function Dg(){return null===Bd?Bd=268435456+Math.round(2147483648*Math.random()):Bd++,"0x"+Bd.toString(16)}const ub={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lv{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const co="WebChannelConnection";class Jm extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),g=encodeURIComponent(this.databaseId.database);this.mo=o+"://"+n.host,this.fo=`projects/${h}/databases/${g}`,this.po="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${g}`}get yo(){return!1}wo(n,o,h,g,b){const O=Dg(),V=this.So(n,o);Rt("RestConnection",`Sending RPC '${n}' ${O}:`,V,h);const G={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(G,g,b),this.Do(n,V,G,h).then(ne=>(Rt("RestConnection",`Received RPC '${n}' ${O}: `,ne),ne),ne=>{throw bo("RestConnection",`RPC '${n}' ${O} failed with error: `,ne,"url: ",V,"request:",h),ne})}Co(n,o,h,g,b,O){return this.wo(n,o,h,g,b)}bo(n,o,h){n["X-Goog-Api-Client"]="gl-js/ fire/"+Ki,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((g,b)=>n[b]=g),h&&h.headers.forEach((g,b)=>n[b]=g)}So(n,o){return`${this.mo}/v1/${o}:${ub[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,o,h){const g=Dg();return new Promise((b,O)=>{const V=new _i;V.setWithCredentials(!0),V.listenOnce(bn.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case At.NO_ERROR:const ne=V.getResponseJson();Rt(co,`XHR for RPC '${e}' ${g} received:`,JSON.stringify(ne)),b(ne);break;case At.TIMEOUT:Rt(co,`RPC '${e}' ${g} timed out`),O(new Ft(lt.DEADLINE_EXCEEDED,"Request time out"));break;case At.HTTP_ERROR:const me=V.getStatus();if(Rt(co,`RPC '${e}' ${g} failed with status:`,me,"response text:",V.getResponseText()),me>0){let ke=V.getResponseJson();Array.isArray(ke)&&(ke=ke[0]);const tt=ke?.error;if(tt&&tt.status&&tt.message){const Qt=function(tn){const nr=tn.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(nr)>=0?nr:lt.UNKNOWN}(tt.status);O(new Ft(Qt,tt.message))}else O(new Ft(lt.UNKNOWN,"Server responded with status "+V.getStatus()))}else O(new Ft(lt.UNAVAILABLE,"Connection failed."));break;default:dn()}}finally{Rt(co,`RPC '${e}' ${g} completed.`)}});const G=JSON.stringify(h);Rt(co,`RPC '${e}' ${g} sending request:`,h),V.send(n,"POST",G,o,15)})}vo(e,n,o){const h=Dg(),g=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=Ie(),O=it(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},G=this.longPollingOptions.timeoutSeconds;void 0!==G&&(V.longPollingTimeout=Math.round(1e3*G)),this.useFetchStreams&&(V.useFetchStreams=!0),this.bo(V.initMessageHeaders,n,o),V.encodeInitMessageHeaders=!0;const ne=g.join("");Rt(co,`Creating RPC '${e}' stream ${h}: ${ne}`,V);const me=b.createWebChannel(ne,V);let ke=!1,tt=!1;const Qt=new lv({co:tn=>{tt?Rt(co,`Not sending because RPC '${e}' stream ${h} is closed:`,tn):(ke||(Rt(co,`Opening RPC '${e}' stream ${h} transport.`),me.open(),ke=!0),Rt(co,`RPC '${e}' stream ${h} sending:`,tn),me.send(tn))},lo:()=>me.close()}),en=(tn,nr,ar)=>{tn.listen(nr,rr=>{try{ar(rr)}catch(Jr){setTimeout(()=>{throw Jr},0)}})};return en(me,or.EventType.OPEN,()=>{tt||Rt(co,`RPC '${e}' stream ${h} transport opened.`)}),en(me,or.EventType.CLOSE,()=>{tt||(tt=!0,Rt(co,`RPC '${e}' stream ${h} transport closed`),Qt.Ro())}),en(me,or.EventType.ERROR,tn=>{tt||(tt=!0,bo(co,`RPC '${e}' stream ${h} transport errored:`,tn),Qt.Ro(new Ft(lt.UNAVAILABLE,"The operation could not be completed")))}),en(me,or.EventType.MESSAGE,tn=>{var nr;if(!tt){const ar=tn.data[0];Rn(!!ar);const Jr=ar.error||(null===(nr=ar[0])||void 0===nr?void 0:nr.error);if(Jr){Rt(co,`RPC '${e}' stream ${h} received error:`,Jr);const Gi=Jr.status;let Vi=function(_m){const Yv=Ts[_m];if(void 0!==Yv)return $f(Yv)}(Gi),Vo=Jr.message;void 0===Vi&&(Vi=lt.INTERNAL,Vo="Unknown error status: "+Gi+" with message "+Jr.message),tt=!0,Qt.Ro(new Ft(Vi,Vo)),me.close()}else Rt(co,`RPC '${e}' stream ${h} received:`,ar),Qt.Vo(ar)}}),en(O,di.STAT_EVENT,tn=>{tn.stat===zr.PROXY?Rt(co,`RPC '${e}' stream ${h} detected buffering proxy`):tn.stat===zr.NOPROXY&&Rt(co,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Qt.Ao()},0),Qt}}function jd(){return typeof document<"u"?document:null}function bl(i){return new M(i,!0)}class Hd{constructor(e,n,o=1e3,h=1.5,g=6e4){this.si=e,this.timerId=n,this.Fo=o,this.Mo=h,this.xo=g,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),o=Math.max(0,Date.now()-this.Bo),h=Math.max(0,n-o);h>0&&Rt("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,h,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class ap{constructor(e,n,o,h,g,b,O,V){this.si=e,this.Ko=o,this.$o=h,this.connection=g,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=O,this.listener=V,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Hd(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,he.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,he.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var o=this;return(0,he.Z)(function*(){o.t_(),o.n_(),o.zo.cancel(),o.Uo++,4!==e?o.zo.reset():n&&n.code===lt.RESOURCE_EXHAUSTED?(ji(n.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),o.zo.Lo()):n&&n.code===lt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.r_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,h])=>{this.Uo===n&&this.s_(o,h)},o=>{e(()=>{const h=new Ft(lt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.o_(h)})})}s_(e,n){const o=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{o(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(h=>{o(()=>this.o_(h))}),this.stream.onMessage(h=>{o(()=>this.onMessage(h))})}Jo(){var e=this;this.state=5,this.zo.ko((0,he.Z)(function*(){e.state=0,e.start()}))}o_(e){return Rt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zh extends ap{constructor(e,n,o,h,g,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,h,b),this.serializer=g}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function kc(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:dn(),h=e.targetChange.targetIds||[],g=function(G,ne){return G.useProto3Json?(Rn(void 0===ne||"string"==typeof ne),Is.fromBase64String(ne||"")):(Rn(void 0===ne||ne instanceof Uint8Array),Is.fromUint8Array(ne||new Uint8Array))}(i,e.targetChange.resumeToken),b=e.targetChange.cause,O=b&&function(G){const ne=void 0===G.code?lt.UNKNOWN:$f(G.code);return new Ft(ne,G.message||"")}(b);n=new Io(o,h,g,O||null)}else if("documentChange"in e){const o=e.documentChange,h=Ji(i,o.document.name),g=Et(o.document.updateTime),b=o.document.createTime?Et(o.document.createTime):wn.min(),O=new Ps({mapValue:{fields:o.document.fields}}),V=Fi.newFoundDocument(h,g,b,O);n=new uo(o.targetIds||[],o.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const o=e.documentDelete,h=Ji(i,o.document),g=o.readTime?Et(o.readTime):wn.min(),b=Fi.newNoDocument(h,g);n=new uo([],o.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const o=e.documentRemove,h=Ji(i,o.document);n=new uo([],o.removedTargetIds||[],h,null)}else{if(!("filter"in e))return dn();{const o=e.filter,{count:h=0,unchangedNames:g}=o,b=new Ah(h,g);n=new Rd(o.targetId,b)}}var G;return n}(this.serializer,e),o=function(g){if(!("targetChange"in g))return wn.min();const b=g.targetChange;return b.targetIds&&b.targetIds.length?wn.min():b.readTime?Et(b.readTime):wn.min()}(e);return this.listener.a_(n,o)}u_(e){const n={};n.database=Vl(this.serializer),n.addTarget=function(g,b){let O;const V=b.target;if(O=No(V)?{documents:Zf(g,V)}:{query:Fc(g,V)},O.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){O.resumeToken=Fe(g,b.resumeToken);const G=Q(g,b.expectedCount);null!==G&&(O.expectedCount=G)}else if(b.snapshotVersion.compareTo(wn.min())>0){O.readTime=de(g,b.snapshotVersion.toTimestamp());const G=Q(g,b.expectedCount);null!==G&&(O.expectedCount=G)}return O}(this.serializer,e);const o=function Rm(i,e){const n=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dn()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.e_(n)}c_(e){const n={};n.database=Vl(this.serializer),n.removeTarget=e,this.e_(n)}}class lp extends ap{constructor(e,n,o,h,g,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,h,b),this.serializer=g,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Rn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function qf(i,e){return i&&i.length>0?(Rn(void 0!==e),i.map(n=>function(h,g){let b=Et(h.updateTime?h.updateTime:g);return b.isEqual(wn.min())&&(b=Et(g)),new jf(b,h.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Et(e.commitTime);return this.listener.I_(o,n)}return Rn(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Vl(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function zu(i,e){let n;if(e instanceof Uu)n={update:Hu(i,e.key,e.value)};else if(e instanceof Bu)n={delete:Dr(i,e.key)};else if(e instanceof La)n={update:Hu(i,e.key,e.data),updateMask:Vc(e.fieldMask)};else{if(!(e instanceof Ja))return dn();n={verify:Dr(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(g,b){const O=b.transform;if(O instanceof Fu)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(O instanceof pl)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:O.elements}};if(O instanceof gu)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:O.elements}};if(O instanceof Cd)return{fieldPath:b.field.canonicalString(),increment:O.Ie};throw dn()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(g=e.precondition).updateTime?{updateTime:st(i,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:dn()),n;var g}(this.serializer,o))};this.e_(n)}}class Xc extends class{}{constructor(e,n,o,h){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=h,this.d_=!1}A_(){if(this.d_)throw new Ft(lt.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.wo(e,n,o,h,g)).catch(h=>{throw"FirebaseError"===h.name?(h.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ft(lt.UNKNOWN,h.toString())})}Co(e,n,o,h){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,b])=>this.connection.Co(e,n,o,g,b,h)).catch(g=>{throw"FirebaseError"===g.name?(g.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Ft(lt.UNKNOWN,g.toString())})}terminate(){this.d_=!0}}class up{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ji(n),this.f_=!1):Rt("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class uv{constructor(e,n,o,h,g){var b=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=g,this.F_.ro(O=>{o.enqueueAndForget((0,he.Z)(function*(){var V;rd(b)&&(Rt("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,he.Z)(function*(ne){const me=Xt(ne);me.C_.add(4),yield nd(me),me.M_.set("Unknown"),me.C_.delete(4),yield ed(me)}),function G(ne){return V.apply(this,arguments)})(b))}))}),this.M_=new up(o,h)}}function ed(i){return td.apply(this,arguments)}function td(){return td=(0,he.Z)(function*(i){if(rd(i))for(const e of i.v_)yield e(!0)}),td.apply(this,arguments)}function nd(i){return cp.apply(this,arguments)}function cp(){return cp=(0,he.Z)(function*(i){for(const e of i.v_)yield e(!1)}),cp.apply(this,arguments)}function dp(i,e){const n=Xt(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Rg(n)?fp(n):$d(n).Ho()&&hp(n,e))}function Yh(i,e){const n=Xt(i),o=$d(n);n.D_.delete(e),o.Ho()&&xg(n,e),0===n.D_.size&&(o.Ho()?o.Zo():rd(n)&&n.M_.set("Unknown"))}function hp(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$d(i).u_(e)}function xg(i,e){i.x_.Oe(e),$d(i).c_(e)}function fp(i){i.x_=new sg({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),$d(i).start(),i.M_.g_()}function Rg(i){return rd(i)&&!$d(i).jo()&&i.D_.size>0}function rd(i){return 0===Xt(i).C_.size}function Mg(i){i.x_=void 0}function pp(i){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,he.Z)(function*(i){i.D_.forEach((e,n)=>{hp(i,e)})}),Qh.apply(this,arguments)}function py(i,e){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,he.Z)(function*(i,e){Mg(i),Rg(i)?(i.M_.w_(e),fp(i)):i.M_.set("Unknown")}),Xu.apply(this,arguments)}function Pg(i,e,n){return zd.apply(this,arguments)}function zd(){return zd=(0,he.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof Io&&2===e.state&&e.cause)try{yield(o=(0,he.Z)(function*(g,b){const O=b.cause;for(const V of b.targetIds)g.D_.has(V)&&(yield g.remoteSyncer.rejectListen(V,O),g.D_.delete(V),g.x_.removeTarget(V))}),function h(g,b){return o.apply(this,arguments)})(i,e)}catch(o){Rt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Jh(i,o)}else if(e instanceof uo?i.x_.$e(e):e instanceof Rd?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(wn.min()))try{const o=yield zh(i.localStore);n.compareTo(o)>=0&&(yield function(g,b){const O=g.x_.it(b);return O.targetChanges.forEach((V,G)=>{if(V.resumeToken.approximateByteSize()>0){const ne=g.D_.get(G);ne&&g.D_.set(G,ne.withResumeToken(V.resumeToken,b))}}),O.targetMismatches.forEach((V,G)=>{const ne=g.D_.get(V);if(!ne)return;g.D_.set(V,ne.withResumeToken(Is.EMPTY_BYTE_STRING,ne.snapshotVersion)),xg(g,V);const me=new ml(ne.target,V,G,ne.sequenceNumber);hp(g,me)}),g.remoteSyncer.applyRemoteEvent(O)}(i,n))}catch(o){Rt("RemoteStore","Failed to raise snapshot:",o),yield Jh(i,o)}var o}),zd.apply(this,arguments)}function Jh(i,e,n){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,he.Z)(function*(i,e,n){if(!Go(e))throw e;i.C_.add(1),yield nd(i),i.M_.set("Offline"),n||(n=()=>zh(i.localStore)),i.asyncQueue.enqueueRetryable((0,he.Z)(function*(){Rt("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield ed(i)}))}),Xh.apply(this,arguments)}function Xm(i,e){return e().catch(n=>Jh(i,n,e))}function id(i){return e_.apply(this,arguments)}function e_(){return e_=(0,he.Z)(function*(i){const e=Xt(i),n=ec(e);let o=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Og(e);)try{const h=yield Yc(e.localStore,o);if(null===h){0===e.b_.length&&n.Zo();break}o=h.batchId,gp(e,h)}catch(h){yield Jh(e,h)}mp(e)&&sd(e)}),e_.apply(this,arguments)}function Og(i){return rd(i)&&i.b_.length<10}function gp(i,e){i.b_.push(e);const n=ec(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function mp(i){return rd(i)&&!ec(i).jo()&&i.b_.length>0}function sd(i){ec(i).start()}function ef(i){return _p.apply(this,arguments)}function _p(){return _p=(0,he.Z)(function*(i){ec(i).E_()}),_p.apply(this,arguments)}function t_(i){return tf.apply(this,arguments)}function tf(){return tf=(0,he.Z)(function*(i){const e=ec(i);for(const n of i.b_)e.P_(n.mutations)}),tf.apply(this,arguments)}function gy(i,e,n){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,he.Z)(function*(i,e,n){const o=i.b_.shift(),h=mu.from(o,e,n);yield Xm(i,()=>i.remoteSyncer.applySuccessfulWrite(h)),yield id(i)}),Ng.apply(this,arguments)}function n_(i,e){return yp.apply(this,arguments)}function yp(){return yp=(0,he.Z)(function*(i,e){var n;e&&ec(i).h_&&(yield(n=(0,he.Z)(function*(h,g){if(function rg(i){switch(i){default:return dn();case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0}}(O=g.code)&&O!==lt.ABORTED){const b=h.b_.shift();ec(h).Yo(),yield Xm(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,g)),yield id(h)}var O}),function o(h,g){return n.apply(this,arguments)})(i,e)),mp(i)&&sd(i)}),yp.apply(this,arguments)}function nf(i,e){return kg.apply(this,arguments)}function kg(){return kg=(0,he.Z)(function*(i,e){const n=Xt(i);n.asyncQueue.verifyOperationInProgress(),Rt("RemoteStore","RemoteStore received new credentials");const o=rd(n);n.C_.add(3),yield nd(n),o&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield ed(n)}),kg.apply(this,arguments)}function sf(){return sf=(0,he.Z)(function*(i,e){const n=Xt(i);e?(n.C_.delete(2),yield ed(n)):e||(n.C_.add(2),yield nd(n),n.M_.set("Unknown"))}),sf.apply(this,arguments)}function $d(i){return i.O_||(i.O_=function(n,o,h){const g=Xt(n);return g.A_(),new Zh(o,g.connection,g.authCredentials,g.appCheckCredentials,g.serializer,h)}(i.datastore,i.asyncQueue,{ho:pp.bind(null,i),Io:py.bind(null,i),a_:Pg.bind(null,i)}),i.v_.push(function(){var e=(0,he.Z)(function*(n){n?(i.O_.Yo(),Rg(i)?fp(i):i.M_.set("Unknown")):(yield i.O_.stop(),Mg(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function ec(i){return i.N_||(i.N_=function(n,o,h){const g=Xt(n);return g.A_(),new lp(o,g.connection,g.authCredentials,g.appCheckCredentials,g.serializer,h)}(i.datastore,i.asyncQueue,{ho:ef.bind(null,i),Io:n_.bind(null,i),T_:t_.bind(null,i),I_:gy.bind(null,i)}),i.v_.push(function(){var e=(0,he.Z)(function*(n){n?(i.N_.Yo(),yield id(i)):(yield i.N_.stop(),i.b_.length>0&&(Rt("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class af{constructor(e,n,o,h,g){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=h,this.removalCallback=g,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,h,g){const b=Date.now()+o,O=new af(e,n,b,h,g);return O.start(o),O}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ft(lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gd(i,e){if(ji("AsyncQueue",`${e}: ${i}`),Go(i))return new Ft(lt.UNAVAILABLE,`${e}: ${i}`);throw i}class od{constructor(e){this.comparator=e?(n,o)=>e(n,o)||bt.comparator(n.key,o.key):(n,o)=>bt.comparator(n.key,o.key),this.keyedMap=Ll(),this.sortedSet=new oi(this.comparator)}static emptySet(e){return new od(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof od)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const h=n.getNext().key,g=o.getNext().key;if(!h.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new od;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class r_{constructor(){this.B_=new oi(bt.comparator)}track(e){const n=e.doc.key,o=this.B_.get(n);o?0!==e.type&&3===o.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==o.type?this.B_=this.B_.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.B_=this.B_.remove(n):1===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):dn():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,o)=>{e.push(o)}),e}}class ad{constructor(e,n,o,h,g,b,O,V,G){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=h,this.mutatedKeys=g,this.fromCache=b,this.syncStateChanged=O,this.excludesMetadataChanges=V,this.hasCachedResults=G}static fromInitialDocuments(e,n,o,h,g){const b=[];return n.forEach(O=>{b.push({type:0,doc:O})}),new ad(e,n,od.emptySet(n),b,o,h,!0,!1,g)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let h=0;h<n.length;h++)if(n[h].type!==o[h].type||!n[h].doc.isEqual(o[h].doc))return!1;return!0}}class cv{constructor(){this.k_=void 0,this.listeners=[]}}class i_{constructor(){this.queries=new na(e=>Sc(e),Nu),this.onlineState="Unknown",this.q_=new Set}}function ja(){return ja=(0,he.Z)(function*(i,e){const n=Xt(i),o=e.query;let h=!1,g=n.queries.get(o);if(g||(h=!0,g=new cv),h)try{g.k_=yield n.onListen(o)}catch(b){const O=Gd(b,`Initialization of query '${kl(e.query)}' failed`);return void e.onError(O)}n.queries.set(o,g),g.listeners.push(e),e.Q_(n.onlineState),g.k_&&e.K_(g.k_)&&lf(n)}),ja.apply(this,arguments)}function s_(){return s_=(0,he.Z)(function*(i,e){const n=Xt(i),o=e.query;let h=!1;const g=n.queries.get(o);if(g){const b=g.listeners.indexOf(e);b>=0&&(g.listeners.splice(b,1),h=0===g.listeners.length)}if(h)return n.queries.delete(o),n.onUnlisten(o)}),s_.apply(this,arguments)}function Lg(i,e){const n=Xt(i);let o=!1;for(const h of e){const b=n.queries.get(h.query);if(b){for(const O of b.listeners)O.K_(h)&&(o=!0);b.k_=h}}o&&lf(n)}function tc(i,e,n){const o=Xt(i),h=o.queries.get(e);if(h)for(const g of h.listeners)g.onError(n);o.queries.delete(e)}function lf(i){i.q_.forEach(e=>{e.next()})}class Fg{constructor(e,n,o){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=o||{}}K_(e){if(!this.options.includeMetadataChanges){const o=[];for(const h of e.docChanges)3!==h.type&&o.push(h);e=new ad(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=ad.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Ug{constructor(e){this.key=e}}class a_{constructor(e){this.key=e}}class my{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=_r(),this.mutatedKeys=_r(),this._a=Of(e),this.aa=new od(this._a)}get ua(){return this.ia}ca(e,n){const o=n?n.la:new r_,h=n?n.aa:this.aa;let g=n?n.mutatedKeys:this.mutatedKeys,b=h,O=!1;const V="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,G="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((ne,me)=>{const ke=h.get(ne),tt=ku(this.query,me)?me:null,Qt=!!ke&&this.mutatedKeys.has(ke.key),en=!!tt&&(tt.hasLocalMutations||this.mutatedKeys.has(tt.key)&&tt.hasCommittedMutations);let tn=!1;ke&&tt?ke.data.isEqual(tt.data)?Qt!==en&&(o.track({type:3,doc:tt}),tn=!0):this.ha(ke,tt)||(o.track({type:2,doc:tt}),tn=!0,(V&&this._a(tt,V)>0||G&&this._a(tt,G)<0)&&(O=!0)):!ke&&tt?(o.track({type:0,doc:tt}),tn=!0):ke&&!tt&&(o.track({type:1,doc:ke}),tn=!0,(V||G)&&(O=!0)),tn&&(tt?(b=b.add(tt),g=en?g.add(ne):g.delete(ne)):(b=b.delete(ne),g=g.delete(ne)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ne="F"===this.query.limitType?b.last():b.first();b=b.delete(ne.key),g=g.delete(ne.key),o.track({type:1,doc:ne})}return{aa:b,la:o,Zi:O,mutatedKeys:g}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o,h){const g=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const b=e.la.L_();b.sort((ne,me)=>function(tt,Qt){const en=tn=>{switch(tn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dn()}};return en(tt)-en(Qt)}(ne.type,me.type)||this._a(ne.doc,me.doc)),this.Pa(o),h=null!=h&&h;const O=n&&!h?this.Ia():[],V=0===this.oa.size&&this.current&&!h?1:0,G=V!==this.sa;return this.sa=V,0!==b.length||G?{snapshot:new ad(this.query,e.aa,g,b,e.mutatedKeys,0===V,G,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ta:O}:{Ta:O}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new r_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=_r(),this.aa.forEach(o=>{this.Ea(o.key)&&(this.oa=this.oa.add(o.key))});const n=[];return e.forEach(o=>{this.oa.has(o)||n.push(new a_(o))}),this.oa.forEach(o=>{e.has(o)||n.push(new Ug(o))}),n}da(e){this.ia=e.ls,this.oa=_r();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return ad.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class wo{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class _y{constructor(e){this.key=e,this.Ra=!1}}class Bg{constructor(e,n,o,h,g,b){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=h,this.currentUser=g,this.maxConcurrentLimboResolutions=b,this.Va={},this.ma=new na(O=>Sc(O),Nu),this.fa=new Map,this.ga=new Set,this.pa=new oi(bt.comparator),this.ya=new Map,this.wa=new Yu,this.Sa={},this.ba=new Map,this.Da=Ba.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function yy(i,e){return jg.apply(this,arguments)}function jg(){return jg=(0,he.Z)(function*(i,e){const n=function Sp(i){const e=Xt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=$i.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ey.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d_.bind(null,e),e.Va.a_=Lg.bind(null,e.eventManager),e.Va.Fa=tc.bind(null,e.eventManager),e}(i);let o,h;const g=n.ma.get(e);if(g)o=g.targetId,n.sharedClientState.addLocalQueryTarget(o),h=g.view.Aa();else{const b=yield function Vd(i,e){const n=Xt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let h;return n.qr.getTargetData(o,e).next(g=>g?(h=g,Qe.resolve(h)):n.qr.allocateTargetId(o).next(b=>(h=new ml(e,b,"TargetPurposeListen",o.currentSequenceNumber),n.qr.addTargetData(o,h).next(()=>h))))}).then(o=>{const h=n.ts.get(o.targetId);return(null===h||o.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(n.ts=n.ts.insert(o.targetId,o),n.ns.set(e,o.targetId)),o})}(n.localStore,Ns(e)),O=n.sharedClientState.addLocalQueryTarget(b.targetId);o=b.targetId,h=yield function uf(i,e,n,o,h){return Ep.apply(this,arguments)}(n,e,o,"current"===O,b.resumeToken),n.isPrimaryClient&&dp(n.remoteStore,b)}return h}),jg.apply(this,arguments)}function Ep(){return Ep=(0,he.Z)(function*(i,e,n,o,h){i.va=(me,ke,tt)=>{return(Qt=(0,he.Z)(function*(tn,nr,ar,rr){let Jr=nr.view.ca(ar);Jr.Zi&&(Jr=yield np(tn.localStore,nr.query,!1).then(({documents:Wl})=>nr.view.ca(Wl,Jr)));const Gi=rr&&rr.targetChanges.get(nr.targetId),Vi=rr&&null!=rr.targetMismatches.get(nr.targetId),Vo=nr.view.applyChanges(Jr,tn.isPrimaryClient,Gi,Vi);return qd(tn,nr.targetId,Vo.Ta),Vo.snapshot}),function en(tn,nr,ar,rr){return Qt.apply(this,arguments)})(i,me,ke,tt);var Qt};const g=yield np(i.localStore,e,!0),b=new my(e,g.ls),O=b.ca(g.documents),V=yu.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,h),G=b.applyChanges(O,i.isPrimaryClient,V);qd(i,n,G.Ta);const ne=new wo(e,n,b);return i.ma.set(e,ne),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),G.snapshot}),Ep.apply(this,arguments)}function l_(i,e){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,he.Z)(function*(i,e){const n=Xt(i),o=n.ma.get(e),h=n.fa.get(o.targetId);if(h.length>1)return n.fa.set(o.targetId,h.filter(g=>!Nu(g,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Qu(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Yh(n.remoteStore,o.targetId),$l(n,o.targetId)}).catch(ur))):($l(n,o.targetId),yield Qu(n.localStore,o.targetId,!0))}),Hg.apply(this,arguments)}function Ip(){return Ip=(0,he.Z)(function*(i,e,n){const o=function Yd(i){const e=Xt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vy.bind(null,e),e}(i);try{const h=yield function(b,O){const V=Xt(b),G=bi.now(),ne=O.reduce((tt,Qt)=>tt.add(Qt.key),_r());let me,ke;return V.persistence.runTransaction("Locally write mutations","readwrite",tt=>{let Qt=Zs(),en=_r();return V.ss.getEntries(tt,ne).next(tn=>{Qt=tn,Qt.forEach((nr,ar)=>{ar.isValidDocument()||(en=en.add(nr))})}).next(()=>V.localDocuments.getOverlayedDocuments(tt,Qt)).next(tn=>{me=tn;const nr=[];for(const ar of O){const rr=Q_(ar,me.get(ar.key).overlayedDocument);null!=rr&&nr.push(new La(ar.key,rr,Ya(rr.value.mapValue),Qi.exists(!0)))}return V.mutationQueue.addMutationBatch(tt,G,nr,O)}).next(tn=>{ke=tn;const nr=tn.applyToLocalDocumentSet(me,en);return V.documentOverlayCache.saveOverlays(tt,tn.batchId,nr)})}).then(()=>({batchId:ke.batchId,changes:xc(me)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(h.batchId),function(b,O,V){let G=b.Sa[b.currentUser.toKey()];G||(G=new oi($n)),G=G.insert(O,V),b.Sa[b.currentUser.toKey()]=G}(o,h.batchId,n),yield Cu(o,h.changes),yield id(o.remoteStore)}catch(h){const g=Gd(h,"Failed to persist write");n.reject(g)}}),Ip.apply(this,arguments)}function $i(i,e){return zg.apply(this,arguments)}function zg(){return zg=(0,he.Z)(function*(i,e){const n=Xt(i);try{const o=yield function Ym(i,e){const n=Xt(i),o=e.snapshotVersion;let h=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const b=n.ss.newChangeBuffer({trackRemovals:!0});h=n.ts;const O=[];e.targetChanges.forEach((ne,me)=>{const ke=h.get(me);if(!ke)return;O.push(n.qr.removeMatchingKeys(g,ne.removedDocuments,me).next(()=>n.qr.addMatchingKeys(g,ne.addedDocuments,me)));let tt=ke.withSequenceNumber(g.currentSequenceNumber);var en,tn,nr;null!==e.targetMismatches.get(me)?tt=tt.withResumeToken(Is.EMPTY_BYTE_STRING,wn.min()).withLastLimboFreeSnapshotVersion(wn.min()):ne.resumeToken.approximateByteSize()>0&&(tt=tt.withResumeToken(ne.resumeToken,o)),h=h.insert(me,tt),tn=tt,nr=ne,(0===(en=ke).resumeToken.approximateByteSize()||tn.snapshotVersion.toMicroseconds()-en.snapshotVersion.toMicroseconds()>=3e8||nr.addedDocuments.size+nr.modifiedDocuments.size+nr.removedDocuments.size>0)&&O.push(n.qr.updateTargetData(g,tt))});let V=Zs(),G=_r();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&O.push(n.persistence.referenceDelegate.updateLimboDocument(g,ne))}),O.push(function Tg(i,e,n){let o=_r(),h=_r();return n.forEach(g=>o=o.add(g)),e.getEntries(i,o).next(g=>{let b=Zs();return n.forEach((O,V)=>{const G=g.get(O);V.isFoundDocument()!==G.isFoundDocument()&&(h=h.add(O)),V.isNoDocument()&&V.version.isEqual(wn.min())?(e.removeEntry(O,V.readTime),b=b.insert(O,V)):!G.isValidDocument()||V.version.compareTo(G.version)>0||0===V.version.compareTo(G.version)&&G.hasPendingWrites?(e.addEntry(V),b=b.insert(O,V)):Rt("LocalStore","Ignoring outdated watch update for ",O,". Current version:",G.version," Watch version:",V.version)}),{us:b,cs:h}})}(g,b,e.documentUpdates).next(ne=>{V=ne.us,G=ne.cs})),!o.isEqual(wn.min())){const ne=n.qr.getLastRemoteSnapshotVersion(g).next(me=>n.qr.setTargetsMetadata(g,g.currentSequenceNumber,o));O.push(ne)}return Qe.waitFor(O).next(()=>b.apply(g)).next(()=>n.localDocuments.getLocalViewOfDocuments(g,V,G)).next(()=>V)}).then(g=>(n.ts=h,g))}(n.localStore,e);e.targetChanges.forEach((h,g)=>{const b=n.ya.get(g);b&&(Rn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.Ra=!0:h.modifiedDocuments.size>0?Rn(b.Ra):h.removedDocuments.size>0&&(Rn(b.Ra),b.Ra=!1))}),yield Cu(n,o,e)}catch(o){yield ur(o)}}),zg.apply(this,arguments)}function c_(i,e,n){const o=Xt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const h=[];o.ma.forEach((g,b)=>{const O=b.view.Q_(e);O.snapshot&&h.push(O.snapshot)}),function(b,O){const V=Xt(b);V.onlineState=O;let G=!1;V.queries.forEach((ne,me)=>{for(const ke of me.listeners)ke.Q_(O)&&(G=!0)}),G&&lf(V)}(o.eventManager,e),h.length&&o.Va.a_(h),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function d_(i,e,n){return nc.apply(this,arguments)}function nc(){return nc=(0,he.Z)(function*(i,e,n){const o=Xt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const h=o.ya.get(e),g=h&&h.key;if(g){let b=new oi(bt.comparator);b=b.insert(g,Fi.newNoDocument(g,wn.min()));const O=_r().add(g),V=new Ks(wn.min(),new Map,new oi($n),b,O);yield $i(o,V),o.pa=o.pa.remove(g),o.ya.delete(e),Gg(o)}else yield Qu(o.localStore,e,!1).then(()=>$l(o,e,n)).catch(ur)}),nc.apply(this,arguments)}function zl(i,e){return el.apply(this,arguments)}function el(){return el=(0,he.Z)(function*(i,e){const n=Xt(i),o=e.batch.batchId;try{const h=yield function Fd(i,e){const n=Xt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const h=e.batch.keys(),g=n.ss.newChangeBuffer({trackRemovals:!0});return function(O,V,G,ne){const me=G.batch,ke=me.keys();let tt=Qe.resolve();return ke.forEach(Qt=>{tt=tt.next(()=>ne.getEntry(V,Qt)).next(en=>{const tn=G.docVersions.get(Qt);Rn(null!==tn),en.version.compareTo(tn)<0&&(me.applyToRemoteDocument(en,G),en.isValidDocument()&&(en.setReadTime(G.commitVersion),ne.addEntry(en)))})}),tt.next(()=>O.mutationQueue.removeMutationBatch(V,me))}(n,o,e,g).next(()=>g.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,h,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(O){let V=_r();for(let G=0;G<O.mutationResults.length;++G)O.mutationResults[G].transformResults.length>0&&(V=V.add(O.batch.mutations[G].key));return V}(e))).next(()=>n.localDocuments.getDocuments(o,h))})}(n.localStore,e);ld(n,o,null),Wd(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Cu(n,h)}catch(h){yield ur(h)}}),el.apply(this,arguments)}function vy(i,e,n){return cf.apply(this,arguments)}function cf(){return cf=(0,he.Z)(function*(i,e,n){const o=Xt(i);try{const h=yield function(b,O){const V=Xt(b);return V.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let ne;return V.mutationQueue.lookupMutationBatch(G,O).next(me=>(Rn(null!==me),ne=me.keys(),V.mutationQueue.removeMutationBatch(G,me))).next(()=>V.mutationQueue.performConsistencyCheck(G)).next(()=>V.documentOverlayCache.removeOverlaysForBatchId(G,ne,O)).next(()=>V.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,ne)).next(()=>V.localDocuments.getDocuments(G,ne))})}(o.localStore,e);ld(o,e,n),Wd(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Cu(o,h)}catch(h){yield ur(h)}}),cf.apply(this,arguments)}function Wd(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function ld(i,e,n){const o=Xt(i);let h=o.Sa[o.currentUser.toKey()];if(h){const g=h.get(e);g&&(n?g.reject(n):g.resolve(),h=h.remove(e)),o.Sa[o.currentUser.toKey()]=h}}function $l(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.fa.get(e))i.ma.delete(o),n&&i.Va.Fa(o,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(o=>{i.wa.containsKey(o)||$g(i,o)})}function $g(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(Yh(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),Gg(i))}function qd(i,e,n){for(const o of n)o instanceof Ug?(i.wa.addReference(o.key,e),by(i,o)):o instanceof a_?(Rt("SyncEngine","Document no longer in limbo: "+o.key),i.wa.removeReference(o.key,e),i.wa.containsKey(o.key)||$g(i,o.key)):dn()}function by(i,e){const n=e.key,o=n.path.canonicalString();i.pa.get(n)||i.ga.has(o)||(Rt("SyncEngine","New document in limbo: "+n),i.ga.add(o),Gg(i))}function Gg(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new bt(Ar.fromString(e)),o=i.Da.next();i.ya.set(o,new _y(n)),i.pa=i.pa.insert(n,o),dp(i.remoteStore,new ml(Ns(cu(n.path)),o,"TargetPurposeLimboResolution",Po._e))}}function Cu(i,e,n){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,he.Z)(function*(i,e,n){const o=Xt(i),h=[],g=[],b=[];var O;o.ma.isEmpty()||(o.ma.forEach((O,V)=>{b.push(o.va(V,e,n).then(G=>{if((G||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(V.targetId,G?.fromCache?"not-current":"current"),G){h.push(G);const ne=Bh.Qi(V.targetId,G);g.push(ne)}}))}),yield Promise.all(b),o.Va.a_(h),yield(O=(0,he.Z)(function*(G,ne){const me=Xt(G);try{yield me.persistence.runTransaction("notifyLocalViewChanges","readwrite",ke=>Qe.forEach(ne,tt=>Qe.forEach(tt.ki,Qt=>me.persistence.referenceDelegate.addReference(ke,tt.targetId,Qt)).next(()=>Qe.forEach(tt.qi,Qt=>me.persistence.referenceDelegate.removeReference(ke,tt.targetId,Qt)))))}catch(ke){if(!Go(ke))throw ke;Rt("LocalStore","Failed to update sequence numbers: "+ke)}for(const ke of ne){const tt=ke.targetId;if(!ke.fromCache){const Qt=me.ts.get(tt),tn=Qt.withLastLimboFreeSnapshotVersion(Qt.snapshotVersion);me.ts=me.ts.insert(tt,tn)}}}),function V(G,ne){return O.apply(this,arguments)})(o.localStore,g))}),Wg.apply(this,arguments)}function f_(i,e){return p_.apply(this,arguments)}function p_(){return p_=(0,he.Z)(function*(i,e){const n=Xt(i);if(!n.currentUser.isEqual(e)){Rt("SyncEngine","User change. New user:",e.toKey());const o=yield dy(n.localStore,e);n.currentUser=e,(g=n).ba.forEach(O=>{O.forEach(V=>{V.reject(new Ft(lt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.ba.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Cu(n,o._s)}var g}),p_.apply(this,arguments)}function Ey(i,e){const n=Xt(i),o=n.ya.get(e);if(o&&o.Ra)return _r().add(o.key);{let h=_r();const g=n.fa.get(e);if(!g)return h;for(const b of g){const O=n.ma.get(b);h=h.unionWith(O.view.ua)}return h}}class Jd{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,he.Z)(function*(){n.serializer=bl(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function jh(i,e,n,o){return new Km(i,e,n,o)}(this.persistence,new Ig,e.initialUser,this.serializer)}createPersistence(e){return new Eg(tp.jr,this.serializer)}createSharedClientState(e){return new op}terminate(){var e=this;return(0,he.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rc{initialize(e,n){var o=this;return(0,he.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=h=>c_(o.syncEngine,h,1),o.remoteStore.remoteSyncer.handleCredentialChange=f_.bind(null,o.syncEngine),yield function rf(i,e){return sf.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new i_}createDatastore(e){const n=bl(e.databaseInfo.databaseId),o=new Jm(e.databaseInfo);return new Xc(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return o=this.localStore,h=this.datastore,g=e.asyncQueue,b=n=>c_(this.syncEngine,n,0),O=fy.D()?new fy:new Qm,new uv(o,h,g,b,O);var o,h,g,b,O}createSyncEngine(e,n){return function(h,g,b,O,V,G,ne){const me=new Bg(h,g,b,O,V,G);return ne&&(me.Ca=!0),me}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,he.Z)(function*(o){const h=Xt(o);Rt("RemoteStore","RemoteStore shutting down."),h.C_.add(5),yield nd(h),h.F_.shutdown(),h.M_.set("Unknown")}),function n(o){return e.apply(this,arguments)})(this.remoteStore);var e}}class pf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class wy{constructor(e,n,o,h){var g=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=h,this.user=yi.UNAUTHENTICATED,this.clientId=fh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var b=(0,he.Z)(function*(O){Rt("FirestoreClient","Received user=",O.uid),yield g.authCredentialListener(O),g.user=O});return function(O){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(o,b=>(Rt("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,he.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ft(lt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const h=Gd(o,"Failed to shutdown persistence");n.reject(h)}})),n.promise}}function gf(i,e){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,he.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Rt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var h=(0,he.Z)(function*(g){o.isEqual(g)||(yield dy(e.localStore,g),o=g)});return function(g){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Kg.apply(this,arguments)}function Yg(i,e){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,he.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Mp(i){return Pp.apply(this,arguments)}(i);Rt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(h=>nf(e.remoteStore,h)),i.setAppCheckTokenChangeListener((h,g)=>nf(e.remoteStore,g)),i._onlineComponents=e}),Qg.apply(this,arguments)}function Pp(){return Pp=(0,he.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Rt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield gf(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function E_(i){return"FirebaseError"===i.name?i.code===lt.FAILED_PRECONDITION||i.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),yield gf(i,new Jd)}}else Rt("FirestoreClient","Using default OfflineComponentProvider"),yield gf(i,new Jd);return i._offlineComponents}),Pp.apply(this,arguments)}function Op(i){return I_.apply(this,arguments)}function I_(){return I_=(0,he.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Rt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Yg(i,i._uninitializedComponentsProvider._online)):(Rt("FirestoreClient","Using default OnlineComponentProvider"),yield Yg(i,new rc))),i._onlineComponents}),I_.apply(this,arguments)}function ud(i){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,he.Z)(function*(i){const e=yield Op(i),n=e.eventManager;return n.onListen=yy.bind(null,e.syncEngine),n.onUnlisten=l_.bind(null,e.syncEngine),n}),Jg.apply(this,arguments)}function Lp(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const em=new Map;function cd(i,e,n){if(!n)throw new Ft(lt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function eh(i){if(!bt.isDocumentKey(i))throw new Ft(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function tm(i){if(bt.isDocumentKey(i))throw new Ft(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Xi(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(o=i).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof i?"a function":dn()}function Br(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ft(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xi(i);throw new Ft(lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class nm{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Ft(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ft(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Fp(i,e,n,o){if(!0===e&&!0===o)throw new Ft(lt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Lp(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(g){if(void 0!==g.timeoutSeconds){if(isNaN(g.timeoutSeconds))throw new Ft(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (must not be NaN)`);if(g.timeoutSeconds<5)throw new Ft(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (minimum allowed value is 5)`);if(g.timeoutSeconds>30)throw new Ft(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class th{constructor(e,n,o,h){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ft(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ft(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nm(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new dh;switch(o.type){case"firstParty":return new Hs(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Ft(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=em.get(n);o&&(Rt("ComponentProvider","Removing Datastore"),em.delete(n),o.terminate())}(this),Promise.resolve()}}class Co{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class ps{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ps(this.firestore,e,this._key)}}class Ao extends Co{constructor(e,n,o){super(e,n,cu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ps(this.firestore,null,new bt(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function Ry(i,e,...n){if(i=(0,ge.m9)(i),cd("collection","path",e),i instanceof th){const o=Ar.fromString(e,...n);return tm(o),new Ao(i,null,o)}{if(!(i instanceof ps||i instanceof Ao))throw new Ft(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ar.fromString(e,...n));return tm(o),new Ao(i.firestore,null,o)}}function Vp(i,e,...n){if(i=(0,ge.m9)(i),1===arguments.length&&(e=fh.newId()),cd("doc","path",e),i instanceof th){const o=Ar.fromString(e,...n);return eh(o),new ps(i,null,new bt(o))}{if(!(i instanceof ps||i instanceof Ao))throw new Ft(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ar.fromString(e,...n));return eh(o),new ps(i.firestore,i instanceof Ao?i.converter:null,new bt(o))}}class im{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Hd(this,"async_queue_retry"),this.iu=()=>{const n=jd();n&&Rt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=jd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=jd();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new hi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,he.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Go(n))throw n;Rt("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(o=>{throw this.eu=o,this.tu=!1,ji("INTERNAL UNHANDLED ERROR: ",function(b){let O=b.message||"";return b.stack&&(O=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),O}(o)),o}).then(o=>(this.tu=!1,o))));return this.Ja=n,n}enqueueAfterDelay(e,n,o){this.su(),this.ru.indexOf(e)>-1&&(n=0);const h=af.createAndSchedule(this,e,n,o,g=>this.au(g));return this.Xa.push(h),h}su(){this.eu&&dn()}verifyOperationInProgress(){}uu(){var e=this;return(0,he.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function nh(i){return function(n,o){if("object"!=typeof n||null===n)return!1;const h=n;for(const g of["next","error","complete"])if(g in h&&"function"==typeof h[g])return!0;return!1}(i)}class Ti extends th{constructor(e,n,o,h){super(e,n,o,h),this.type="firestore",this._queue=new im,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||sm(this),this._firestoreClient.terminate()}}function Py(i,e){const n="object"==typeof i?i:(0,Ke.Mq)(),o="string"==typeof i?i:e||"(default)",h=(0,Ke.qX)(n,"firestore").getImmediate({identifier:o});if(!h._initialized){const g=(0,ge.P0)("firestore");g&&function A_(i,e,n,o={}){var h;const g=(i=Br(i,th))._getSettings(),b=`${e}:${n}`;if("firestore.googleapis.com"!==g.host&&g.host!==b&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},g),{host:b,ssl:!1})),o.mockUserToken){let O,V;if("string"==typeof o.mockUserToken)O=o.mockUserToken,V=yi.MOCK_USER;else{O=(0,ge.Sg)(o.mockUserToken,null===(h=i._app)||void 0===h?void 0:h.options.projectId);const G=o.mockUserToken.sub||o.mockUserToken.user_id;if(!G)throw new Ft(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new yi(G)}i._authCredentials=new mr(new fd(O,V))}}(h,...g)}return h}function ws(i){return i._firestoreClient||sm(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function sm(i){var e,n,o;const h=i._freezeSettings(),g=(V=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new xl(i._databaseId,V,i._persistenceKey,(ne=h).host,ne.ssl,ne.experimentalForceLongPolling,ne.experimentalAutoDetectLongPolling,Lp(ne.experimentalLongPollingOptions),ne.useFetchStreams));var V,ne;i._firestoreClient=new wy(i._authCredentials,i._appCheckCredentials,i._queue,g),null!==(n=h.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=h.localCache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:h.localCache.kind,_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider})}class dd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dd(Is.fromBase64String(e))}catch(n){throw new Ft(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dd(Is.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sh{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Ft(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class am{constructor(e){this._methodName=e}}class lm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ft(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ft(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $n(this._lat,e._lat)||$n(this._long,e._long)}}const ky=/^__.*__$/;class D_{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new La(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uu(e,this.data,n,this.fieldTransforms)}}class oc{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new La(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function S_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dn()}}class hd{constructor(e,n,o,h,g,b){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=h,void 0===g&&this.Pu(),this.fieldTransforms=g||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new hd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),h=this.Tu({path:o,du:!1});return h.Au(e),h}Ru(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),h=this.Tu({path:o,du:!1});return h.Pu(),h}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return f(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(S_(this.Iu)&&ky.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class x_{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||bl(e)}pu(e,n,o,h=!1){return new hd({Iu:e,methodName:n,gu:o,path:Hi.emptyPath(),du:!1,fu:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oh(i){const e=i._freezeSettings(),n=bl(i._databaseId);return new x_(i._databaseId,!!e.ignoreUndefinedProperties,n)}function um(i,e,n,o,h,g={}){const b=i.pu(g.merge||g.mergeFields?2:0,e,n,h);l("Data must be an object, but it was:",b,o);const O=Vy(o,b);let V,G;if(g.merge)V=new ea(b.fieldMask),G=b.fieldTransforms;else if(g.mergeFields){const ne=[];for(const me of g.mergeFields){const ke=u(e,me,n);if(!b.contains(ke))throw new Ft(lt.INVALID_ARGUMENT,`Field '${ke}' is specified in your field mask but missing from your input data.`);m(ne,ke)||ne.push(ke)}V=new ea(ne),G=b.fieldTransforms.filter(me=>V.covers(me.field))}else V=null,G=b.fieldTransforms;return new D_(new Ps(O),V,G)}class yf extends am{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yf}}function ac(i,e){if(vf(i=(0,ge.m9)(i)))return l("Unsupported field value:",e,i),Vy(i,e);if(i instanceof am)return function(o,h){if(!S_(h.Iu))throw h.mu(`${o._methodName}() can only be used with update() and set()`);if(!h.path)throw h.mu(`${o._methodName}() is not currently supported inside arrays`);const g=o._toFieldTransform(h);g&&h.fieldTransforms.push(g)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(o,h){const g=[];let b=0;for(const O of o){let V=ac(O,h.Vu(b));null==V&&(V={nullValue:"NULL_VALUE"}),g.push(V),b++}return{arrayValue:{values:g}}}(i,e)}return function(o,h){if(null===(o=(0,ge.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Vf(h.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const g=bi.fromDate(o);return{timestampValue:de(h.serializer,g)}}if(o instanceof bi){const g=new bi(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:de(h.serializer,g)}}if(o instanceof lm)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof dd)return{bytesValue:Fe(h.serializer,o._byteString)};if(o instanceof ps){const g=h.databaseId,b=o.firestore._databaseId;if(!b.isEqual(g))throw h.mu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${g.projectId}/${g.database}`);return{referenceValue:En(o.firestore._databaseId||h.databaseId,o._key.path)}}throw h.mu(`Unsupported field value: ${Xi(o)}`)}(i,e)}function Vy(i,e){const n={};return Xo(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(i,(o,h)=>{const g=ac(h,e.Eu(o));null!=g&&(n[o]=g)}),{mapValue:{fields:n}}}function vf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof bi||i instanceof lm||i instanceof dd||i instanceof ps||i instanceof am)}function l(i,e,n){if(!vf(n)||"object"!=typeof(h=n)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const o=Xi(n);throw e.mu("an object"===o?i+" a custom object":i+" "+o)}var h}function u(i,e,n){if((e=(0,ge.m9)(e))instanceof sh)return e._internalPath;if("string"==typeof e)return c(i,e);throw f("Field path arguments must be of type string or ",i,!1,void 0,n)}const a=new RegExp("[~\\*/\\[\\]]");function c(i,e,n){if(e.search(a)>=0)throw f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new sh(...e.split("."))._internalPath}catch{throw f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function f(i,e,n,o,h){const g=o&&!o.isEmpty(),b=void 0!==h;let O=`Function ${e}() called with invalid data`;n&&(O+=" (via `toFirestore()`)"),O+=". ";let V="";return(g||b)&&(V+=" (found",g&&(V+=` in field ${o}`),b&&(V+=` in document ${h}`),V+=")"),new Ft(lt.INVALID_ARGUMENT,O+i+V)}function m(i,e){return i.some(n=>n.isEqual(e))}class v{constructor(e,n,o,h,g){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=h,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new ps(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new E(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(C("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class E extends v{data(){return super.data()}}function C(i,e){return"string"==typeof e?c(i,e):e instanceof sh?e._internalPath:e._delegate._internalPath}class j{}class J extends j{}function ue(i,e,...n){let o=[];e instanceof j&&o.push(e),o=o.concat(n),function(g){const b=g.filter(V=>V instanceof Re).length,O=g.filter(V=>V instanceof pe).length;if(b>1||b>0&&O>0)throw new Ft(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const h of o)i=h._apply(i);return i}class pe extends J{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new pe(e,n,o)}_apply(e){const n=this._parse(e);return as(e._query,n),new Co(e.firestore,e.converter,Jp(e._query,n))}_parse(e){const n=oh(e.firestore);return function(g,b,O,V,G,ne,me){let ke;if(G.isKeyField()){if("array-contains"===ne||"array-contains-any"===ne)throw new Ft(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ne}' queries on documentId().`);if("in"===ne||"not-in"===ne){Ri(me,ne);const tt=[];for(const Qt of me)tt.push(wa(V,g,Qt));ke={arrayValue:{values:tt}}}else ke=wa(V,g,me)}else"in"!==ne&&"not-in"!==ne&&"array-contains-any"!==ne||Ri(me,ne),ke=function hm(i,e,n,o=!1){return ac(n,i.pu(o?4:3,e))}(O,"where",me,"in"===ne||"not-in"===ne);return Ir.create(G,ne,ke)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Se(i,e,n){const o=e,h=C("where",i);return pe._create(h,o,n)}class Re extends j{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Re(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:Gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(h,g){let b=h;const O=g.getFlattenedFilters();for(const V of O)as(b,V),b=Jp(b,V)}(e._query,n),new Co(e.firestore,e.converter,Jp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function wa(i,e,n){if("string"==typeof(n=(0,ge.m9)(n))){if(""===n)throw new Ft(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wd(e)&&-1!==n.indexOf("/"))throw new Ft(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Ar.fromString(n));if(!bt.isDocumentKey(o))throw new Ft(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return va(i,new bt(o))}if(n instanceof ps)return va(i,n._key);throw new Ft(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xi(n)}.`)}function Ri(i,e){if(!Array.isArray(i)||0===i.length)throw new Ft(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function as(i,e){const n=function(h,g){for(const b of h)for(const O of b.getFlattenedFilters())if(g.indexOf(O.op)>=0)return O.op;return null}(i.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Ft(lt.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Tl{convertValue(e,n="none"){switch(Ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Dl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw dn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return ao(e,(h,g)=>{o[h]=this.convertValue(g,n)}),o}convertGeoPoint(e){return new lm(Yi(e.latitude),Yi(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Sl(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=_a(e);return new bi(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Ar.fromString(e);Rn(lg(o));const h=new ka(o.get(1),o.get(3)),g=new bt(o.popFirst(5));return h.isEqual(n)||ji(`Document ${g} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),g}}class oa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lh extends v{constructor(e,n,o,h,g,b){super(e,n,o,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(C("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Tf extends lh{data(e={}){return super.data(e)}}class wf{constructor(e,n,o,h){this._firestore=e,this._userDataWriter=n,this._snapshot=h,this.metadata=new oa(h.hasPendingWrites,h.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Tf(this._firestore,this._userDataWriter,o.key,o,new oa(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ft(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(h,g){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(O=>({type:"added",doc:new Tf(h._firestore,h._userDataWriter,O.doc.key,O.doc,new oa(h._snapshot.mutatedKeys.has(O.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(O=>g||3!==O.type).map(O=>{const V=new Tf(h._firestore,h._userDataWriter,O.doc.key,O.doc,new oa(h._snapshot.mutatedKeys.has(O.doc.key),h._snapshot.fromCache),h.query.converter);let G=-1,ne=-1;return 0!==O.type&&(G=b.indexOf(O.doc.key),b=b.delete(O.doc.key)),1!==O.type&&(b=b.add(O.doc),ne=b.indexOf(O.doc.key)),{type:fm(O.type),doc:V,oldIndex:G,newIndex:ne}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fm(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dn()}}class Gl extends Tl{constructor(e){super(),this.firestore=e}convertBytes(e){return new dd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ps(this.firestore,null,n)}}function N_(i,e,n,...o){i=Br(i,ps);const h=Br(i.firestore,Ti),g=oh(h);let b;return b="string"==typeof(e=(0,ge.m9)(e))||e instanceof sh?function Fy(i,e,n,o,h,g){const b=i.pu(1,e,n),O=[u(e,o,n)],V=[h];if(g.length%2!=0)throw new Ft(lt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ke=0;ke<g.length;ke+=2)O.push(u(e,g[ke])),V.push(g[ke+1]);const G=[],ne=Ps.empty();for(let ke=O.length-1;ke>=0;--ke)if(!m(G,O[ke])){const tt=O[ke];let Qt=V[ke];Qt=(0,ge.m9)(Qt);const en=b.Ru(tt);if(Qt instanceof yf)G.push(tt);else{const tn=ac(Qt,en);null!=tn&&(G.push(tt),ne.set(tt,tn))}}const me=new ea(G);return new oc(ne,me,b.fieldTransforms)}(g,"updateDoc",i._key,e,n,o):function P_(i,e,n,o){const h=i.pu(1,e,n);l("Data must be an object, but it was:",h,o);const g=[],b=Ps.empty();ao(o,(V,G)=>{const ne=c(e,V,n);G=(0,ge.m9)(G);const me=h.Ru(ne);if(G instanceof yf)g.push(ne);else{const ke=ac(G,me);null!=ke&&(g.push(ne),b.set(ne,ke))}});const O=new ea(g);return new oc(b,O,h.fieldTransforms)}(g,"updateDoc",i._key,e),pm(h,[b.toMutation(i._key,Qi.exists(!0))])}function Y0(i){return pm(Br(i.firestore,Ti),[new Bu(i._key,Qi.none())])}function hb(i,e){const n=Br(i.firestore,Ti),o=Vp(i),h=function Lo(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e);return pm(n,[um(oh(i.firestore),"addDoc",o._key,h,null!==i.converter,{}).toMutation(o._key,Qi.exists(!1))]).then(()=>o)}function pm(i,e){return function(o,h){const g=new hi;return o.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function u_(i,e,n){return Ip.apply(this,arguments)}(yield function w_(i){return Op(i).then(e=>e.syncEngine)}(o),h,g)})),g.promise}(ws(i),e)}!function(e,n=!0){Ki=Ke.Jn,(0,Ke.Xd)(new Dt.wA("firestore",(o,{instanceIdentifier:h,options:g})=>{const b=o.getProvider("app").getImmediate(),O=new Ti(new Ma(o.getProvider("auth-internal")),new hh(o.getProvider("app-check-internal")),function(G,ne){if(!Object.prototype.hasOwnProperty.apply(G.options,["projectId"]))throw new Ft(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ka(G.options.projectId,ne)}(b,h),b);return g=Object.assign({useFetchStreams:n},g),O._setSettings(g),O},"PUBLIC").setMultipleInstances(!0)),(0,Ke.KN)(vo,"4.4.0",e),(0,Ke.KN)(vo,"4.4.0","esm2017")}();var Cb=X(5592),B_=X(7398),Hp=function(){return Hp=Object.assign||function(e){for(var n,o=1,h=arguments.length;o<h;o++)for(var g in n=arguments[o])Object.prototype.hasOwnProperty.call(n,g)&&(e[g]=n[g]);return e},Hp.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Ov={includeMetadataChanges:!1};function H_(i,e){return void 0===e&&(e=Ov),new Cb.y(function(n){var o=function fb(i,...e){var n,o,h;i=(0,ge.m9)(i);let g={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||nh(e[b])||(g=e[b],b++);const O={includeMetadataChanges:g.includeMetadataChanges};if(nh(e[b])){const me=e[b];e[b]=null===(n=me.next)||void 0===n?void 0:n.bind(me),e[b+1]=null===(o=me.error)||void 0===o?void 0:o.bind(me),e[b+2]=null===(h=me.complete)||void 0===h?void 0:h.bind(me)}let V,G,ne;if(i instanceof ps)G=Br(i.firestore,Ti),ne=cu(i._key.path),V={next:me=>{e[b]&&e[b](function k_(i,e,n){const o=n.docs.get(e._key),h=new Gl(i);return new lh(i,h,e._key,o,new oa(n.hasPendingWrites,n.fromCache),e.converter)}(G,i,me))},error:e[b+1],complete:e[b+2]};else{const me=Br(i,Co);G=Br(me.firestore,Ti),ne=me._query;const ke=new Gl(G);V={next:tt=>{e[b]&&e[b](new wf(G,ke,me,tt))},error:e[b+1],complete:e[b+2]},function N(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Ft(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(ke,tt,Qt,en){const tn=new pf(en),nr=new Fg(tt,tn,Qt);return ke.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function vp(i,e){return ja.apply(this,arguments)}(yield ud(ke),nr)})),()=>{tn.Na(),ke.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function bp(i,e){return s_.apply(this,arguments)}(yield ud(ke),nr)}))}}(ws(G),ne,O,V)}(i,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:o}})}function kv(i,e){return void 0===e&&(e={}),function Nv(i){return H_(i,{includeMetadataChanges:!0})}(i).pipe((0,B_.U)(function(n){return Wy(n,e)}))}function Wy(i,e){var n;void 0===e&&(e={});var o=i.data(e);return i.exists()&&"object"==typeof o&&null!==o&&e.idField?Hp(Hp({},o),((n={})[e.idField]=i.id,n)):o}function iE(i,e){return void 0===e&&(e={}),function Db(i){return H_(i,{includeMetadataChanges:!0}).pipe((0,B_.U)(function(e){return e.docs}))}(i).pipe((0,B_.U)(function(n){return n.map(function(o){return Wy(o,e)})}))}class mm{constructor(e){return e}}const Uv="firestore",Zy=new T.OlP("angularfire2.firestore-instances");function Bv(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new mm(o)}}const Mb={provide:class Fo{constructor(){return(0,A.vb)(Uv)}},deps:[[new T.FiY,Zy]]},jv={provide:mm,useFactory:function Rb(i,e){const n=(0,A.JM)(Uv,i,e);return n&&new mm(n)},deps:[[new T.FiY,Zy],se.Ot]};let Hv=(()=>{class i{constructor(){(0,fe.KN)("angularfire",A.q4.full,"fst")}static \u0275fac=function(o){return new(o||i)};static \u0275mod=T.oAB({type:i});static \u0275inj=T.cJS({providers:[jv,Mb]})}return i})();function $p(i,...e){return{ngModule:Hv,providers:[{provide:Zy,useFactory:Bv(i),multi:!0,deps:[T.R0b,T.zs3,A.HU,se.z6,[new T.FiY,z.dh],[new T.FiY,A.Rf],...e]}]}}const zv=(0,A.u3)(iE,!0),lc=(0,A.u3)(kv,!0),uc=(0,A.u3)(hb,!0),kb=(0,A.u3)(Ry,!0),Fb=(0,A.u3)(Y0,!0),G_=(0,A.u3)(Vp,!0),Kv=(0,A.u3)(Py,!0),Kb=(0,A.u3)(ue,!0),l0=(0,A.u3)(N_,!0),Wp=(0,A.u3)(Se,!0)},5816:(vn,ft,X)=>{X.d(ft,{B0:()=>cn,Jt:()=>ct,Ke:()=>Ke,Vq:()=>Nt,iH:()=>St});var A=X(4810),T=X(4946),se=X(721),z=X(9404),fe=X(3182),he=X(8243);class Ke{constructor(We){return We}}const Dt="storage",_e=new T.OlP("angularfire2.storage-instances");function Ce(ut){return(We,De)=>{const Be=We.runOutsideAngular(()=>ut(De));return new Ke(Be)}}const vt={provide:class Ze{constructor(){return(0,A.vb)(Dt)}},deps:[[new T.FiY,_e]]},je={provide:Ke,useFactory:function qe(ut,We){const De=(0,A.JM)(Dt,ut,We);return De&&new Ke(De)},deps:[[new T.FiY,_e],se.Ot]};let $t=(()=>{class ut{constructor(){(0,fe.KN)("angularfire",A.q4.full,"gcs")}static \u0275fac=function(Be){return new(Be||ut)};static \u0275mod=T.oAB({type:ut});static \u0275inj=T.cJS({providers:[je,vt]})}return ut})();function Nt(ut,...We){return{ngModule:$t,providers:[{provide:_e,useFactory:Ce(ut),multi:!0,deps:[T.R0b,T.zs3,A.HU,se.z6,[new T.FiY,z.dh],[new T.FiY,A.Rf],...We]}]}}const ct=(0,A.u3)(he.Jt,!0),St=(0,A.u3)(he.iH,!0),cn=(0,A.u3)(he.B0,!0)},4810:(vn,ft,X)=>{X.d(ft,{q4:()=>dt,HU:()=>St,Rf:()=>pt,vb:()=>ct,JM:()=>at,u3:()=>Le});var A=X(4946),T=X(3182),se=X(7394);class z extends se.w0{constructor(Ge,ot){super()}schedule(Ge,ot=0){return this}}const fe={setInterval(ze,Ge,...ot){const{delegate:yt}=fe;return yt?.setInterval?yt.setInterval(ze,Ge,...ot):setInterval(ze,Ge,...ot)},clearInterval(ze){const{delegate:Ge}=fe;return(Ge?.clearInterval||clearInterval)(ze)},delegate:void 0};var he=X(9039);class Ke extends z{constructor(Ge,ot){super(Ge,ot),this.scheduler=Ge,this.work=ot,this.pending=!1}schedule(Ge,ot=0){var yt;if(this.closed)return this;this.state=Ge;const Vt=this.id,kt=this.scheduler;return null!=Vt&&(this.id=this.recycleAsyncId(kt,Vt,ot)),this.pending=!0,this.delay=ot,this.id=null!==(yt=this.id)&&void 0!==yt?yt:this.requestAsyncId(kt,this.id,ot),this}requestAsyncId(Ge,ot,yt=0){return fe.setInterval(Ge.flush.bind(Ge,this),yt)}recycleAsyncId(Ge,ot,yt=0){if(null!=yt&&this.delay===yt&&!1===this.pending)return ot;null!=ot&&fe.clearInterval(ot)}execute(Ge,ot){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const yt=this._execute(Ge,ot);if(yt)return yt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ge,ot){let Vt,yt=!1;try{this.work(Ge)}catch(kt){yt=!0,Vt=kt||new Error("Scheduled action threw falsy error")}if(yt)return this.unsubscribe(),Vt}unsubscribe(){if(!this.closed){const{id:Ge,scheduler:ot}=this,{actions:yt}=ot;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(yt,this),null!=Ge&&(this.id=this.recycleAsyncId(ot,Ge,null)),this.delay=null,super.unsubscribe()}}}const Ze={now:()=>(Ze.delegate||Date).now(),delegate:void 0};class ge{constructor(Ge,ot=ge.now){this.schedulerActionCtor=Ge,this.now=ot}schedule(Ge,ot=0,yt){return new this.schedulerActionCtor(this,Ge).schedule(yt,ot)}}ge.now=Ze.now;class _e extends ge{constructor(Ge,ot=ge.now){super(Ge,ot),this.actions=[],this._active=!1}flush(Ge){const{actions:ot}=this;if(this._active)return void ot.push(Ge);let yt;this._active=!0;do{if(yt=Ge.execute(Ge.state,Ge.delay))break}while(Ge=ot.shift());if(this._active=!1,yt){for(;Ge=ot.shift();)Ge.unsubscribe();throw yt}}}const Ce=new class qe extends _e{}(class Dt extends Ke{constructor(Ge,ot){super(Ge,ot),this.scheduler=Ge,this.work=ot}schedule(Ge,ot=0){return ot>0?super.schedule(Ge,ot):(this.delay=ot,this.state=Ge,this.scheduler.flush(this),this)}execute(Ge,ot){return ot>0||this.closed?super.execute(Ge,ot):this._execute(Ge,ot)}requestAsyncId(Ge,ot,yt=0){return null!=yt&&yt>0||null==yt&&this.delay>0?super.requestAsyncId(Ge,ot,yt):(Ge.flush(this),0)}}),je=new _e(Ke);var Nt=X(5592),_n=X(9397),Dn=X(5137),fn=X(3093);const dt=new A.GfV("ANGULARFIRE2_VERSION");function at(ze,Ge,ot){if(Ge){if(1===Ge.length)return Ge[0];const kt=Ge.filter(pn=>pn.app===ot);if(1===kt.length)return kt[0]}return ot.container.getProvider(ze).getImmediate({optional:!0})}const ct=(ze,Ge)=>{const ot=Ge?[Ge]:(0,T.C6)(),yt=[];return ot.forEach(Vt=>{Vt.container.getProvider(ze).instances.forEach(pn=>{yt.includes(pn)||yt.push(pn)})}),yt};class pt{constructor(){return ct(gt)}}const gt="app-check";function Tt(){}class Tn{zone;delegate;constructor(Ge,ot=Ce){this.zone=Ge,this.delegate=ot}now(){return this.delegate.now()}schedule(Ge,ot,yt){const Vt=this.zone;return this.delegate.schedule(function(pn){Vt.runGuarded(()=>{Ge.apply(this,[pn])})},ot,yt)}}class zn{zone;task=null;constructor(Ge){this.zone=Ge}call(Ge,ot){const yt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Tt,{},Tt,Tt)),ot.pipe((0,_n.b)({next:yt,complete:yt,error:yt})).subscribe(Ge).add(yt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let St=(()=>{class ze{ngZone;outsideAngular;insideAngular;constructor(ot){this.ngZone=ot,this.outsideAngular=ot.runOutsideAngular(()=>new Tn(Zone.current)),this.insideAngular=ot.run(()=>new Tn(Zone.current,je)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(yt){return new(yt||ze)(A.LFG(A.R0b))};static \u0275prov=A.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"})}return ze})();function Cn(){const ze=globalThis.\u0275AngularFireScheduler;if(!ze)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return ze}function cn(ze){return Cn().ngZone.run(()=>ze())}function We(ze){return function De(ze){return function(ot){return(ot=ot.lift(new zn(ze.ngZone))).pipe((0,Dn.R)(ze.outsideAngular),(0,fn.Q)(ze.insideAngular))}}(Cn())(ze)}const Be=(ze,Ge)=>function(){const yt=arguments;return Ge&&setTimeout(()=>{"scheduled"===Ge.state&&Ge.invoke()},10),cn(()=>ze.apply(void 0,yt))},Le=(ze,Ge)=>function(){let ot;const yt=arguments;for(let kt=0;kt<arguments.length;kt++)"function"==typeof yt[kt]&&(Ge&&(ot||=cn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Tt,{},Tt,Tt))),yt[kt]=Be(yt[kt],ot));const Vt=function xt(ze){return Cn().ngZone.runOutsideAngular(()=>ze())}(()=>ze.apply(this,yt));if(!Ge){if(Vt instanceof Nt.y){const kt=Cn();return Vt.pipe((0,Dn.R)(kt.outsideAngular),(0,fn.Q)(kt.insideAngular))}return cn(()=>Vt)}return Vt instanceof Nt.y?Vt.pipe(We):Vt instanceof Promise?cn(()=>new Promise((kt,pn)=>Vt.then(hr=>cn(()=>kt(hr)),hr=>cn(()=>pn(hr))))):"function"==typeof Vt&&ot?function(){return setTimeout(()=>{ot&&"scheduled"===ot.state&&ot.invoke()},10),Vt.apply(this,arguments)}:cn(()=>Vt)}},95:(vn,ft,X)=>{X.d(ft,{Wl:()=>Nt,Fj:()=>dt,qu:()=>Di,u:()=>Fs,sg:()=>qn,u5:()=>is,JJ:()=>nn,JL:()=>Jt,F:()=>Ei,On:()=>xs,YN:()=>xn,UX:()=>il,Q7:()=>Kr,EJ:()=>Kt,kI:()=>Tt,_Y:()=>Da,Kr:()=>Xe});var A=X(4946),T=X(6814),se=X(2459),z=X(5592),fe=X(7453),he=X(4829),Ke=X(4564),Dt=X(8251),Ze=X(7400),ge=X(2714),qe=X(7398);let Ce=(()=>{class W{constructor(U,oe){this._renderer=U,this._elementRef=oe,this.onChange=Me=>{},this.onTouched=()=>{}}setProperty(U,oe){this._renderer.setProperty(this._elementRef.nativeElement,U,oe)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}static#e=this.\u0275fac=function(oe){return new(oe||W)(A.Y36(A.Qsj),A.Y36(A.SBq))};static#t=this.\u0275dir=A.lG2({type:W})}return W})(),vt=(()=>{class W extends Ce{static#e=this.\u0275fac=function(){let U;return function(Me){return(U||(U=A.n5z(W)))(Me||W)}}();static#t=this.\u0275dir=A.lG2({type:W,features:[A.qOj]})}return W})();const je=new A.OlP("NgValueAccessor"),$t={provide:je,useExisting:(0,A.Gpc)(()=>Nt),multi:!0};let Nt=(()=>{class W extends vt{writeValue(U){this.setProperty("checked",U)}static#e=this.\u0275fac=function(){let U;return function(Me){return(U||(U=A.n5z(W)))(Me||W)}}();static#t=this.\u0275dir=A.lG2({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(oe,Me){1&oe&&A.NdJ("change",function(Hn){return Me.onChange(Hn.target.checked)})("blur",function(){return Me.onTouched()})},features:[A._Bn([$t]),A.qOj]})}return W})();const _n={provide:je,useExisting:(0,A.Gpc)(()=>dt),multi:!0},fn=new A.OlP("CompositionEventMode");let dt=(()=>{class W extends Ce{constructor(U,oe,Me){super(U,oe),this._compositionMode=Me,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Dn(){const W=(0,T.q)()?(0,T.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}static#e=this.\u0275fac=function(oe){return new(oe||W)(A.Y36(A.Qsj),A.Y36(A.SBq),A.Y36(fn,8))};static#t=this.\u0275dir=A.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(oe,Me){1&oe&&A.NdJ("input",function(Hn){return Me._handleInput(Hn.target.value)})("blur",function(){return Me.onTouched()})("compositionstart",function(){return Me._compositionStart()})("compositionend",function(Hn){return Me._compositionEnd(Hn.target.value)})},features:[A._Bn([_n]),A.qOj]})}return W})();function Ye(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function at(W){return null!=W&&"number"==typeof W.length}const ct=new A.OlP("NgValidators"),pt=new A.OlP("NgAsyncValidators"),gt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Tt{static min(Z){return function Tn(W){return Z=>{if(Ye(Z.value)||Ye(W))return null;const U=parseFloat(Z.value);return!isNaN(U)&&U<W?{min:{min:W,actual:Z.value}}:null}}(Z)}static max(Z){return function zn(W){return Z=>{if(Ye(Z.value)||Ye(W))return null;const U=parseFloat(Z.value);return!isNaN(U)&&U>W?{max:{max:W,actual:Z.value}}:null}}(Z)}static required(Z){return St(Z)}static requiredTrue(Z){return function Cn(W){return!0===W.value?null:{required:!0}}(Z)}static email(Z){return function xt(W){return Ye(W.value)||gt.test(W.value)?null:{email:!0}}(Z)}static minLength(Z){return function cn(W){return Z=>Ye(Z.value)||!at(Z.value)?null:Z.value.length<W?{minlength:{requiredLength:W,actualLength:Z.value.length}}:null}(Z)}static maxLength(Z){return function Gt(W){return Z=>at(Z.value)&&Z.value.length>W?{maxlength:{requiredLength:W,actualLength:Z.value.length}}:null}(Z)}static pattern(Z){return function ut(W){if(!W)return We;let Z,U;return"string"==typeof W?(U="","^"!==W.charAt(0)&&(U+="^"),U+=W,"$"!==W.charAt(W.length-1)&&(U+="$"),Z=new RegExp(U)):(U=W.toString(),Z=W),oe=>{if(Ye(oe.value))return null;const Me=oe.value;return Z.test(Me)?null:{pattern:{requiredPattern:U,actualValue:Me}}}}(Z)}static nullValidator(Z){return null}static compose(Z){return yt(Z)}static composeAsync(Z){return kt(Z)}}function St(W){return Ye(W.value)?{required:!0}:null}function We(W){return null}function De(W){return null!=W}function Be(W){return(0,A.QGY)(W)?(0,se.D)(W):W}function Le(W){let Z={};return W.forEach(U=>{Z=null!=U?{...Z,...U}:Z}),0===Object.keys(Z).length?null:Z}function ze(W,Z){return Z.map(U=>U(W))}function ot(W){return W.map(Z=>function Ge(W){return!W.validate}(Z)?Z:U=>Z.validate(U))}function yt(W){if(!W)return null;const Z=W.filter(De);return 0==Z.length?null:function(U){return Le(ze(U,Z))}}function Vt(W){return null!=W?yt(ot(W)):null}function kt(W){if(!W)return null;const Z=W.filter(De);return 0==Z.length?null:function(U){return function _e(...W){const Z=(0,Ke.jO)(W),{args:U,keys:oe}=(0,fe.D)(W),Me=new z.y(an=>{const{length:Hn}=U;if(!Hn)return void an.complete();const ss=new Array(Hn);let da=Hn,vs=Hn;for(let xo=0;xo<Hn;xo++){let Ro=!1;(0,he.Xf)(U[xo]).subscribe((0,Dt.x)(an,ha=>{Ro||(Ro=!0,vs--),ss[xo]=ha},()=>da--,void 0,()=>{(!da||!Ro)&&(vs||an.next(oe?(0,ge.n)(oe,ss):ss),an.complete())}))}});return Z?Me.pipe((0,Ze.Z)(Z)):Me}(ze(U,Z).map(Be)).pipe((0,qe.U)(Le))}}function pn(W){return null!=W?kt(ot(W)):null}function hr(W,Z){return null===W?[Z]:Array.isArray(W)?[...W,Z]:[W,Z]}function Gn(W){return W._rawValidators}function xr(W){return W._rawAsyncValidators}function Fr(W){return W?Array.isArray(W)?W:[W]:[]}function wr(W,Z){return Array.isArray(W)?W.includes(Z):W===Z}function Mn(W,Z){const U=Fr(Z);return Fr(W).forEach(Me=>{wr(U,Me)||U.push(Me)}),U}function Pn(W,Z){return Fr(Z).filter(U=>!wr(W,U))}class Ht{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Z){this._rawValidators=Z||[],this._composedValidatorFn=Vt(this._rawValidators)}_setAsyncValidators(Z){this._rawAsyncValidators=Z||[],this._composedAsyncValidatorFn=pn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Z){this._onDestroyCallbacks.push(Z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Z=>Z()),this._onDestroyCallbacks=[]}reset(Z=void 0){this.control&&this.control.reset(Z)}hasError(Z,U){return!!this.control&&this.control.hasError(Z,U)}getError(Z,U){return this.control?this.control.getError(Z,U):null}}class Zn extends Ht{get formDirective(){return null}get path(){return null}}class ln extends Ht{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class In{constructor(Z){this._cd=Z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let nn=(()=>{class W extends In{constructor(U){super(U)}static#e=this.\u0275fac=function(oe){return new(oe||W)(A.Y36(ln,2))};static#t=this.\u0275dir=A.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(oe,Me){2&oe&&A.ekj("ng-untouched",Me.isUntouched)("ng-touched",Me.isTouched)("ng-pristine",Me.isPristine)("ng-dirty",Me.isDirty)("ng-valid",Me.isValid)("ng-invalid",Me.isInvalid)("ng-pending",Me.isPending)},features:[A.qOj]})}return W})(),Jt=(()=>{class W extends In{constructor(U){super(U)}static#e=this.\u0275fac=function(oe){return new(oe||W)(A.Y36(Zn,10))};static#t=this.\u0275dir=A.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(oe,Me){2&oe&&A.ekj("ng-untouched",Me.isUntouched)("ng-touched",Me.isTouched)("ng-pristine",Me.isPristine)("ng-dirty",Me.isDirty)("ng-valid",Me.isValid)("ng-invalid",Me.isInvalid)("ng-pending",Me.isPending)("ng-submitted",Me.isSubmitted)},features:[A.qOj]})}return W})();const Ut="VALID",On="INVALID",ei="PENDING",gi="DISABLED";function xe(W){return(ce(W)?W.validators:W)||null}function ae(W,Z){return(ce(Z)?Z.asyncValidators:W)||null}function ce(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function Ue(W,Z,U){const oe=W.controls;if(!(Z?Object.keys(oe):oe).length)throw new A.vHH(1e3,"");if(!oe[U])throw new A.vHH(1001,"")}function mt(W,Z,U){W._forEachChild((oe,Me)=>{if(void 0===U[Me])throw new A.vHH(1002,"")})}class Lt{constructor(Z,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Z),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(Z){this._rawValidators=this._composedValidatorFn=Z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Z){this._rawAsyncValidators=this._composedAsyncValidatorFn=Z}get parent(){return this._parent}get valid(){return this.status===Ut}get invalid(){return this.status===On}get pending(){return this.status==ei}get disabled(){return this.status===gi}get enabled(){return this.status!==gi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Z){this._assignValidators(Z)}setAsyncValidators(Z){this._assignAsyncValidators(Z)}addValidators(Z){this.setValidators(Mn(Z,this._rawValidators))}addAsyncValidators(Z){this.setAsyncValidators(Mn(Z,this._rawAsyncValidators))}removeValidators(Z){this.setValidators(Pn(Z,this._rawValidators))}removeAsyncValidators(Z){this.setAsyncValidators(Pn(Z,this._rawAsyncValidators))}hasValidator(Z){return wr(this._rawValidators,Z)}hasAsyncValidator(Z){return wr(this._rawAsyncValidators,Z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Z={}){this.touched=!0,this._parent&&!Z.onlySelf&&this._parent.markAsTouched(Z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Z=>Z.markAllAsTouched())}markAsUntouched(Z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}markAsDirty(Z={}){this.pristine=!1,this._parent&&!Z.onlySelf&&this._parent.markAsDirty(Z)}markAsPristine(Z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}markAsPending(Z={}){this.status=ei,!1!==Z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Z.onlySelf&&this._parent.markAsPending(Z)}disable(Z={}){const U=this._parentMarkedDirty(Z.onlySelf);this.status=gi,this.errors=null,this._forEachChild(oe=>{oe.disable({...Z,onlySelf:!0})}),this._updateValue(),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Z,skipPristineCheck:U}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(Z={}){const U=this._parentMarkedDirty(Z.onlySelf);this.status=Ut,this._forEachChild(oe=>{oe.enable({...Z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent}),this._updateAncestors({...Z,skipPristineCheck:U}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(Z){this._parent&&!Z.onlySelf&&(this._parent.updateValueAndValidity(Z),Z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Z){this._parent=Z}getRawValue(){return this.value}updateValueAndValidity(Z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ut||this.status===ei)&&this._runAsyncValidator(Z.emitEvent)),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Z.onlySelf&&this._parent.updateValueAndValidity(Z)}_updateTreeValidity(Z={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(Z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gi:Ut}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Z){if(this.asyncValidator){this.status=ei,this._hasOwnPendingAsyncValidator=!0;const U=Be(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:Z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Z,U={}){this.errors=Z,this._updateControlsErrors(!1!==U.emitEvent)}get(Z){let U=Z;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((oe,Me)=>oe&&oe._find(Me),this)}getError(Z,U){const oe=U?this.get(U):this;return oe&&oe.errors?oe.errors[Z]:null}hasError(Z,U){return!!this.getError(Z,U)}get root(){let Z=this;for(;Z._parent;)Z=Z._parent;return Z}_updateControlsErrors(Z){this.status=this._calculateStatus(),Z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Z)}_initObservables(){this.valueChanges=new A.vpe,this.statusChanges=new A.vpe}_calculateStatus(){return this._allControlsDisabled()?gi:this.errors?On:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ei)?ei:this._anyControlsHaveStatus(On)?On:Ut}_anyControlsHaveStatus(Z){return this._anyControls(U=>U.status===Z)}_anyControlsDirty(){return this._anyControls(Z=>Z.dirty)}_anyControlsTouched(){return this._anyControls(Z=>Z.touched)}_updatePristine(Z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}_updateTouched(Z={}){this.touched=this._anyControlsTouched(),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}_registerOnCollectionChange(Z){this._onCollectionChange=Z}_setUpdateStrategy(Z){ce(Z)&&null!=Z.updateOn&&(this._updateOn=Z.updateOn)}_parentMarkedDirty(Z){return!Z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Z){return null}_assignValidators(Z){this._rawValidators=Array.isArray(Z)?Z.slice():Z,this._composedValidatorFn=function re(W){return Array.isArray(W)?Vt(W):W||null}(this._rawValidators)}_assignAsyncValidators(Z){this._rawAsyncValidators=Array.isArray(Z)?Z.slice():Z,this._composedAsyncValidatorFn=function le(W){return Array.isArray(W)?pn(W):W||null}(this._rawAsyncValidators)}}class yn extends Lt{constructor(Z,U,oe){super(xe(U),ae(oe,U)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Z,U){return this.controls[Z]?this.controls[Z]:(this.controls[Z]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(Z,U,oe={}){this.registerControl(Z,U),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(Z,U={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(Z,U,oe={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],U&&this.registerControl(Z,U),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(Z){return this.controls.hasOwnProperty(Z)&&this.controls[Z].enabled}setValue(Z,U={}){mt(this,0,Z),Object.keys(Z).forEach(oe=>{Ue(this,!0,oe),this.controls[oe].setValue(Z[oe],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(Z,U={}){null!=Z&&(Object.keys(Z).forEach(oe=>{const Me=this.controls[oe];Me&&Me.patchValue(Z[oe],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(Z={},U={}){this._forEachChild((oe,Me)=>{oe.reset(Z?Z[Me]:null,{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(Z,U,oe)=>(Z[oe]=U.getRawValue(),Z))}_syncPendingControls(){let Z=this._reduceChildren(!1,(U,oe)=>!!oe._syncPendingControls()||U);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){Object.keys(this.controls).forEach(U=>{const oe=this.controls[U];oe&&Z(oe,U)})}_setUpControls(){this._forEachChild(Z=>{Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Z){for(const[U,oe]of Object.entries(this.controls))if(this.contains(U)&&Z(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,oe,Me)=>((oe.enabled||this.disabled)&&(U[Me]=oe.value),U))}_reduceChildren(Z,U){let oe=Z;return this._forEachChild((Me,an)=>{oe=U(oe,Me,an)}),oe}_allControlsDisabled(){for(const Z of Object.keys(this.controls))if(this.controls[Z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Z){return this.controls.hasOwnProperty(Z)?this.controls[Z]:null}}class jn extends yn{}const He=new A.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ae}),Ae="always";function Pe(W,Z){return[...Z.path,W]}function Te(W,Z,U=Ae){Zt(W,Z),Z.valueAccessor.writeValue(W.value),(W.disabled||"always"===U)&&Z.valueAccessor.setDisabledState?.(W.disabled),function gn(W,Z){Z.valueAccessor.registerOnChange(U=>{W._pendingValue=U,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&An(W,Z)})}(W,Z),function li(W,Z){const U=(oe,Me)=>{Z.valueAccessor.writeValue(oe),Me&&Z.viewToModelUpdate(oe)};W.registerOnChange(U),Z._registerOnDestroy(()=>{W._unregisterOnChange(U)})}(W,Z),function gr(W,Z){Z.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&An(W,Z),"submit"!==W.updateOn&&W.markAsTouched()})}(W,Z),function et(W,Z){if(Z.valueAccessor.setDisabledState){const U=oe=>{Z.valueAccessor.setDisabledState(oe)};W.registerOnDisabledChange(U),Z._registerOnDestroy(()=>{W._unregisterOnDisabledChange(U)})}}(W,Z)}function Ee(W,Z,U=!0){const oe=()=>{};Z.valueAccessor&&(Z.valueAccessor.registerOnChange(oe),Z.valueAccessor.registerOnTouched(oe)),wt(W,Z),W&&(Z._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function $e(W,Z){W.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(Z)})}function Zt(W,Z){const U=Gn(W);null!==Z.validator?W.setValidators(hr(U,Z.validator)):"function"==typeof U&&W.setValidators([U]);const oe=xr(W);null!==Z.asyncValidator?W.setAsyncValidators(hr(oe,Z.asyncValidator)):"function"==typeof oe&&W.setAsyncValidators([oe]);const Me=()=>W.updateValueAndValidity();$e(Z._rawValidators,Me),$e(Z._rawAsyncValidators,Me)}function wt(W,Z){let U=!1;if(null!==W){if(null!==Z.validator){const Me=Gn(W);if(Array.isArray(Me)&&Me.length>0){const an=Me.filter(Hn=>Hn!==Z.validator);an.length!==Me.length&&(U=!0,W.setValidators(an))}}if(null!==Z.asyncValidator){const Me=xr(W);if(Array.isArray(Me)&&Me.length>0){const an=Me.filter(Hn=>Hn!==Z.asyncValidator);an.length!==Me.length&&(U=!0,W.setAsyncValidators(an))}}}const oe=()=>{};return $e(Z._rawValidators,oe),$e(Z._rawAsyncValidators,oe),U}function An(W,Z){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),Z.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function As(W,Z){Zt(W,Z)}function jr(W,Z){if(!W.hasOwnProperty("model"))return!1;const U=W.model;return!!U.isFirstChange()||!Object.is(Z,U.currentValue)}function ni(W,Z){W._syncPendingControls(),Z.forEach(U=>{const oe=U.control;"submit"===oe.updateOn&&oe._pendingChange&&(U.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}function Kn(W,Z){if(!Z)return null;let U,oe,Me;return Array.isArray(Z),Z.forEach(an=>{an.constructor===dt?U=an:function Ds(W){return Object.getPrototypeOf(W.constructor)===vt}(an)?oe=an:Me=an}),Me||oe||U||null}const _s={provide:Zn,useExisting:(0,A.Gpc)(()=>Ei)},ls=(()=>Promise.resolve())();let Ei=(()=>{class W extends Zn{constructor(U,oe,Me){super(),this.callSetDisabledState=Me,this.submitted=!1,this._directives=new Set,this.ngSubmit=new A.vpe,this.form=new yn({},Vt(U),pn(oe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){ls.then(()=>{const oe=this._findContainer(U.path);U.control=oe.registerControl(U.name,U.control),Te(U.control,U,this.callSetDisabledState),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){ls.then(()=>{const oe=this._findContainer(U.path);oe&&oe.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){ls.then(()=>{const oe=this._findContainer(U.path),Me=new yn({});As(Me,U),oe.registerControl(U.name,Me),Me.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){ls.then(()=>{const oe=this._findContainer(U.path);oe&&oe.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,oe){ls.then(()=>{this.form.get(U.path).setValue(oe)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,ni(this.form,this._directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}static#e=this.\u0275fac=function(oe){return new(oe||W)(A.Y36(ct,10),A.Y36(pt,10),A.Y36(He,8))};static#t=this.\u0275dir=A.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(oe,Me){1&oe&&A.NdJ("submit",function(Hn){return Me.onSubmit(Hn)})("reset",function(){return Me.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[A._Bn([_s]),A.qOj]})}return W})();function Uo(W,Z){const U=W.indexOf(Z);U>-1&&W.splice(U,1)}function Js(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const Oi=class extends Lt{constructor(Z=null,U,oe){super(xe(U),ae(oe,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Z),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ce(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=Js(Z)?Z.value:Z)}setValue(Z,U={}){this.value=this._pendingValue=Z,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(Z,U={}){this.setValue(Z,U)}reset(Z=this.defaultValue,U={}){this._applyFormState(Z),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(Z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Z){this._onChange.push(Z)}_unregisterOnChange(Z){Uo(this._onChange,Z)}registerOnDisabledChange(Z){this._onDisabledChange.push(Z)}_unregisterOnDisabledChange(Z){Uo(this._onDisabledChange,Z)}_forEachChild(Z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Z){Js(Z)?(this.value=this._pendingValue=Z.value,Z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Z}},aa={provide:ln,useExisting:(0,A.Gpc)(()=>xs)},Aa=(()=>Promise.resolve())();let xs=(()=>{class W extends ln{constructor(U,oe,Me,an,Hn,ss){super(),this._changeDetectorRef=Hn,this.callSetDisabledState=ss,this.control=new Oi,this._registered=!1,this.name="",this.update=new A.vpe,this._parent=U,this._setValidators(oe),this._setAsyncValidators(Me),this.valueAccessor=Kn(0,an)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const oe=U.name.previousValue;this.formDirective.removeControl({name:oe,path:this._getPath(oe)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),jr(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Te(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){Aa.then(()=>{this.control.setValue(U,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(U){const oe=U.isDisabled.currentValue,Me=0!==oe&&(0,A.VuI)(oe);Aa.then(()=>{Me&&!this.control.disabled?this.control.disable():!Me&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(U){return this._parent?Pe(U,this._parent):[U]}static#e=this.\u0275fac=function(oe){return new(oe||W)(A.Y36(Zn,9),A.Y36(ct,10),A.Y36(pt,10),A.Y36(je,10),A.Y36(A.sBO,8),A.Y36(He,8))};static#t=this.\u0275dir=A.lG2({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[A._Bn([aa]),A.qOj,A.TTD]})}return W})(),Da=(()=>{class W{static#e=this.\u0275fac=function(oe){return new(oe||W)};static#t=this.\u0275dir=A.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return W})(),Do=(()=>{class W{static#e=this.\u0275fac=function(oe){return new(oe||W)};static#t=this.\u0275mod=A.oAB({type:W});static#n=this.\u0275inj=A.cJS({})}return W})();const rs=new A.OlP("NgModelWithFormControlWarning"),to={provide:Zn,useExisting:(0,A.Gpc)(()=>qn)};let qn=(()=>{class W extends Zn{constructor(U,oe,Me){super(),this.callSetDisabledState=Me,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new A.vpe,this._setValidators(U),this._setAsyncValidators(oe)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const oe=this.form.get(U.path);return Te(oe,U,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),oe}getControl(U){return this.form.get(U.path)}removeControl(U){Ee(U.control||null,U,!1),function ms(W,Z){const U=W.indexOf(Z);U>-1&&W.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,oe){this.form.get(U.path).setValue(oe)}onSubmit(U){return this.submitted=!0,ni(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const oe=U.control,Me=this.form.get(U.path);oe!==Me&&(Ee(oe||null,U),(W=>W instanceof Oi)(Me)&&(Te(Me,U,this.callSetDisabledState),U.control=Me))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const oe=this.form.get(U.path);As(oe,U),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const oe=this.form.get(U.path);oe&&function Pi(W,Z){return wt(W,Z)}(oe,U)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zt(this.form,this),this._oldForm&&wt(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(oe){return new(oe||W)(A.Y36(ct,10),A.Y36(pt,10),A.Y36(He,8))};static#t=this.\u0275dir=A.lG2({type:W,selectors:[["","formGroup",""]],hostBindings:function(oe,Me){1&oe&&A.NdJ("submit",function(Hn){return Me.onSubmit(Hn)})("reset",function(){return Me.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[A._Bn([to]),A.qOj,A.TTD]})}return W})();const go={provide:ln,useExisting:(0,A.Gpc)(()=>Fs)};let Fs=(()=>{class W extends ln{set isDisabled(U){}static#e=this._ngModelWarningSentOnce=!1;constructor(U,oe,Me,an,Hn){super(),this._ngModelWarningConfig=Hn,this._added=!1,this.name=null,this.update=new A.vpe,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(oe),this._setAsyncValidators(Me),this.valueAccessor=Kn(0,an)}ngOnChanges(U){this._added||this._setUpControl(),jr(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return Pe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(oe){return new(oe||W)(A.Y36(Zn,13),A.Y36(ct,10),A.Y36(pt,10),A.Y36(je,10),A.Y36(rs,8))};static#n=this.\u0275dir=A.lG2({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[A._Bn([go]),A.qOj,A.TTD]})}return W})();const So={provide:je,useExisting:(0,A.Gpc)(()=>Kt),multi:!0};function Vs(W,Z){return null==W?`${Z}`:(Z&&"object"==typeof Z&&(Z="Object"),`${W}: ${Z}`.slice(0,50))}let Kt=(()=>{class W extends vt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const Me=Vs(this._getOptionId(U),U);this.setProperty("value",Me)}registerOnChange(U){this.onChange=oe=>{this.value=this._getOptionValue(oe),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe),U))return oe;return null}_getOptionValue(U){const oe=function ci(W){return W.split(":")[0]}(U);return this._optionMap.has(oe)?this._optionMap.get(oe):U}static#e=this.\u0275fac=function(){let U;return function(Me){return(U||(U=A.n5z(W)))(Me||W)}}();static#t=this.\u0275dir=A.lG2({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(oe,Me){1&oe&&A.NdJ("change",function(Hn){return Me.onChange(Hn.target.value)})("blur",function(){return Me.onTouched()})},inputs:{compareWith:"compareWith"},features:[A._Bn([So]),A.qOj]})}return W})(),xn=(()=>{class W{constructor(U,oe,Me){this._element=U,this._renderer=oe,this._select=Me,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(Vs(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||W)(A.Y36(A.SBq),A.Y36(A.Qsj),A.Y36(Kt,9))};static#t=this.\u0275dir=A.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return W})();const q={provide:je,useExisting:(0,A.Gpc)(()=>Ne),multi:!0};function Y(W,Z){return null==W?`${Z}`:("string"==typeof Z&&(Z=`'${Z}'`),Z&&"object"==typeof Z&&(Z="Object"),`${W}: ${Z}`.slice(0,50))}let Ne=(()=>{class W extends vt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let oe;if(this.value=U,Array.isArray(U)){const Me=U.map(an=>this._getOptionId(an));oe=(an,Hn)=>{an._setSelected(Me.indexOf(Hn.toString())>-1)}}else oe=(Me,an)=>{Me._setSelected(!1)};this._optionMap.forEach(oe)}registerOnChange(U){this.onChange=oe=>{const Me=[],an=oe.selectedOptions;if(void 0!==an){const Hn=an;for(let ss=0;ss<Hn.length;ss++){const vs=this._getOptionValue(Hn[ss].value);Me.push(vs)}}else{const Hn=oe.options;for(let ss=0;ss<Hn.length;ss++){const da=Hn[ss];if(da.selected){const vs=this._getOptionValue(da.value);Me.push(vs)}}}this.value=Me,U(Me)}}_registerOption(U){const oe=(this._idCounter++).toString();return this._optionMap.set(oe,U),oe}_getOptionId(U){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe)._value,U))return oe;return null}_getOptionValue(U){const oe=function be(W){return W.split(":")[0]}(U);return this._optionMap.has(oe)?this._optionMap.get(oe)._value:U}static#e=this.\u0275fac=function(){let U;return function(Me){return(U||(U=A.n5z(W)))(Me||W)}}();static#t=this.\u0275dir=A.lG2({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(oe,Me){1&oe&&A.NdJ("change",function(Hn){return Me.onChange(Hn.target)})("blur",function(){return Me.onTouched()})},inputs:{compareWith:"compareWith"},features:[A._Bn([q]),A.qOj]})}return W})(),Xe=(()=>{class W{constructor(U,oe,Me){this._element=U,this._renderer=oe,this._select=Me,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(Y(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(Y(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||W)(A.Y36(A.SBq),A.Y36(A.Qsj),A.Y36(Ne,9))};static#t=this.\u0275dir=A.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return W})(),It=(()=>{class W{constructor(){this._validator=We}ngOnChanges(U){if(this.inputName in U){const oe=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(oe),this._validator=this._enabled?this.createValidator(oe):We,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}static#e=this.\u0275fac=function(oe){return new(oe||W)};static#t=this.\u0275dir=A.lG2({type:W,features:[A.TTD]})}return W})();const kr={provide:ct,useExisting:(0,A.Gpc)(()=>Kr),multi:!0};let Kr=(()=>{class W extends It{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=A.VuI,this.createValidator=U=>St}enabled(U){return U}static#e=this.\u0275fac=function(){let U;return function(Me){return(U||(U=A.n5z(W)))(Me||W)}}();static#t=this.\u0275dir=A.lG2({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(oe,Me){2&oe&&A.uIk("required",Me._enabled?"":null)},inputs:{required:"required"},features:[A._Bn([kr]),A.qOj]})}return W})(),ys=(()=>{class W{static#e=this.\u0275fac=function(oe){return new(oe||W)};static#t=this.\u0275mod=A.oAB({type:W});static#n=this.\u0275inj=A.cJS({imports:[Do]})}return W})();class tl extends Lt{constructor(Z,U,oe){super(xe(U),ae(oe,U)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Z){return this.controls[this._adjustIndex(Z)]}push(Z,U={}){this.controls.push(Z),this._registerControl(Z),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert(Z,U,oe={}){this.controls.splice(Z,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(Z,U={}){let oe=this._adjustIndex(Z);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl(Z,U,oe={}){let Me=this._adjustIndex(Z);Me<0&&(Me=0),this.controls[Me]&&this.controls[Me]._registerOnCollectionChange(()=>{}),this.controls.splice(Me,1),U&&(this.controls.splice(Me,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Z,U={}){mt(this,0,Z),Z.forEach((oe,Me)=>{Ue(this,!1,Me),this.at(Me).setValue(oe,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(Z,U={}){null!=Z&&(Z.forEach((oe,Me)=>{this.at(Me)&&this.at(Me).patchValue(oe,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(Z=[],U={}){this._forEachChild((oe,Me)=>{oe.reset(Z[Me],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map(Z=>Z.getRawValue())}clear(Z={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Z.emitEvent}))}_adjustIndex(Z){return Z<0?Z+this.length:Z}_syncPendingControls(){let Z=this.controls.reduce((U,oe)=>!!oe._syncPendingControls()||U,!1);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){this.controls.forEach((U,oe)=>{Z(U,oe)})}_updateValue(){this.value=this.controls.filter(Z=>Z.enabled||this.disabled).map(Z=>Z.value)}_anyControls(Z){return this.controls.some(U=>U.enabled&&Z(U))}_setUpControls(){this._forEachChild(Z=>this._registerControl(Z))}_allControlsDisabled(){for(const Z of this.controls)if(Z.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Z){Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)}_find(Z){return this.at(Z)??null}}function Hr(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let Di=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const U=new W;return U.useNonNullable=!0,U}group(U,oe=null){const Me=this._reduceControls(U);let an={};return Hr(oe)?an=oe:null!==oe&&(an.validators=oe.validator,an.asyncValidators=oe.asyncValidator),new yn(Me,an)}record(U,oe=null){const Me=this._reduceControls(U);return new jn(Me,oe)}control(U,oe,Me){let an={};return this.useNonNullable?(Hr(oe)?an=oe:(an.validators=oe,an.asyncValidators=Me),new Oi(U,{...an,nonNullable:!0})):new Oi(U,oe,Me)}array(U,oe,Me){const an=U.map(Hn=>this._createControl(Hn));return new tl(an,oe,Me)}_reduceControls(U){const oe={};return Object.keys(U).forEach(Me=>{oe[Me]=this._createControl(U[Me])}),oe}_createControl(U){return U instanceof Oi||U instanceof Lt?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}static#e=this.\u0275fac=function(oe){return new(oe||W)};static#t=this.\u0275prov=A.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),is=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:He,useValue:U.callSetDisabledState??Ae}]}}static#e=this.\u0275fac=function(oe){return new(oe||W)};static#t=this.\u0275mod=A.oAB({type:W});static#n=this.\u0275inj=A.cJS({imports:[ys]})}return W})(),il=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:rs,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:He,useValue:U.callSetDisabledState??Ae}]}}static#e=this.\u0275fac=function(oe){return new(oe||W)};static#t=this.\u0275mod=A.oAB({type:W});static#n=this.\u0275inj=A.cJS({imports:[ys]})}return W})()},6593:(vn,ft,X)=>{X.d(ft,{Dx:()=>ln,b2:()=>wr,q6:()=>hr});var A=X(4946),T=X(6814);class se extends T.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class z extends se{static makeCurrent(){(0,T.HT)(new z)}onAndCancel(ae,le,ce){return ae.addEventListener(le,ce),()=>{ae.removeEventListener(le,ce)}}dispatchEvent(ae,le){ae.dispatchEvent(le)}remove(ae){ae.parentNode&&ae.parentNode.removeChild(ae)}createElement(ae,le){return(le=le||this.getDefaultDocument()).createElement(ae)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ae){return ae.nodeType===Node.ELEMENT_NODE}isShadowRoot(ae){return ae instanceof DocumentFragment}getGlobalEventTarget(ae,le){return"window"===le?window:"document"===le?ae:"body"===le?ae.body:null}getBaseHref(ae){const le=function he(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==le?null:function Dt(re){Ke=Ke||document.createElement("a"),Ke.setAttribute("href",re);const ae=Ke.pathname;return"/"===ae.charAt(0)?ae:`/${ae}`}(le)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(ae){return(0,T.Mx)(document.cookie,ae)}}let Ke,fe=null,ge=(()=>{class re{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(ce){return new(ce||re)};static#t=this.\u0275prov=A.Yz7({token:re,factory:re.\u0275fac})}return re})();const _e=new A.OlP("EventManagerPlugins");let qe=(()=>{class re{constructor(le,ce){this._zone=ce,this._eventNameToPlugin=new Map,le.forEach(Ue=>{Ue.manager=this}),this._plugins=le.slice().reverse()}addEventListener(le,ce,Ue){return this._findPluginFor(ce).addEventListener(le,ce,Ue)}getZone(){return this._zone}_findPluginFor(le){let ce=this._eventNameToPlugin.get(le);if(ce)return ce;if(ce=this._plugins.find(mt=>mt.supports(le)),!ce)throw new A.vHH(5101,!1);return this._eventNameToPlugin.set(le,ce),ce}static#e=this.\u0275fac=function(ce){return new(ce||re)(A.LFG(_e),A.LFG(A.R0b))};static#t=this.\u0275prov=A.Yz7({token:re,factory:re.\u0275fac})}return re})();class Ce{constructor(ae){this._doc=ae}}const vt="ng-app-id";let je=(()=>{class re{constructor(le,ce,Ue,mt={}){this.doc=le,this.appId=ce,this.nonce=Ue,this.platformId=mt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,T.PM)(mt),this.resetHostNodes()}addStyles(le){for(const ce of le)1===this.changeUsageCount(ce,1)&&this.onStyleAdded(ce)}removeStyles(le){for(const ce of le)this.changeUsageCount(ce,-1)<=0&&this.onStyleRemoved(ce)}ngOnDestroy(){const le=this.styleNodesInDOM;le&&(le.forEach(ce=>ce.remove()),le.clear());for(const ce of this.getAllStyles())this.onStyleRemoved(ce);this.resetHostNodes()}addHost(le){this.hostNodes.add(le);for(const ce of this.getAllStyles())this.addStyleToHost(le,ce)}removeHost(le){this.hostNodes.delete(le)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(le){for(const ce of this.hostNodes)this.addStyleToHost(ce,le)}onStyleRemoved(le){const ce=this.styleRef;ce.get(le)?.elements?.forEach(Ue=>Ue.remove()),ce.delete(le)}collectServerRenderedStyles(){const le=this.doc.head?.querySelectorAll(`style[${vt}="${this.appId}"]`);if(le?.length){const ce=new Map;return le.forEach(Ue=>{null!=Ue.textContent&&ce.set(Ue.textContent,Ue)}),ce}return null}changeUsageCount(le,ce){const Ue=this.styleRef;if(Ue.has(le)){const mt=Ue.get(le);return mt.usage+=ce,mt.usage}return Ue.set(le,{usage:ce,elements:[]}),ce}getStyleElement(le,ce){const Ue=this.styleNodesInDOM,mt=Ue?.get(ce);if(mt?.parentNode===le)return Ue.delete(ce),mt.removeAttribute(vt),mt;{const Lt=this.doc.createElement("style");return this.nonce&&Lt.setAttribute("nonce",this.nonce),Lt.textContent=ce,this.platformIsServer&&Lt.setAttribute(vt,this.appId),Lt}}addStyleToHost(le,ce){const Ue=this.getStyleElement(le,ce);le.appendChild(Ue);const mt=this.styleRef,Lt=mt.get(ce)?.elements;Lt?Lt.push(Ue):mt.set(ce,{elements:[Ue],usage:1})}resetHostNodes(){const le=this.hostNodes;le.clear(),le.add(this.doc.head)}static#e=this.\u0275fac=function(ce){return new(ce||re)(A.LFG(T.K0),A.LFG(A.AFp),A.LFG(A.Ojb,8),A.LFG(A.Lbi))};static#t=this.\u0275prov=A.Yz7({token:re,factory:re.\u0275fac})}return re})();const $t={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Nt=/%COMP%/g,Ye=new A.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function pt(re,ae){return ae.map(le=>le.replace(Nt,re))}let gt=(()=>{class re{constructor(le,ce,Ue,mt,Lt,yn,Sn,Wn=null){this.eventManager=le,this.sharedStylesHost=ce,this.appId=Ue,this.removeStylesOnCompDestroy=mt,this.doc=Lt,this.platformId=yn,this.ngZone=Sn,this.nonce=Wn,this.rendererByCompId=new Map,this.platformIsServer=(0,T.PM)(yn),this.defaultRenderer=new Tt(le,Lt,Sn,this.platformIsServer)}createRenderer(le,ce){if(!le||!ce)return this.defaultRenderer;this.platformIsServer&&ce.encapsulation===A.ifc.ShadowDom&&(ce={...ce,encapsulation:A.ifc.Emulated});const Ue=this.getOrCreateRenderer(le,ce);return Ue instanceof cn?Ue.applyToHost(le):Ue instanceof xt&&Ue.applyStyles(),Ue}getOrCreateRenderer(le,ce){const Ue=this.rendererByCompId;let mt=Ue.get(ce.id);if(!mt){const Lt=this.doc,yn=this.ngZone,Sn=this.eventManager,Wn=this.sharedStylesHost,jn=this.removeStylesOnCompDestroy,cr=this.platformIsServer;switch(ce.encapsulation){case A.ifc.Emulated:mt=new cn(Sn,Wn,ce,this.appId,jn,Lt,yn,cr);break;case A.ifc.ShadowDom:return new Cn(Sn,Wn,le,ce,Lt,yn,this.nonce,cr);default:mt=new xt(Sn,Wn,ce,jn,Lt,yn,cr)}Ue.set(ce.id,mt)}return mt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(ce){return new(ce||re)(A.LFG(qe),A.LFG(je),A.LFG(A.AFp),A.LFG(Ye),A.LFG(T.K0),A.LFG(A.Lbi),A.LFG(A.R0b),A.LFG(A.Ojb))};static#t=this.\u0275prov=A.Yz7({token:re,factory:re.\u0275fac})}return re})();class Tt{constructor(ae,le,ce,Ue){this.eventManager=ae,this.doc=le,this.ngZone=ce,this.platformIsServer=Ue,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ae,le){return le?this.doc.createElementNS($t[le]||le,ae):this.doc.createElement(ae)}createComment(ae){return this.doc.createComment(ae)}createText(ae){return this.doc.createTextNode(ae)}appendChild(ae,le){(St(ae)?ae.content:ae).appendChild(le)}insertBefore(ae,le,ce){ae&&(St(ae)?ae.content:ae).insertBefore(le,ce)}removeChild(ae,le){ae&&ae.removeChild(le)}selectRootElement(ae,le){let ce="string"==typeof ae?this.doc.querySelector(ae):ae;if(!ce)throw new A.vHH(-5104,!1);return le||(ce.textContent=""),ce}parentNode(ae){return ae.parentNode}nextSibling(ae){return ae.nextSibling}setAttribute(ae,le,ce,Ue){if(Ue){le=Ue+":"+le;const mt=$t[Ue];mt?ae.setAttributeNS(mt,le,ce):ae.setAttribute(le,ce)}else ae.setAttribute(le,ce)}removeAttribute(ae,le,ce){if(ce){const Ue=$t[ce];Ue?ae.removeAttributeNS(Ue,le):ae.removeAttribute(`${ce}:${le}`)}else ae.removeAttribute(le)}addClass(ae,le){ae.classList.add(le)}removeClass(ae,le){ae.classList.remove(le)}setStyle(ae,le,ce,Ue){Ue&(A.JOm.DashCase|A.JOm.Important)?ae.style.setProperty(le,ce,Ue&A.JOm.Important?"important":""):ae.style[le]=ce}removeStyle(ae,le,ce){ce&A.JOm.DashCase?ae.style.removeProperty(le):ae.style[le]=""}setProperty(ae,le,ce){ae[le]=ce}setValue(ae,le){ae.nodeValue=le}listen(ae,le,ce){if("string"==typeof ae&&!(ae=(0,T.q)().getGlobalEventTarget(this.doc,ae)))throw new Error(`Unsupported event target ${ae} for event ${le}`);return this.eventManager.addEventListener(ae,le,this.decoratePreventDefault(ce))}decoratePreventDefault(ae){return le=>{if("__ngUnwrap__"===le)return ae;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ae(le)):ae(le))&&le.preventDefault()}}}function St(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class Cn extends Tt{constructor(ae,le,ce,Ue,mt,Lt,yn,Sn){super(ae,mt,Lt,Sn),this.sharedStylesHost=le,this.hostEl=ce,this.shadowRoot=ce.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Wn=pt(Ue.id,Ue.styles);for(const jn of Wn){const cr=document.createElement("style");yn&&cr.setAttribute("nonce",yn),cr.textContent=jn,this.shadowRoot.appendChild(cr)}}nodeOrShadowRoot(ae){return ae===this.hostEl?this.shadowRoot:ae}appendChild(ae,le){return super.appendChild(this.nodeOrShadowRoot(ae),le)}insertBefore(ae,le,ce){return super.insertBefore(this.nodeOrShadowRoot(ae),le,ce)}removeChild(ae,le){return super.removeChild(this.nodeOrShadowRoot(ae),le)}parentNode(ae){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ae)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class xt extends Tt{constructor(ae,le,ce,Ue,mt,Lt,yn,Sn){super(ae,mt,Lt,yn),this.sharedStylesHost=le,this.removeStylesOnCompDestroy=Ue,this.styles=Sn?pt(Sn,ce.styles):ce.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class cn extends xt{constructor(ae,le,ce,Ue,mt,Lt,yn,Sn){const Wn=Ue+"-"+ce.id;super(ae,le,ce,mt,Lt,yn,Sn,Wn),this.contentAttr=function at(re){return"_ngcontent-%COMP%".replace(Nt,re)}(Wn),this.hostAttr=function ct(re){return"_nghost-%COMP%".replace(Nt,re)}(Wn)}applyToHost(ae){this.applyStyles(),this.setAttribute(ae,this.hostAttr,"")}createElement(ae,le){const ce=super.createElement(ae,le);return super.setAttribute(ce,this.contentAttr,""),ce}}let Gt=(()=>{class re extends Ce{constructor(le){super(le)}supports(le){return!0}addEventListener(le,ce,Ue){return le.addEventListener(ce,Ue,!1),()=>this.removeEventListener(le,ce,Ue)}removeEventListener(le,ce,Ue){return le.removeEventListener(ce,Ue)}static#e=this.\u0275fac=function(ce){return new(ce||re)(A.LFG(T.K0))};static#t=this.\u0275prov=A.Yz7({token:re,factory:re.\u0275fac})}return re})();const ut=["alt","control","meta","shift"],We={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},De={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let Be=(()=>{class re extends Ce{constructor(le){super(le)}supports(le){return null!=re.parseEventName(le)}addEventListener(le,ce,Ue){const mt=re.parseEventName(ce),Lt=re.eventCallback(mt.fullKey,Ue,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,T.q)().onAndCancel(le,mt.domEventName,Lt))}static parseEventName(le){const ce=le.toLowerCase().split("."),Ue=ce.shift();if(0===ce.length||"keydown"!==Ue&&"keyup"!==Ue)return null;const mt=re._normalizeKey(ce.pop());let Lt="",yn=ce.indexOf("code");if(yn>-1&&(ce.splice(yn,1),Lt="code."),ut.forEach(Wn=>{const jn=ce.indexOf(Wn);jn>-1&&(ce.splice(jn,1),Lt+=Wn+".")}),Lt+=mt,0!=ce.length||0===mt.length)return null;const Sn={};return Sn.domEventName=Ue,Sn.fullKey=Lt,Sn}static matchEventFullKeyCode(le,ce){let Ue=We[le.key]||le.key,mt="";return ce.indexOf("code.")>-1&&(Ue=le.code,mt="code."),!(null==Ue||!Ue)&&(Ue=Ue.toLowerCase()," "===Ue?Ue="space":"."===Ue&&(Ue="dot"),ut.forEach(Lt=>{Lt!==Ue&&(0,De[Lt])(le)&&(mt+=Lt+".")}),mt+=Ue,mt===ce)}static eventCallback(le,ce,Ue){return mt=>{re.matchEventFullKeyCode(mt,le)&&Ue.runGuarded(()=>ce(mt))}}static _normalizeKey(le){return"esc"===le?"escape":le}static#e=this.\u0275fac=function(ce){return new(ce||re)(A.LFG(T.K0))};static#t=this.\u0275prov=A.Yz7({token:re,factory:re.\u0275fac})}return re})();const hr=(0,A.eFA)(A._c5,"browser",[{provide:A.Lbi,useValue:T.bD},{provide:A.g9A,useValue:function yt(){z.makeCurrent()},multi:!0},{provide:T.K0,useFactory:function kt(){return(0,A.RDi)(document),document},deps:[]}]),Gn=new A.OlP(""),xr=[{provide:A.rWj,useClass:class Ze{addToWindow(ae){A.dqk.getAngularTestability=(ce,Ue=!0)=>{const mt=ae.findTestabilityInTree(ce,Ue);if(null==mt)throw new A.vHH(5103,!1);return mt},A.dqk.getAllAngularTestabilities=()=>ae.getAllTestabilities(),A.dqk.getAllAngularRootElements=()=>ae.getAllRootElements(),A.dqk.frameworkStabilizers||(A.dqk.frameworkStabilizers=[]),A.dqk.frameworkStabilizers.push(ce=>{const Ue=A.dqk.getAllAngularTestabilities();let mt=Ue.length,Lt=!1;const yn=function(Sn){Lt=Lt||Sn,mt--,0==mt&&ce(Lt)};Ue.forEach(Sn=>{Sn.whenStable(yn)})})}findTestabilityInTree(ae,le,ce){return null==le?null:ae.getTestability(le)??(ce?(0,T.q)().isShadowRoot(le)?this.findTestabilityInTree(ae,le.host,!0):this.findTestabilityInTree(ae,le.parentElement,!0):null)}},deps:[]},{provide:A.lri,useClass:A.dDg,deps:[A.R0b,A.eoX,A.rWj]},{provide:A.dDg,useClass:A.dDg,deps:[A.R0b,A.eoX,A.rWj]}],Fr=[{provide:A.zSh,useValue:"root"},{provide:A.qLn,useFactory:function Vt(){return new A.qLn},deps:[]},{provide:_e,useClass:Gt,multi:!0,deps:[T.K0,A.R0b,A.Lbi]},{provide:_e,useClass:Be,multi:!0,deps:[T.K0]},gt,je,qe,{provide:A.FYo,useExisting:gt},{provide:T.JF,useClass:ge,deps:[]},[]];let wr=(()=>{class re{constructor(le){}static withServerTransition(le){return{ngModule:re,providers:[{provide:A.AFp,useValue:le.appId}]}}static#e=this.\u0275fac=function(ce){return new(ce||re)(A.LFG(Gn,12))};static#t=this.\u0275mod=A.oAB({type:re});static#n=this.\u0275inj=A.cJS({providers:[...Fr,...xr],imports:[T.ez,A.hGG]})}return re})(),ln=(()=>{class re{constructor(le){this._doc=le}getTitle(){return this._doc.title}setTitle(le){this._doc.title=le||""}static#e=this.\u0275fac=function(ce){return new(ce||re)(A.LFG(T.K0))};static#t=this.\u0275prov=A.Yz7({token:re,factory:function(ce){let Ue=null;return Ue=ce?new ce:function Zn(){return new ln((0,A.LFG)(T.K0))}(),Ue},providedIn:"root"})}return re})();typeof window<"u"&&window},8589:(vn,ft,X)=>{X.d(ft,{gz:()=>go,m2:()=>Ss,F0:()=>mr,rH:()=>Hs,Od:()=>Du,Bz:()=>xi,lC:()=>be});var A=X(4946),T=X(5592),se=X(4674),fe=X(2459),he=X(2096),Ke=X(5619),Dt=X(7453),Ze=X(2737),ge=X(7400),_e=X(4564),qe=X(2714),Ce=X(8251),vt=X(7103);function je(...S){const k=(0,_e.yG)(S),D=(0,_e.jO)(S),{args:F,keys:H}=(0,Dt.D)(S);if(0===F.length)return(0,fe.D)([],k);const ie=new T.y(function $t(S,k,D=Ze.y){return F=>{Nt(k,()=>{const{length:H}=S,ie=new Array(H);let ve=H,rt=H;for(let nt=0;nt<H;nt++)Nt(k,()=>{const sn=(0,fe.D)(S[nt],k);let tr=!1;sn.subscribe((0,Ce.x)(F,si=>{ie[nt]=si,tr||(tr=!0,rt--),rt||F.next(D(ie.slice()))},()=>{--ve||F.complete()}))},F)},F)}}(F,k,H?ve=>(0,qe.n)(H,ve):Ze.y));return D?ie.pipe((0,ge.Z)(D)):ie}function Nt(S,k,D){S?(0,vt.f)(D,S,k):k()}const Dn=(0,X(2306).d)(S=>function(){S(this),this.name="EmptyError",this.message="no elements in sequence"});var fn=X(7537);function Ye(...S){return function dt(){return(0,fn.J)(1)}()((0,fe.D)(S,(0,_e.yG)(S)))}var at=X(4829);function ct(S){return new T.y(k=>{(0,at.Xf)(S()).subscribe(k)})}var pt=X(8407);function gt(S,k){const D=(0,se.m)(S)?S:()=>S,F=H=>H.error(D());return new T.y(k?H=>k.schedule(F,0,H):F)}var Tt=X(6232),Tn=X(7394),zn=X(9360);function St(){return(0,zn.e)((S,k)=>{let D=null;S._refCount++;const F=(0,Ce.x)(k,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(D=null);const H=S._connection,ie=D;D=null,H&&(!ie||H===ie)&&H.unsubscribe(),k.unsubscribe()});S.subscribe(F),F.closed||(D=S.connect())})}class Cn extends T.y{constructor(k,D){super(),this.source=k,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,zn.A)(k)&&(this.lift=k.lift)}_subscribe(k){return this.getSubject().subscribe(k)}getSubject(){const k=this._subject;return(!k||k.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:k}=this;this._subject=this._connection=null,k?.unsubscribe()}connect(){let k=this._connection;if(!k){k=this._connection=new Tn.w0;const D=this.getSubject();k.add(this.source.subscribe((0,Ce.x)(D,void 0,()=>{this._teardown(),D.complete()},F=>{this._teardown(),D.error(F)},()=>this._teardown()))),k.closed&&(this._connection=null,k=Tn.w0.EMPTY)}return k}refCount(){return St()(this)}}var xt=X(8645),cn=X(6814),Gt=X(7398),ut=X(4664);function We(S){return S<=0?()=>Tt.E:(0,zn.e)((k,D)=>{let F=0;k.subscribe((0,Ce.x)(D,H=>{++F<=S&&(D.next(H),S<=F&&D.complete())}))})}var Be=X(2181),Le=X(1631);function ze(S){return(0,zn.e)((k,D)=>{let F=!1;k.subscribe((0,Ce.x)(D,H=>{F=!0,D.next(H)},()=>{F||D.next(S),D.complete()}))})}function Ge(S=ot){return(0,zn.e)((k,D)=>{let F=!1;k.subscribe((0,Ce.x)(D,H=>{F=!0,D.next(H)},()=>F?D.complete():D.error(S())))})}function ot(){return new Dn}function yt(S,k){const D=arguments.length>=2;return F=>F.pipe(S?(0,Be.h)((H,ie)=>S(H,ie,F)):Ze.y,We(1),D?ze(k):Ge(()=>new Dn))}var Vt=X(6328),kt=X(9397);function pn(S){return(0,zn.e)((k,D)=>{let ie,F=null,H=!1;F=k.subscribe((0,Ce.x)(D,void 0,void 0,ve=>{ie=(0,at.Xf)(S(ve,pn(S)(k))),F?(F.unsubscribe(),F=null,ie.subscribe(D)):H=!0})),H&&(F.unsubscribe(),F=null,ie.subscribe(D))})}function xr(S){return S<=0?()=>Tt.E:(0,zn.e)((k,D)=>{let F=[];k.subscribe((0,Ce.x)(D,H=>{F.push(H),S<F.length&&F.shift()},()=>{for(const H of F)D.next(H);D.complete()},void 0,()=>{F=null}))})}var Mn=X(4716),Pn=X(2420),Zn=X(6593);const ln="primary",In=Symbol("RouteTitle");class sr{constructor(k){this.params=k||{}}has(k){return Object.prototype.hasOwnProperty.call(this.params,k)}get(k){if(this.has(k)){const D=this.params[k];return Array.isArray(D)?D[0]:D}return null}getAll(k){if(this.has(k)){const D=this.params[k];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function fr(S){return new sr(S)}function nn(S,k,D){const F=D.path.split("/");if(F.length>S.length||"full"===D.pathMatch&&(k.hasChildren()||F.length<S.length))return null;const H={};for(let ie=0;ie<F.length;ie++){const ve=F[ie],rt=S[ie];if(ve.startsWith(":"))H[ve.substring(1)]=rt;else if(ve!==rt.path)return null}return{consumed:S.slice(0,F.length),posParams:H}}function Rr(S,k){const D=S?Object.keys(S):void 0,F=k?Object.keys(k):void 0;if(!D||!F||D.length!=F.length)return!1;let H;for(let ie=0;ie<D.length;ie++)if(H=D[ie],!ai(S[H],k[H]))return!1;return!0}function ai(S,k){if(Array.isArray(S)&&Array.isArray(k)){if(S.length!==k.length)return!1;const D=[...S].sort(),F=[...k].sort();return D.every((H,ie)=>F[ie]===H)}return S===k}function pi(S){return S.length>0?S[S.length-1]:null}function Mr(S){return function z(S){return!!S&&(S instanceof T.y||(0,se.m)(S.lift)&&(0,se.m)(S.subscribe))}(S)?S:(0,A.QGY)(S)?(0,fe.D)(Promise.resolve(S)):(0,he.of)(S)}const pr={exact:function Yt(S,k,D){if(!Ut(S.segments,k.segments)||!Xr(S.segments,k.segments,D)||S.numberOfChildren!==k.numberOfChildren)return!1;for(const F in k.children)if(!S.children[F]||!Yt(S.children[F],k.children[F],D))return!1;return!0},subset:Wi},wi={exact:function ts(S,k){return Rr(S,k)},subset:function gs(S,k){return Object.keys(k).length<=Object.keys(S).length&&Object.keys(k).every(D=>ai(S[D],k[D]))},ignored:()=>!0};function Pr(S,k,D){return pr[D.paths](S.root,k.root,D.matrixParams)&&wi[D.queryParams](S.queryParams,k.queryParams)&&!("exact"===D.fragment&&S.fragment!==k.fragment)}function Wi(S,k,D){return Cr(S,k,k.segments,D)}function Cr(S,k,D,F){if(S.segments.length>D.length){const H=S.segments.slice(0,D.length);return!(!Ut(H,D)||k.hasChildren()||!Xr(H,D,F))}if(S.segments.length===D.length){if(!Ut(S.segments,D)||!Xr(S.segments,D,F))return!1;for(const H in k.children)if(!S.children[H]||!Wi(S.children[H],k.children[H],F))return!1;return!0}{const H=D.slice(0,S.segments.length),ie=D.slice(S.segments.length);return!!(Ut(S.segments,H)&&Xr(S.segments,H,F)&&S.children[ln])&&Cr(S.children[ln],k,ie,F)}}function Xr(S,k,D){return k.every((F,H)=>wi[D](S[H].parameters,F.parameters))}class ir{constructor(k=new rn([],{}),D={},F=null){this.root=k,this.queryParams=D,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fr(this.queryParams)),this._queryParamMap}toString(){return xe.serialize(this)}}class rn{constructor(k,D){this.segments=k,this.children=D,this.parent=null,Object.values(D).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return re(this)}}class Mi{constructor(k,D){this.path=k,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=fr(this.parameters)),this._parameterMap}toString(){return Sn(this)}}function Ut(S,k){return S.length===k.length&&S.every((D,F)=>D.path===k[F].path)}let ei=(()=>{class S{static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:function(){return new gi},providedIn:"root"})}return S})();class gi{parse(k){const D=new Zt(k);return new ir(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(k){const D=`/${ae(k.root,!0)}`,F=function jn(S){const k=Object.keys(S).map(D=>{const F=S[D];return Array.isArray(F)?F.map(H=>`${ce(D)}=${ce(H)}`).join("&"):`${ce(D)}=${ce(F)}`}).filter(D=>!!D);return k.length?`?${k.join("&")}`:""}(k.queryParams);return`${D}${F}${"string"==typeof k.fragment?`#${function Ue(S){return encodeURI(S)}(k.fragment)}`:""}`}}const xe=new gi;function re(S){return S.segments.map(k=>Sn(k)).join("/")}function ae(S,k){if(!S.hasChildren())return re(S);if(k){const D=S.children[ln]?ae(S.children[ln],!1):"",F=[];return Object.entries(S.children).forEach(([H,ie])=>{H!==ln&&F.push(`${H}:${ae(ie,!1)}`)}),F.length>0?`${D}(${F.join("//")})`:D}{const D=function On(S,k){let D=[];return Object.entries(S.children).forEach(([F,H])=>{F===ln&&(D=D.concat(k(H,F)))}),Object.entries(S.children).forEach(([F,H])=>{F!==ln&&(D=D.concat(k(H,F)))}),D}(S,(F,H)=>H===ln?[ae(S.children[ln],!1)]:[`${H}:${ae(F,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[ln]?`${re(S)}/${D[0]}`:`${re(S)}/(${D.join("//")})`}}function le(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ce(S){return le(S).replace(/%3B/gi,";")}function mt(S){return le(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lt(S){return decodeURIComponent(S)}function yn(S){return Lt(S.replace(/\+/g,"%20"))}function Sn(S){return`${mt(S.path)}${function Wn(S){return Object.keys(S).map(k=>`;${mt(k)}=${mt(S[k])}`).join("")}(S.parameters)}`}const cr=/^[^\/()?;#]+/;function He(S){const k=S.match(cr);return k?k[0]:""}const Ae=/^[^\/()?;=#]+/,Te=/^[^=?&#]+/,$e=/^[^&#]+/;class Zt{constructor(k){this.url=k,this.remaining=k}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const k={};if(this.consumeOptional("?"))do{this.parseQueryParam(k)}while(this.consumeOptional("&"));return k}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const k=[];for(this.peekStartsWith("(")||k.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),k.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(k.length>0||Object.keys(D).length>0)&&(F[ln]=new rn(k,D)),F}parseSegment(){const k=He(this.remaining);if(""===k&&this.peekStartsWith(";"))throw new A.vHH(4009,!1);return this.capture(k),new Mi(Lt(k),this.parseMatrixParams())}parseMatrixParams(){const k={};for(;this.consumeOptional(";");)this.parseParam(k);return k}parseParam(k){const D=function Pe(S){const k=S.match(Ae);return k?k[0]:""}(this.remaining);if(!D)return;this.capture(D);let F="";if(this.consumeOptional("=")){const H=He(this.remaining);H&&(F=H,this.capture(F))}k[Lt(D)]=Lt(F)}parseQueryParam(k){const D=function Ee(S){const k=S.match(Te);return k?k[0]:""}(this.remaining);if(!D)return;this.capture(D);let F="";if(this.consumeOptional("=")){const ve=function et(S){const k=S.match($e);return k?k[0]:""}(this.remaining);ve&&(F=ve,this.capture(F))}const H=yn(D),ie=yn(F);if(k.hasOwnProperty(H)){let ve=k[H];Array.isArray(ve)||(ve=[ve],k[H]=ve),ve.push(ie)}else k[H]=ie}parseParens(k){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=He(this.remaining),H=this.remaining[F.length];if("/"!==H&&")"!==H&&";"!==H)throw new A.vHH(4010,!1);let ie;F.indexOf(":")>-1?(ie=F.slice(0,F.indexOf(":")),this.capture(ie),this.capture(":")):k&&(ie=ln);const ve=this.parseChildren();D[ie]=1===Object.keys(ve).length?ve[ln]:new rn([],ve),this.consumeOptional("//")}return D}peekStartsWith(k){return this.remaining.startsWith(k)}consumeOptional(k){return!!this.peekStartsWith(k)&&(this.remaining=this.remaining.substring(k.length),!0)}capture(k){if(!this.consumeOptional(k))throw new A.vHH(4011,!1)}}function wt(S){return S.segments.length>0?new rn([],{[ln]:S}):S}function gn(S){const k={};for(const F of Object.keys(S.children)){const ie=gn(S.children[F]);if(F===ln&&0===ie.segments.length&&ie.hasChildren())for(const[ve,rt]of Object.entries(ie.children))k[ve]=rt;else(ie.segments.length>0||ie.hasChildren())&&(k[F]=ie)}return function gr(S){if(1===S.numberOfChildren&&S.children[ln]){const k=S.children[ln];return new rn(S.segments.concat(k.segments),k.children)}return S}(new rn(S.segments,k))}function An(S){return S instanceof ir}function As(S){let k;const H=wt(function D(ie){const ve={};for(const nt of ie.children){const sn=D(nt);ve[nt.outlet]=sn}const rt=new rn(ie.url,ve);return ie===S&&(k=rt),rt}(S.root));return k??H}function Pi(S,k,D,F){let H=S;for(;H.parent;)H=H.parent;if(0===k.length)return ui(H,H,H,D,F);const ie=function jr(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Nn(!0,0,S);let k=0,D=!1;const F=S.reduce((H,ie,ve)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const rt={};return Object.entries(ie.outlets).forEach(([nt,sn])=>{rt[nt]="string"==typeof sn?sn.split("/"):sn}),[...H,{outlets:rt}]}if(ie.segmentPath)return[...H,ie.segmentPath]}return"string"!=typeof ie?[...H,ie]:0===ve?(ie.split("/").forEach((rt,nt)=>{0==nt&&"."===rt||(0==nt&&""===rt?D=!0:".."===rt?k++:""!=rt&&H.push(rt))}),H):[...H,ie]},[]);return new Nn(D,k,F)}(k);if(ie.toRoot())return ui(H,H,new rn([],{}),D,F);const ve=function ni(S,k,D){if(S.isAbsolute)return new Ds(k,!0,0);if(!D)return new Ds(k,!1,NaN);if(null===D.parent)return new Ds(D,!0,0);const F=Vn(S.commands[0])?0:1;return function Kn(S,k,D){let F=S,H=k,ie=D;for(;ie>H;){if(ie-=H,F=F.parent,!F)throw new A.vHH(4005,!1);H=F.segments.length}return new Ds(F,!1,H-ie)}(D,D.segments.length-1+F,S.numberOfDoubleDots)}(ie,H,S),rt=ve.processChildren?_s(ve.segmentGroup,ve.index,ie.commands):Qs(ve.segmentGroup,ve.index,ie.commands);return ui(H,ve.segmentGroup,rt,D,F)}function Vn(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function lr(S){return"object"==typeof S&&null!=S&&S.outlets}function ui(S,k,D,F,H){let ve,ie={};F&&Object.entries(F).forEach(([nt,sn])=>{ie[nt]=Array.isArray(sn)?sn.map(tr=>`${tr}`):`${sn}`}),ve=S===k?D:ti(S,k,D);const rt=wt(gn(ve));return new ir(rt,ie,H)}function ti(S,k,D){const F={};return Object.entries(S.children).forEach(([H,ie])=>{F[H]=ie===k?D:ti(ie,k,D)}),new rn(S.segments,F)}class Nn{constructor(k,D,F){if(this.isAbsolute=k,this.numberOfDoubleDots=D,this.commands=F,k&&F.length>0&&Vn(F[0]))throw new A.vHH(4003,!1);const H=F.find(lr);if(H&&H!==pi(F))throw new A.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ds{constructor(k,D,F){this.segmentGroup=k,this.processChildren=D,this.index=F}}function Qs(S,k,D){if(S||(S=new rn([],{})),0===S.segments.length&&S.hasChildren())return _s(S,k,D);const F=function ls(S,k,D){let F=0,H=k;const ie={match:!1,pathIndex:0,commandIndex:0};for(;H<S.segments.length;){if(F>=D.length)return ie;const ve=S.segments[H],rt=D[F];if(lr(rt))break;const nt=`${rt}`,sn=F<D.length-1?D[F+1]:null;if(H>0&&void 0===nt)break;if(nt&&sn&&"object"==typeof sn&&void 0===sn.outlets){if(!Oi(nt,sn,ve))return ie;F+=2}else{if(!Oi(nt,{},ve))return ie;F++}H++}return{match:!0,pathIndex:H,commandIndex:F}}(S,k,D),H=D.slice(F.commandIndex);if(F.match&&F.pathIndex<S.segments.length){const ie=new rn(S.segments.slice(0,F.pathIndex),{});return ie.children[ln]=new rn(S.segments.slice(F.pathIndex),S.children),_s(ie,0,H)}return F.match&&0===H.length?new rn(S.segments,{}):F.match&&!S.hasChildren()?Ei(S,k,D):F.match?_s(S,0,H):Ei(S,k,D)}function _s(S,k,D){if(0===D.length)return new rn(S.segments,{});{const F=function ms(S){return lr(S[0])?S[0].outlets:{[ln]:S}}(D),H={};if(Object.keys(F).some(ie=>ie!==ln)&&S.children[ln]&&1===S.numberOfChildren&&0===S.children[ln].segments.length){const ie=_s(S.children[ln],k,D);return new rn(S.segments,ie.children)}return Object.entries(F).forEach(([ie,ve])=>{"string"==typeof ve&&(ve=[ve]),null!==ve&&(H[ie]=Qs(S.children[ie],k,ve))}),Object.entries(S.children).forEach(([ie,ve])=>{void 0===F[ie]&&(H[ie]=ve)}),new rn(S.segments,H)}}function Ei(S,k,D){const F=S.segments.slice(0,k);let H=0;for(;H<D.length;){const ie=D[H];if(lr(ie)){const nt=Uo(ie.outlets);return new rn(F,nt)}if(0===H&&Vn(D[0])){F.push(new Mi(S.segments[k].path,Js(D[0]))),H++;continue}const ve=lr(ie)?ie.outlets[ln]:`${ie}`,rt=H<D.length-1?D[H+1]:null;ve&&rt&&Vn(rt)?(F.push(new Mi(ve,Js(rt))),H+=2):(F.push(new Mi(ve,{})),H++)}return new rn(F,{})}function Uo(S){const k={};return Object.entries(S).forEach(([D,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(k[D]=Ei(new rn([],{}),0,F))}),k}function Js(S){const k={};return Object.entries(S).forEach(([D,F])=>k[D]=`${F}`),k}function Oi(S,k,D){return S==D.path&&Rr(k,D.parameters)}const ks="imperative";class vi{constructor(k,D){this.id=k,this.url=D}}class Xs extends vi{constructor(k,D,F="imperative",H=null){super(k,D),this.type=0,this.navigationTrigger=F,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ss extends vi{constructor(k,D,F){super(k,D),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ni extends vi{constructor(k,D,F,H){super(k,D),this.reason=F,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ls extends vi{constructor(k,D,F,H){super(k,D),this.reason=F,this.code=H,this.type=16}}class Ui extends vi{constructor(k,D,F,H){super(k,D),this.error=F,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ca extends vi{constructor(k,D,F,H){super(k,D),this.urlAfterRedirects=F,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ho extends vi{constructor(k,D,F,H){super(k,D),this.urlAfterRedirects=F,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aa extends vi{constructor(k,D,F,H,ie){super(k,D),this.urlAfterRedirects=F,this.state=H,this.shouldActivate=ie,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Aa extends vi{constructor(k,D,F,H){super(k,D),this.urlAfterRedirects=F,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xs extends vi{constructor(k,D,F,H){super(k,D),this.urlAfterRedirects=F,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Da{constructor(k){this.route=k,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class us{constructor(k){this.route=k,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class eo{constructor(k){this.snapshot=k,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ns{constructor(k){this.snapshot=k,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class la{constructor(k){this.snapshot=k,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Do{constructor(k){this.snapshot=k,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zr{constructor(k,D,F){this.routerEvent=k,this.position=D,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fo{}class po{constructor(k){this.url=k}}class rs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Bi,this.attachRef=null}}let Bi=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(D,F){const H=this.getOrCreateContext(D);H.outlet=F,this.contexts.set(D,H)}onChildOutletDestroyed(D){const F=this.getContext(D);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let F=this.getContext(D);return F||(F=new rs,this.contexts.set(D,F)),F}getContext(D){return this.contexts.get(D)||null}static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class cs{constructor(k){this._root=k}get root(){return this._root.value}parent(k){const D=this.pathFromRoot(k);return D.length>1?D[D.length-2]:null}children(k){const D=to(k,this._root);return D?D.children.map(F=>F.value):[]}firstChild(k){const D=to(k,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(k){const D=qn(k,this._root);return D.length<2?[]:D[D.length-2].children.map(H=>H.value).filter(H=>H!==k)}pathFromRoot(k){return qn(k,this._root).map(D=>D.value)}}function to(S,k){if(S===k.value)return k;for(const D of k.children){const F=to(S,D);if(F)return F}return null}function qn(S,k){if(S===k.value)return[k];for(const D of k.children){const F=qn(S,D);if(F.length)return F.unshift(k),F}return[]}class kn{constructor(k,D){this.value=k,this.children=D}toString(){return`TreeNode(${this.value})`}}function Or(S){const k={};return S&&S.children.forEach(D=>k[D.value.outlet]=D),k}class qi extends cs{constructor(k,D){super(k),this.snapshot=D,Kt(this,k)}toString(){return this.snapshot.toString()}}function Ai(S,k){const D=function ca(S,k){const ve=new Vs([],{},{},"",{},ln,k,null,{});return new ci("",new kn(ve,[]))}(0,k),F=new Ke.X([new Mi("",{})]),H=new Ke.X({}),ie=new Ke.X({}),ve=new Ke.X({}),rt=new Ke.X(""),nt=new go(F,H,ve,rt,ie,ln,k,D.root);return nt.snapshot=D.root,new qi(new kn(nt,[]),D)}class go{constructor(k,D,F,H,ie,ve,rt,nt){this.urlSubject=k,this.paramsSubject=D,this.queryParamsSubject=F,this.fragmentSubject=H,this.dataSubject=ie,this.outlet=ve,this.component=rt,this._futureSnapshot=nt,this.title=this.dataSubject?.pipe((0,Gt.U)(sn=>sn[In]))??(0,he.of)(void 0),this.url=k,this.params=D,this.queryParams=F,this.fragment=H,this.data=ie}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Gt.U)(k=>fr(k)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Gt.U)(k=>fr(k)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fs(S,k="emptyOnly"){const D=S.pathFromRoot;let F=0;if("always"!==k)for(F=D.length-1;F>=1;){const H=D[F],ie=D[F-1];if(H.routeConfig&&""===H.routeConfig.path)F--;else{if(ie.component)break;F--}}return function So(S){return S.reduce((k,D)=>({params:{...k.params,...D.params},data:{...k.data,...D.data},resolve:{...D.data,...k.resolve,...D.routeConfig?.data,...D._resolvedData}}),{params:{},data:{},resolve:{}})}(D.slice(F))}class Vs{get title(){return this.data?.[In]}constructor(k,D,F,H,ie,ve,rt,nt,sn){this.url=k,this.params=D,this.queryParams=F,this.fragment=H,this.data=ie,this.outlet=ve,this.component=rt,this.routeConfig=nt,this._resolve=sn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ci extends cs{constructor(k,D){super(D),this.url=k,Kt(this,D)}toString(){return xn(this._root)}}function Kt(S,k){k.value._routerState=S,k.children.forEach(D=>Kt(S,D))}function xn(S){const k=S.children.length>0?` { ${S.children.map(xn).join(", ")} } `:"";return`${S.value}${k}`}function q(S){if(S.snapshot){const k=S.snapshot,D=S._futureSnapshot;S.snapshot=D,Rr(k.queryParams,D.queryParams)||S.queryParamsSubject.next(D.queryParams),k.fragment!==D.fragment&&S.fragmentSubject.next(D.fragment),Rr(k.params,D.params)||S.paramsSubject.next(D.params),function Jt(S,k){if(S.length!==k.length)return!1;for(let D=0;D<S.length;++D)if(!Rr(S[D],k[D]))return!1;return!0}(k.url,D.url)||S.urlSubject.next(D.url),Rr(k.data,D.data)||S.dataSubject.next(D.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function Y(S,k){const D=Rr(S.params,k.params)&&function Ci(S,k){return Ut(S,k)&&S.every((D,F)=>Rr(D.parameters,k[F].parameters))}(S.url,k.url);return D&&!(!S.parent!=!k.parent)&&(!S.parent||Y(S.parent,k.parent))}let be=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=ln,this.activateEvents=new A.vpe,this.deactivateEvents=new A.vpe,this.attachEvents=new A.vpe,this.detachEvents=new A.vpe,this.parentContexts=(0,A.f3M)(Bi),this.location=(0,A.f3M)(A.s_b),this.changeDetector=(0,A.f3M)(A.sBO),this.environmentInjector=(0,A.f3M)(A.lqb),this.inputBinder=(0,A.f3M)(Ne,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:F,previousValue:H}=D.name;if(F)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){return this.parentContexts.getContext(D)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);D?.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,F){this.activated=D,this._activatedRoute=F,this.location.insert(D.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,F){if(this.isActivated)throw new A.vHH(4013,!1);this._activatedRoute=D;const H=this.location,ve=D.snapshot.component,rt=this.parentContexts.getOrCreateContext(this.name).children,nt=new we(D,rt,H.injector);this.activated=H.createComponent(ve,{index:H.length,injector:nt,environmentInjector:F??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275dir=A.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[A.TTD]})}return S})();class we{constructor(k,D,F){this.route=k,this.childContexts=D,this.parent=F}get(k,D){return k===go?this.route:k===Bi?this.childContexts:this.parent.get(k,D)}}const Ne=new A.OlP("");let Xe=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){this.outletDataSubscriptions.get(D)?.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:F}=D,H=je([F.queryParams,F.params,F.data]).pipe((0,ut.w)(([ie,ve,rt],nt)=>(rt={...ie,...ve,...rt},0===nt?(0,he.of)(rt):Promise.resolve(rt)))).subscribe(ie=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(D);const ve=(0,A.qFp)(F.component);if(ve)for(const{templateName:rt}of ve.inputs)D.activatedComponentRef.setInput(rt,ie[rt]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,H)}static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac})}return S})();function un(S,k,D){if(D&&S.shouldReuseRoute(k.value,D.value.snapshot)){const F=D.value;F._futureSnapshot=k.value;const H=function It(S,k,D){return k.children.map(F=>{for(const H of D.children)if(S.shouldReuseRoute(F.value,H.value.snapshot))return un(S,F,H);return un(S,F)})}(S,k,D);return new kn(F,H)}{if(S.shouldAttach(k.value)){const ie=S.retrieve(k.value);if(null!==ie){const ve=ie.route;return ve.value._futureSnapshot=k.value,ve.children=k.children.map(rt=>un(S,rt)),ve}}const F=function Fn(S){return new go(new Ke.X(S.url),new Ke.X(S.params),new Ke.X(S.queryParams),new Ke.X(S.fragment),new Ke.X(S.data),S.outlet,S.component,S)}(k.value),H=k.children.map(ie=>un(S,ie));return new kn(F,H)}}const Xn="ngNavigationCancelingError";function Nr(S,k){const{redirectTo:D,navigationBehaviorOptions:F}=An(k)?{redirectTo:k,navigationBehaviorOptions:void 0}:k,H=Yn(!1,0,k);return H.url=D,H.navigationBehaviorOptions=F,H}function Yn(S,k,D){const F=new Error("NavigationCancelingError: "+(S||""));return F[Xn]=!0,F.cancellationCode=k,D&&(F.url=D),F}function Vr(S){return S&&S[Xn]}let Kr=(()=>{class S{static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275cmp=A.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[A.jDz],decls:1,vars:0,template:function(F,H){1&F&&A._UZ(0,"router-outlet")},dependencies:[be],encapsulation:2})}return S})();function Ko(S){const k=S.children&&S.children.map(Ko),D=k?{...S,children:k}:{...S};return!D.component&&!D.loadComponent&&(k||D.loadChildren)&&D.outlet&&D.outlet!==ln&&(D.component=Kr),D}function Jn(S){return S.outlet||ln}function ys(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let k=S.parent;k;k=k.parent){const D=k.routeConfig;if(D?._loadedInjector)return D._loadedInjector;if(D?._injector)return D._injector}return null}class nl{constructor(k,D,F,H,ie){this.routeReuseStrategy=k,this.futureState=D,this.currState=F,this.forwardEvent=H,this.inputBindingEnabled=ie}activate(k){const D=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,F,k),q(this.futureState.root),this.activateChildRoutes(D,F,k)}deactivateChildRoutes(k,D,F){const H=Or(D);k.children.forEach(ie=>{const ve=ie.value.outlet;this.deactivateRoutes(ie,H[ve],F),delete H[ve]}),Object.values(H).forEach(ie=>{this.deactivateRouteAndItsChildren(ie,F)})}deactivateRoutes(k,D,F){const H=k.value,ie=D?D.value:null;if(H===ie)if(H.component){const ve=F.getContext(H.outlet);ve&&this.deactivateChildRoutes(k,D,ve.children)}else this.deactivateChildRoutes(k,D,F);else ie&&this.deactivateRouteAndItsChildren(D,F)}deactivateRouteAndItsChildren(k,D){k.value.component&&this.routeReuseStrategy.shouldDetach(k.value.snapshot)?this.detachAndStoreRouteSubtree(k,D):this.deactivateRouteAndOutlet(k,D)}detachAndStoreRouteSubtree(k,D){const F=D.getContext(k.value.outlet),H=F&&k.value.component?F.children:D,ie=Or(k);for(const ve of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[ve],H);if(F&&F.outlet){const ve=F.outlet.detach(),rt=F.children.onOutletDeactivated();this.routeReuseStrategy.store(k.value.snapshot,{componentRef:ve,route:k,contexts:rt})}}deactivateRouteAndOutlet(k,D){const F=D.getContext(k.value.outlet),H=F&&k.value.component?F.children:D,ie=Or(k);for(const ve of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[ve],H);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(k,D,F){const H=Or(D);k.children.forEach(ie=>{this.activateRoutes(ie,H[ie.value.outlet],F),this.forwardEvent(new Do(ie.value.snapshot))}),k.children.length&&this.forwardEvent(new ns(k.value.snapshot))}activateRoutes(k,D,F){const H=k.value,ie=D?D.value:null;if(q(H),H===ie)if(H.component){const ve=F.getOrCreateContext(H.outlet);this.activateChildRoutes(k,D,ve.children)}else this.activateChildRoutes(k,D,F);else if(H.component){const ve=F.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const rt=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),ve.children.onOutletReAttached(rt.contexts),ve.attachRef=rt.componentRef,ve.route=rt.route.value,ve.outlet&&ve.outlet.attach(rt.componentRef,rt.route.value),q(rt.route.value),this.activateChildRoutes(k,null,ve.children)}else{const rt=ys(H.snapshot);ve.attachRef=null,ve.route=H,ve.injector=rt,ve.outlet&&ve.outlet.activateWith(H,ve.injector),this.activateChildRoutes(k,null,ve.children)}}else this.activateChildRoutes(k,null,F)}}class Hr{constructor(k){this.path=k,this.route=this.path[this.path.length-1]}}class Di{constructor(k,D){this.component=k,this.route=D}}function rl(S,k,D){const F=S._root;return is(F,k?k._root:null,D,[F.value])}function er(S,k){const D=Symbol(),F=k.get(S,D);return F===D?"function"!=typeof S||(0,A.Z0I)(S)?k.get(S):S:F}function is(S,k,D,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const ie=Or(k);return S.children.forEach(ve=>{(function il(S,k,D,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const ie=S.value,ve=k?k.value:null,rt=D?D.getContext(S.value.outlet):null;if(ve&&ie.routeConfig===ve.routeConfig){const nt=function W(S,k,D){if("function"==typeof D)return D(S,k);switch(D){case"pathParamsChange":return!Ut(S.url,k.url);case"pathParamsOrQueryParamsChange":return!Ut(S.url,k.url)||!Rr(S.queryParams,k.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Y(S,k)||!Rr(S.queryParams,k.queryParams);default:return!Y(S,k)}}(ve,ie,ie.routeConfig.runGuardsAndResolvers);nt?H.canActivateChecks.push(new Hr(F)):(ie.data=ve.data,ie._resolvedData=ve._resolvedData),is(S,k,ie.component?rt?rt.children:null:D,F,H),nt&&rt&&rt.outlet&&rt.outlet.isActivated&&H.canDeactivateChecks.push(new Di(rt.outlet.component,ve))}else ve&&Z(k,rt,H),H.canActivateChecks.push(new Hr(F)),is(S,null,ie.component?rt?rt.children:null:D,F,H)})(ve,ie[ve.value.outlet],D,F.concat([ve.value]),H),delete ie[ve.value.outlet]}),Object.entries(ie).forEach(([ve,rt])=>Z(rt,D.getContext(ve),H)),H}function Z(S,k,D){const F=Or(S),H=S.value;Object.entries(F).forEach(([ie,ve])=>{Z(ve,H.component?k?k.children.getContext(ie):null:k,D)}),D.canDeactivateChecks.push(new Di(H.component&&k&&k.outlet&&k.outlet.isActivated?k.outlet.component:null,H))}function U(S){return"function"==typeof S}function Ro(S){return S instanceof Dn||"EmptyError"===S?.name}const ha=Symbol("INITIAL_VALUE");function Bs(){return(0,ut.w)(S=>je(S.map(k=>k.pipe(We(1),function De(...S){const k=(0,_e.yG)(S);return(0,zn.e)((D,F)=>{(k?Ye(S,D,k):Ye(S,D)).subscribe(F)})}(ha)))).pipe((0,Gt.U)(k=>{for(const D of k)if(!0!==D){if(D===ha)return ha;if(!1===D||D instanceof ir)return D}return!0}),(0,Be.h)(k=>k!==ha),We(1)))}function no(S){return(0,pt.z)((0,kt.b)(k=>{if(An(k))throw Nr(0,k)}),(0,Gt.U)(k=>!0===k))}class ds{constructor(k){this.segmentGroup=k||null}}class hs{constructor(k){this.urlTree=k}}function _o(S){return gt(new ds(S))}function fs(S){return gt(new hs(S))}class ol{constructor(k,D){this.urlSerializer=k,this.urlTree=D}noMatchError(k){return new A.vHH(4002,!1)}lineralizeSegments(k,D){let F=[],H=D.root;for(;;){if(F=F.concat(H.segments),0===H.numberOfChildren)return(0,he.of)(F);if(H.numberOfChildren>1||!H.children[ln])return gt(new A.vHH(4e3,!1));H=H.children[ln]}}applyRedirectCommands(k,D,F){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),k,F)}applyRedirectCreateUrlTree(k,D,F,H){const ie=this.createSegmentGroup(k,D.root,F,H);return new ir(ie,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(k,D){const F={};return Object.entries(k).forEach(([H,ie])=>{if("string"==typeof ie&&ie.startsWith(":")){const rt=ie.substring(1);F[H]=D[rt]}else F[H]=ie}),F}createSegmentGroup(k,D,F,H){const ie=this.createSegments(k,D.segments,F,H);let ve={};return Object.entries(D.children).forEach(([rt,nt])=>{ve[rt]=this.createSegmentGroup(k,nt,F,H)}),new rn(ie,ve)}createSegments(k,D,F,H){return D.map(ie=>ie.path.startsWith(":")?this.findPosParam(k,ie,H):this.findOrReturn(ie,F))}findPosParam(k,D,F){const H=F[D.path.substring(1)];if(!H)throw new A.vHH(4001,!1);return H}findOrReturn(k,D){let F=0;for(const H of D){if(H.path===k.path)return D.splice(F),H;F++}return k}}const Lr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function al(S,k,D,F,H){const ie=ll(S,k,D);return ie.matched?(F=function Ur(S,k){return S.providers&&!S._injector&&(S._injector=(0,A.MMx)(S.providers,k,`Route: ${S.path}`)),S._injector??k}(k,F),function sl(S,k,D,F){const H=k.canMatch;if(!H||0===H.length)return(0,he.of)(!0);const ie=H.map(ve=>{const rt=er(ve,S);return Mr(function da(S){return S&&U(S.canMatch)}(rt)?rt.canMatch(k,D):S.runInContext(()=>rt(k,D)))});return(0,he.of)(ie).pipe(Bs(),no())}(F,k,D).pipe((0,Gt.U)(ve=>!0===ve?ie:{...Lr}))):(0,he.of)(ie)}function ll(S,k,D){if(""===k.path)return"full"===k.pathMatch&&(S.hasChildren()||D.length>0)?{...Lr}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const H=(k.matcher||nn)(D,S,k);if(!H)return{...Lr};const ie={};Object.entries(H.posParams??{}).forEach(([rt,nt])=>{ie[rt]=nt.path});const ve=H.consumed.length>0?{...ie,...H.consumed[H.consumed.length-1].parameters}:ie;return{matched:!0,consumedSegments:H.consumed,remainingSegments:D.slice(H.consumed.length),parameters:ve,positionalParamSegments:H.posParams??{}}}function js(S,k,D,F){return D.length>0&&function xa(S,k,D){return D.some(F=>Qo(S,k,F)&&Jn(F)!==ln)}(S,D,F)?{segmentGroup:new rn(k,ro(F,new rn(D,S.children))),slicedSegments:[]}:0===D.length&&function Au(S,k,D){return D.some(F=>Qo(S,k,F))}(S,D,F)?{segmentGroup:new rn(S.segments,Jl(S,0,D,F,S.children)),slicedSegments:D}:{segmentGroup:new rn(S.segments,S.children),slicedSegments:D}}function Jl(S,k,D,F,H){const ie={};for(const ve of F)if(Qo(S,D,ve)&&!H[Jn(ve)]){const rt=new rn([],{});ie[Jn(ve)]=rt}return{...H,...ie}}function ro(S,k){const D={};D[ln]=k;for(const F of S)if(""===F.path&&Jn(F)!==ln){const H=new rn([],{});D[Jn(F)]=H}return D}function Qo(S,k,D){return(!(S.hasChildren()||k.length>0)||"full"!==D.pathMatch)&&""===D.path}class Ra{constructor(k,D,F,H,ie,ve,rt){this.injector=k,this.configLoader=D,this.rootComponentType=F,this.config=H,this.urlTree=ie,this.paramsInheritanceStrategy=ve,this.urlSerializer=rt,this.allowRedirects=!0,this.applyRedirects=new ol(this.urlSerializer,this.urlTree)}noMatchError(k){return new A.vHH(4002,!1)}recognize(){const k=js(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,k,ln).pipe(pn(D=>{if(D instanceof hs)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof ds?this.noMatchError(D):D}),(0,Gt.U)(D=>{const F=new Vs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ln,this.rootComponentType,null,{}),H=new kn(F,D),ie=new ci("",H),ve=function li(S,k,D=null,F=null){return Pi(As(S),k,D,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return ve.queryParams=this.urlTree.queryParams,ie.url=this.urlSerializer.serialize(ve),this.inheritParamsAndData(ie._root),{state:ie,tree:ve}}))}match(k){return this.processSegmentGroup(this.injector,this.config,k.root,ln).pipe(pn(F=>{throw F instanceof ds?this.noMatchError(F):F}))}inheritParamsAndData(k){const D=k.value,F=Fs(D,this.paramsInheritanceStrategy);D.params=Object.freeze(F.params),D.data=Object.freeze(F.data),k.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(k,D,F,H){return 0===F.segments.length&&F.hasChildren()?this.processChildren(k,D,F):this.processSegment(k,D,F,F.segments,H,!0)}processChildren(k,D,F){const H=[];for(const ie of Object.keys(F.children))"primary"===ie?H.unshift(ie):H.push(ie);return(0,fe.D)(H).pipe((0,Vt.b)(ie=>{const ve=F.children[ie],rt=function Ha(S,k){const D=S.filter(F=>Jn(F)===k);return D.push(...S.filter(F=>Jn(F)!==k)),D}(D,ie);return this.processSegmentGroup(k,rt,ve,ie)}),function Gn(S,k){return(0,zn.e)(function hr(S,k,D,F,H){return(ie,ve)=>{let rt=D,nt=k,sn=0;ie.subscribe((0,Ce.x)(ve,tr=>{const si=sn++;nt=rt?S(nt,tr,si):(rt=!0,tr),F&&ve.next(nt)},H&&(()=>{rt&&ve.next(nt),ve.complete()})))}}(S,k,arguments.length>=2,!0))}((ie,ve)=>(ie.push(...ve),ie)),ze(null),function Fr(S,k){const D=arguments.length>=2;return F=>F.pipe(S?(0,Be.h)((H,ie)=>S(H,ie,F)):Ze.y,xr(1),D?ze(k):Ge(()=>new Dn))}(),(0,Le.z)(ie=>{if(null===ie)return _o(F);const ve=ee(ie);return function Cl(S){S.sort((k,D)=>k.value.outlet===ln?-1:D.value.outlet===ln?1:k.value.outlet.localeCompare(D.value.outlet))}(ve),(0,he.of)(ve)}))}processSegment(k,D,F,H,ie,ve){return(0,fe.D)(D).pipe((0,Vt.b)(rt=>this.processSegmentAgainstRoute(rt._injector??k,D,rt,F,H,ie,ve).pipe(pn(nt=>{if(nt instanceof ds)return(0,he.of)(null);throw nt}))),yt(rt=>!!rt),pn(rt=>{if(Ro(rt))return function Rs(S,k,D){return 0===k.length&&!S.children[D]}(F,H,ie)?(0,he.of)([]):_o(F);throw rt}))}processSegmentAgainstRoute(k,D,F,H,ie,ve,rt){return function yo(S,k,D,F){return!!(Jn(S)===F||F!==ln&&Qo(k,D,S))&&("**"===S.path||ll(k,S,D).matched)}(F,H,ie,ve)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(k,H,F,ie,ve,rt):rt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(k,H,D,F,ie,ve):_o(H):_o(H)}expandSegmentAgainstRouteUsingRedirect(k,D,F,H,ie,ve){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(k,F,H,ve):this.expandRegularSegmentAgainstRouteUsingRedirect(k,D,F,H,ie,ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(k,D,F,H){const ie=this.applyRedirects.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?fs(ie):this.applyRedirects.lineralizeSegments(F,ie).pipe((0,Le.z)(ve=>{const rt=new rn(ve,{});return this.processSegment(k,D,rt,ve,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(k,D,F,H,ie,ve){const{matched:rt,consumedSegments:nt,remainingSegments:sn,positionalParamSegments:tr}=ll(D,H,ie);if(!rt)return _o(D);const si=this.applyRedirects.applyRedirectCommands(nt,H.redirectTo,tr);return H.redirectTo.startsWith("/")?fs(si):this.applyRedirects.lineralizeSegments(H,si).pipe((0,Le.z)(dr=>this.processSegment(k,F,D,dr.concat(sn),ve,!1)))}matchSegmentAgainstRoute(k,D,F,H,ie,ve){let rt;if("**"===F.path){const nt=H.length>0?pi(H).parameters:{},sn=new Vs(H,nt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,K(F),Jn(F),F.component??F._loadedComponent??null,F,Ie(F));rt=(0,he.of)({snapshot:sn,consumedSegments:[],remainingSegments:[]}),D.children={}}else rt=al(D,F,H,k).pipe((0,Gt.U)(({matched:nt,consumedSegments:sn,remainingSegments:tr,parameters:si})=>nt?{snapshot:new Vs(sn,si,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,K(F),Jn(F),F.component??F._loadedComponent??null,F,Ie(F)),consumedSegments:sn,remainingSegments:tr}:null));return rt.pipe((0,ut.w)(nt=>null===nt?_o(D):this.getChildConfig(k=F._injector??k,F,H).pipe((0,ut.w)(({routes:sn})=>{const tr=F._loadedInjector??k,{snapshot:si,consumedSegments:dr,remainingSegments:ma}=nt,{segmentGroup:Al,slicedSegments:Za}=js(D,dr,ma,sn);if(0===Za.length&&Al.hasChildren())return this.processChildren(tr,sn,Al).pipe((0,Gt.U)(ru=>null===ru?null:[new kn(si,ru)]));if(0===sn.length&&0===Za.length)return(0,he.of)([new kn(si,[])]);const _c=Jn(F)===ie;return this.processSegment(tr,sn,Al,Za,_c?ln:ie,!0).pipe((0,Gt.U)(ru=>[new kn(si,ru)]))}))))}getChildConfig(k,D,F){return D.children?(0,he.of)({routes:D.children,injector:k}):D.loadChildren?void 0!==D._loadedRoutes?(0,he.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Ho(S,k,D,F){const H=k.canLoad;if(void 0===H||0===H.length)return(0,he.of)(!0);const ie=H.map(ve=>{const rt=er(ve,S);return Mr(function Me(S){return S&&U(S.canLoad)}(rt)?rt.canLoad(k,D):S.runInContext(()=>rt(k,D)))});return(0,he.of)(ie).pipe(Bs(),no())}(k,D,F).pipe((0,Le.z)(H=>H?this.configLoader.loadChildren(k,D).pipe((0,kt.b)(ie=>{D._loadedRoutes=ie.routes,D._loadedInjector=ie.injector})):function Mo(S){return gt(Yn(!1,3))}())):(0,he.of)({routes:[],injector:k})}}function P(S){const k=S.value.routeConfig;return k&&""===k.path}function ee(S){const k=[],D=new Set;for(const F of S){if(!P(F)){k.push(F);continue}const H=k.find(ie=>F.value.routeConfig===ie.value.routeConfig);void 0!==H?(H.children.push(...F.children),D.add(H)):k.push(F)}for(const F of D){const H=ee(F.children);k.push(new kn(F.value,H))}return k.filter(F=>!D.has(F))}function K(S){return S.data||{}}function Ie(S){return S.resolve||{}}function or(S){return"string"==typeof S.title||null===S.title}function _i(S){return(0,ut.w)(k=>{const D=S(k);return D?(0,fe.D)(D).pipe((0,Gt.U)(()=>k)):(0,he.of)(k)})}const Er=new A.OlP("ROUTES");let ii=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,A.f3M)(A.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,he.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const F=Mr(D.loadComponent()).pipe((0,Gt.U)(Ki),(0,kt.b)(ie=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=ie}),(0,Mn.x)(()=>{this.componentLoaders.delete(D)})),H=new Cn(F,()=>new xt.x).pipe(St());return this.componentLoaders.set(D,H),H}loadChildren(D,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,he.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const ie=function vo(S,k,D,F){return Mr(S.loadChildren()).pipe((0,Gt.U)(Ki),(0,Le.z)(H=>H instanceof A.YKP||Array.isArray(H)?(0,he.of)(H):(0,fe.D)(k.compileModuleAsync(H))),(0,Gt.U)(H=>{F&&F(S);let ie,ve,rt=!1;return Array.isArray(H)?(ve=H,!0):(ie=H.create(D).injector,ve=ie.get(Er,[],{optional:!0,self:!0}).flat()),{routes:ve.map(Ko),injector:ie}}))}(F,this.compiler,D,this.onLoadEndListener).pipe((0,Mn.x)(()=>{this.childrenLoaders.delete(F)})),ve=new Cn(ie,()=>new xt.x).pipe(St());return this.childrenLoaders.set(F,ve),ve}static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Ki(S){return function yi(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Si=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xt.x,this.transitionAbortSubject=new xt.x,this.configLoader=(0,A.f3M)(ii),this.environmentInjector=(0,A.f3M)(A.lqb),this.urlSerializer=(0,A.f3M)(ei),this.rootContexts=(0,A.f3M)(Bi),this.inputBindingEnabled=null!==(0,A.f3M)(Ne,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,he.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new us(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new Da(H))}complete(){this.transitions?.complete()}handleNavigationRequest(D){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...D,id:F})}setupNavigations(D,F,H){return this.transitions=new Ke.X({id:0,currentUrlTree:F,currentRawUrl:F,currentBrowserUrl:F,extractedUrl:D.urlHandlingStrategy.extract(F),urlAfterRedirects:D.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ks,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Be.h)(ie=>0!==ie.id),(0,Gt.U)(ie=>({...ie,extractedUrl:D.urlHandlingStrategy.extract(ie.rawUrl)})),(0,ut.w)(ie=>{this.currentTransition=ie;let ve=!1,rt=!1;return(0,he.of)(ie).pipe((0,kt.b)(nt=>{this.currentNavigation={id:nt.id,initialUrl:nt.rawUrl,extractedUrl:nt.extractedUrl,trigger:nt.source,extras:nt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ut.w)(nt=>{const sn=nt.currentBrowserUrl.toString(),tr=!D.navigated||nt.extractedUrl.toString()!==sn||sn!==nt.currentUrlTree.toString();if(!tr&&"reload"!==(nt.extras.onSameUrlNavigation??D.onSameUrlNavigation)){const dr="";return this.events.next(new Ls(nt.id,this.urlSerializer.serialize(nt.rawUrl),dr,0)),nt.resolve(null),Tt.E}if(D.urlHandlingStrategy.shouldProcessUrl(nt.rawUrl))return(0,he.of)(nt).pipe((0,ut.w)(dr=>{const ma=this.transitions?.getValue();return this.events.next(new Xs(dr.id,this.urlSerializer.serialize(dr.extractedUrl),dr.source,dr.restoredState)),ma!==this.transitions?.getValue()?Tt.E:Promise.resolve(dr)}),function it(S,k,D,F,H,ie){return(0,Le.z)(ve=>function Zi(S,k,D,F,H,ie,ve="emptyOnly"){return new Ra(S,k,D,F,H,ve,ie).recognize()}(S,k,D,F,ve.extractedUrl,H,ie).pipe((0,Gt.U)(({state:rt,tree:nt})=>({...ve,targetSnapshot:rt,urlAfterRedirects:nt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,kt.b)(dr=>{ie.targetSnapshot=dr.targetSnapshot,ie.urlAfterRedirects=dr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:dr.urlAfterRedirects};const ma=new Ca(dr.id,this.urlSerializer.serialize(dr.extractedUrl),this.urlSerializer.serialize(dr.urlAfterRedirects),dr.targetSnapshot);this.events.next(ma)}));if(tr&&D.urlHandlingStrategy.shouldProcessUrl(nt.currentRawUrl)){const{id:dr,extractedUrl:ma,source:Al,restoredState:Za,extras:_c}=nt,ru=new Xs(dr,this.urlSerializer.serialize(ma),Al,Za);this.events.next(ru);const bs=Ai(0,this.rootComponentType).snapshot;return this.currentTransition=ie={...nt,targetSnapshot:bs,urlAfterRedirects:ma,extras:{..._c,skipLocationChange:!1,replaceUrl:!1}},(0,he.of)(ie)}{const dr="";return this.events.next(new Ls(nt.id,this.urlSerializer.serialize(nt.extractedUrl),dr,1)),nt.resolve(null),Tt.E}}),(0,kt.b)(nt=>{const sn=new ho(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects),nt.targetSnapshot);this.events.next(sn)}),(0,Gt.U)(nt=>(this.currentTransition=ie={...nt,guards:rl(nt.targetSnapshot,nt.currentSnapshot,this.rootContexts)},ie)),function hc(S,k){return(0,Le.z)(D=>{const{targetSnapshot:F,currentSnapshot:H,guards:{canActivateChecks:ie,canDeactivateChecks:ve}}=D;return 0===ve.length&&0===ie.length?(0,he.of)({...D,guardsResult:!0}):function Kl(S,k,D,F){return(0,fe.D)(S).pipe((0,Le.z)(H=>function Yo(S,k,D,F,H){const ie=k&&k.routeConfig?k.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,he.of)(!0);const ve=ie.map(rt=>{const nt=ys(k)??H,sn=er(rt,nt);return Mr(function ss(S){return S&&U(S.canDeactivate)}(sn)?sn.canDeactivate(S,k,D,F):nt.runInContext(()=>sn(S,k,D,F))).pipe(yt())});return(0,he.of)(ve).pipe(Bs())}(H.component,H.route,D,k,F)),yt(H=>!0!==H,!0))}(ve,F,H,S).pipe((0,Le.z)(rt=>rt&&function oe(S){return"boolean"==typeof S}(rt)?function jo(S,k,D,F){return(0,fe.D)(k).pipe((0,Vt.b)(H=>Ye(function fc(S,k){return null!==S&&k&&k(new eo(S)),(0,he.of)(!0)}(H.route.parent,F),function za(S,k){return null!==S&&k&&k(new la(S)),(0,he.of)(!0)}(H.route,F),function Yl(S,k,D){const F=k[k.length-1],ie=k.slice(0,k.length-1).reverse().map(ve=>function Bo(S){const k=S.routeConfig?S.routeConfig.canActivateChild:null;return k&&0!==k.length?{node:S,guards:k}:null}(ve)).filter(ve=>null!==ve).map(ve=>ct(()=>{const rt=ve.guards.map(nt=>{const sn=ys(ve.node)??D,tr=er(nt,sn);return Mr(function Hn(S){return S&&U(S.canActivateChild)}(tr)?tr.canActivateChild(F,S):sn.runInContext(()=>tr(F,S))).pipe(yt())});return(0,he.of)(rt).pipe(Bs())}));return(0,he.of)(ie).pipe(Bs())}(S,H.path,D),function Sa(S,k,D){const F=k.routeConfig?k.routeConfig.canActivate:null;if(!F||0===F.length)return(0,he.of)(!0);const H=F.map(ie=>ct(()=>{const ve=ys(k)??D,rt=er(ie,ve);return Mr(function an(S){return S&&U(S.canActivate)}(rt)?rt.canActivate(k,S):ve.runInContext(()=>rt(k,S))).pipe(yt())}));return(0,he.of)(H).pipe(Bs())}(S,H.route,D))),yt(H=>!0!==H,!0))}(F,ie,S,k):(0,he.of)(rt)),(0,Gt.U)(rt=>({...D,guardsResult:rt})))})}(this.environmentInjector,nt=>this.events.next(nt)),(0,kt.b)(nt=>{if(ie.guardsResult=nt.guardsResult,An(nt.guardsResult))throw Nr(0,nt.guardsResult);const sn=new aa(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects),nt.targetSnapshot,!!nt.guardsResult);this.events.next(sn)}),(0,Be.h)(nt=>!!nt.guardsResult||(this.cancelNavigationTransition(nt,"",3),!1)),_i(nt=>{if(nt.guards.canActivateChecks.length)return(0,he.of)(nt).pipe((0,kt.b)(sn=>{const tr=new Aa(sn.id,this.urlSerializer.serialize(sn.extractedUrl),this.urlSerializer.serialize(sn.urlAfterRedirects),sn.targetSnapshot);this.events.next(tr)}),(0,ut.w)(sn=>{let tr=!1;return(0,he.of)(sn).pipe(function At(S,k){return(0,Le.z)(D=>{const{targetSnapshot:F,guards:{canActivateChecks:H}}=D;if(!H.length)return(0,he.of)(D);let ie=0;return(0,fe.D)(H).pipe((0,Vt.b)(ve=>function bn(S,k,D,F){const H=S.routeConfig,ie=S._resolve;return void 0!==H?.title&&!or(H)&&(ie[In]=H.title),function di(S,k,D,F){const H=function zr(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===H.length)return(0,he.of)({});const ie={};return(0,fe.D)(H).pipe((0,Le.z)(ve=>function $r(S,k,D,F){const H=ys(k)??F,ie=er(S,H);return Mr(ie.resolve?ie.resolve(k,D):H.runInContext(()=>ie(k,D)))}(S[ve],k,D,F).pipe(yt(),(0,kt.b)(rt=>{ie[ve]=rt}))),xr(1),function wr(S){return(0,Gt.U)(()=>S)}(ie),pn(ve=>Ro(ve)?Tt.E:gt(ve)))}(ie,S,k,F).pipe((0,Gt.U)(ve=>(S._resolvedData=ve,S.data=Fs(S,D).resolve,H&&or(H)&&(S.data[In]=H.title),null)))}(ve.route,F,S,k)),(0,kt.b)(()=>ie++),xr(1),(0,Le.z)(ve=>ie===H.length?(0,he.of)(D):Tt.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,kt.b)({next:()=>tr=!0,complete:()=>{tr||this.cancelNavigationTransition(sn,"",2)}}))}),(0,kt.b)(sn=>{const tr=new xs(sn.id,this.urlSerializer.serialize(sn.extractedUrl),this.urlSerializer.serialize(sn.urlAfterRedirects),sn.targetSnapshot);this.events.next(tr)}))}),_i(nt=>{const sn=tr=>{const si=[];tr.routeConfig?.loadComponent&&!tr.routeConfig._loadedComponent&&si.push(this.configLoader.loadComponent(tr.routeConfig).pipe((0,kt.b)(dr=>{tr.component=dr}),(0,Gt.U)(()=>{})));for(const dr of tr.children)si.push(...sn(dr));return si};return je(sn(nt.targetSnapshot.root)).pipe(ze(),We(1))}),_i(()=>this.afterPreactivation()),(0,Gt.U)(nt=>{const sn=function Bt(S,k,D){const F=un(S,k._root,D?D._root:void 0);return new qi(F,k)}(D.routeReuseStrategy,nt.targetSnapshot,nt.currentRouterState);return this.currentTransition=ie={...nt,targetRouterState:sn},ie}),(0,kt.b)(()=>{this.events.next(new fo)}),((S,k,D,F)=>(0,Gt.U)(H=>(new nl(k,H.targetRouterState,H.currentRouterState,D,F).activate(S),H)))(this.rootContexts,D.routeReuseStrategy,nt=>this.events.next(nt),this.inputBindingEnabled),We(1),(0,kt.b)({next:nt=>{ve=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ss(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects))),D.titleStrategy?.updateTitle(nt.targetRouterState.snapshot),nt.resolve(!0)},complete:()=>{ve=!0}}),function Ht(S){return(0,zn.e)((k,D)=>{(0,at.Xf)(S).subscribe((0,Ce.x)(D,()=>D.complete(),Pn.Z)),!D.closed&&k.subscribe(D)})}(this.transitionAbortSubject.pipe((0,kt.b)(nt=>{throw nt}))),(0,Mn.x)(()=>{ve||rt||this.cancelNavigationTransition(ie,"",1),this.currentNavigation?.id===ie.id&&(this.currentNavigation=null)}),pn(nt=>{if(rt=!0,Vr(nt))this.events.next(new Ni(ie.id,this.urlSerializer.serialize(ie.extractedUrl),nt.message,nt.cancellationCode)),function kr(S){return Vr(S)&&An(S.url)}(nt)?this.events.next(new po(nt.url)):ie.resolve(!1);else{this.events.next(new Ui(ie.id,this.urlSerializer.serialize(ie.extractedUrl),nt,ie.targetSnapshot??void 0));try{ie.resolve(D.errorHandler(nt))}catch(sn){ie.reject(sn)}}return Tt.E}))}))}cancelNavigationTransition(D,F,H){const ie=new Ni(D.id,this.urlSerializer.serialize(D.extractedUrl),F,H);this.events.next(ie),D.resolve(!1)}static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function io(S){return S!==ks}let $a=(()=>{class S{buildTitle(D){let F,H=D.root;for(;void 0!==H;)F=this.getResolvedTitleForRoute(H)??F,H=H.children.find(ie=>ie.outlet===ln);return F}getResolvedTitleForRoute(D){return D.data[In]}static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:function(){return(0,A.f3M)(Rt)},providedIn:"root"})}return S})(),Rt=(()=>{class S extends $a{constructor(D){super(),this.title=D}updateTitle(D){const F=this.buildTitle(D);void 0!==F&&this.title.setTitle(F)}static#e=this.\u0275fac=function(F){return new(F||S)(A.LFG(Zn.Dx))};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),ji=(()=>{class S{static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:function(){return(0,A.f3M)(pc)},providedIn:"root"})}return S})();class bo{shouldDetach(k){return!1}store(k,D){}shouldAttach(k){return!1}retrieve(k){return null}shouldReuseRoute(k,D){return k.routeConfig===D.routeConfig}}let pc=(()=>{class S extends bo{static#e=this.\u0275fac=function(){let D;return function(H){return(D||(D=A.n5z(S)))(H||S)}}();static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const dn=new A.OlP("",{providedIn:"root",factory:()=>({})});let Rn=(()=>{class S{static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:function(){return(0,A.f3M)(ch)},providedIn:"root"})}return S})(),ch=(()=>{class S{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,F){return D}static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var Xt=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(Xt||{});function lt(S,k){S.events.pipe((0,Be.h)(D=>D instanceof Ss||D instanceof Ni||D instanceof Ui||D instanceof Ls),(0,Gt.U)(D=>D instanceof Ss||D instanceof Ls?Xt.COMPLETE:D instanceof Ni&&(0===D.code||1===D.code)?Xt.REDIRECTING:Xt.FAILED),(0,Be.h)(D=>D!==Xt.REDIRECTING),We(1)).subscribe(()=>{k()})}function Ft(S){throw S}function hi(S,k,D){return k.parse("/")}const fd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mr=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,A.f3M)(A.c2e),this.isNgZoneEnabled=!1,this._events=new xt.x,this.options=(0,A.f3M)(dn,{optional:!0})||{},this.pendingTasks=(0,A.f3M)(A.HDt),this.errorHandler=this.options.errorHandler||Ft,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hi,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,A.f3M)(Rn),this.routeReuseStrategy=(0,A.f3M)(ji),this.titleStrategy=(0,A.f3M)($a),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,A.f3M)(Er,{optional:!0})?.flat()??[],this.navigationTransitions=(0,A.f3M)(Si),this.urlSerializer=(0,A.f3M)(ei),this.location=(0,A.f3M)(cn.Ye),this.componentInputBindingEnabled=!!(0,A.f3M)(Ne,{optional:!0}),this.eventsSubscription=new Tn.w0,this.isNgZoneEnabled=(0,A.f3M)(A.R0b)instanceof A.R0b&&A.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ir,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ai(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(D=>{this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(F=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(Pa(F)&&this._events.next(F));if(F instanceof Xs)io(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(F instanceof Ls)this.rawUrlTree=H.rawUrl;else if(F instanceof Ca){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const ie=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(ie,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(F instanceof fo)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(F instanceof Ni)0!==F.code&&1!==F.code&&(this.navigated=!0),(3===F.code||2===F.code)&&this.restoreHistory(H);else if(F instanceof po){const ie=this.urlHandlingStrategy.merge(F.url,H.currentRawUrl),ve={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||io(H.source)};this.scheduleNavigation(ie,ks,null,ve,{resolve:H.resolve,reject:H.reject,promise:H.promise})}F instanceof Ui&&this.restoreHistory(H,!0),F instanceof Ss&&(this.navigated=!0),Pa(F)&&this._events.next(F)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ks,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const F="popstate"===D.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,F,D.state)},0)}))}navigateToSyncWithBrowser(D,F,H){const ie={replaceUrl:!0},ve=H?.navigationId?H:null;if(H){const nt={...H};delete nt.navigationId,delete nt.\u0275routerPageId,0!==Object.keys(nt).length&&(ie.state=nt)}const rt=this.parseUrl(D);this.scheduleNavigation(rt,F,ve,ie)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(Ko),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,F={}){const{relativeTo:H,queryParams:ie,fragment:ve,queryParamsHandling:rt,preserveFragment:nt}=F,sn=nt?this.currentUrlTree.fragment:ve;let si,tr=null;switch(rt){case"merge":tr={...this.currentUrlTree.queryParams,...ie};break;case"preserve":tr=this.currentUrlTree.queryParams;break;default:tr=ie||null}null!==tr&&(tr=this.removeEmptyProps(tr));try{si=As(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),si=this.currentUrlTree.root}return Pi(si,D,tr,sn??null)}navigateByUrl(D,F={skipLocationChange:!1}){const H=An(D)?D:this.parseUrl(D),ie=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(ie,ks,null,F)}navigate(D,F={skipLocationChange:!1}){return function Ma(S){for(let k=0;k<S.length;k++)if(null==S[k])throw new A.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,F),F)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let F;try{F=this.urlSerializer.parse(D)}catch(H){F=this.malformedUriErrorHandler(H,this.urlSerializer,D)}return F}isActive(D,F){let H;if(H=!0===F?{...fd}:!1===F?{...dh}:F,An(D))return Pr(this.currentUrlTree,D,H);const ie=this.parseUrl(D);return Pr(this.currentUrlTree,ie,H)}removeEmptyProps(D){return Object.keys(D).reduce((F,H)=>{const ie=D[H];return null!=ie&&(F[H]=ie),F},{})}scheduleNavigation(D,F,H,ie,ve){if(this.disposed)return Promise.resolve(!1);let rt,nt,sn;ve?(rt=ve.resolve,nt=ve.reject,sn=ve.promise):sn=new Promise((si,dr)=>{rt=si,nt=dr});const tr=this.pendingTasks.add();return lt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(tr))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:D,extras:ie,resolve:rt,reject:nt,promise:sn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),sn.catch(si=>Promise.reject(si))}setBrowserUrl(D,F){const H=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(H)||F.extras.replaceUrl){const ve={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(H,"",ve)}else{const ie={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(H,"",ie)}}restoreHistory(D,F=!1){if("computed"===this.canceledNavigationResolution){const ie=this.currentPageId-this.browserPageId;0!==ie?this.location.historyGo(ie):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ie&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,F){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:F}:{navigationId:D}}static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Pa(S){return!(S instanceof fo||S instanceof po)}let Hs=(()=>{class S{constructor(D,F,H,ie,ve,rt){this.router=D,this.route=F,this.tabIndexAttribute=H,this.renderer=ie,this.el=ve,this.locationStrategy=rt,this.href=null,this.commands=null,this.onChanges=new xt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const nt=ve.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===nt||"area"===nt,this.isAnchorElement?this.subscription=D.events.subscribe(sn=>{sn instanceof Ss&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,F,H,ie,ve){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||F||H||ie||ve||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const D=null===this.href?null:(0,A.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",D)}applyAttributeValue(D,F){const H=this.renderer,ie=this.el.nativeElement;null!==F?H.setAttribute(ie,D,F):H.removeAttribute(ie,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(F){return new(F||S)(A.Y36(mr),A.Y36(go),A.$8M("tabindex"),A.Y36(A.Qsj),A.Y36(A.SBq),A.Y36(cn.S$))};static#t=this.\u0275dir=A.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(F,H){1&F&&A.NdJ("click",function(ve){return H.onClick(ve.button,ve.ctrlKey,ve.shiftKey,ve.altKey,ve.metaKey)}),2&F&&A.uIk("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",A.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",A.VuI],replaceUrl:["replaceUrl","replaceUrl",A.VuI],routerLink:"routerLink"},standalone:!0,features:[A.Xq5,A.TTD]})}return S})(),Du=(()=>{class S{get isActive(){return this._isActive}constructor(D,F,H,ie,ve){this.router=D,this.element=F,this.renderer=H,this.cdr=ie,this.link=ve,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new A.vpe,this.routerEventsSubscription=D.events.subscribe(rt=>{rt instanceof Ss&&this.update()})}ngAfterContentInit(){(0,he.of)(this.links.changes,(0,he.of)(null)).pipe((0,fn.J)()).subscribe(D=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const D=[...this.links.toArray(),this.link].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,fe.D)(D).pipe((0,fn.J)()).subscribe(F=>{this._isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(D){const F=Array.isArray(D)?D:D.split(" ");this.classes=F.filter(H=>!!H)}ngOnChanges(D){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const D=this.hasActiveLinks();this._isActive!==D&&(this._isActive=D,this.cdr.markForCheck(),this.classes.forEach(F=>{D?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),D&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(D))})}isLinkActive(D){const F=function hh(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return H=>!!H.urlTree&&D.isActive(H.urlTree,F)}hasActiveLinks(){const D=this.isLinkActive(this.router);return this.link&&D(this.link)||this.links.some(D)}static#e=this.\u0275fac=function(F){return new(F||S)(A.Y36(mr),A.Y36(A.SBq),A.Y36(A.Qsj),A.Y36(A.sBO),A.Y36(Hs,8))};static#t=this.\u0275dir=A.lG2({type:S,selectors:[["","routerLinkActive",""]],contentQueries:function(F,H,ie){if(1&F&&A.Suo(ie,Hs,5),2&F){let ve;A.iGM(ve=A.CRH())&&(H.links=ve)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[A.TTD]})}return S})();class Su{}let $n=(()=>{class S{constructor(D,F,H,ie,ve){this.router=D,this.injector=H,this.preloadingStrategy=ie,this.loader=ve}setUpPreloading(){this.subscription=this.router.events.pipe((0,Be.h)(D=>D instanceof Ss),(0,Vt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,F){const H=[];for(const ie of F){ie.providers&&!ie._injector&&(ie._injector=(0,A.MMx)(ie.providers,D,`Route: ${ie.path}`));const ve=ie._injector??D,rt=ie._loadedInjector??ve;(ie.loadChildren&&!ie._loadedRoutes&&void 0===ie.canLoad||ie.loadComponent&&!ie._loadedComponent)&&H.push(this.preloadConfig(ve,ie)),(ie.children||ie._loadedRoutes)&&H.push(this.processRoutes(rt,ie.children??ie._loadedRoutes))}return(0,fe.D)(H).pipe((0,fn.J)())}preloadConfig(D,F){return this.preloadingStrategy.preload(F,()=>{let H;H=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(D,F):(0,he.of)(null);const ie=H.pipe((0,Le.z)(ve=>null===ve?(0,he.of)(void 0):(F._loadedRoutes=ve.routes,F._loadedInjector=ve.injector,this.processRoutes(ve.injector??D,ve.routes))));if(F.loadComponent&&!F._loadedComponent){const ve=this.loader.loadComponent(F);return(0,fe.D)([ie,ve]).pipe((0,fn.J)())}return ie})}static#e=this.\u0275fac=function(F){return new(F||S)(A.LFG(mr),A.LFG(A.Sil),A.LFG(A.lqb),A.LFG(Su),A.LFG(ii))};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const zo=new A.OlP("");let Oa=(()=>{class S{constructor(D,F,H,ie,ve={}){this.urlSerializer=D,this.transitions=F,this.viewportScroller=H,this.zone=ie,this.options=ve,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ve.scrollPositionRestoration=ve.scrollPositionRestoration||"disabled",ve.anchorScrolling=ve.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Xs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof Ss?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof Ls&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Zr&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zr(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(F){A.$Z()};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac})}return S})();function Eo(S,k){return{\u0275kind:S,\u0275providers:k}}function Ga(){const S=(0,A.f3M)(A.zs3);return k=>{const D=S.get(A.z2F);if(k!==D.components[0])return;const F=S.get(mr),H=S.get(xu);1===S.get(fa)&&F.initialNavigation(),S.get(Yr,null,A.XFs.Optional)?.setUpPreloading(),S.get(zo,null,A.XFs.Optional)?.init(),F.resetRootComponentType(D.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const xu=new A.OlP("",{factory:()=>new xt.x}),fa=new A.OlP("",{providedIn:"root",factory:()=>1}),Yr=new A.OlP("");function pd(S){return Eo(0,[{provide:Yr,useExisting:$n},{provide:Su,useExisting:S}])}const ur=new A.OlP("ROUTER_FORROOT_GUARD"),Ru=[cn.Ye,{provide:ei,useClass:gi},mr,Bi,{provide:go,useFactory:function wn(S){return S.routerState.root},deps:[mr]},ii,[]];function Qe(){return new A.PXZ("Router",mr)}let xi=(()=>{class S{constructor(D){}static forRoot(D,F){return{ngModule:S,providers:[Ru,[],{provide:Er,multi:!0,useValue:D},{provide:ur,useFactory:Go,deps:[[mr,new A.FiY,new A.tp0]]},{provide:dn,useValue:F||{}},F?.useHash?{provide:cn.S$,useClass:cn.Do}:{provide:cn.S$,useClass:cn.b0},{provide:zo,useFactory:()=>{const S=(0,A.f3M)(cn.EM),k=(0,A.f3M)(A.R0b),D=(0,A.f3M)(dn),F=(0,A.f3M)(Si),H=(0,A.f3M)(ei);return D.scrollOffset&&S.setOffset(D.scrollOffset),new Oa(H,F,S,k,D)}},F?.preloadingStrategy?pd(F.preloadingStrategy).\u0275providers:[],{provide:A.PXZ,multi:!0,useFactory:Qe},F?.initialNavigation?ul(F):[],F?.bindToComponentInputs?Eo(8,[Xe,{provide:Ne,useExisting:Xe}]).\u0275providers:[],[{provide:ga,useFactory:Ga},{provide:A.tb,multi:!0,useExisting:ga}]]}}static forChild(D){return{ngModule:S,providers:[{provide:Er,multi:!0,useValue:D}]}}static#e=this.\u0275fac=function(F){return new(F||S)(A.LFG(ur,8))};static#t=this.\u0275mod=A.oAB({type:S});static#n=this.\u0275inj=A.cJS({})}return S})();function Go(S){return"guarded"}function ul(S){return["disabled"===S.initialNavigation?Eo(3,[{provide:A.ip1,multi:!0,useFactory:()=>{const k=(0,A.f3M)(mr);return()=>{k.setUpLocationChangeListener()}}},{provide:fa,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?Eo(2,[{provide:fa,useValue:0},{provide:A.ip1,multi:!0,deps:[A.zs3],useFactory:k=>{const D=k.get(cn.V_,Promise.resolve());return()=>D.then(()=>new Promise(F=>{const H=k.get(mr),ie=k.get(xu);lt(H,()=>{F(!0)}),k.get(Si).afterPreactivation=()=>(F(!0),ie.closed?(0,he.of)(void 0):ie),H.initialNavigation()}))}}]).\u0275providers:[]]}const ga=new A.OlP("")},534:(vn,ft,X)=>{X.d(ft,{Jn:()=>Wi,qX:()=>pr,Xd:()=>Mr,Mq:()=>Xr,C6:()=>ir,ZF:()=>Cr,KN:()=>Ci});var A=X(5861),T=X(4537),se=X(7879),z=X(9058);const fe=(Te,Ee)=>Ee.some($e=>Te instanceof $e);let he,Ke;const ge=new WeakMap,_e=new WeakMap,qe=new WeakMap,Ce=new WeakMap,vt=new WeakMap;let Nt={get(Te,Ee,$e){if(Te instanceof IDBTransaction){if("done"===Ee)return _e.get(Te);if("objectStoreNames"===Ee)return Te.objectStoreNames||qe.get(Te);if("store"===Ee)return $e.objectStoreNames[1]?void 0:$e.objectStore($e.objectStoreNames[0])}return dt(Te[Ee])},set:(Te,Ee,$e)=>(Te[Ee]=$e,!0),has:(Te,Ee)=>Te instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in Te};function fn(Te){return"function"==typeof Te?function Dn(Te){return Te!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ze(){return Ke||(Ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Te)?function(...Ee){return Te.apply(Ye(this),Ee),dt(ge.get(this))}:function(...Ee){return dt(Te.apply(Ye(this),Ee))}:function(Ee,...$e){const et=Te.call(Ye(this),Ee,...$e);return qe.set(et,Ee.sort?Ee.sort():[Ee]),dt(et)}}(Te):(Te instanceof IDBTransaction&&function $t(Te){if(_e.has(Te))return;const Ee=new Promise(($e,et)=>{const Zt=()=>{Te.removeEventListener("complete",wt),Te.removeEventListener("error",gn),Te.removeEventListener("abort",gn)},wt=()=>{$e(),Zt()},gn=()=>{et(Te.error||new DOMException("AbortError","AbortError")),Zt()};Te.addEventListener("complete",wt),Te.addEventListener("error",gn),Te.addEventListener("abort",gn)});_e.set(Te,Ee)}(Te),fe(Te,function Dt(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Te,Nt):Te)}function dt(Te){if(Te instanceof IDBRequest)return function je(Te){const Ee=new Promise(($e,et)=>{const Zt=()=>{Te.removeEventListener("success",wt),Te.removeEventListener("error",gn)},wt=()=>{$e(dt(Te.result)),Zt()},gn=()=>{et(Te.error),Zt()};Te.addEventListener("success",wt),Te.addEventListener("error",gn)});return Ee.then($e=>{$e instanceof IDBCursor&&ge.set($e,Te)}).catch(()=>{}),vt.set(Ee,Te),Ee}(Te);if(Ce.has(Te))return Ce.get(Te);const Ee=fn(Te);return Ee!==Te&&(Ce.set(Te,Ee),vt.set(Ee,Te)),Ee}const Ye=Te=>vt.get(Te),pt=["get","getKey","getAll","getAllKeys","count"],gt=["put","add","delete","clear"],Tt=new Map;function Tn(Te,Ee){if(!(Te instanceof IDBDatabase)||Ee in Te||"string"!=typeof Ee)return;if(Tt.get(Ee))return Tt.get(Ee);const $e=Ee.replace(/FromIndex$/,""),et=Ee!==$e,Zt=gt.includes($e);if(!($e in(et?IDBIndex:IDBObjectStore).prototype)||!Zt&&!pt.includes($e))return;const wt=function(){var gn=(0,A.Z)(function*(gr,...An){const li=this.transaction(gr,Zt?"readwrite":"readonly");let As=li.store;return et&&(As=As.index(An.shift())),(yield Promise.all([As[$e](...An),Zt&&li.done]))[0]});return function(An){return gn.apply(this,arguments)}}();return Tt.set(Ee,wt),wt}!function _n(Te){Nt=Te(Nt)}(Te=>({...Te,get:(Ee,$e,et)=>Tn(Ee,$e)||Te.get(Ee,$e,et),has:(Ee,$e)=>!!Tn(Ee,$e)||Te.has(Ee,$e)}));class zn{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map($e=>{if(function St(Te){const Ee=Te.getComponent();return"VERSION"===Ee?.type}($e)){const et=$e.getImmediate();return`${et.library}/${et.version}`}return null}).filter($e=>$e).join(" ")}}const Cn="@firebase/app",cn=new se.Yd("@firebase/app"),fr="[DEFAULT]",nn={[Cn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jt=new Map,Rr=new Map;function ai(Te,Ee){try{Te.container.addComponent(Ee)}catch($e){cn.debug(`Component ${Ee.name} failed to register with FirebaseApp ${Te.name}`,$e)}}function Mr(Te){const Ee=Te.name;if(Rr.has(Ee))return cn.debug(`There were multiple attempts to register component ${Ee}.`),!1;Rr.set(Ee,Te);for(const $e of Jt.values())ai($e,Te);return!0}function pr(Te,Ee){const $e=Te.container.getProvider("heartbeat").getImmediate({optional:!0});return $e&&$e.triggerHeartbeat(),Te.container.getProvider(Ee)}const Yt=new z.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gs{constructor(Ee,$e,et){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},$e),this._name=$e.name,this._automaticDataCollectionEnabled=$e.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new T.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw Yt.create("app-deleted",{appName:this._name})}}const Wi="10.7.1";function Cr(Te,Ee={}){let $e=Te;"object"!=typeof Ee&&(Ee={name:Ee});const et=Object.assign({name:fr,automaticDataCollectionEnabled:!1},Ee),Zt=et.name;if("string"!=typeof Zt||!Zt)throw Yt.create("bad-app-name",{appName:String(Zt)});if($e||($e=(0,z.aH)()),!$e)throw Yt.create("no-options");const wt=Jt.get(Zt);if(wt){if((0,z.vZ)($e,wt.options)&&(0,z.vZ)(et,wt.config))return wt;throw Yt.create("duplicate-app",{appName:Zt})}const gn=new T.H0(Zt);for(const An of Rr.values())gn.addComponent(An);const gr=new gs($e,et,gn);return Jt.set(Zt,gr),gr}function Xr(Te=fr){const Ee=Jt.get(Te);if(!Ee&&Te===fr&&(0,z.aH)())return Cr();if(!Ee)throw Yt.create("no-app",{appName:Te});return Ee}function ir(){return Array.from(Jt.values())}function Ci(Te,Ee,$e){var et;let Zt=null!==(et=nn[Te])&&void 0!==et?et:Te;$e&&(Zt+=`-${$e}`);const wt=Zt.match(/\s|\//),gn=Ee.match(/\s|\//);if(wt||gn){const gr=[`Unable to register library "${Zt}" with version "${Ee}":`];return wt&&gr.push(`library name "${Zt}" contains illegal characters (whitespace or "/")`),wt&&gn&&gr.push("and"),gn&&gr.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void cn.warn(gr.join(" "))}Mr(new T.wA(`${Zt}-version`,()=>({library:Zt,version:Ee}),"VERSION"))}const ei="firebase-heartbeat-database",gi=1,xe="firebase-heartbeat-store";let re=null;function ae(){return re||(re=function at(Te,Ee,{blocked:$e,upgrade:et,blocking:Zt,terminated:wt}={}){const gn=indexedDB.open(Te,Ee),gr=dt(gn);return et&&gn.addEventListener("upgradeneeded",An=>{et(dt(gn.result),An.oldVersion,An.newVersion,dt(gn.transaction),An)}),$e&&gn.addEventListener("blocked",An=>$e(An.oldVersion,An.newVersion,An)),gr.then(An=>{wt&&An.addEventListener("close",()=>wt()),Zt&&An.addEventListener("versionchange",li=>Zt(li.oldVersion,li.newVersion,li))}).catch(()=>{}),gr}(ei,gi,{upgrade:(Te,Ee)=>{0===Ee&&Te.createObjectStore(xe)}}).catch(Te=>{throw Yt.create("idb-open",{originalErrorMessage:Te.message})})),re}function ce(){return(ce=(0,A.Z)(function*(Te){try{return yield(yield ae()).transaction(xe).objectStore(xe).get(Lt(Te))}catch(Ee){if(Ee instanceof z.ZR)cn.warn(Ee.message);else{const $e=Yt.create("idb-get",{originalErrorMessage:Ee?.message});cn.warn($e.message)}}})).apply(this,arguments)}function Ue(Te,Ee){return mt.apply(this,arguments)}function mt(){return(mt=(0,A.Z)(function*(Te,Ee){try{const et=(yield ae()).transaction(xe,"readwrite");yield et.objectStore(xe).put(Ee,Lt(Te)),yield et.done}catch($e){if($e instanceof z.ZR)cn.warn($e.message);else{const et=Yt.create("idb-set",{originalErrorMessage:$e?.message});cn.warn(et.message)}}})).apply(this,arguments)}function Lt(Te){return`${Te.name}!${Te.options.appId}`}class Wn{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const $e=this.container.getProvider("app").getImmediate();this._storage=new He($e),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var Ee=this;return(0,A.Z)(function*(){var $e,et;const wt=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),gn=jn();if((null!=(null===($e=Ee._heartbeatsCache)||void 0===$e?void 0:$e.heartbeats)||(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise,null!=(null===(et=Ee._heartbeatsCache)||void 0===et?void 0:et.heartbeats)))&&Ee._heartbeatsCache.lastSentHeartbeatDate!==gn&&!Ee._heartbeatsCache.heartbeats.some(gr=>gr.date===gn))return Ee._heartbeatsCache.heartbeats.push({date:gn,agent:wt}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(gr=>{const An=new Date(gr.date).valueOf();return Date.now()-An<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache)})()}getHeartbeatsHeader(){var Ee=this;return(0,A.Z)(function*(){var $e;if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null==(null===($e=Ee._heartbeatsCache)||void 0===$e?void 0:$e.heartbeats)||0===Ee._heartbeatsCache.heartbeats.length)return"";const et=jn(),{heartbeatsToSend:Zt,unsentEntries:wt}=function cr(Te,Ee=1024){const $e=[];let et=Te.slice();for(const Zt of Te){const wt=$e.find(gn=>gn.agent===Zt.agent);if(wt){if(wt.dates.push(Zt.date),Ae($e)>Ee){wt.dates.pop();break}}else if($e.push({agent:Zt.agent,dates:[Zt.date]}),Ae($e)>Ee){$e.pop();break}et=et.slice(1)}return{heartbeatsToSend:$e,unsentEntries:et}}(Ee._heartbeatsCache.heartbeats),gn=(0,z.L)(JSON.stringify({version:2,heartbeats:Zt}));return Ee._heartbeatsCache.lastSentHeartbeatDate=et,wt.length>0?(Ee._heartbeatsCache.heartbeats=wt,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),gn})()}}function jn(){return(new Date).toISOString().substring(0,10)}class He{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,A.Z)(function*(){return!!(0,z.hl)()&&(0,z.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,A.Z)(function*(){if(yield Ee._canUseIndexedDBPromise){const et=yield function le(Te){return ce.apply(this,arguments)}(Ee.app);return et?.heartbeats?et:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ee){var $e=this;return(0,A.Z)(function*(){var et;if(yield $e._canUseIndexedDBPromise){const wt=yield $e.read();return Ue($e.app,{lastSentHeartbeatDate:null!==(et=Ee.lastSentHeartbeatDate)&&void 0!==et?et:wt.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var $e=this;return(0,A.Z)(function*(){var et;if(yield $e._canUseIndexedDBPromise){const wt=yield $e.read();return Ue($e.app,{lastSentHeartbeatDate:null!==(et=Ee.lastSentHeartbeatDate)&&void 0!==et?et:wt.lastSentHeartbeatDate,heartbeats:[...wt.heartbeats,...Ee.heartbeats]})}})()}}function Ae(Te){return(0,z.L)(JSON.stringify({version:2,heartbeats:Te})).length}!function Pe(Te){Mr(new T.wA("platform-logger",Ee=>new zn(Ee),"PRIVATE")),Mr(new T.wA("heartbeat",Ee=>new Wn(Ee),"PRIVATE")),Ci(Cn,"0.9.25",Te),Ci(Cn,"0.9.25","esm2017"),Ci("fire-js","")}("")},4537:(vn,ft,X)=>{X.d(ft,{H0:()=>Dt,wA:()=>se});var A=X(5861),T=X(9058);class se{constructor(ge,_e,qe){this.name=ge,this.instanceFactory=_e,this.type=qe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ge){return this.instantiationMode=ge,this}setMultipleInstances(ge){return this.multipleInstances=ge,this}setServiceProps(ge){return this.serviceProps=ge,this}setInstanceCreatedCallback(ge){return this.onInstanceCreated=ge,this}}const z="[DEFAULT]";class fe{constructor(ge,_e){this.name=ge,this.container=_e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ge){const _e=this.normalizeInstanceIdentifier(ge);if(!this.instancesDeferred.has(_e)){const qe=new T.BH;if(this.instancesDeferred.set(_e,qe),this.isInitialized(_e)||this.shouldAutoInitialize())try{const Ce=this.getOrInitializeService({instanceIdentifier:_e});Ce&&qe.resolve(Ce)}catch{}}return this.instancesDeferred.get(_e).promise}getImmediate(ge){var _e;const qe=this.normalizeInstanceIdentifier(ge?.identifier),Ce=null!==(_e=ge?.optional)&&void 0!==_e&&_e;if(!this.isInitialized(qe)&&!this.shouldAutoInitialize()){if(Ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:qe})}catch(vt){if(Ce)return null;throw vt}}getComponent(){return this.component}setComponent(ge){if(ge.name!==this.name)throw Error(`Mismatching Component ${ge.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ge,this.shouldAutoInitialize()){if(function Ke(Ze){return"EAGER"===Ze.instantiationMode}(ge))try{this.getOrInitializeService({instanceIdentifier:z})}catch{}for(const[_e,qe]of this.instancesDeferred.entries()){const Ce=this.normalizeInstanceIdentifier(_e);try{const vt=this.getOrInitializeService({instanceIdentifier:Ce});qe.resolve(vt)}catch{}}}}clearInstance(ge=z){this.instancesDeferred.delete(ge),this.instancesOptions.delete(ge),this.instances.delete(ge)}delete(){var ge=this;return(0,A.Z)(function*(){const _e=Array.from(ge.instances.values());yield Promise.all([..._e.filter(qe=>"INTERNAL"in qe).map(qe=>qe.INTERNAL.delete()),..._e.filter(qe=>"_delete"in qe).map(qe=>qe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ge=z){return this.instances.has(ge)}getOptions(ge=z){return this.instancesOptions.get(ge)||{}}initialize(ge={}){const{options:_e={}}=ge,qe=this.normalizeInstanceIdentifier(ge.instanceIdentifier);if(this.isInitialized(qe))throw Error(`${this.name}(${qe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ce=this.getOrInitializeService({instanceIdentifier:qe,options:_e});for(const[vt,je]of this.instancesDeferred.entries())qe===this.normalizeInstanceIdentifier(vt)&&je.resolve(Ce);return Ce}onInit(ge,_e){var qe;const Ce=this.normalizeInstanceIdentifier(_e),vt=null!==(qe=this.onInitCallbacks.get(Ce))&&void 0!==qe?qe:new Set;vt.add(ge),this.onInitCallbacks.set(Ce,vt);const je=this.instances.get(Ce);return je&&ge(je,Ce),()=>{vt.delete(ge)}}invokeOnInitCallbacks(ge,_e){const qe=this.onInitCallbacks.get(_e);if(qe)for(const Ce of qe)try{Ce(ge,_e)}catch{}}getOrInitializeService({instanceIdentifier:ge,options:_e={}}){let qe=this.instances.get(ge);if(!qe&&this.component&&(qe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ze=ge,Ze===z?void 0:Ze),options:_e}),this.instances.set(ge,qe),this.instancesOptions.set(ge,_e),this.invokeOnInitCallbacks(qe,ge),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ge,qe)}catch{}var Ze;return qe||null}normalizeInstanceIdentifier(ge=z){return this.component?this.component.multipleInstances?ge:z:ge}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Dt{constructor(ge){this.name=ge,this.providers=new Map}addComponent(ge){const _e=this.getProvider(ge.name);if(_e.isComponentSet())throw new Error(`Component ${ge.name} has already been registered with ${this.name}`);_e.setComponent(ge)}addOrOverwriteComponent(ge){this.getProvider(ge.name).isComponentSet()&&this.providers.delete(ge.name),this.addComponent(ge)}getProvider(ge){if(this.providers.has(ge))return this.providers.get(ge);const _e=new fe(ge,this);return this.providers.set(ge,_e),_e}getProviders(){return Array.from(this.providers.values())}}},7879:(vn,ft,X)=>{X.d(ft,{Yd:()=>Ke,in:()=>T});const A=[];var T=function(ge){return ge[ge.DEBUG=0]="DEBUG",ge[ge.VERBOSE=1]="VERBOSE",ge[ge.INFO=2]="INFO",ge[ge.WARN=3]="WARN",ge[ge.ERROR=4]="ERROR",ge[ge.SILENT=5]="SILENT",ge}(T||{});const se={debug:T.DEBUG,verbose:T.VERBOSE,info:T.INFO,warn:T.WARN,error:T.ERROR,silent:T.SILENT},z=T.INFO,fe={[T.DEBUG]:"log",[T.VERBOSE]:"log",[T.INFO]:"info",[T.WARN]:"warn",[T.ERROR]:"error"},he=(ge,_e,...qe)=>{if(_e<ge.logLevel)return;const Ce=(new Date).toISOString(),vt=fe[_e];if(!vt)throw new Error(`Attempted to log a message with an invalid logType (value: ${_e})`);console[vt](`[${Ce}]  ${ge.name}:`,...qe)};class Ke{constructor(_e){this.name=_e,this._logLevel=z,this._logHandler=he,this._userLogHandler=null,A.push(this)}get logLevel(){return this._logLevel}set logLevel(_e){if(!(_e in T))throw new TypeError(`Invalid value "${_e}" assigned to \`logLevel\``);this._logLevel=_e}setLogLevel(_e){this._logLevel="string"==typeof _e?se[_e]:_e}get logHandler(){return this._logHandler}set logHandler(_e){if("function"!=typeof _e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_e}get userLogHandler(){return this._userLogHandler}set userLogHandler(_e){this._userLogHandler=_e}debug(..._e){this._userLogHandler&&this._userLogHandler(this,T.DEBUG,..._e),this._logHandler(this,T.DEBUG,..._e)}log(..._e){this._userLogHandler&&this._userLogHandler(this,T.VERBOSE,..._e),this._logHandler(this,T.VERBOSE,..._e)}info(..._e){this._userLogHandler&&this._userLogHandler(this,T.INFO,..._e),this._logHandler(this,T.INFO,..._e)}warn(..._e){this._userLogHandler&&this._userLogHandler(this,T.WARN,..._e),this._logHandler(this,T.WARN,..._e)}error(..._e){this._userLogHandler&&this._userLogHandler(this,T.ERROR,..._e),this._logHandler(this,T.ERROR,..._e)}}},3182:(vn,ft,X)=>{X.d(ft,{C6:()=>A.C6,KN:()=>A.KN,Mq:()=>A.Mq,ZF:()=>A.ZF});var A=X(534);(0,A.KN)("firebase","10.7.1","app")},8243:(vn,ft,X)=>{X.d(ft,{Jt:()=>qi,cF:()=>Fs,iH:()=>ca,B0:()=>cs});var A=X(5861),T=X(534),se=X(9058),z=X(4537);const fe="firebasestorage.googleapis.com",he="storageBucket";class ge extends se.ZR{constructor(Y,be,we=0){super(qe(Y),`Firebase Storage: ${be} (${qe(Y)})`),this.status_=we,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ge.prototype)}get status(){return this.status_}set status(Y){this.status_=Y}_codeEquals(Y){return qe(Y)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Y){this.customData.serverResponse=Y,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var _e=function(q){return q.UNKNOWN="unknown",q.OBJECT_NOT_FOUND="object-not-found",q.BUCKET_NOT_FOUND="bucket-not-found",q.PROJECT_NOT_FOUND="project-not-found",q.QUOTA_EXCEEDED="quota-exceeded",q.UNAUTHENTICATED="unauthenticated",q.UNAUTHORIZED="unauthorized",q.UNAUTHORIZED_APP="unauthorized-app",q.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",q.INVALID_CHECKSUM="invalid-checksum",q.CANCELED="canceled",q.INVALID_EVENT_NAME="invalid-event-name",q.INVALID_URL="invalid-url",q.INVALID_DEFAULT_BUCKET="invalid-default-bucket",q.NO_DEFAULT_BUCKET="no-default-bucket",q.CANNOT_SLICE_BLOB="cannot-slice-blob",q.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",q.NO_DOWNLOAD_URL="no-download-url",q.INVALID_ARGUMENT="invalid-argument",q.INVALID_ARGUMENT_COUNT="invalid-argument-count",q.APP_DELETED="app-deleted",q.INVALID_ROOT_OPERATION="invalid-root-operation",q.INVALID_FORMAT="invalid-format",q.INTERNAL_ERROR="internal-error",q.UNSUPPORTED_ENVIRONMENT="unsupported-environment",q}(_e||{});function qe(q){return"storage/"+q}function Ce(){return new ge(_e.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Dn(){return new ge(_e.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fn(){return new ge(_e.CANCELED,"User canceled the upload/download.")}function ct(){return new ge(_e.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Tn(q){return new ge(_e.INVALID_ARGUMENT,q)}function zn(){return new ge(_e.APP_DELETED,"The Firebase app was deleted.")}function Cn(q,Y){return new ge(_e.INVALID_FORMAT,"String does not match format '"+q+"': "+Y)}function xt(q){throw new ge(_e.INTERNAL_ERROR,"Internal error: "+q)}class cn{constructor(Y,be){this.bucket=Y,this.path_=be}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Y=encodeURIComponent;return"/b/"+Y(this.bucket)+"/o/"+Y(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Y,be){let we;try{we=cn.makeFromUrl(Y,be)}catch{return new cn(Y,"")}if(""===we.path)return we;throw function Ye(q){return new ge(_e.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+q+"'.")}(Y)}static makeFromUrl(Y,be){let we=null;const Ne="([A-Za-z0-9.\\-_]+)",un=new RegExp("^gs://"+Ne+"(/(.*))?$","i");function Fn(ri){ri.path_=decodeURIComponent(ri.path)}const Nr=be.replace(/[.]/g,"\\."),br=[{regex:un,indices:{bucket:1,path:3},postModify:function Xe(ri){"/"===ri.path.charAt(ri.path.length-1)&&(ri.path_=ri.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Nr}/v[A-Za-z0-9_]+/b/${Ne}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Fn},{regex:new RegExp(`^https?://${be===fe?"(?:storage.googleapis.com|storage.cloud.google.com)":be}/${Ne}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Fn}];for(let ri=0;ri<br.length;ri++){const ki=br[ri],Qn=ki.regex.exec(Y);if(Qn){let Us=Qn[ki.indices.path];Us||(Us=""),we=new cn(Qn[ki.indices.bucket],Us),ki.postModify(we);break}}if(null==we)throw function dt(q){return new ge(_e.INVALID_URL,"Invalid URL '"+q+"'.")}(Y);return we}}class Gt{constructor(Y){this.promise_=Promise.reject(Y)}getPromise(){return this.promise_}cancel(Y=!1){}}function ze(q){return"string"==typeof q||q instanceof String}function Ge(q){return ot()&&q instanceof Blob}function ot(){return typeof Blob<"u"}function yt(q,Y,be,we){if(we<Y)throw Tn(`Invalid value for '${q}'. Expected ${Y} or greater.`);if(we>be)throw Tn(`Invalid value for '${q}'. Expected ${be} or less.`)}function Vt(q,Y,be){let we=Y;return null==be&&(we=`https://${Y}`),`${be}://${we}/v0${q}`}function kt(q){const Y=encodeURIComponent;let be="?";for(const we in q)q.hasOwnProperty(we)&&(be=be+(Y(we)+"=")+Y(q[we])+"&");return be=be.slice(0,-1),be}var pn=function(q){return q[q.NO_ERROR=0]="NO_ERROR",q[q.NETWORK_ERROR=1]="NETWORK_ERROR",q[q.ABORT=2]="ABORT",q}(pn||{});function hr(q,Y){const be=q>=500&&q<600,Ne=-1!==[408,429].indexOf(q),Xe=-1!==Y.indexOf(q);return be||Ne||Xe}class Gn{constructor(Y,be,we,Ne,Xe,Bt,un,It,Fn,Xn,Nr,Yn=!0){this.url_=Y,this.method_=be,this.headers_=we,this.body_=Ne,this.successCodes_=Xe,this.additionalRetryCodes_=Bt,this.callback_=un,this.errorCallback_=It,this.timeout_=Fn,this.progressCallback_=Xn,this.connectionFactory_=Nr,this.retry=Yn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((kr,Vr)=>{this.resolve_=kr,this.reject_=Vr,this.start_()})}start_(){const be=(we,Ne)=>{const Xe=this.resolve_,Bt=this.reject_,un=Ne.connection;if(Ne.wasSuccessCode)try{const It=this.callback_(un,un.getResponse());!function De(q){return void 0!==q}(It)?Xe():Xe(It)}catch(It){Bt(It)}else if(null!==un){const It=Ce();It.serverResponse=un.getErrorText(),Bt(this.errorCallback_?this.errorCallback_(un,It):It)}else Bt(Ne.canceled?this.appDelete_?zn():fn():Dn())};this.canceled_?be(0,new xr(!1,null,!0)):this.backoffId_=function ut(q,Y,be){let we=1,Ne=null,Xe=null,Bt=!1,un=0;function It(){return 2===un}let Fn=!1;function Xn(...Ur){Fn||(Fn=!0,Y.apply(null,Ur))}function Nr(Ur){Ne=setTimeout(()=>{Ne=null,q(kr,It())},Ur)}function Yn(){Xe&&clearTimeout(Xe)}function kr(Ur,...mo){if(Fn)return void Yn();if(Ur)return Yn(),void Xn.call(null,Ur,...mo);if(It()||Bt)return Yn(),void Xn.call(null,Ur,...mo);let br;we<64&&(we*=2),1===un?(un=2,br=0):br=1e3*(we+Math.random()),Nr(br)}let Vr=!1;function Kr(Ur){Vr||(Vr=!0,Yn(),!Fn&&(null!==Ne?(Ur||(un=2),clearTimeout(Ne),Nr(0)):Ur||(un=1)))}return Nr(0),Xe=setTimeout(()=>{Bt=!0,Kr(!0)},be),Kr}((we,Ne)=>{if(Ne)return void we(!1,new xr(!1,null,!0));const Xe=this.connectionFactory_();this.pendingConnection_=Xe;const Bt=un=>{null!==this.progressCallback_&&this.progressCallback_(un.loaded,un.lengthComputable?un.total:-1)};null!==this.progressCallback_&&Xe.addUploadProgressListener(Bt),Xe.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Xe.removeUploadProgressListener(Bt),this.pendingConnection_=null;const un=Xe.getErrorCode()===pn.NO_ERROR,It=Xe.getStatus();if(!un||hr(It,this.additionalRetryCodes_)&&this.retry){const Xn=Xe.getErrorCode()===pn.ABORT;return void we(!1,new xr(!1,null,Xn))}const Fn=-1!==this.successCodes_.indexOf(It);we(!0,new xr(Fn,Xe))})},be,this.timeout_)}getPromise(){return this.promise_}cancel(Y){this.canceled_=!0,this.appDelete_=Y||!1,null!==this.backoffId_&&function We(q){q(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class xr{constructor(Y,be,we){this.wasSuccessCode=Y,this.connection=be,this.canceled=!!we}}function ln(...q){const Y=function Zn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Y){const be=new Y;for(let we=0;we<q.length;we++)be.append(q[we]);return be.getBlob()}if(ot())return new Blob(q);throw new ge(_e.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const fr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class nn{constructor(Y,be){this.data=Y,this.contentType=be||null}}function Rr(q){const Y=[];for(let be=0;be<q.length;be++){let we=q.charCodeAt(be);we<=127?Y.push(we):we<=2047?Y.push(192|we>>6,128|63&we):55296==(64512&we)?be<q.length-1&&56320==(64512&q.charCodeAt(be+1))?(we=65536|(1023&we)<<10|1023&q.charCodeAt(++be),Y.push(240|we>>18,128|we>>12&63,128|we>>6&63,128|63&we)):Y.push(239,191,189):56320==(64512&we)?Y.push(239,191,189):Y.push(224|we>>12,128|we>>6&63,128|63&we)}return new Uint8Array(Y)}function pi(q,Y){switch(q){case fr.BASE64:{const Ne=-1!==Y.indexOf("-"),Xe=-1!==Y.indexOf("_");if(Ne||Xe)throw Cn(q,"Invalid character '"+(Ne?"-":"_")+"' found: is it base64url encoded?");break}case fr.BASE64URL:{const Ne=-1!==Y.indexOf("+"),Xe=-1!==Y.indexOf("/");if(Ne||Xe)throw Cn(q,"Invalid character '"+(Ne?"+":"/")+"' found: is it base64 encoded?");Y=Y.replace(/-/g,"+").replace(/_/g,"/");break}}let be;try{be=function sr(q){if(typeof atob>"u")throw function Tt(q){return new ge(_e.UNSUPPORTED_ENVIRONMENT,`${q} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(q)}(Y)}catch(Ne){throw Ne.message.includes("polyfill")?Ne:Cn(q,"Invalid character found")}const we=new Uint8Array(be.length);for(let Ne=0;Ne<be.length;Ne++)we[Ne]=be.charCodeAt(Ne);return we}class Mr{constructor(Y){this.base64=!1,this.contentType=null;const be=Y.match(/^data:([^,]+)?,/);if(null===be)throw Cn(fr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const we=be[1]||null;null!=we&&(this.base64=function Pr(q,Y){return q.length>=Y.length&&q.substring(q.length-Y.length)===Y}(we,";base64"),this.contentType=this.base64?we.substring(0,we.length-7):we),this.rest=Y.substring(Y.indexOf(",")+1)}}class ts{constructor(Y,be){let we=0,Ne="";Ge(Y)?(this.data_=Y,we=Y.size,Ne=Y.type):Y instanceof ArrayBuffer?(be?this.data_=new Uint8Array(Y):(this.data_=new Uint8Array(Y.byteLength),this.data_.set(new Uint8Array(Y))),we=this.data_.length):Y instanceof Uint8Array&&(be?this.data_=Y:(this.data_=new Uint8Array(Y.length),this.data_.set(Y)),we=Y.length),this.size_=we,this.type_=Ne}size(){return this.size_}type(){return this.type_}slice(Y,be){if(Ge(this.data_)){const Ne=function In(q,Y,be){return q.webkitSlice?q.webkitSlice(Y,be):q.mozSlice?q.mozSlice(Y,be):q.slice?q.slice(Y,be):null}(this.data_,Y,be);return null===Ne?null:new ts(Ne)}{const we=new Uint8Array(this.data_.buffer,Y,be-Y);return new ts(we,!0)}}static getBlob(...Y){if(ot()){const be=Y.map(we=>we instanceof ts?we.data_:we);return new ts(ln.apply(null,be))}{const be=Y.map(Bt=>ze(Bt)?function Jt(q,Y){switch(q){case fr.RAW:return new nn(Rr(Y));case fr.BASE64:case fr.BASE64URL:return new nn(pi(q,Y));case fr.DATA_URL:return new nn(function pr(q){const Y=new Mr(q);return Y.base64?pi(fr.BASE64,Y.rest):function ai(q){let Y;try{Y=decodeURIComponent(q)}catch{throw Cn(fr.DATA_URL,"Malformed data URL.")}return Rr(Y)}(Y.rest)}(Y),function wi(q){return new Mr(q).contentType}(Y))}throw Ce()}(fr.RAW,Bt).data:Bt.data_);let we=0;be.forEach(Bt=>{we+=Bt.byteLength});const Ne=new Uint8Array(we);let Xe=0;return be.forEach(Bt=>{for(let un=0;un<Bt.length;un++)Ne[Xe++]=Bt[un]}),new ts(Ne,!0)}}uploadData(){return this.data_}}function Yt(q){let Y;try{Y=JSON.parse(q)}catch{return null}return function Le(q){return"object"==typeof q&&!Array.isArray(q)}(Y)?Y:null}function Cr(q){const Y=q.lastIndexOf("/",q.length-2);return-1===Y?q:q.slice(Y+1)}function Xr(q,Y){return Y}class ir{constructor(Y,be,we,Ne){this.server=Y,this.local=be||Y,this.writable=!!we,this.xform=Ne||Xr}}let rn=null;function Ci(){if(rn)return rn;const q=[];q.push(new ir("bucket")),q.push(new ir("generation")),q.push(new ir("metageneration")),q.push(new ir("name","fullPath",!0));const be=new ir("name");be.xform=function Y(Xe,Bt){return function Mi(q){return!ze(q)||q.length<2?q:Cr(q)}(Bt)},q.push(be);const Ne=new ir("size");return Ne.xform=function we(Xe,Bt){return void 0!==Bt?Number(Bt):Bt},q.push(Ne),q.push(new ir("timeCreated")),q.push(new ir("updated")),q.push(new ir("md5Hash",null,!0)),q.push(new ir("cacheControl",null,!0)),q.push(new ir("contentDisposition",null,!0)),q.push(new ir("contentEncoding",null,!0)),q.push(new ir("contentLanguage",null,!0)),q.push(new ir("contentType",null,!0)),q.push(new ir("metadata","customMetadata",!0)),rn=q,rn}function ei(q,Y,be){const we=Yt(Y);return null===we?null:function On(q,Y,be){const we={type:"file"},Ne=be.length;for(let Xe=0;Xe<Ne;Xe++){const Bt=be[Xe];we[Bt.local]=Bt.xform(we,Y[Bt.server])}return function Ut(q,Y){Object.defineProperty(q,"ref",{get:function be(){const Xe=new cn(q.bucket,q.fullPath);return Y._makeStorageReference(Xe)}})}(we,q),we}(q,we,be)}function xe(q,Y){const be={},we=Y.length;for(let Ne=0;Ne<we;Ne++){const Xe=Y[Ne];Xe.writable&&(be[Xe.server]=q[Xe.local])}return JSON.stringify(be)}class Ue{constructor(Y,be,we,Ne){this.url=Y,this.method=be,this.handler=we,this.timeout=Ne,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function mt(q){if(!q)throw Ce()}function Lt(q,Y){return function be(we,Ne){const Xe=ei(q,Ne,Y);return mt(null!==Xe),Xe}}function Wn(q){return function Y(be,we){let Ne;return Ne=401===be.getStatus()?be.getErrorText().includes("Firebase App Check token is invalid")?function Nt(){return new ge(_e.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function $t(){return new ge(_e.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===be.getStatus()?function je(q){return new ge(_e.QUOTA_EXCEEDED,"Quota for bucket '"+q+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(q.bucket):403===be.getStatus()?function _n(q){return new ge(_e.UNAUTHORIZED,"User does not have permission to access '"+q+"'.")}(q.path):we,Ne.status=be.getStatus(),Ne.serverResponse=we.serverResponse,Ne}}function jn(q){const Y=Wn(q);return function be(we,Ne){let Xe=Y(we,Ne);return 404===we.getStatus()&&(Xe=function vt(q){return new ge(_e.OBJECT_NOT_FOUND,"Object '"+q+"' does not exist.")}(q.path)),Xe.serverResponse=Ne.serverResponse,Xe}}function et(q,Y,be){const we=Object.assign({},be);return we.fullPath=q.path,we.size=Y.size(),we.contentType||(we.contentType=function $e(q,Y){return q&&q.contentType||Y&&Y.type()||"application/octet-stream"}(null,Y)),we}class wt{constructor(Y,be,we,Ne){this.current=Y,this.total=be,this.finalized=!!we,this.metadata=Ne||null}}function gn(q,Y){let be=null;try{be=q.getResponseHeader("X-Goog-Upload-Status")}catch{mt(!1)}return mt(!!be&&-1!==(Y||["active"]).indexOf(be)),be}function lr(q){switch(q){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}}class ui{constructor(Y,be,we){if(function Be(q){return"function"==typeof q}(Y)||null!=be||null!=we)this.next=Y,this.error=be??void 0,this.complete=we??void 0;else{const Xe=Y;this.next=Xe.next,this.error=Xe.error,this.complete=Xe.complete}}}function ti(q){return(...Y)=>{Promise.resolve().then(()=>q(...Y))}}let Nn=null;class jr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pn.NO_ERROR,this.sendPromise_=new Promise(Y=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pn.ABORT,Y()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pn.NETWORK_ERROR,Y()}),this.xhr_.addEventListener("load",()=>{Y()})})}send(Y,be,we,Ne){if(this.sent_)throw xt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(be,Y,!0),void 0!==Ne)for(const Xe in Ne)Ne.hasOwnProperty(Xe)&&this.xhr_.setRequestHeader(Xe,Ne[Xe].toString());return void 0!==we?this.xhr_.send(we):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Y){return this.xhr_.getResponseHeader(Y)}addUploadProgressListener(Y){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Y)}removeUploadProgressListener(Y){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Y)}}class Ds extends jr{initXhr(){this.xhr_.responseType="text"}}function ni(){return Nn?Nn():new Ds}class ls{constructor(Y,be,we=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Y,this._blob=be,this._metadata=we,this._mappings=Ci(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Ne=>{if(this._request=void 0,this._chunkMultiplier=1,Ne._codeEquals(_e.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Xe=this.isExponentialBackoffExpired();if(hr(Ne.status,[])){if(!Xe)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Ne=Dn()}this._error=Ne,this._transition("error")}},this._metadataErrorHandler=Ne=>{this._request=void 0,Ne._codeEquals(_e.CANCELED)?this.completeTransitions_():(this._error=Ne,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Ne,Xe)=>{this._resolve=Ne,this._reject=Xe,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const Y=this._transferred;return be=>this._updateProgress(Y+be)}_shouldDoResumable(Y){return Y.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(Y){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([be,we])=>{switch(this._state){case"running":Y(be,we);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Y,be)=>{const we=function gr(q,Y,be,we,Ne){const Xe=Y.bucketOnlyServerUrl(),Bt=et(Y,we,Ne),un={name:Bt.fullPath},It=Vt(Xe,q.host,q._protocol),Xn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${we.size()}`,"X-Goog-Upload-Header-Content-Type":Bt.contentType,"Content-Type":"application/json; charset=utf-8"},Nr=xe(Bt,be),Vr=new Ue(It,"POST",function kr(Kr){let Ur;gn(Kr);try{Ur=Kr.getResponseHeader("X-Goog-Upload-URL")}catch{mt(!1)}return mt(ze(Ur)),Ur},q.maxUploadRetryTime);return Vr.urlParams=un,Vr.headers=Xn,Vr.body=Nr,Vr.errorHandler=Wn(Y),Vr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ne=this._ref.storage._makeRequest(we,ni,Y,be);this._request=Ne,Ne.getPromise().then(Xe=>{this._request=void 0,this._uploadUrl=Xe,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Y=this._uploadUrl;this._resolveToken((be,we)=>{const Ne=function An(q,Y,be,we){const It=new Ue(be,"POST",function Xe(Fn){const Xn=gn(Fn,["active","final"]);let Nr=null;try{Nr=Fn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{mt(!1)}Nr||mt(!1);const Yn=Number(Nr);return mt(!isNaN(Yn)),new wt(Yn,we.size(),"final"===Xn)},q.maxUploadRetryTime);return It.headers={"X-Goog-Upload-Command":"query"},It.errorHandler=Wn(Y),It}(this._ref.storage,this._ref._location,Y,this._blob),Xe=this._ref.storage._makeRequest(Ne,ni,be,we);this._request=Xe,Xe.getPromise().then(Bt=>{this._request=void 0,this._updateProgress(Bt.current),this._needToFetchStatus=!1,Bt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Y=262144*this._chunkMultiplier,be=new wt(this._transferred,this._blob.size()),we=this._uploadUrl;this._resolveToken((Ne,Xe)=>{let Bt;try{Bt=function As(q,Y,be,we,Ne,Xe,Bt,un){const It=new wt(0,0);if(Bt?(It.current=Bt.current,It.total=Bt.total):(It.current=0,It.total=we.size()),we.size()!==It.total)throw function pt(){return new ge(_e.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Fn=It.total-It.current;let Xn=Fn;Ne>0&&(Xn=Math.min(Xn,Ne));const Nr=It.current;let kr="";kr=0===Xn?"finalize":Fn===Xn?"upload, finalize":"upload";const Vr={"X-Goog-Upload-Command":kr,"X-Goog-Upload-Offset":`${It.current}`},Kr=we.slice(Nr,Nr+Xn);if(null===Kr)throw ct();const br=new Ue(be,"POST",function Ur(ri,ki){const Qn=gn(ri,["active","final"]),Zo=It.current+Xn,Us=we.size();let Ko;return Ko="final"===Qn?Lt(Y,Xe)(ri,ki):null,new wt(Zo,Us,"final"===Qn,Ko)},Y.maxUploadRetryTime);return br.headers=Vr,br.body=Kr.uploadData(),br.progressCallback=un||null,br.errorHandler=Wn(q),br}(this._ref._location,this._ref.storage,we,this._blob,Y,this._mappings,be,this._makeProgressCallback())}catch(It){return this._error=It,void this._transition("error")}const un=this._ref.storage._makeRequest(Bt,ni,Ne,Xe,!1);this._request=un,un.getPromise().then(It=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(It.current),It.finalized?(this._metadata=It.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Y,be)=>{const we=function cr(q,Y,be){const Ne=Vt(Y.fullServerUrl(),q.host,q._protocol),Bt=q.maxOperationRetryTime,un=new Ue(Ne,"GET",Lt(q,be),Bt);return un.errorHandler=jn(Y),un}(this._ref.storage,this._ref._location,this._mappings),Ne=this._ref.storage._makeRequest(we,ni,Y,be);this._request=Ne,Ne.getPromise().then(Xe=>{this._request=void 0,this._metadata=Xe,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Y,be)=>{const we=function Zt(q,Y,be,we,Ne){const Xe=Y.bucketOnlyServerUrl(),Bt={"X-Goog-Upload-Protocol":"multipart"},It=function un(){let br="";for(let ri=0;ri<2;ri++)br+=Math.random().toString().slice(2);return br}();Bt["Content-Type"]="multipart/related; boundary="+It;const Fn=et(Y,we,Ne),Xn=xe(Fn,be),kr=ts.getBlob("--"+It+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Xn+"\r\n--"+It+"\r\nContent-Type: "+Fn.contentType+"\r\n\r\n",we,"\r\n--"+It+"--");if(null===kr)throw ct();const Vr={name:Fn.fullPath},Kr=Vt(Xe,q.host,q._protocol),mo=q.maxUploadRetryTime,mi=new Ue(Kr,"POST",Lt(q,be),mo);return mi.urlParams=Vr,mi.headers=Bt,mi.body=kr.uploadData(),mi.errorHandler=Wn(Y),mi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ne=this._ref.storage._makeRequest(we,ni,Y,be);this._request=Ne,Ne.getPromise().then(Xe=>{this._request=void 0,this._metadata=Xe,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Y){const be=this._transferred;this._transferred=Y,this._transferred!==be&&this._notifyObservers()}_transition(Y){if(this._state!==Y)switch(Y){case"canceling":case"pausing":this._state=Y,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const be="paused"===this._state;this._state=Y,be&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Y,this._notifyObservers();break;case"canceled":this._error=fn(),this._state=Y,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Y=lr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Y,metadata:this._metadata,task:this,ref:this._ref}}on(Y,be,we,Ne){const Xe=new ui(be||void 0,we||void 0,Ne||void 0);return this._addObserver(Xe),()=>{this._removeObserver(Xe)}}then(Y,be){return this._promise.then(Y,be)}catch(Y){return this.then(null,Y)}_addObserver(Y){this._observers.push(Y),this._notifyObserver(Y)}_removeObserver(Y){const be=this._observers.indexOf(Y);-1!==be&&this._observers.splice(be,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(be=>{this._notifyObserver(be)})}_finishPromise(){if(void 0!==this._resolve){let Y=!0;switch(lr(this._state)){case"success":ti(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":ti(this._reject.bind(null,this._error))();break;default:Y=!1}Y&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Y){switch(lr(this._state)){case"running":case"paused":Y.next&&ti(Y.next.bind(Y,this.snapshot))();break;case"success":Y.complete&&ti(Y.complete.bind(Y))();break;default:Y.error&&ti(Y.error.bind(Y,this._error))()}}resume(){const Y="paused"===this._state||"pausing"===this._state;return Y&&this._transition("running"),Y}pause(){const Y="running"===this._state;return Y&&this._transition("pausing"),Y}cancel(){const Y="running"===this._state||"pausing"===this._state;return Y&&this._transition("canceling"),Y}}class Ei{constructor(Y,be){this._service=Y,this._location=be instanceof cn?be:cn.makeFromUrl(be,Y.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Y,be){return new Ei(Y,be)}get root(){const Y=new cn(this._location.bucket,"");return this._newRef(this._service,Y)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Cr(this._location.path)}get storage(){return this._service}get parent(){const Y=function gs(q){if(0===q.length)return null;const Y=q.lastIndexOf("/");return-1===Y?"":q.slice(0,Y)}(this._location.path);if(null===Y)return null;const be=new cn(this._location.bucket,Y);return new Ei(this._service,be)}_throwIfRoot(Y){if(""===this._location.path)throw function St(q){return new ge(_e.INVALID_ROOT_OPERATION,"The operation '"+q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(Y)}}function ho(q){q._throwIfRoot("getDownloadURL");const Y=function Pe(q,Y,be){const Ne=Vt(Y.fullServerUrl(),q.host,q._protocol),Bt=q.maxOperationRetryTime,un=new Ue(Ne,"GET",function Sn(q,Y){return function be(we,Ne){const Xe=ei(q,Ne,Y);return mt(null!==Xe),function gi(q,Y,be,we){const Ne=Yt(Y);if(null===Ne||!ze(Ne.downloadTokens))return null;const Xe=Ne.downloadTokens;if(0===Xe.length)return null;const Bt=encodeURIComponent;return Xe.split(",").map(Fn=>{const Nr=q.fullPath;return Vt("/b/"+Bt(q.bucket)+"/o/"+Bt(Nr),be,we)+kt({alt:"media",token:Fn})})[0]}(Xe,Ne,q.host,q._protocol)}}(q,be),Bt);return un.errorHandler=jn(Y),un}(q.storage,q._location,Ci());return q.storage.makeRequestWithTokens(Y,ni).then(be=>{if(null===be)throw function gt(){return new ge(_e.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return be})}function us(q,Y){if(q instanceof Do){const be=q;if(null==be._bucket)throw function at(){return new ge(_e.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+he+"' property when initializing the app?")}();const we=new Ei(be,be._bucket);return null!=Y?us(we,Y):we}return void 0!==Y?function Aa(q,Y){const be=function Wi(q,Y){const be=Y.split("/").filter(we=>we.length>0).join("/");return 0===q.length?be:q+"/"+be}(q._location.path,Y),we=new cn(q._location.bucket,be);return new Ei(q.storage,we)}(q,Y):q}function ns(q,Y){const be=Y?.[he];return null==be?null:cn.makeFromBucketSpec(be,q)}class Do{constructor(Y,be,we,Ne,Xe){this.app=Y,this._authProvider=be,this._appCheckProvider=we,this._url=Ne,this._firebaseVersion=Xe,this._bucket=null,this._host=fe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ne?cn.makeFromBucketSpec(Ne,this._host):ns(this._host,this.app.options)}get host(){return this._host}set host(Y){this._host=Y,this._bucket=null!=this._url?cn.makeFromBucketSpec(this._url,Y):ns(Y,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Y){yt("time",0,Number.POSITIVE_INFINITY,Y),this._maxUploadRetryTime=Y}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Y){yt("time",0,Number.POSITIVE_INFINITY,Y),this._maxOperationRetryTime=Y}_getAuthToken(){var Y=this;return(0,A.Z)(function*(){if(Y._overrideAuthToken)return Y._overrideAuthToken;const be=Y._authProvider.getImmediate({optional:!0});if(be){const we=yield be.getToken();if(null!==we)return we.accessToken}return null})()}_getAppCheckToken(){var Y=this;return(0,A.Z)(function*(){const be=Y._appCheckProvider.getImmediate({optional:!0});return be?(yield be.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Y=>Y.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Y){return new Ei(this,Y)}_makeRequest(Y,be,we,Ne,Xe=!0){if(this._deleted)return new Gt(zn());{const Bt=function Ht(q,Y,be,we,Ne,Xe,Bt=!0){const un=kt(q.urlParams),It=q.url+un,Fn=Object.assign({},q.headers);return function Mn(q,Y){Y&&(q["X-Firebase-GMPID"]=Y)}(Fn,Y),function Fr(q,Y){null!==Y&&Y.length>0&&(q.Authorization="Firebase "+Y)}(Fn,be),function wr(q,Y){q["X-Firebase-Storage-Version"]="webjs/"+(Y??"AppManager")}(Fn,Xe),function Pn(q,Y){null!==Y&&(q["X-Firebase-AppCheck"]=Y)}(Fn,we),new Gn(It,q.method,Fn,q.body,q.successCodes,q.additionalRetryCodes,q.handler,q.errorHandler,q.timeout,q.progressCallback,Ne,Bt)}(Y,this._appId,we,Ne,be,this._firebaseVersion,Xe);return this._requests.add(Bt),Bt.getPromise().then(()=>this._requests.delete(Bt),()=>this._requests.delete(Bt)),Bt}}makeRequestWithTokens(Y,be){var we=this;return(0,A.Z)(function*(){const[Ne,Xe]=yield Promise.all([we._getAuthToken(),we._getAppCheckToken()]);return we._makeRequest(Y,be,Ne,Xe).getPromise()})()}}const Zr="@firebase/storage",po="storage";function cs(q,Y,be){return function ks(q,Y,be){return q._throwIfRoot("uploadBytesResumable"),new ls(q,new ts(Y),be)}(q=(0,se.m9)(q),Y,be)}function qi(q){return ho(q=(0,se.m9)(q))}function ca(q,Y){return function eo(q,Y){if(Y&&function xs(q){return/^[A-Za-z]+:\/\//.test(q)}(Y)){if(q instanceof Do)return function Da(q,Y){return new Ei(q,Y)}(q,Y);throw Tn("To use ref(service, url), the first argument must be a Storage instance.")}return us(q,Y)}(q=(0,se.m9)(q),Y)}function Fs(q=(0,T.Mq)(),Y){q=(0,se.m9)(q);const we=(0,T.qX)(q,po).getImmediate({identifier:Y}),Ne=(0,se.P0)("storage");return Ne&&function So(q,Y,be,we={}){!function la(q,Y,be,we={}){q.host=`${Y}:${be}`,q._protocol="http";const{mockUserToken:Ne}=we;Ne&&(q._overrideAuthToken="string"==typeof Ne?Ne:(0,se.Sg)(Ne,q.app.options.projectId))}(q,Y,be,we)}(we,...Ne),we}function Kt(q,{instanceIdentifier:Y}){const be=q.getProvider("app").getImmediate(),we=q.getProvider("auth-internal"),Ne=q.getProvider("app-check-internal");return new Do(be,we,Ne,Y,T.Jn)}!function xn(){(0,T.Xd)(new z.wA(po,Kt,"PUBLIC").setMultipleInstances(!0)),(0,T.KN)(Zr,"0.12.0",""),(0,T.KN)(Zr,"0.12.0","esm2017")}()},5861:(vn,ft,X)=>{function A(se,z,fe,he,Ke,Dt,Ze){try{var ge=se[Dt](Ze),_e=ge.value}catch(qe){return void fe(qe)}ge.done?z(_e):Promise.resolve(_e).then(he,Ke)}function T(se){return function(){var z=this,fe=arguments;return new Promise(function(he,Ke){var Dt=se.apply(z,fe);function Ze(_e){A(Dt,he,Ke,Ze,ge,"next",_e)}function ge(_e){A(Dt,he,Ke,Ze,ge,"throw",_e)}Ze(void 0)})}}X.d(ft,{Z:()=>T})},7582:(vn,ft,X)=>{function z(We,De){var Be={};for(var Le in We)Object.prototype.hasOwnProperty.call(We,Le)&&De.indexOf(Le)<0&&(Be[Le]=We[Le]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var ze=0;for(Le=Object.getOwnPropertySymbols(We);ze<Le.length;ze++)De.indexOf(Le[ze])<0&&Object.prototype.propertyIsEnumerable.call(We,Le[ze])&&(Be[Le[ze]]=We[Le[ze]])}return Be}function qe(We,De,Be,Le){return new(Be||(Be=Promise))(function(Ge,ot){function yt(pn){try{kt(Le.next(pn))}catch(hr){ot(hr)}}function Vt(pn){try{kt(Le.throw(pn))}catch(hr){ot(hr)}}function kt(pn){pn.done?Ge(pn.value):function ze(Ge){return Ge instanceof Be?Ge:new Be(function(ot){ot(Ge)})}(pn.value).then(yt,Vt)}kt((Le=Le.apply(We,De||[])).next())})}function dt(We){return this instanceof dt?(this.v=We,this):new dt(We)}function Ye(We,De,Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,Le=Be.apply(We,De||[]),Ge=[];return ze={},ot("next"),ot("throw"),ot("return"),ze[Symbol.asyncIterator]=function(){return this},ze;function ot(Gn){Le[Gn]&&(ze[Gn]=function(xr){return new Promise(function(Fr,wr){Ge.push([Gn,xr,Fr,wr])>1||yt(Gn,xr)})})}function yt(Gn,xr){try{!function Vt(Gn){Gn.value instanceof dt?Promise.resolve(Gn.value.v).then(kt,pn):hr(Ge[0][2],Gn)}(Le[Gn](xr))}catch(Fr){hr(Ge[0][3],Fr)}}function kt(Gn){yt("next",Gn)}function pn(Gn){yt("throw",Gn)}function hr(Gn,xr){Gn(xr),Ge.shift(),Ge.length&&yt(Ge[0][0],Ge[0][1])}}function ct(We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,De=We[Symbol.asyncIterator];return De?De.call(We):(We=function $t(We){var De="function"==typeof Symbol&&Symbol.iterator,Be=De&&We[De],Le=0;if(Be)return Be.call(We);if(We&&"number"==typeof We.length)return{next:function(){return We&&Le>=We.length&&(We=void 0),{value:We&&We[Le++],done:!We}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}(We),Be={},Le("next"),Le("throw"),Le("return"),Be[Symbol.asyncIterator]=function(){return this},Be);function Le(Ge){Be[Ge]=We[Ge]&&function(ot){return new Promise(function(yt,Vt){!function ze(Ge,ot,yt,Vt){Promise.resolve(Vt).then(function(kt){Ge({value:kt,done:yt})},ot)}(yt,Vt,(ot=We[Ge](ot)).done,ot.value)})}}}X.d(ft,{FC:()=>Ye,KL:()=>ct,_T:()=>z,mG:()=>qe,qq:()=>dt}),"function"==typeof SuppressedError&&SuppressedError}},vn=>{vn(vn.s=1985)}]);