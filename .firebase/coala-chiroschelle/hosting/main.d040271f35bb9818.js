"use strict";(self.webpackChunkcoala_beta=self.webpackChunkcoala_beta||[]).push([[179],{9058:(yn,ht,X)=>{X.d(ht,{BH:()=>qe,L:()=>He,LL:()=>ze,P0:()=>dn,Pz:()=>Ct,Sg:()=>xt,UG:()=>ft,ZR:()=>We,aH:()=>nt,b$:()=>wt,eu:()=>Ve,hl:()=>Re,m9:()=>gi,ne:()=>Sr,pd:()=>rn,q4:()=>Sn,ru:()=>Zn,tV:()=>pe,uI:()=>_t,vZ:()=>Kn,w1:()=>Pt,xO:()=>ar,xb:()=>Mn,z$:()=>ut,zd:()=>dr});const z=function(De){const ie=[];let ae=0;for(let le=0;le<De.length;le++){let ue=De.charCodeAt(le);ue<128?ie[ae++]=ue:ue<2048?(ie[ae++]=ue>>6|192,ie[ae++]=63&ue|128):55296==(64512&ue)&&le+1<De.length&&56320==(64512&De.charCodeAt(le+1))?(ue=65536+((1023&ue)<<10)+(1023&De.charCodeAt(++le)),ie[ae++]=ue>>18|240,ie[ae++]=ue>>12&63|128,ie[ae++]=ue>>6&63|128,ie[ae++]=63&ue|128):(ie[ae++]=ue>>12|224,ie[ae++]=ue>>6&63|128,ie[ae++]=63&ue|128)}return ie},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(De,ie){if(!Array.isArray(De))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ae=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let ue=0;ue<De.length;ue+=3){const Le=De[ue],mt=ue+1<De.length,qt=mt?De[ue+1]:0,mn=ue+2<De.length,Rn=mn?De[ue+2]:0;let rr=(15&qt)<<2|Rn>>6,Be=63&Rn;mn||(Be=64,mt||(rr=64)),le.push(ae[Le>>2],ae[(3&Le)<<4|qt>>4],ae[rr],ae[Be])}return le.join("")},encodeString(De,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(De):this.encodeByteArray(z(De),ie)},decodeString(De,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(De):function(De){const ie=[];let ae=0,le=0;for(;ae<De.length;){const ue=De[ae++];if(ue<128)ie[le++]=String.fromCharCode(ue);else if(ue>191&&ue<224){const Le=De[ae++];ie[le++]=String.fromCharCode((31&ue)<<6|63&Le)}else if(ue>239&&ue<365){const mn=((7&ue)<<18|(63&De[ae++])<<12|(63&De[ae++])<<6|63&De[ae++])-65536;ie[le++]=String.fromCharCode(55296+(mn>>10)),ie[le++]=String.fromCharCode(56320+(1023&mn))}else{const Le=De[ae++],mt=De[ae++];ie[le++]=String.fromCharCode((15&ue)<<12|(63&Le)<<6|63&mt)}}return ie.join("")}(this.decodeStringToByteArray(De,ie))},decodeStringToByteArray(De,ie){this.init_();const ae=ie?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let ue=0;ue<De.length;){const Le=ae[De.charAt(ue++)],qt=ue<De.length?ae[De.charAt(ue)]:0;++ue;const Rn=ue<De.length?ae[De.charAt(ue)]:64;++ue;const Nn=ue<De.length?ae[De.charAt(ue)]:64;if(++ue,null==Le||null==qt||null==Rn||null==Nn)throw new Ge;le.push(Le<<2|qt>>4),64!==Rn&&(le.push(qt<<4&240|Rn>>2),64!==Nn&&le.push(Rn<<6&192|Nn))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let De=0;De<this.ENCODED_VALS.length;De++)this.byteToCharMap_[De]=this.ENCODED_VALS.charAt(De),this.charToByteMap_[this.byteToCharMap_[De]]=De,this.byteToCharMapWebSafe_[De]=this.ENCODED_VALS_WEBSAFE.charAt(De),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[De]]=De,De>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(De)]=De,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(De)]=De)}}};class Ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(De){return function(De){const ie=z(De);return he.encodeByteArray(ie,!0)}(De).replace(/\./g,"")},pe=function(De){try{return he.decodeString(De,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null},Gt=()=>{try{return function at(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const De=process.env.__FIREBASE_DEFAULTS__;return De?JSON.parse(De):void 0})()||(()=>{if(typeof document>"u")return;let De;try{De=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ie=De&&pe(De[1]);return ie&&JSON.parse(ie)})()}catch(De){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${De}`)}},Sn=De=>{var ie,ae;return null===(ae=null===(ie=Gt())||void 0===ie?void 0:ie.emulatorHosts)||void 0===ae?void 0:ae[De]},dn=De=>{const ie=Sn(De);if(!ie)return;const ae=ie.lastIndexOf(":");if(ae<=0||ae+1===ie.length)throw new Error(`Invalid host ${ie} with no separate hostname and port!`);const le=parseInt(ie.substring(ae+1),10);return"["===ie[0]?[ie.substring(1,ae-1),le]:[ie.substring(0,ae),le]},nt=()=>{var De;return null===(De=Gt())||void 0===De?void 0:De.config},Ct=De=>{var ie;return null===(ie=Gt())||void 0===ie?void 0:ie[`_${De}`]};class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,ae)=>{this.resolve=ie,this.reject=ae})}wrapCallback(ie){return(ae,le)=>{ae?this.reject(ae):this.resolve(le),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(ae):ie(ae,le))}}}function xt(De,ie){if(De.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=ie||"demo-project",ue=De.iat||0,Le=De.sub||De.user_id;if(!Le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mt=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:ue,exp:ue+3600,auth_time:ue,sub:Le,user_id:Le,firebase:{sign_in_provider:"custom",identities:{}}},De);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(mt)),""].join(".")}function ut(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _t(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function ft(){var De;const ie=null===(De=Gt())||void 0===De?void 0:De.forceEnvironment;if("node"===ie)return!0;if("browser"===ie)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Zn(){const De="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof De&&void 0!==De.id}function wt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pt(){const De=ut();return De.indexOf("MSIE ")>=0||De.indexOf("Trident/")>=0}function Re(){try{return"object"==typeof indexedDB}catch{return!1}}function Ve(){return new Promise((De,ie)=>{try{let ae=!0;const le="validate-browser-context-for-indexeddb-analytics-module",ue=self.indexedDB.open(le);ue.onsuccess=()=>{ue.result.close(),ae||self.indexedDB.deleteDatabase(le),De(!0)},ue.onupgradeneeded=()=>{ae=!1},ue.onerror=()=>{var Le;ie((null===(Le=ue.error)||void 0===Le?void 0:Le.message)||"")}}catch(ae){ie(ae)}})}class We extends Error{constructor(ie,ae,le){super(ae),this.code=ie,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,We.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ze.prototype.create)}}class ze{constructor(ie,ae,le){this.service=ie,this.serviceName=ae,this.errors=le}create(ie,...ae){const le=ae[0]||{},ue=`${this.service}/${ie}`,Le=this.errors[ie],mt=Le?function ct(De,ie){return De.replace(vt,(ae,le)=>{const ue=ie[le];return null!=ue?String(ue):`<${le}?>`})}(Le,le):"Error";return new We(ue,`${this.serviceName}: ${mt} (${ue}).`,le)}}const vt=/\{\$([^}]+)}/g;function Mn(De){for(const ie in De)if(Object.prototype.hasOwnProperty.call(De,ie))return!1;return!0}function Kn(De,ie){if(De===ie)return!0;const ae=Object.keys(De),le=Object.keys(ie);for(const ue of ae){if(!le.includes(ue))return!1;const Le=De[ue],mt=ie[ue];if(cn(Le)&&cn(mt)){if(!Kn(Le,mt))return!1}else if(Le!==mt)return!1}for(const ue of le)if(!ae.includes(ue))return!1;return!0}function cn(De){return null!==De&&"object"==typeof De}function ar(De){const ie=[];for(const[ae,le]of Object.entries(De))Array.isArray(le)?le.forEach(ue=>{ie.push(encodeURIComponent(ae)+"="+encodeURIComponent(ue))}):ie.push(encodeURIComponent(ae)+"="+encodeURIComponent(le));return ie.length?"&"+ie.join("&"):""}function dr(De){const ie={};return De.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[ue,Le]=le.split("=");ie[decodeURIComponent(ue)]=decodeURIComponent(Le)}}),ie}function rn(De){const ie=De.indexOf("?");if(!ie)return"";const ae=De.indexOf("#",ie);return De.substring(ie,ae>0?ae:void 0)}function Sr(De,ie){const ae=new ui(De,ie);return ae.subscribe.bind(ae)}class ui{constructor(ie,ae){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ae,this.task.then(()=>{ie(this)}).catch(le=>{this.error(le)})}next(ie){this.forEachObserver(ae=>{ae.next(ie)})}error(ie){this.forEachObserver(ae=>{ae.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,ae,le){let ue;if(void 0===ie&&void 0===ae&&void 0===le)throw new Error("Missing Observer.");ue=function xr(De,ie){if("object"!=typeof De||null===De)return!1;for(const ae of ie)if(ae in De&&"function"==typeof De[ae])return!0;return!1}(ie,["next","error","complete"])?ie:{next:ie,error:ae,complete:le},void 0===ue.next&&(ue.next=hr),void 0===ue.error&&(ue.error=hr),void 0===ue.complete&&(ue.complete=hr);const Le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ue.error(this.finalError):ue.complete()}catch{}}),this.observers.push(ue),Le}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let ae=0;ae<this.observers.length;ae++)this.sendOne(ae,ie)}sendOne(ie,ae){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{ae(this.observers[ie])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hr(){}function gi(De){return De&&De._delegate?De._delegate:De}},8087:(yn,ht,X)=>{X.d(ht,{c:()=>Pt});var A=X(8589),E=X(5861),ee=X(5816),z=X(4946),fe=X(5220),he=X(6814);let Ge=(()=>{class gt{transform(tt,Re){return Array.isArray(tt)?tt.sort((Ve,Qe)=>{const Xe=Ve[Re],We=Qe[Re];return Xe<We?-1:Xe>We?1:0}):tt}static#e=this.\u0275fac=function(Re){return new(Re||gt)};static#t=this.\u0275pipe=z.Yjl({name:"afdelingFilter",type:gt,pure:!0})}return gt})();const St=function(gt){return["/details",gt]};function He(gt,kt){if(1&gt&&(z.TgZ(0,"div")(1,"div",12)(2,"div",7)(3,"span",13),z._uU(4),z.qZA()(),z.TgZ(5,"div",7)(6,"span",13),z._uU(7),z.qZA()(),z.TgZ(8,"div",7)(9,"span",14),z._uU(10),z.qZA()(),z.TgZ(11,"div",9)(12,"button",15),z._uU(13,"Info"),z.qZA()()()()),2&gt){const tt=kt.$implicit,Re=z.oxw();z.xp6(4),z.hij(" ",tt.name," "),z.xp6(3),z.Oqu(tt.email),z.xp6(2),z.Q6J("ngStyle",Re.afdelingStyling(tt.afdelingId)),z.xp6(1),z.hij("",tt.afdeling," "),z.xp6(2),z.Q6J("routerLink",z.VKq(5,St,tt.userId))}}function pe(gt,kt){if(1&gt&&(z.TgZ(0,"div",27),z._uU(1),z.qZA()),2&gt){const tt=z.oxw(2);z.Udp("border",tt.bColor)("background",tt.bgColor),z.xp6(1),z.hij(" ",tt.responseMessage," ")}}function me(gt,kt){if(1&gt){const tt=z.EpF();z.TgZ(0,"div",16),z._UZ(1,"div",17),z.TgZ(2,"div",18)(3,"h2",19),z._uU(4,"Foto toevoegen"),z.qZA(),z.TgZ(5,"h4",20),z._uU(6,"Kies hier de foto dat je wilt:"),z.qZA(),z.TgZ(7,"h5",21)(8,"input",22),z.NdJ("change",function(Ve){z.CHM(tt);const Qe=z.oxw();return z.KtG(Qe.selectFile(Ve))}),z.qZA()(),z.YNc(9,pe,2,5,"div",23),z.TgZ(10,"div",24)(11,"button",25),z.NdJ("click",function(){z.CHM(tt);const Ve=z.oxw();return z.KtG(Ve.voegFileToe())}),z._uU(12,"Voeg foto toe"),z.qZA(),z.TgZ(13,"button",26),z.NdJ("click",function(){z.CHM(tt);const Ve=z.oxw();return z.KtG(Ve.modalFunction())}),z._uU(14,"Annuleer"),z.qZA()()()()}if(2&gt){const tt=z.oxw();z.xp6(9),z.Q6J("ngIf",tt.showResponse)}}const $e=function(){return["/singup"]};let Se=(()=>{class gt{constructor(tt,Re){this.fb=tt,this.storage=Re,this.file={},this.userAccounts=[],this.adminAccounts=[],this.ownerAccounts=[],this.showResponse=!1,this.responseMessage=""}ngOnInit(){this.isModalOpen=!1,this.showResponse=!0,this.loadUsers()}loadUsers(){this.fb.getAuthusers().subscribe(tt=>{this.userAccounts=tt})}modalFunction(){this.isModalOpen=!this.isModalOpen}selectFile(tt){this.file=tt.target.files[0]}voegFileToe(){var tt=this;return(0,E.Z)(function*(){const Re=(0,ee.iH)(tt.storage,`/leiding/${tt.file.name}`),Ve=(0,ee.B0)(Re,tt.file);Ve.on("state_changed",Qe=>{console.log("Uploadnen: "+Qe.bytesTransferred/Qe.totalBytes+"% done"),Number.isNaN(tt.file.name)?(tt.showResponse=!0,tt.actionResponse("geen Foto Geselecteerd!",!1)):(tt.showResponse=!0,tt.actionResponse("Foto Geupload!",!0),setTimeout(()=>{tt.isModalOpen=!1},1500))},()=>{(0,ee.Jt)(Ve.snapshot.ref).then(Qe=>{console.log("fotokrijgbaar iop"+Qe)})})})()}actionResponse(tt,Re){Re?(this.bgColor="#9fff96",this.bColor="3px solid green",this.responseMessage=tt):(this.bgColor="#fca5a5",this.bColor="3px solid red",this.responseMessage=tt)}afdelingStyling(tt){return[{border:"2px solid #7e22ce",backgroundColor:"#a855f7"},{border:"2px solid #ca8a04",backgroundColor:"#facc15"},{border:"2px solid #15803d",backgroundColor:"#22c55e"},{border:"2px solid #ef4444",backgroundColor:"#b91c1c"},{border:"2px solid #1d4ed8",backgroundColor:"#3b82f6"},{border:"2px solid #c2410c",backgroundColor:"#fb923c"}][Math.ceil(tt/2-1)]}static#e=this.\u0275fac=function(Re){return new(Re||gt)(z.Y36(fe.O),z.Y36(ee.Ke))};static#t=this.\u0275cmp=z.Xpm({type:gt,selectors:[["app-admin-dashboard"]],decls:27,vars:7,consts:[[1,"grid","grid-cols-3","p-8","gap-3"],[1,"p-4","border-2","border-gray-400","rounded-lg","grid","h-fit"],[1,"text-4xl","font-semibold","mb-4","text-center"],[1,"bg-red-500","hover:bg-red-800","text-white","rounded-lg","px-4","py-2","w-full","my-3",3,"click"],["routerLinkActive","router-link-active",1,"bg-red-500","hover:bg-red-800","text-white","rounded-lg","px-4","py-2","w-full","my-3",3,"routerLink"],[1,"p-4","rounded-lg","col-span-2","border-2","border-gray-400"],[1,"grid","grid-cols-7","grid-rows-1","shadow-md","text-left","bg-orange-400","rounded-sm","border-2","border-black","mb-2","font-bold"],[1,"text-center","w-fit","px-3","ml-6","col-span-2","flex","items-center"],[1,""],[1,"text-center","col-span-1","flex","align"],[4,"ngFor","ngForOf"],["class","fixed inset-0 flex items-center justify-center z-50",4,"ngIf"],[1,"grid","grid-cols-7","grid-rows-1","shadow-md","text-left","bg-orange-300","rounded-lg","border-2","border-black","mb-2","p-1"],[1,"text-sm","font-medium"],[1,"text-sm","border-2","font-semibold","rounded-2xl","px-4",3,"ngStyle"],["routerLinkActive","router-link-active",1,"border-2","rounded-lg","border-blue-600","bg-blue-400","py-1","px-6","font-semibold",3,"routerLink"],[1,"fixed","inset-0","flex","items-center","justify-center","z-50"],[1,"fixed","inset-0","bg-gray-500","opacity-50"],[1,"modal-content","p-6","bg-white","rounded-lg","shadow-lg","relative"],[1,"text-2xl","font-semibold","mb-4"],[1,"text-xl"],[1,"text-sm","mt-3","mb-4"],["type","file","name","img","id","img","accept",".jpg, .png, .jpeg",3,"change"],["class","rounded-md px-2 py-3 text-center mt-2 font-bold",3,"border","background",4,"ngIf"],[1,"flex","justify-between","mt-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-blue-600",3,"click"],[1,"bg-red-500","text-white","px-4","py-2","rounded-md","hover:bg-red-800",3,"click"],[1,"rounded-md","px-2","py-3","text-center","mt-2","font-bold"]],template:function(Re,Ve){1&Re&&(z.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),z._uU(3,"Admin Functies"),z.qZA(),z.TgZ(4,"button",3),z.NdJ("click",function(){return Ve.modalFunction()}),z._uU(5,"Voeg foto toe"),z.qZA(),z.TgZ(6,"button",4),z._uU(7,"Voeg Leiding toe"),z.qZA()(),z.TgZ(8,"div",5)(9,"h2",2),z._uU(10,"Leiding / Gebruikers"),z.qZA(),z.TgZ(11,"div",6)(12,"div",7)(13,"span",8),z._uU(14,"Naam"),z.qZA()(),z.TgZ(15,"div",7)(16,"span",8),z._uU(17,"Email"),z.qZA()(),z.TgZ(18,"div",7)(19,"span",8),z._uU(20,"Afdeling"),z.qZA()(),z.TgZ(21,"div",9)(22,"span",8),z._uU(23," Buttons "),z.qZA()()(),z.YNc(24,He,14,7,"div",10),z.ALo(25,"afdelingFilter"),z.qZA(),z.YNc(26,me,15,1,"div",11),z.qZA()),2&Re&&(z.xp6(6),z.Q6J("routerLink",z.DdM(6,$e)),z.xp6(18),z.Q6J("ngForOf",z.xi3(25,3,Ve.userAccounts,"afdelingId")),z.xp6(2),z.Q6J("ngIf",Ve.isModalOpen))},dependencies:[he.sg,he.O5,he.PC,A.rH,A.Od,Ge]})}return gt})();var at=X(5336);const Je=function(gt){return["/editUser",gt]},pt=function(){return["/AdminDashboard"]};function Kt(gt,kt){if(1&gt){const tt=z.EpF();z.TgZ(0,"div",2)(1,"div",3)(2,"h2",4),z._uU(3,"user Overview"),z.qZA(),z.TgZ(4,"div",5)(5,"p")(6,"strong",6),z._uU(7,"Naam"),z.qZA(),z._uU(8),z.qZA(),z._UZ(9,"br"),z.TgZ(10,"p")(11,"strong",6),z._uU(12,"Email"),z.qZA(),z._uU(13),z.qZA(),z._UZ(14,"br"),z.TgZ(15,"p")(16,"strong",6),z._uU(17,"Afdeling"),z.qZA(),z._uU(18),z.qZA(),z._UZ(19,"br"),z.TgZ(20,"p")(21,"strong",6),z._uU(22,"Rechten"),z.qZA(),z._uU(23),z.qZA(),z._UZ(24,"br"),z.qZA(),z.TgZ(25,"div",7)(26,"button",8),z._uU(27," Aanpassen "),z.qZA(),z.TgZ(28,"button",9),z._uU(29," Terug "),z.qZA(),z.TgZ(30,"button",10),z.NdJ("click",function(){z.CHM(tt);const Ve=z.oxw();return z.KtG(Ve.openDisableModal())}),z._uU(31," Verwijder "),z.qZA()()()()}if(2&gt){const tt=kt.$implicit;z.xp6(8),z.hij(" ",tt.name," "),z.xp6(5),z.hij(" ",tt.email," "),z.xp6(5),z.hij(" ",tt.afdeling," "),z.xp6(5),z.hij(" ",tt.rights," "),z.xp6(3),z.Q6J("routerLink",z.VKq(6,Je,tt.userId)),z.xp6(2),z.Q6J("routerLink",z.DdM(8,pt))}}function Gt(gt,kt){if(1&gt){const tt=z.EpF();z.TgZ(0,"div",11),z._UZ(1,"div",12),z.TgZ(2,"div",13)(3,"h2",14),z._uU(4,"Gebruiker Verwijderen?"),z.qZA(),z.TgZ(5,"h4",15),z._uU(6,"Ben je zeker dat Je Deze gebruiker Wilt Verwijderen?"),z.qZA(),z.TgZ(7,"div",16)(8,"button",17),z.NdJ("click",function(){z.CHM(tt);const Ve=z.oxw();return z.KtG(Ve.deleteUser())}),z._uU(9,"Ja"),z.qZA(),z.TgZ(10,"button",18),z.NdJ("click",function(){z.CHM(tt);const Ve=z.oxw();return z.KtG(Ve.closeDisableModal())}),z._uU(11,"Nee"),z.qZA()()()()}}let Sn=(()=>{class gt{constructor(tt,Re,Ve){this.fb=tt,this.router=Re,this.route=Ve,this.users=[],this.isModalOpen=!1}ngOnInit(){this.route.params.subscribe(tt=>{this.parameterValue=tt.userId}),this.fb.getAuthUserDetails(this.parameterValue).subscribe(tt=>{this.users=tt,console.log(tt)})}deleteUser(){this.fb.deleteUser(this.parameterValue),this.router.navigate(["/AdminDashboard"])}openDisableModal(){this.isModalOpen=!0}closeDisableModal(){this.isModalOpen=!1}static#e=this.\u0275fac=function(Re){return new(Re||gt)(z.Y36(fe.O),z.Y36(A.F0),z.Y36(A.gz))};static#t=this.\u0275cmp=z.Xpm({type:gt,selectors:[["app-leiding-details"]],decls:2,vars:2,consts:[["class","",4,"ngFor","ngForOf"],["class","fixed inset-0 flex items-center justify-center z-50",4,"ngIf"],[1,""],[1,"bg-orange-300","border-2","border-black","p-6","rounded-lg","shadow-md","w-2/6","m-auto","mt-10"],[1,"text-2xl","font-semibold","mb-4","text-center"],[1,"mb-4"],[1,"text-gray-800"],[1,"flex","justify-between"],["routerLinkActive","router-link-active",1,"bg-yellow-400","hover:bg-yellow-600","text-white","px-4","py-2","rounded","focus:outline-none","focus:shadow-outline-blue",3,"routerLink"],["routerLinkActive","router-link-active",1,"bg-blue-400","hover:bg-blue-600","text-white","px-4","py-2","rounded","focus:outline-none","focus:shadow-outline-red",3,"routerLink"],[1,"bg-red-400","hover:bg-red-600","text-white","px-4","py-2","rounded","focus:outline-none","focus:shadow-outline-red",3,"click"],[1,"fixed","inset-0","flex","items-center","justify-center","z-50"],[1,"fixed","inset-0","bg-gray-500","opacity-50"],[1,"modal-content","p-6","bg-white","rounded-lg","shadow-lg","relative"],[1,"text-2xl","font-semibold","mb-4"],[1,"text-xl"],[1,"flex","justify-between","mt-4"],[1,"bg-red-500","text-white","px-4","py-2","rounded-md","hover:bg-red-600",3,"click"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-blue-600",3,"click"]],template:function(Re,Ve){1&Re&&(z.YNc(0,Kt,32,9,"div",0),z.YNc(1,Gt,12,0,"div",1)),2&Re&&(z.Q6J("ngForOf",Ve.users),z.xp6(1),z.Q6J("ngIf",Ve.isModalOpen))},dependencies:[he.sg,he.O5,A.rH,A.Od]})}return gt})();var dn=X(95);function nt(gt,kt){1&gt&&(z.TgZ(0,"div",34),z._uU(1," Vul de Naam in! "),z.qZA())}function Ct(gt,kt){1&gt&&(z.TgZ(0,"div",34),z._uU(1," Naam moet minstens 3 Tekens lang zijn! "),z.qZA())}function qe(gt,kt){1&gt&&(z.TgZ(0,"div",34),z._uU(1," Gebruik een hoofdletter In het begin! "),z.qZA())}function xt(gt,kt){1&gt&&(z.TgZ(0,"div",34),z._uU(1," Vul de Email in! "),z.qZA())}function ut(gt,kt){1&gt&&(z.TgZ(0,"div",34),z._uU(1," gebruik voornaam.naam@chiroschelle.be "),z.qZA())}function _t(gt,kt){1&gt&&(z.TgZ(0,"div",34),z._uU(1," Selecteer een Afdeling! "),z.qZA())}function ft(gt,kt){1&gt&&(z.TgZ(0,"div",34),z._uU(1," Selecteer de Rechten! "),z.qZA())}function fn(gt,kt){if(1&gt&&(z.TgZ(0,"div",35),z._uU(1),z.qZA()),2&gt){const tt=z.oxw();z.Udp("border",tt.bColor)("background",tt.bgColor),z.xp6(1),z.hij(" ",tt.responseMessage," ")}}const Zn=function(gt){return["/details",gt]},In=[{path:"AdminDashboard",component:Se,canActivate:[at.l]},{path:"details/:userId",component:Sn,canActivate:[at.l]},{path:"editUser/:userId",component:(()=>{class gt{constructor(tt,Re,Ve,Qe){this.fb=tt,this.route=Re,this.formbuilder=Ve,this.fire=Qe,this.vlaidForm=!1,this.showResponse=!1,this.responseMessage="",this.updateForm=this.formbuilder.group({name:["",[dn.kI.required,dn.kI.minLength(3),dn.kI.pattern(/^[A-Z]/)]],email:["",[dn.kI.required,dn.kI.pattern(/^\w+\.\w+@chiroschelle\.be$/)]],afdeling:["",[dn.kI.required]],rechten:["",[dn.kI.required]]})}ngOnInit(){this.route.params.subscribe(tt=>{this.parameterValue=tt.userId}),this.fb.getAuthUserDetails(this.parameterValue).subscribe(tt=>{this._password=tt[0].password,this.updateForm.setValue({name:tt[0].name,email:tt[0].email,afdeling:tt[0].afdeling,rechten:tt[0].rights})})}OnUpdate(){console.log(this._password);const tt=this.updateForm.value.name,Re=this.updateForm.value.email,Ve=this.updateForm.value.afdeling,Qe=this.fb.getAfdelingId(Ve),Xe=this.updateForm.value.rechten;console.log(Ve);const We={name:tt,email:Re,password:this._password,afdeling:Ve,afdelingId:Qe,rights:Xe,userId:this.parameterValue};this.updateForm.valid?(this.showResponse=!0,this.bgColor="#9fff96",this.bColor="3px solid green",this.responseMessage="Nieuwe gebruiker aangemaakt",this.updateUser(We),setTimeout(()=>{this.showResponse=!1},1e3)):(this.showResponse=!0,this.bgColor="#fca5a5",this.bColor="3px solid red",this.responseMessage="Fout bij Updaten Gebruiker")}updateUser(tt){this.fb.updateUser(tt,this.parameterValue)}static#e=this.\u0275fac=function(Re){return new(Re||gt)(z.Y36(fe.O),z.Y36(A.gz),z.Y36(dn.qu),z.Y36(fe.O))};static#t=this.\u0275cmp=z.Xpm({type:gt,selectors:[["app-edit-user"]],decls:67,vars:12,consts:[[1,"w-4/12","mx-auto","mt-1","p-4","border","rounded-lg","shadow-lg"],[1,"bg-red-500","text-white","text-center","py-2","px-4","rounded-t-lg"],[1,"text-xl","font-bold"],[1,"bg-white","p-4","rounded-b-lg"],[1,"mb-4","text-lg","font-bold"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-2","grid-rows-2"],[1,"mb-4"],["for","naam"],["type","text","formControlName","name",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],["class","text-red-500 font-semibold",4,"ngIf"],["for","email"],["type","email","formControlName","email",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],["for","name",1,"font-semibold"],["name","afdeling","formControlName","afdeling",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],["value","Ribbel Jongens"],["value","Ribbel Meisjes"],["value","Speelclub Jongens"],["value","Speelclub Meisjes"],["value","Rakkers"],["value","Kwiks"],["value","Toppers"],["value","Tippers"],["value","Kerels"],["value","Tiptiens"],["value","Aspi Jongens"],["value","Aspi Meisjes"],["name","rechten","id","rechten","formControlName","rechten",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],["value","0"],["value","1"],[1,"mb-4","col-span-2","flex","items-center","justify-center"],["class","rounded-md px-2 py-3 text-center font-bold",3,"border","background",4,"ngIf"],["type","submit",1,"bg-yellow-400","border-2","border-yellow-500","hover:bg-yellow-500","text-black","font-semibold","px-8","py-2","rounded","focus:outline-none","focus:shadow-outline-blue","mr-5"],["routerLinkActive","router-link-active",1,"bg-blue-400","border-2","border-blue-500","hover:bg-blue-500","text-black","font-semibold","px-8","py-2","rounded","focus:outline-none","focus:shadow-outline-blue","ml-5",3,"routerLink"],[1,"text-red-500","font-semibold"],[1,"rounded-md","px-2","py-3","text-center","font-bold"]],template:function(Re,Ve){if(1&Re&&(z.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),z._uU(3,"Gebruiker Aanpassen"),z.qZA()(),z.TgZ(4,"div",3)(5,"h3",4),z._uU(6,"Problemen? Stuur een mailtje naar informatica@chiroschelle.be "),z.qZA(),z.TgZ(7,"form",5),z.NdJ("ngSubmit",function(){return Ve.OnUpdate()}),z.TgZ(8,"div",6)(9,"div",7)(10,"label",8),z._uU(11,"Naam:"),z.qZA(),z._UZ(12,"input",9),z.YNc(13,nt,2,0,"div",10),z.YNc(14,Ct,2,0,"div",10),z.YNc(15,qe,2,0,"div",10),z.qZA(),z.TgZ(16,"div",7)(17,"label",11),z._uU(18,"Email:"),z.qZA(),z._UZ(19,"input",12),z.YNc(20,xt,2,0,"div",10),z.YNc(21,ut,2,0,"div",10),z.qZA(),z.TgZ(22,"div",7)(23,"label",13),z._uU(24,"Afdeling: "),z.qZA(),z.TgZ(25,"select",14)(26,"option",15),z._uU(27,"Ribbel Jongens"),z.qZA(),z.TgZ(28,"option",16),z._uU(29,"Ribbel Meisjes"),z.qZA(),z.TgZ(30,"option",17),z._uU(31,"Speelclub Jongens"),z.qZA(),z.TgZ(32,"option",18),z._uU(33,"Speelclub Meisjes"),z.qZA(),z.TgZ(34,"option",19),z._uU(35,"Rakkers"),z.qZA(),z.TgZ(36,"option",20),z._uU(37,"Kwiks"),z.qZA(),z.TgZ(38,"option",21),z._uU(39,"Toppers"),z.qZA(),z.TgZ(40,"option",22),z._uU(41,"Tippers"),z.qZA(),z.TgZ(42,"option",23),z._uU(43,"Kerels"),z.qZA(),z.TgZ(44,"option",24),z._uU(45,"Tiptiens"),z.qZA(),z.TgZ(46,"option",25),z._uU(47,"Aspi Jongens"),z.qZA(),z.TgZ(48,"option",26),z._uU(49,"Aspi Meisjes"),z.qZA()(),z.YNc(50,_t,2,0,"div",10),z.qZA(),z.TgZ(51,"div",7)(52,"label",13),z._uU(53,"Rechten"),z.qZA(),z.TgZ(54,"select",27)(55,"option",28),z._uU(56,"Leiding"),z.qZA(),z.TgZ(57,"option",29),z._uU(58,"Wekgroep"),z.qZA()(),z.YNc(59,ft,2,0,"div",10),z.qZA(),z.TgZ(60,"div",30),z.YNc(61,fn,2,5,"div",31),z.qZA(),z.TgZ(62,"div",30)(63,"button",32),z._uU(64," Update "),z.qZA(),z.TgZ(65,"button",33),z._uU(66," Terug "),z.qZA()()()()()()),2&Re){let Qe,Xe,We,ze,ct,vt,Ht;z.xp6(7),z.Q6J("formGroup",Ve.updateForm),z.xp6(6),z.Q6J("ngIf",null==(Qe=Ve.updateForm.get("name"))?null:Qe.hasError("required")),z.xp6(1),z.Q6J("ngIf",null==(Xe=Ve.updateForm.get("name"))?null:Xe.hasError("minlength")),z.xp6(1),z.Q6J("ngIf",null==(We=Ve.updateForm.get("name"))?null:We.hasError("pattern")),z.xp6(5),z.Q6J("ngIf",null==(ze=Ve.updateForm.get("email"))?null:ze.hasError("required")),z.xp6(1),z.Q6J("ngIf",null==(ct=Ve.updateForm.get("email"))?null:ct.hasError("pattern")),z.xp6(29),z.Q6J("ngIf",null==(vt=Ve.updateForm.get("afdeling"))?null:vt.hasError("required")),z.xp6(9),z.Q6J("ngIf",null==(Ht=Ve.updateForm.get("rechten"))?null:Ht.hasError("required")),z.xp6(2),z.Q6J("ngIf",Ve.showResponse),z.xp6(4),z.Q6J("routerLink",z.VKq(10,Zn,Ve.parameterValue))}},dependencies:[he.O5,A.rH,A.Od,dn._Y,dn.YN,dn.Kr,dn.Fj,dn.EJ,dn.JJ,dn.JL,dn.sg,dn.u]})}return gt})(),canActivate:[at.l]}];let Pt=(()=>{class gt{static#e=this.\u0275fac=function(Re){return new(Re||gt)};static#t=this.\u0275mod=z.oAB({type:gt});static#n=this.\u0275inj=z.cJS({imports:[A.Bz.forChild(In),A.Bz]})}return gt})()},7469:(yn,ht,X)=>{X.r(ht),X.d(ht,{AuthenticationRoutingModule:()=>Ct});var A=X(8589),E=X(4946),ee=X(5303),z=X(4060);let fe=(()=>{class qe{constructor(ut){this.router=ut,this.isAuthneticated=!1}loginUser(){this.isAuthneticated=!0,setTimeout(()=>{this.router.navigate(["afdelingen"])},1200)}logout(){this.isAuthneticated=!1,setTimeout(()=>{this.router.navigate(["/login"])},1200)}isAuthenticatedUser(){return this.isAuthneticated}static#e=this.\u0275fac=function(_t){return new(_t||qe)(E.LFG(A.F0))};static#t=this.\u0275prov=E.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})();var he=X(95);let Ge=(()=>{class qe{constructor(ut,_t,ft,fn){this.dataService=ut,this.authservice=_t,this.router=ft,this.loginservice=fn,this.allUsers=[],this.user=[],this.validForm=!0,this.responseMessage="",this.loggedInUser=[],this.username="",this.email="",this.password="",this.loginValid=!1}ngOnInit(){this.loginValid=!1}validateUser(ut){ut.value.email.trim()?ut.value.password.trim()||(this.validForm=!1,this.actionResponse("Vul Je wachtwoord in!",!1)):(this.validForm=!1,this.actionResponse("Vul Je email In!",!1)),this.validForm&&this.loginUser(ut)}loginUser(ut){this.authservice.loginUser(ut.value.email,ut.value.password).then(fn=>{fn?(this.loginValid=!0,this.actionResponse("U Bent Ingelogd!",!0),setTimeout(()=>{this.router.navigate(["/afdelingen"])},1500)):(this.loginValid=!1,this.actionResponse("Foute Gegevens!",!1))})}actionResponse(ut,_t){_t?(this.bgColor="#9fff96",this.bColor="3px solid green",this.responseMessage=ut):(this.bgColor="#fca5a5",this.bColor="3px solid red",this.responseMessage=ut)}static#e=this.\u0275fac=function(_t){return new(_t||qe)(E.Y36(ee.D),E.Y36(z.q),E.Y36(A.F0),E.Y36(fe))};static#t=this.\u0275cmp=E.Xpm({type:qe,selectors:[["app-login"]],decls:22,vars:7,consts:[[1,"max-w-sm","mx-auto","mt-1","p-4","border","rounded-lg","shadow-lg"],[1,"bg-red-500","text-white","text-center","py-2","px-4","rounded-t-lg"],[1,"text-xl","font-bold"],[1,"bg-white","p-4","rounded-b-lg"],[1,"mb-4","text-lg","font-bold"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"mb-4"],["for","email",1,"font-semibold"],["type","email","name","email","placeholder","voornaam.naam@chiroschelle.be","value","killian.serluppens@chiroschelle.be","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","password",1,"font-semibold"],["type","password","name","password","placeholder","wachtwoord","value","","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500",3,"ngModel","ngModelChange"],[1,"text-center"],["type","submit",1,"bg-red-500","hover:bg-red-600","text-white","font-bold","py-2","px-4","rounded-full"],[1,"rounded-md","px-2","py-3","text-center","mt-2","font-bold"]],template:function(_t,ft){if(1&_t){const fn=E.EpF();E.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),E._uU(3,"Login"),E.qZA()(),E.TgZ(4,"div",3)(5,"h3",4),E._uU(6,"Heb je nog geen account? mailtje naar informatica@chiroschelle.be "),E.qZA(),E.TgZ(7,"form",5,6),E.NdJ("ngSubmit",function(){E.CHM(fn);const wt=E.MAs(8);return E.KtG(ft.validateUser(wt))}),E.TgZ(9,"div",7)(10,"label",8),E._uU(11,"vul je chiro email in: "),E.qZA(),E.TgZ(12,"input",9),E.NdJ("ngModelChange",function(wt){return ft.email=wt}),E.qZA()(),E.TgZ(13,"div",7)(14,"label",10),E._uU(15,"Vul je Wachtwoord in:"),E.qZA(),E.TgZ(16,"input",11),E.NdJ("ngModelChange",function(wt){return ft.password=wt}),E.qZA()(),E.TgZ(17,"div",12)(18,"button",13),E._uU(19," Login "),E.qZA()(),E.TgZ(20,"div",14),E._uU(21),E.qZA()()()()}2&_t&&(E.xp6(12),E.Q6J("ngModel",ft.email),E.xp6(4),E.Q6J("ngModel",ft.password),E.xp6(4),E.Udp("border",ft.bColor)("background",ft.bgColor),E.xp6(1),E.hij(" ",ft.responseMessage," "))},dependencies:[he._Y,he.Fj,he.JJ,he.JL,he.Q7,he.On,he.F]})}return qe})();var St=X(5220),He=X(6814);function pe(qe,xt){1&qe&&E._UZ(0,"div",32)}function me(qe,xt){1&qe&&(E.TgZ(0,"div",32),E._uU(1," Full de naam in! "),E.qZA())}function $e(qe,xt){1&qe&&(E.TgZ(0,"div",32),E._uU(1," Full de Afdeling in! "),E.qZA())}function Se(qe,xt){1&qe&&(E.TgZ(0,"div",32),E._uU(1," Wachtwoord moet minstens 6 tekens bevatten met 2 cijfers en 1 speciaal karakter. "),E.qZA())}function at(qe,xt){1&qe&&(E.TgZ(0,"div",32),E._uU(1," Vul de wachtwoordbevestiging in. "),E.qZA())}function Je(qe,xt){1&qe&&(E.TgZ(0,"div",32),E._uU(1," Wachtwoorden komen niet overeen. "),E.qZA())}function pt(qe,xt){if(1&qe&&(E.TgZ(0,"div",33),E._uU(1),E.qZA()),2&qe){const ut=E.oxw();E.Udp("border",ut.bColor)("background",ut.bgColor),E.xp6(1),E.hij(" ",ut.responseMessage," ")}}let Kt=(()=>{class qe{constructor(ut,_t,ft){this.formbuilder=ut,this.authservice=_t,this.fire=ft,this.validForm=!1,this.responseMessage="",this.signupForm=this.formbuilder.group({email:["",[he.kI.required,he.kI.pattern(/^\w+\.\w+@chiroschelle\.be$/)]],name:["",[he.kI.required,he.kI.minLength(3),he.kI.pattern(/^[A-Z]/)]],afdeling:["",[he.kI.required]],password:["",[he.kI.required,he.kI.minLength(6),he.kI.pattern(/^(?=.*[0-9].*[0-9])(?=.*[!|?]).{6,}$/)]],confirmPassword:["",[he.kI.required]]})}ngOnInit(){this.showResponse=!1}onSignUp(){this.authservice.signup(this.signupForm.value.email,this.signupForm.value.password).then(fn=>{this.newUid=fn.userId,"error"!=fn.status?(this.showResponse=!0,this.bgColor="#9fff96",this.bColor="3px solid green",this.responseMessage="Nieuwe gebruiker aangemaakt",this.ActivateCreateUserDocument(),this.clearFields(),setTimeout(()=>{this.showResponse=!1},3e3)):(this.showResponse=!0,this.bgColor="#fca5a5",this.bColor="3px solid red",this.responseMessage="Fout bij aanmaken Gebruiker",this.clearFields())})}ActivateCreateUserDocument(){const ut={email:this.signupForm.value.email,password:this.signupForm.value.password,name:this.signupForm.value.name,afdeling:this.signupForm.value.afdeling,afdelingId:this.fire.getAfdelingId(this.signupForm.value.afdeling),userId:this.newUid,rights:0};this.authservice.addNewUsertocollection(ut)}clearFields(){this.signupForm.reset({email:"",password:"",confirmPassword:""})}static#e=this.\u0275fac=function(_t){return new(_t||qe)(E.Y36(he.qu),E.Y36(z.q),E.Y36(St.O))};static#t=this.\u0275cmp=E.Xpm({type:qe,selectors:[["app-signup"]],decls:64,vars:8,consts:[[1,"max-w-sm","mx-auto","p-4","border","rounded-lg","shadow-lg"],[1,"bg-red-500","text-white","text-center","py-2","px-4","rounded-t-lg"],[1,"text-xl","font-bold"],[1,"bg-white","p-4","rounded-b-lg"],[1,"mb-4","text-lg","font-bold"],["href","mailto:ict@chiroschelle.be"],[3,"formGroup","submit"],[1,"mb-4"],["for","email",1,"font-semibold"],["type","email","formControlName","email","placeholder","voornaam.naam@chiroschelle.be","value","kil.ser@chiroschelle.be",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],["class","text-red-500 text-sm",4,"ngIf"],["for","name",1,"font-semibold"],["type","text","formControlName","name","placeholder","voornaam",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],["name","department","formControlName","afdeling",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],["value","Ribbel Jongens","selected",""],["value","Ribbel Meisjes"],["value","Speelclub Jongens"],["value","Speelclub Meisjes"],["value","Rakkers"],["value","Kwiks"],["value","Toppers"],["value","Tippers"],["value","Kerels"],["value","Tiptiens"],["value","Aspi Jongens"],["value","Aspi Meisjes"],["for","password",1,"font-semibold"],["type","password","formControlName","password","placeholder","wachtwoord","value","supperwachtwoord123!",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],["type","password","formControlName","confirmPassword","placeholder","bevestig wachtwoord","value","supperwachtwoord123!",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:border-gray-500"],[1,"mb-4","text-center"],["type","submit",1,"bg-red-500","hover:bg-red-600","text-white","font-bold","py-2","px-4","rounded-full"],["class","rounded-md px-2 py-3 text-center mt-2 font-bold",3,"border","background",4,"ngIf"],[1,"text-red-500","text-sm"],[1,"rounded-md","px-2","py-3","text-center","mt-2","font-bold"]],template:function(_t,ft){if(1&_t&&(E.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),E._uU(3,"Voeg Nieuwe Gebruiker Toe"),E.qZA()(),E.TgZ(4,"div",3)(5,"h3",4),E._uU(6,"Heb jeproblemen? mailtje naar "),E.TgZ(7,"a",5),E._uU(8,"De Wergroep "),E.qZA()()(),E.TgZ(9,"form",6),E.NdJ("submit",function(){return ft.onSignUp()}),E.TgZ(10,"div",7)(11,"label",8),E._uU(12,"Vul de chiro email in"),E.qZA(),E._UZ(13,"input",9),E.YNc(14,pe,1,0,"div",10),E.qZA(),E.TgZ(15,"div",7)(16,"label",11),E._uU(17,"Vul de Naam in"),E.qZA(),E._UZ(18,"input",12),E.YNc(19,me,2,0,"div",10),E.qZA(),E.TgZ(20,"div",7)(21,"label",11),E._uU(22,"Afdeling: "),E.qZA(),E.TgZ(23,"select",13)(24,"option",14),E._uU(25,"Ribbel Jongens"),E.qZA(),E.TgZ(26,"option",15),E._uU(27,"Ribbel Meisjes"),E.qZA(),E.TgZ(28,"option",16),E._uU(29,"Speelclub Jongens"),E.qZA(),E.TgZ(30,"option",17),E._uU(31,"Speelclub Meisjes"),E.qZA(),E.TgZ(32,"option",18),E._uU(33,"Rakkers"),E.qZA(),E.TgZ(34,"option",19),E._uU(35,"Kwiks"),E.qZA(),E.TgZ(36,"option",20),E._uU(37,"Toppers"),E.qZA(),E.TgZ(38,"option",21),E._uU(39,"Tippers"),E.qZA(),E.TgZ(40,"option",22),E._uU(41,"Kerels"),E.qZA(),E.TgZ(42,"option",23),E._uU(43,"Tiptiens"),E.qZA(),E.TgZ(44,"option",24),E._uU(45,"Aspi Jongens"),E.qZA(),E.TgZ(46,"option",25),E._uU(47,"Aspi Meisjes"),E.qZA()(),E.YNc(48,$e,2,0,"div",10),E.qZA(),E.TgZ(49,"div",7)(50,"label",26),E._uU(51,"Vul het Wachtwoord in"),E.qZA(),E._UZ(52,"input",27),E.YNc(53,Se,2,0,"div",10),E.qZA(),E.TgZ(54,"div",7)(55,"label",26),E._uU(56,"Herhaal het Wachtwoord"),E.qZA(),E._UZ(57,"input",28),E.YNc(58,at,2,0,"div",10),E.YNc(59,Je,2,0,"div",10),E.TgZ(60,"div",29)(61,"button",30),E._uU(62,"Maak nieuwe gebruiker"),E.qZA()(),E.YNc(63,pt,2,5,"div",31),E.qZA()()()),2&_t){let fn,Zn,wt,In,Pt,gt;E.xp6(9),E.Q6J("formGroup",ft.signupForm),E.xp6(5),E.Q6J("ngIf",null==(fn=ft.signupForm.get("email"))?null:fn.hasError("pattern")),E.xp6(5),E.Q6J("ngIf",null==(Zn=ft.signupForm.get("name"))?null:Zn.hasError("pattern")),E.xp6(29),E.Q6J("ngIf",null==(wt=ft.signupForm.get("afdeling"))?null:wt.hasError("pattern")),E.xp6(5),E.Q6J("ngIf",null==(In=ft.signupForm.get("password"))?null:In.hasError("pattern")),E.xp6(5),E.Q6J("ngIf",null==(Pt=ft.signupForm.get("confirmPassword"))?null:Pt.hasError("required")),E.xp6(1),E.Q6J("ngIf",(null==(gt=ft.signupForm.get("confirmPassword"))?null:gt.value)!==(null==(gt=ft.signupForm.get("password"))?null:gt.value)),E.xp6(4),E.Q6J("ngIf",ft.showResponse)}},dependencies:[He.O5,he._Y,he.YN,he.Kr,he.Fj,he.EJ,he.JJ,he.JL,he.sg,he.u]})}return qe})(),Gt=(()=>{class qe{constructor(ut,_t){this.auth=ut,this.router=_t,this.responseMessage=""}logoutUser(){this.auth.logout(),this.actionResponse("U bent Uitgelogd",!0)}actionResponse(ut,_t){_t?(this.bgColor="#9fff96",this.bColor="3px solid green",this.responseMessage=ut):(this.bgColor="#fca5a5",this.bColor="3px solid red",this.responseMessage=ut)}static#e=this.\u0275fac=function(_t){return new(_t||qe)(E.Y36(z.q),E.Y36(A.F0))};static#t=this.\u0275cmp=E.Xpm({type:qe,selectors:[["app-logout"]],decls:12,vars:5,consts:[[1,"max-w-sm","mx-auto","mt-1","p-4","border","rounded-lg","shadow-lg"],[1,"bg-red-500","text-white","text-center","py-2","px-4","rounded-t-lg"],[1,"text-xl","font-bold"],[1,"bg-white","p-4","rounded-b-lg"],[1,"mb-4","text-lg","font-bold"],[1,"mb-4","text-lg","font-semibold"],[1,"border","bg-red-500","hover:bg-red-600","text-white","py-2","px-1","w-full","rounded-full",3,"click"],[1,"rounded-md","px-2","py-3","text-center","mt-2","font-bold"]],template:function(_t,ft){1&_t&&(E.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),E._uU(3,"Log uit"),E.qZA()(),E.TgZ(4,"div",3)(5,"h3",4),E._uU(6,"Ben je zeker dat je wilt uitloggen? "),E.qZA(),E.TgZ(7,"div",5)(8,"button",6),E.NdJ("click",function(){return ft.logoutUser()}),E._uU(9,"Ja ik wil uitloggen"),E.qZA()()(),E.TgZ(10,"div",7),E._uU(11),E.qZA()()),2&_t&&(E.xp6(10),E.Udp("border",ft.bColor)("background",ft.bgColor),E.xp6(1),E.hij(" ",ft.responseMessage," "))}})}return qe})();var Sn=X(1391);const nt=[{path:"login",component:Ge},{path:"singup",component:Kt,canActivate:[X(5336).l]},{path:"logout",component:Gt,canActivate:[Sn.a]}];let Ct=(()=>{class qe{static#e=this.\u0275fac=function(_t){return new(_t||qe)};static#t=this.\u0275mod=E.oAB({type:qe});static#n=this.\u0275inj=E.cJS({imports:[A.Bz.forChild(nt),A.Bz]})}return qe})()},4060:(yn,ht,X)=>{X.d(ht,{q:()=>he});var A=X(1210),E=X(2459),ee=X(5349),z=X(4946),fe=X(8589);let he=(()=>{class Ge{constructor(He,pe,me){this.router=He,this.auth=pe,this.db=me,this.token=null,this.userCollection=(0,ee.hJ)(this.db,"users"),localStorage.getItem("token")&&(this.token=localStorage.getItem("token"))}signup(He,pe){return(0,A.Xb)(this.auth,He,pe).then(me=>({status:"succes",userId:me.user?.uid})).catch(me=>(console.error("ERROR with creating new user: "+me),{status:"error",userId:"ERROR"}))}addNewUsertocollection(He){const pe=(0,ee.hJ)(this.db,"users");return(0,E.D)((0,ee.ET)(pe,He))}loginUser(He,pe){return console.log("Email And Password: \n"+He+" "+pe),(0,A.e5)(this.auth,He,pe).then(()=>this.auth.currentUser?.getIdToken().then(me=>(this.token=me,this.loggedIn=!0,localStorage.setItem("token",me),!0)).catch(me=>(console.error("ERROR: An Error Acured with logging in a user: ",me),!1))).catch(me=>(console.error("ERROR with loggin in user: "+me),!1))}logout(){this.auth.signOut(),this.loggedIn=!1,this.token=null,localStorage.removeItem("token"),this.router.navigate(["/login"])}isLoggedIn(){return this.loggedIn}getUid(){return this.auth.currentUser?this.auth.currentUser.uid:null}static#e=this.\u0275fac=function(pe){return new(pe||Ge)(z.LFG(fe.F0),z.LFG(A.gx),z.LFG(ee.gg))};static#t=this.\u0275prov=z.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})()},5336:(yn,ht,X)=>{X.d(ht,{l:()=>he});var A=X(7398),E=X(4946),ee=X(4060),z=X(5220),fe=X(8589);let he=(()=>{class Ge{constructor(He,pe,me){this.authService=He,this.firebaseService=pe,this.router=me}canActivate(He,pe){return this.firebaseService.getAdmin(this.authService.getUid()).pipe((0,A.U)(me=>!!me||(this.router.navigate(["/login"]),!1)))}static#e=this.\u0275fac=function(pe){return new(pe||Ge)(E.LFG(ee.q),E.LFG(z.O),E.LFG(fe.F0))};static#t=this.\u0275prov=E.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})()},1391:(yn,ht,X)=>{X.d(ht,{a:()=>z});var A=X(4946),E=X(4060),ee=X(8589);let z=(()=>{class fe{constructor(Ge,St){this.auth=Ge,this.router=St}canActivate(){return!!this.auth.isLoggedIn()||(this.router.navigate(["/login"]),!1)}canDeactivate(Ge,St,He,pe){return Ge.canDeactive()}static#e=this.\u0275fac=function(St){return new(St||fe)(A.LFG(E.q),A.LFG(ee.F0))};static#t=this.\u0275prov=A.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})()},1871:(yn,ht,X)=>{X.r(ht),X.d(ht,{LedenActionsModule:()=>Se});var A=X(6814),E=X(8589),ee=X(4946),z=X(5303),fe=X(5220),he=X(95);function Ge(at,Je){if(1&at){const pt=ee.EpF();ee.TgZ(0,"fieldset",6)(1,"legend",7),ee._uU(2,"Ouder 2 Informatie"),ee.qZA(),ee.TgZ(3,"div",9)(4,"label",37),ee._uU(5,"Telefoon:"),ee.qZA(),ee.TgZ(6,"input",52),ee.NdJ("ngModelChange",function(Gt){ee.CHM(pt);const Sn=ee.oxw();return ee.KtG(Sn.phone_2=Gt)}),ee.qZA()(),ee.TgZ(7,"div",9)(8,"label",53),ee._uU(9,"Address:"),ee.qZA(),ee.TgZ(10,"input",54),ee.NdJ("ngModelChange",function(Gt){ee.CHM(pt);const Sn=ee.oxw();return ee.KtG(Sn.Address_2=Gt)}),ee.qZA()(),ee.TgZ(11,"div",55)(12,"label",42),ee._uU(13,"Opmerking:"),ee.qZA(),ee.TgZ(14,"input",56),ee.NdJ("ngModelChange",function(Gt){ee.CHM(pt);const Sn=ee.oxw();return ee.KtG(Sn.opmerking_2=Gt)}),ee.qZA()()()}if(2&at){const pt=ee.oxw();ee.xp6(6),ee.Q6J("ngModel",pt.phone_2),ee.xp6(4),ee.Q6J("ngModel",pt.Address_2),ee.xp6(4),ee.Q6J("ngModel",pt.opmerking_2)}}function St(at,Je){if(1&at&&(ee.TgZ(0,"div",57)(1,"div",58),ee._uU(2),ee.qZA()()),2&at){const pt=ee.oxw();ee.xp6(1),ee.Udp("border",pt.bColor)("background",pt.bgColor),ee.xp6(1),ee.hij(" ",pt.responseMessage," ")}}const He=function(at){return["/ledenDetails",at]},me=[{path:"edit/:lidId",component:(()=>{class at{constructor(pt,Kt,Gt,Sn){this.dataService=pt,this.route=Kt,this.router=Gt,this.firebaseservice=Sn,this.voornaam="",this.name="",this.department="",this.afdelingId=0,this.hasSecondAddress=!1,this.email="",this.phone="",this.street="",this.houseNumber="",this.postcode="",this.city="",this.geboortedatum="",this.opmerking="",this.email_2="",this.phone_2="",this.street_2="",this.houseNumber_2="",this.postcode_2="",this.city_2="",this.Address="",this.Address_2="",this.opmerking_2="",this.validForm=!0,this.setTimeoutActive=!0,this.confirmExit=!1}ngOnInit(){this.fillDataOfLid(),this.saved=!1,console.log(this.afdelingId)}loadParameter(){}fillDataOfLid(){this.route.params.subscribe(pt=>{this.parameterValue=pt.lidId}),this.firebaseservice.getLidPerId(this.parameterValue).subscribe(pt=>{this.voornaam=pt[0].voornaam,this.name=pt[0].name,this.department=pt[0].afdeling,this.setTimeoutActive&&(this.afdelingIdPreChange=pt[0].afdelingId),this.email=pt[0].email,this.email_2=pt[0].email_2,this.phone=pt[0].telefoon,this.phone_2=pt[0].telefoon_2,this.Address=pt[0].Address,this.Address_2=pt[0].Address_2,this.opmerking=pt[0].Opmerking,this.opmerking_2=pt[0].Opmerking_2,this.geboortedatum=pt[0].geboortedatum,this.hasSecondAddress=pt[0].hasSecondAddress})}editLidForm(pt){console.log("Pas aan Pressed."),this.validateForm(pt)}validateForm(pt){pt.voornaam&&""!==pt.voornaam.trim()?pt.name&&""!==pt.name.trim()?pt.email&&""!==pt.email.trim()?pt.phone&&""!==pt.phone.trim()?pt.Address&&""!==pt.Address.trim()?pt.opmerking&&""!==pt.opmerking.trim()?(!pt.email_2||""===pt.email_2.trim())&&(this.email_2=""):(this.validForm=!1,console.log("opmerking leeg")):(this.validForm=!1,console.log("Address leeg")):(this.validForm=!1,console.log("telefoon leeg")):(this.validForm=!1,console.log("Email leeg")):(this.validForm=!1,console.log("Naam leeg")):(this.validForm=!1,console.log("Voornaam leeg")),this.hasSecondAddress?(console.log("2de Address"),pt.phone_2&&""!==pt.phone_2.trim()?pt.Address_2&&""!==pt.Address_2.trim()?(!pt.opmerking_2||""===pt.opmerking_2.trim())&&(this.validForm=!1,console.log("opmerking_2 leeg")):(this.validForm=!1,console.log("Address_2 leeg")):(this.validForm=!1,console.log("phone_2 leeg"))):(this.Address_2="",this.opmerking_2="",this.phone_2="",this.hasSecondAddress=!1),this.validForm?(console.log("Form Valid"),this.editData(pt)):this.validForm||(this.confirmExit=!0,this.responseMessage="Vul Alle Velden In!",this.bgColor="#fca5a5",this.bColor="3px solid red")}editData(pt){const Kt={voornaam:this.voornaam,name:this.name,afdeling:this.department,afdelingId:this.firebaseservice.getAfdelingId(this.department),email:this.email,email_2:this.email_2,telefoon:this.phone,telefoon_2:this.phone_2,Address:this.Address,Address_2:this.Address_2,betaald:!1,Opmerking:this.opmerking,Opmerking_2:this.opmerking_2,geboortedatum:this.geboortedatum,hasSecondAddress:this.hasSecondAddress};this.firebaseservice.updateLid(Kt,this.parameterValue),this.responseMessage="Lid Aangepast!",this.bgColor="#9fff96",this.bColor="3px solid green",this.setTimeoutActive=!1,this.confirmExit=!0,this.saved=!0,setTimeout(()=>{this.router.navigate(["/afdelingLijst/"+this.afdelingIdPreChange])},1e3)}canDeactive(){return!!this.saved||(this.responseMessage="Annuleren zonder op te slaan?",this.bColor="3px solid #dbb61f",this.bgColor="#f5d969",this.confirmExit=!0,!1)}exitAction(pt){pt?(this.saved=!0,this.router.navigate(["/ledenDetails",this.parameterValue])):this.confirmExit=!1}OnChangeAddress(){this.hasSecondAddress=!this.hasSecondAddress}static#e=this.\u0275fac=function(Kt){return new(Kt||at)(ee.Y36(z.D),ee.Y36(E.gz),ee.Y36(E.F0),ee.Y36(fe.O))};static#t=this.\u0275cmp=ee.Xpm({type:at,selectors:[["app-edit"]],decls:92,vars:15,consts:[[3,"ngSubmit"],["nieuwLidForm","ngForm"],[1,"w-4/6","mx-auto","mt-1","p-4","border","rounded-lg","shadow-lg"],[1,"bg-red-500","text-white","text-center","py-2","px-4","rounded-t-lg"],[1,"text-xl","font-bold"],[1,"bg-white","p-4","rounded-b-lg"],[1,"grid","grid-cols-2","border-2","border-stone-300","p-3","rounded-md"],[1,"font-semibold"],[1,"font-bold","text-red-600","mr-1"],[1,"w-full","md:w-2/2","mb-4","md:pr-2"],["for","voornaam",1,"font-semibold"],["type","text","name","voornaam","placeholder","Voornaam","required","",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],[1,"w-full","md:w-2/2","mb-4","md:pl-2"],["for","name",1,"font-semibold"],["type","text","name","name","placeholder","Naam","required","",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["for","department",1,"font-semibold"],["name","department","required","",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["value","Ribbel Jongens"],["value","Ribbel Meisjes"],["value","Speelclub Jongens"],["value","Speelclub Meisjes"],["value","Rakkers"],["value","Kwiks"],["value","Toppers"],["value","Tippers"],["value","Kerels"],["value","Tiptiens"],["value","Aspi Jongens"],["value","Aspi Meisjes"],["for","geboortedatum",1,"font-semibold"],["type","date","name","geboortedatum","placeholder","geboortedatum","required","",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["for","email",1,"font-semibold"],["type","email","name","email","placeholder","Email",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],[1,"text-xs"],["type","email","name","email_2","placeholder","Email",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],[1,"grid","grid-cols-2"],[1,"grid","grid-cols-","border-2","border-stone-300","p-3","rounded-md"],["for","phone",1,"font-semibold"],["type","tel","name","phone","placeholder","Telefoon",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["for","street",1,"font-semibold"],["type","text","name","Address","placeholder","Address","required","",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],[1,"w-full","md:w-2/2","md:w-full","mb-4","md:pl-2"],["for","postcode",1,"font-semibold"],[1,"w-fit","mx-auto"],["id","default-checkbox","type","checkbox","value","",1,"w-6","h-6","mt-3","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600",3,"change"],[1,"w-full","md:w-2/2","md:w-full","mb-4","md:pl-2","col-span-2"],["type","text","name","opmerking","placeholder","bv Papa of Oma",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["class","grid grid-cols-2 border-2 border-stone-300 p-3 rounded-md",4,"ngIf"],[1,"w-full","text-center","mt-3"],["type","submit",1,"bg-yellow-500","hover:bg-yellow-600","text-white","font-bold","py-2","px-4","rounded-md","mr-6"],["routerLinkActive","router-link-active",1,"bg-blue-500","hover:bg-blue-600","text-white","font-bold","py-2","px-4","rounded-md",3,"routerLink"],["class","w-full text-center mb-6",4,"ngIf"],["type","tel","name","phone_2","placeholder","Telefoon",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["for","houseNumber",1,"font-semibold"],["type","text","name","Address_2","placeholder","Address",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],[1,"w-full","md:w-2/2","md:w-full","mb-16","md:pl-2","col-span-2"],["type","text","name","opmerking_2","placeholder","bv Papa of Oma",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],[1,"w-full","text-center","mb-6"],[1,"rounded-md","px-2","py-3","font-bold","w-1/4","text-center","mt-2","mb-3","mx-auto"]],template:function(Kt,Gt){if(1&Kt){const Sn=ee.EpF();ee.TgZ(0,"form",0,1),ee.NdJ("ngSubmit",function(){ee.CHM(Sn);const nt=ee.MAs(1);return ee.KtG(Gt.editLidForm(nt.value))}),ee.TgZ(2,"div",2)(3,"div",3)(4,"h2",4),ee._uU(5,"Edit Lid Form"),ee.qZA()(),ee.TgZ(6,"div",5)(7,"fieldset",6)(8,"legend",7),ee._uU(9,"Basis Informatie "),ee.TgZ(10,"span",8),ee._uU(11,"*"),ee.qZA()(),ee.TgZ(12,"div",9)(13,"label",10),ee._uU(14,"Voornaam:"),ee.qZA(),ee.TgZ(15,"input",11),ee.NdJ("ngModelChange",function(nt){return Gt.voornaam=nt}),ee.qZA()(),ee.TgZ(16,"div",12)(17,"label",13),ee._uU(18,"Naam:"),ee.qZA(),ee.TgZ(19,"input",14),ee.NdJ("ngModelChange",function(nt){return Gt.name=nt}),ee.qZA()(),ee.TgZ(20,"div",9)(21,"label",15),ee._uU(22,"Voornaam Afdeling:"),ee.qZA(),ee.TgZ(23,"select",16),ee.NdJ("ngModelChange",function(nt){return Gt.department=nt}),ee.TgZ(24,"option",17),ee._uU(25,"Ribbel Jongens"),ee.qZA(),ee.TgZ(26,"option",18),ee._uU(27,"Ribbel Meisjes"),ee.qZA(),ee.TgZ(28,"option",19),ee._uU(29,"Speelclub Jongens"),ee.qZA(),ee.TgZ(30,"option",20),ee._uU(31,"Speelclub Meisjes"),ee.qZA(),ee.TgZ(32,"option",21),ee._uU(33,"Rakkers"),ee.qZA(),ee.TgZ(34,"option",22),ee._uU(35,"Kwiks"),ee.qZA(),ee.TgZ(36,"option",23),ee._uU(37,"Toppers"),ee.qZA(),ee.TgZ(38,"option",24),ee._uU(39,"Tippers"),ee.qZA(),ee.TgZ(40,"option",25),ee._uU(41,"Kerels"),ee.qZA(),ee.TgZ(42,"option",26),ee._uU(43,"Tiptiens"),ee.qZA(),ee.TgZ(44,"option",27),ee._uU(45,"Aspi Jongens"),ee.qZA(),ee.TgZ(46,"option",28),ee._uU(47,"Aspi Meisjes"),ee.qZA()()(),ee.TgZ(48,"div",12)(49,"label",29),ee._uU(50,"Geboorte Datum:"),ee.qZA(),ee.TgZ(51,"input",30),ee.NdJ("ngModelChange",function(nt){return Gt.geboortedatum=nt}),ee.qZA()(),ee.TgZ(52,"div",12)(53,"label",31),ee._uU(54,"Email 1:"),ee.qZA(),ee.TgZ(55,"input",32),ee.NdJ("ngModelChange",function(nt){return Gt.email=nt}),ee.qZA()(),ee.TgZ(56,"div",12)(57,"label",31),ee._uU(58,"Email 2: "),ee.TgZ(59,"span",33),ee._uU(60,"(niet verplicht)"),ee.qZA()(),ee.TgZ(61,"input",34),ee.NdJ("ngModelChange",function(nt){return Gt.email_2=nt}),ee.qZA()()(),ee.TgZ(62,"div",35)(63,"fieldset",36)(64,"legend",7),ee._uU(65,"Ouder 1 Informatie "),ee.TgZ(66,"span",8),ee._uU(67,"*"),ee.qZA()(),ee.TgZ(68,"div",9)(69,"label",37),ee._uU(70,"Telefoon:"),ee.qZA(),ee.TgZ(71,"input",38),ee.NdJ("ngModelChange",function(nt){return Gt.phone=nt}),ee.qZA()(),ee.TgZ(72,"div",12)(73,"label",39),ee._uU(74,"Address:"),ee.qZA(),ee.TgZ(75,"input",40),ee.NdJ("ngModelChange",function(nt){return Gt.Address=nt}),ee.qZA()(),ee.TgZ(76,"div",41)(77,"label",42),ee._uU(78,"Verschillende Addresen:"),ee.qZA(),ee.TgZ(79,"div",43)(80,"input",44),ee.NdJ("change",function(){return Gt.OnChangeAddress()}),ee.qZA()()(),ee.TgZ(81,"div",45)(82,"label",42),ee._uU(83,"Opmerking:"),ee.qZA(),ee.TgZ(84,"input",46),ee.NdJ("ngModelChange",function(nt){return Gt.opmerking=nt}),ee.qZA()()(),ee.YNc(85,Ge,15,3,"fieldset",47),ee.qZA(),ee.TgZ(86,"div",48)(87,"button",49),ee._uU(88,"Pas Aan"),ee.qZA(),ee.TgZ(89,"button",50),ee._uU(90,"Terug"),ee.qZA()()()()(),ee.YNc(91,St,3,5,"div",51)}2&Kt&&(ee.xp6(15),ee.Q6J("ngModel",Gt.voornaam),ee.xp6(4),ee.Q6J("ngModel",Gt.name),ee.xp6(4),ee.Q6J("ngModel",Gt.department),ee.xp6(28),ee.Q6J("ngModel",Gt.geboortedatum),ee.xp6(4),ee.Q6J("ngModel",Gt.email),ee.xp6(6),ee.Q6J("ngModel",Gt.email_2),ee.xp6(10),ee.Q6J("ngModel",Gt.phone),ee.xp6(4),ee.Q6J("ngModel",Gt.Address),ee.xp6(5),ee.uIk("checked",!!Gt.hasSecondAddress||null),ee.xp6(4),ee.Q6J("ngModel",Gt.opmerking),ee.xp6(1),ee.Q6J("ngIf",Gt.hasSecondAddress),ee.xp6(4),ee.Q6J("routerLink",ee.VKq(13,He,Gt.parameterValue)),ee.xp6(2),ee.Q6J("ngIf",Gt.confirmExit))},dependencies:[A.O5,E.rH,E.Od,he._Y,he.YN,he.Kr,he.Fj,he.EJ,he.JJ,he.JL,he.Q7,he.On,he.F]})}return at})()}];let $e=(()=>{class at{static#e=this.\u0275fac=function(Kt){return new(Kt||at)};static#t=this.\u0275mod=ee.oAB({type:at});static#n=this.\u0275inj=ee.cJS({imports:[E.Bz.forChild(me),E.Bz]})}return at})(),Se=(()=>{class at{static#e=this.\u0275fac=function(Kt){return new(Kt||at)};static#t=this.\u0275mod=ee.oAB({type:at});static#n=this.\u0275inj=ee.cJS({imports:[A.ez,$e,he.u5,he.UX]})}return at})()},6383:(yn,ht,X)=>{X.r(ht),X.d(ht,{RandomNumberModule:()=>$e});var A=X(6814),E=X(8589),ee=X(4946),z=X(8645);let fe=(()=>{class Se{constructor(){this.number=new z.x}getNumber(){return this.number.asObservable()}genRandNum(){const Je=Math.floor(100*Math.random());this.number.next(Je)}static#e=this.\u0275fac=function(pt){return new(pt||Se)};static#t=this.\u0275prov=ee.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})(),he=(()=>{class Se{constructor(Je){this.numSer=Je}ngOnInit(){this.numSer.getNumber().subscribe(Je=>{this.rand=Je})}static#e=this.\u0275fac=function(pt){return new(pt||Se)(ee.Y36(fe))};static#t=this.\u0275cmp=ee.Xpm({type:Se,selectors:[["app-child1"]],decls:5,vars:1,consts:[[1,"p-4"],[1,"text-black"],[1,"font-bold","text-red-700"]],template:function(pt,Kt){1&pt&&(ee.TgZ(0,"div",0)(1,"p",1),ee._uU(2,"Random Number in Child 1: "),ee.TgZ(3,"span",2),ee._uU(4),ee.qZA()()()),2&pt&&(ee.xp6(4),ee.hij(" ",Kt.rand,""))}})}return Se})(),Ge=(()=>{class Se{constructor(Je){this.numSer=Je}ngOnInit(){this.numSer.getNumber().subscribe(Je=>{this.rand=Je})}static#e=this.\u0275fac=function(pt){return new(pt||Se)(ee.Y36(fe))};static#t=this.\u0275cmp=ee.Xpm({type:Se,selectors:[["app-child2"]],decls:5,vars:1,consts:[[1,"p-4"],[1,"text-black"],[1,"font-bold","text-red-700"]],template:function(pt,Kt){1&pt&&(ee.TgZ(0,"div",0)(1,"p",1),ee._uU(2,"Random Number in Child 2: "),ee.TgZ(3,"span",2),ee._uU(4),ee.qZA()()()),2&pt&&(ee.xp6(4),ee.hij(" ",Kt.rand,""))}})}return Se})();const pe=[{path:"subParent",component:(()=>{class Se{constructor(Je){this.numSer=Je}genRandNumb(){this.numSer.genRandNum()}static#e=this.\u0275fac=function(pt){return new(pt||Se)(ee.Y36(fe))};static#t=this.\u0275cmp=ee.Xpm({type:Se,selectors:[["app-parent"]],decls:10,vars:0,consts:[[1,"p-4"],[1,"text-4xl","mb-3"],[1,"bg-red-500","text-white","hover:bg-red-800","hover:text-white","py-2","px-4","rounded",3,"click"]],template:function(pt,Kt){1&pt&&(ee.TgZ(0,"div",0)(1,"h1",1),ee._uU(2,"Wat Gebeurt er Hier?"),ee.qZA(),ee.TgZ(3,"p"),ee._uU(4,"Je drukt op de Knop en er zal in bijde Chldren (de text hier zijn 2 apparte components) een random nummber genereren in de parent component!!!! "),ee.qZA(),ee.TgZ(5,"button",2),ee.NdJ("click",function(){return Kt.genRandNumb()}),ee._uU(6," Generate Random Number "),ee.qZA()(),ee._UZ(7,"app-child1")(8,"br")(9,"app-child2"))},dependencies:[he,Ge]})}return Se})(),canActivate:[X(1391).a]}];let me=(()=>{class Se{static#e=this.\u0275fac=function(pt){return new(pt||Se)};static#t=this.\u0275mod=ee.oAB({type:Se});static#n=this.\u0275inj=ee.cJS({imports:[E.Bz.forChild(pe),E.Bz]})}return Se})(),$e=(()=>{class Se{static#e=this.\u0275fac=function(pt){return new(pt||Se)};static#t=this.\u0275mod=ee.oAB({type:Se});static#n=this.\u0275inj=ee.cJS({imports:[A.ez,me]})}return Se})()},5303:(yn,ht,X)=>{X.d(ht,{D:()=>ee});var A=X(4946),E=X(9862);let ee=(()=>{class z{constructor(he){this.http=he,this.baseUrl="http://localhost:3000/api",this.checkboxUrl="http://localhost:3000/api/leden/updateCheckbox/",this.apiUsersUrl="http://localhost:3000/api/users",this.apiLedenUrl="http://localhost:3000/api/leden",this.apiLedenAfdelingUrl="http://localhost:3000/api/leden/afdelingId"}getUsers(){return this.http.get(this.apiUsersUrl)}getUserPerUsername(he){return this.http.get(`${this.baseUrl}/users/${he}`)}getLeden(){return this.http.get(this.apiLedenUrl)}getCountLeden(){return this.http.get(`${this.baseUrl}/leden/count`)}getAfdelingId(he){return this.http.get(`${this.baseUrl}/leden/${he}`)}getLidById(he){return this.http.get(`${this.baseUrl}/leden/lidId/${he}`)}postLid(he,Ge,St,He,pe,me,$e,Se,at,Je){return this.http.post(`${this.baseUrl}/leden/addUser`,{naam:he,voornaam:Ge,afdeling:St,afdelingId:He,email:pe,telefoon:me,straat:$e,huisnummer:Se,gemeente:at,postcode:Je})}updateCheckboxState(he,Ge){this.http.put(`${this.checkboxUrl}${he}`,{checkData:Ge}).subscribe()}static#e=this.\u0275fac=function(Ge){return new(Ge||z)(A.LFG(E.eN))};static#t=this.\u0275prov=A.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},5220:(yn,ht,X)=>{X.d(ht,{O:()=>he});var A=X(5861),E=X(5349),ee=X(2459),z=X(5816),fe=X(4946);let he=(()=>{class Ge{constructor(He,pe){this.storage=He,this.db=pe}addLid(He){var pe=this;return(0,A.Z)(function*(){const me=(0,E.hJ)(pe.db,"leden");return(0,ee.D)((0,E.ET)(me,He))})()}getAllLedenPerAfdeling(He){return(0,E.BS)((0,E.IO)((0,E.hJ)(this.db,"leden"),(0,E.ar)("afdelingId","==",He)),{idField:"Id"})}getLidPerId(He){return(0,E.BS)((0,E.IO)((0,E.hJ)(this.db,"leden"),(0,E.ar)("__name__","==",He)),{idField:"Id"})}changeCheckBoxState(He,pe){const me=(0,E.JU)(this.db,"leden/"+pe);return(0,ee.D)((0,E.r7)(me,He))}updateLid(He,pe){const me=(0,E.JU)(this.db,"leden/"+pe);return(0,ee.D)((0,E.r7)(me,He))}deleteLid(He){const pe=(0,E.JU)(this.db,"leden/"+He);return(0,ee.D)((0,E.oe)(pe))}uploadImg(He,pe){var me=this;return(0,A.Z)(function*(){const $e=(0,z.iH)(me.storage,He);return yield(0,z.B0)($e,pe),yield(0,z.Jt)($e)})()}addUserToCollection(He){const pe=(0,E.hJ)(this.db,"users");return(0,ee.D)((0,E.ET)(pe,He))}getAuthusers(){return(0,E.BS)((0,E.IO)((0,E.hJ)(this.db,"users")),{idField:"Id"})}getAuthUserDetails(He){return(0,E.BS)((0,E.IO)((0,E.hJ)(this.db,"users"),(0,E.ar)("userId","==",He)),{idField:"Id"})}generateUniqueID(){return`${(new Date).getTime()}${Math.random().toString(36).substring(2,12)}`}getAfdelingId(He){switch(He){case"Ribbel Meisjes":return console.log("Afdeling = 0 (RM)"),1;case"Ribbel Jongens":return 2;case"Speelclub Meisjes":return 3;case"Speelclub Jongens":return 4;case"Kwiks":return 5;case"Rakkers":return 6;case"Tippers":return 7;case"Toppers":return 8;case"Tiptiens":return 9;case"Kerels":return 10;case"Aspi Meisjes":return 11;case"Aspi Jongens":return 12;default:return 0}}getAdmin(He){return(0,E._1)((0,E.JU)(this.db,"/administrators/"+He))}updateUser(He,pe){const me=(0,E.JU)(this.db,"users/"+pe);return(0,ee.D)((0,E.r7)(me,He))}deleteUser(He){const pe=(0,E.JU)(this.db,"user/"+He);return(0,ee.D)((0,E.oe)(pe))}static#e=this.\u0275fac=function(pe){return new(pe||Ge)(fe.LFG(z.Ke),fe.LFG(E.gg))};static#t=this.\u0275prov=fe.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})()},1985:(yn,ht,X)=>{var A=X(6593),E=X(4946);function ee(l){return l+.5|0}const z=(l,u,o)=>Math.max(Math.min(l,o),u);function fe(l){return z(ee(2.55*l),0,255)}function Ge(l){return z(ee(255*l),0,255)}function St(l){return z(ee(l/2.55)/100,0,1)}function He(l){return z(ee(100*l),0,100)}const pe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},me=[..."0123456789ABCDEF"],$e=l=>me[15&l],Se=l=>me[(240&l)>>4]+me[15&l],at=l=>(240&l)>>4==(15&l);const Sn=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function dn(l,u,o){const c=u*Math.min(o,1-o),f=(m,b=(m+l/30)%12)=>o-c*Math.max(Math.min(b-3,9-b,1),-1);return[f(0),f(8),f(4)]}function nt(l,u,o){const c=(f,m=(f+l/60)%6)=>o-o*u*Math.max(Math.min(m,4-m,1),0);return[c(5),c(3),c(1)]}function Ct(l,u,o){const c=dn(l,1,.5);let f;for(u+o>1&&(f=1/(u+o),u*=f,o*=f),f=0;f<3;f++)c[f]*=1-u-o,c[f]+=u;return c}function xt(l){const o=l.r/255,c=l.g/255,f=l.b/255,m=Math.max(o,c,f),b=Math.min(o,c,f),I=(m+b)/2;let C,N,j;return m!==b&&(j=m-b,N=I>.5?j/(2-m-b):j/(m+b),C=function qe(l,u,o,c,f){return l===f?(u-o)/c+(u<o?6:0):u===f?(o-l)/c+2:(l-u)/c+4}(o,c,f,j,m),C=60*C+.5),[0|C,N||0,I]}function ut(l,u,o,c){return(Array.isArray(u)?l(u[0],u[1],u[2]):l(u,o,c)).map(Ge)}function _t(l,u,o){return ut(dn,l,u,o)}function Zn(l){return(l%360+360)%360}const gt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},kt={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Re;const Qe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,ze=l=>l<=.0031308?12.92*l:1.055*Math.pow(l,1/2.4)-.055,ct=l=>l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4);function Ht(l,u,o){if(l){let c=xt(l);c[u]=Math.max(0,Math.min(c[u]+c[u]*o,0===u?360:1)),c=_t(c),l.r=c[0],l.g=c[1],l.b=c[2]}}function Bt(l,u){return l&&Object.assign(u||{},l)}function vn(l){var u={r:0,g:0,b:0,a:255};return Array.isArray(l)?l.length>=3&&(u={r:l[0],g:l[1],b:l[2],a:255},l.length>3&&(u.a=Ge(l[3]))):(u=Bt(l,{r:0,g:0,b:0,a:1})).a=Ge(u.a),u}function cr(l){return"r"===l.charAt(0)?function Xe(l){const u=Qe.exec(l);let c,f,m,o=255;if(u){if(u[7]!==c){const b=+u[7];o=u[8]?fe(b):z(255*b,0,255)}return c=+u[1],f=+u[3],m=+u[5],c=255&(u[2]?fe(c):z(c,0,255)),f=255&(u[4]?fe(f):z(f,0,255)),m=255&(u[6]?fe(m):z(m,0,255)),{r:c,g:f,b:m,a:o}}}(l):function wt(l){const u=Sn.exec(l);let c,o=255;if(!u)return;u[5]!==c&&(o=u[6]?fe(+u[5]):Ge(+u[5]));const f=Zn(+u[2]),m=+u[3]/100,b=+u[4]/100;return c="hwb"===u[1]?function ft(l,u,o){return ut(Ct,l,u,o)}(f,m,b):"hsv"===u[1]?function fn(l,u,o){return ut(nt,l,u,o)}(f,m,b):_t(f,m,b),{r:c[0],g:c[1],b:c[2],a:o}}(l)}class $n{constructor(u){if(u instanceof $n)return u;const o=typeof u;let c;"object"===o?c=vn(u):"string"===o&&(c=function pt(l){var o,u=l.length;return"#"===l[0]&&(4===u||5===u?o={r:255&17*pe[l[1]],g:255&17*pe[l[2]],b:255&17*pe[l[3]],a:5===u?17*pe[l[4]]:255}:(7===u||9===u)&&(o={r:pe[l[1]]<<4|pe[l[2]],g:pe[l[3]]<<4|pe[l[4]],b:pe[l[5]]<<4|pe[l[6]],a:9===u?pe[l[7]]<<4|pe[l[8]]:255})),o}(u)||function Ve(l){Re||(Re=function tt(){const l={},u=Object.keys(kt),o=Object.keys(gt);let c,f,m,b,I;for(c=0;c<u.length;c++){for(b=I=u[c],f=0;f<o.length;f++)m=o[f],I=I.replace(m,gt[m]);m=parseInt(kt[b],16),l[I]=[m>>16&255,m>>8&255,255&m]}return l}(),Re.transparent=[0,0,0,0]);const u=Re[l.toLowerCase()];return u&&{r:u[0],g:u[1],b:u[2],a:4===u.length?u[3]:255}}(u)||cr(u)),this._rgb=c,this._valid=!!c}get valid(){return this._valid}get rgb(){var u=Bt(this._rgb);return u&&(u.a=St(u.a)),u}set rgb(u){this._rgb=vn(u)}rgbString(){return this._valid?function We(l){return l&&(l.a<255?`rgba(${l.r}, ${l.g}, ${l.b}, ${St(l.a)})`:`rgb(${l.r}, ${l.g}, ${l.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Gt(l){var u=(l=>at(l.r)&&at(l.g)&&at(l.b)&&at(l.a))(l)?$e:Se;return l?"#"+u(l.r)+u(l.g)+u(l.b)+((l,u)=>l<255?u(l):"")(l.a,u):void 0}(this._rgb):void 0}hslString(){return this._valid?function Pt(l){if(!l)return;const u=xt(l),o=u[0],c=He(u[1]),f=He(u[2]);return l.a<255?`hsla(${o}, ${c}%, ${f}%, ${St(l.a)})`:`hsl(${o}, ${c}%, ${f}%)`}(this._rgb):void 0}mix(u,o){if(u){const c=this.rgb,f=u.rgb;let m;const b=o===m?.5:o,I=2*b-1,C=c.a-f.a,N=((I*C==-1?I:(I+C)/(1+I*C))+1)/2;m=1-N,c.r=255&N*c.r+m*f.r+.5,c.g=255&N*c.g+m*f.g+.5,c.b=255&N*c.b+m*f.b+.5,c.a=b*c.a+(1-b)*f.a,this.rgb=c}return this}interpolate(u,o){return u&&(this._rgb=function vt(l,u,o){const c=ct(St(l.r)),f=ct(St(l.g)),m=ct(St(l.b));return{r:Ge(ze(c+o*(ct(St(u.r))-c))),g:Ge(ze(f+o*(ct(St(u.g))-f))),b:Ge(ze(m+o*(ct(St(u.b))-m))),a:l.a+o*(u.a-l.a)}}(this._rgb,u._rgb,o)),this}clone(){return new $n(this.rgb)}alpha(u){return this._rgb.a=Ge(u),this}clearer(u){return this._rgb.a*=1-u,this}greyscale(){const u=this._rgb,o=ee(.3*u.r+.59*u.g+.11*u.b);return u.r=u.g=u.b=o,this}opaquer(u){return this._rgb.a*=1+u,this}negate(){const u=this._rgb;return u.r=255-u.r,u.g=255-u.g,u.b=255-u.b,this}lighten(u){return Ht(this._rgb,2,u),this}darken(u){return Ht(this._rgb,2,-u),this}saturate(u){return Ht(this._rgb,1,u),this}desaturate(u){return Ht(this._rgb,1,-u),this}rotate(u){return function In(l,u){var o=xt(l);o[0]=Zn(o[0]+u),o=_t(o),l.r=o[0],l.g=o[1],l.b=o[2]}(this._rgb,u),this}}function Lr(){}const yr=(()=>{let l=0;return()=>l++})();function xn(l){return null===l||typeof l>"u"}function Mn(l){if(Array.isArray&&Array.isArray(l))return!0;const u=Object.prototype.toString.call(l);return"[object"===u.slice(0,7)&&"Array]"===u.slice(-6)}function zt(l){return null!==l&&"[object Object]"===Object.prototype.toString.call(l)}function Kn(l){return("number"==typeof l||l instanceof Number)&&isFinite(+l)}function cn(l,u){return Kn(l)?l:u}function bn(l,u){return typeof l>"u"?u:l}const dr=(l,u)=>"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100*u:+l;function rn(l,u,o){if(l&&"function"==typeof l.call)return l.apply(o,u)}function en(l,u,o,c){let f,m,b;if(Mn(l))if(m=l.length,c)for(f=m-1;f>=0;f--)u.call(o,l[f],f);else for(f=0;f<m;f++)u.call(o,l[f],f);else if(zt(l))for(b=Object.keys(l),m=b.length,f=0;f<m;f++)u.call(o,l[b[f]],b[f])}function Sr(l,u){let o,c,f,m;if(!l||!u||l.length!==u.length)return!1;for(o=0,c=l.length;o<c;++o)if(f=l[o],m=u[o],f.datasetIndex!==m.datasetIndex||f.index!==m.index)return!1;return!0}function ui(l){if(Mn(l))return l.map(ui);if(zt(l)){const u=Object.create(null),o=Object.keys(l),c=o.length;let f=0;for(;f<c;++f)u[o[f]]=ui(l[o[f]]);return u}return l}function pi(l){return-1===["__proto__","prototype","constructor"].indexOf(l)}function xr(l,u,o,c){if(!pi(l))return;const f=u[l],m=o[l];zt(f)&&zt(m)?hr(f,m,c):u[l]=ui(m)}function hr(l,u,o){const c=Mn(u)?u:[u],f=c.length;if(!zt(l))return l;const m=(o=o||{}).merger||xr;let b;for(let I=0;I<f;++I){if(b=c[I],!zt(b))continue;const C=Object.keys(b);for(let N=0,j=C.length;N<j;++N)m(C[N],l,b,o)}return l}function wi(l,u){return hr(l,u,{merger:Mr})}function Mr(l,u,o){if(!pi(l))return;const c=u[l],f=o[l];zt(c)&&zt(f)?wi(c,f):Object.prototype.hasOwnProperty.call(u,l)||(u[l]=ui(f))}const Jt={"":l=>l,x:l=>l.x,y:l=>l.y};function Tr(l,u){return(Jt[u]||(Jt[u]=function Ki(l){const u=function Is(l){const u=l.split("."),o=[];let c="";for(const f of u)c+=f,c.endsWith("\\")?c=c.slice(0,-1)+".":(o.push(c),c="");return o}(l);return o=>{for(const c of u){if(""===c)break;o=o&&o[c]}return o}}(u)))(l)}function Yr(l){return l.charAt(0).toUpperCase()+l.slice(1)}const Jn=l=>typeof l<"u",sn=l=>"function"==typeof l,Ni=(l,u)=>{if(l.size!==u.size)return!1;for(const o of l)if(!u.has(o))return!1;return!0},Vt=Math.PI,On=2*Vt,ii=On+Vt,gi=Number.POSITIVE_INFINITY,De=Vt/180,ie=Vt/2,ae=Vt/4,le=2*Vt/3,ue=Math.log10,Le=Math.sign;function mt(l,u,o){return Math.abs(l-u)<o}function qt(l){const u=Math.round(l);l=mt(l,u,l/1e3)?u:l;const o=Math.pow(10,Math.floor(ue(l))),c=l/o;return(c<=1?1:c<=2?2:c<=5?5:10)*o}function Rn(l){return!isNaN(parseFloat(l))&&isFinite(l)}function Nn(l,u,o){let c,f,m;for(c=0,f=l.length;c<f;c++)m=l[c][o],isNaN(m)||(u.min=Math.min(u.min,m),u.max=Math.max(u.max,m))}function rr(l){return l*(Vt/180)}function Be(l){return l*(180/Vt)}function Ae(l){if(!Kn(l))return;let u=1,o=0;for(;Math.round(l*u)/u!==l;)u*=10,o++;return o}function Pe(l,u){const o=u.x-l.x,c=u.y-l.y,f=Math.sqrt(o*o+c*c);let m=Math.atan2(c,o);return m<-.5*Vt&&(m+=On),{angle:m,distance:f}}function Te(l,u){return Math.sqrt(Math.pow(u.x-l.x,2)+Math.pow(u.y-l.y,2))}function Ee(l,u){return(l-u+ii)%On-Vt}function je(l){return(l%On+On)%On}function it(l,u,o,c){const f=je(l),m=je(u),b=je(o),I=je(m-f),C=je(b-f),N=je(f-m),j=je(f-b);return f===m||f===b||c&&m===b||I>C&&N<j}function Zt(l,u,o){return Math.max(u,Math.min(o,l))}function An(l,u,o,c=1e-6){return l>=Math.min(u,o)-c&&l<=Math.max(u,o)+c}function Fr(l,u,o){o=o||(b=>l[b]<u);let m,c=l.length-1,f=0;for(;c-f>1;)m=f+c>>1,o(m)?f=m:c=m;return{lo:f,hi:c}}const Cn=(l,u,o,c)=>Fr(l,o,c?f=>{const m=l[f][u];return m<o||m===o&&l[f+1][u]===o}:f=>l[f][u]<o),ci=(l,u,o)=>Fr(l,o,c=>l[c][u]>=o),ki=["push","pop","shift","splice","unshift"];function ur(l,u){const o=l._chartjs;if(!o)return;const c=o.listeners,f=c.indexOf(u);-1!==f&&c.splice(f,1),!(c.length>0)&&(ki.forEach(m=>{delete l[m]}),delete l._chartjs)}function Qr(l){const u=new Set(l);return u.size===l.length?l:Array.from(u)}const Un=typeof window>"u"?function(l){return l()}:window.requestAnimationFrame;function Br(l,u){let o=[],c=!1;return function(...f){o=f,c||(c=!0,Un.call(window,()=>{c=!1,l.apply(u,o)}))}}const Jr=l=>"start"===l?"left":"end"===l?"right":"center",Xr=(l,u,o)=>"start"===l?u:"end"===l?o:(u+o)/2;function zs(l,u,o){const c=u.length;let f=0,m=c;if(l._sorted){const{iScale:b,_parsed:I}=l,C=b.axis,{min:N,max:j,minDefined:J,maxDefined:ce}=b.getUserBounds();J&&(f=Zt(Math.min(Cn(I,C,N).lo,o?c:Cn(u,C,b.getPixelForValue(N)).lo),0,c-1)),m=ce?Zt(Math.max(Cn(I,b.axis,j,!0).hi+1,o?0:Cn(u,C,b.getPixelForValue(j),!0).hi+1),f,c)-f:c-f}return{start:f,count:m}}function $s(l){const{xScale:u,yScale:o,_scaleRanges:c}=l,f={xmin:u.min,xmax:u.max,ymin:o.min,ymax:o.max};if(!c)return l._scaleRanges=f,!0;const m=c.xmin!==u.min||c.xmax!==u.max||c.ymin!==o.min||c.ymax!==o.max;return Object.assign(c,f),m}const Ts=l=>0===l||1===l,yi=(l,u,o)=>-Math.pow(2,10*(l-=1))*Math.sin((l-u)*On/o),Ao=(l,u,o)=>Math.pow(2,-10*l)*Math.sin((l-u)*On/o)+1,Gs={linear:l=>l,easeInQuad:l=>l*l,easeOutQuad:l=>-l*(l-2),easeInOutQuad:l=>(l/=.5)<1?.5*l*l:-.5*(--l*(l-2)-1),easeInCubic:l=>l*l*l,easeOutCubic:l=>(l-=1)*l*l+1,easeInOutCubic:l=>(l/=.5)<1?.5*l*l*l:.5*((l-=2)*l*l+2),easeInQuart:l=>l*l*l*l,easeOutQuart:l=>-((l-=1)*l*l*l-1),easeInOutQuart:l=>(l/=.5)<1?.5*l*l*l*l:-.5*((l-=2)*l*l*l-2),easeInQuint:l=>l*l*l*l*l,easeOutQuint:l=>(l-=1)*l*l*l*l+1,easeInOutQuint:l=>(l/=.5)<1?.5*l*l*l*l*l:.5*((l-=2)*l*l*l*l+2),easeInSine:l=>1-Math.cos(l*ie),easeOutSine:l=>Math.sin(l*ie),easeInOutSine:l=>-.5*(Math.cos(Vt*l)-1),easeInExpo:l=>0===l?0:Math.pow(2,10*(l-1)),easeOutExpo:l=>1===l?1:1-Math.pow(2,-10*l),easeInOutExpo:l=>Ts(l)?l:l<.5?.5*Math.pow(2,10*(2*l-1)):.5*(2-Math.pow(2,-10*(2*l-1))),easeInCirc:l=>l>=1?l:-(Math.sqrt(1-l*l)-1),easeOutCirc:l=>Math.sqrt(1-(l-=1)*l),easeInOutCirc:l=>(l/=.5)<1?-.5*(Math.sqrt(1-l*l)-1):.5*(Math.sqrt(1-(l-=2)*l)+1),easeInElastic:l=>Ts(l)?l:yi(l,.075,.3),easeOutElastic:l=>Ts(l)?l:Ao(l,.075,.3),easeInOutElastic:l=>Ts(l)?l:l<.5?.5*yi(2*l,.1125,.45):.5+.5*Ao(2*l-1,.1125,.45),easeInBack:l=>l*l*(2.70158*l-1.70158),easeOutBack:l=>(l-=1)*l*(2.70158*l+1.70158)+1,easeInOutBack(l){let u=1.70158;return(l/=.5)<1?l*l*((1+(u*=1.525))*l-u)*.5:.5*((l-=2)*l*((1+(u*=1.525))*l+u)+2)},easeInBounce:l=>1-Gs.easeOutBounce(1-l),easeOutBounce:l=>l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375,easeInOutBounce:l=>l<.5?.5*Gs.easeInBounce(2*l):.5*Gs.easeOutBounce(2*l-1)+.5};function Ci(l){if(l&&"object"==typeof l){const u=l.toString();return"[object CanvasPattern]"===u||"[object CanvasGradient]"===u}return!1}function ws(l){return Ci(l)?l:new $n(l)}function _i(l){return Ci(l)?l:new $n(l).saturate(.5).darken(.1).hexString()}const $o=["x","y","borderWidth","radius","tension"],Os=["color","borderColor","backgroundColor"],Hi=new Map;function co(l,u,o){return function Xo(l,u){u=u||{};const o=l+JSON.stringify(u);let c=Hi.get(o);return c||(c=new Intl.NumberFormat(l,u),Hi.set(o,c)),c}(u,o).format(l)}const ea={values:l=>Mn(l)?l:""+l,numeric(l,u,o){if(0===l)return"0";const c=this.chart.options.locale;let f,m=l;if(o.length>1){const N=Math.max(Math.abs(o[0].value),Math.abs(o[o.length-1].value));(N<1e-4||N>1e15)&&(f="scientific"),m=function ya(l,u){let o=u.length>3?u[2].value-u[1].value:u[1].value-u[0].value;return Math.abs(o)>=1&&l!==Math.floor(l)&&(o=l-Math.floor(l)),o}(l,o)}const b=ue(Math.abs(m)),I=isNaN(b)?1:Math.max(Math.min(-1*Math.floor(b),20),0),C={notation:f,minimumFractionDigits:I,maximumFractionDigits:I};return Object.assign(C,this.options.ticks.format),co(l,c,C)},logarithmic(l,u,o){if(0===l)return"0";const c=o[u].significand||l/Math.pow(10,Math.floor(ue(l)));return[1,2,3,5,10,15].includes(c)||u>.8*o.length?ea.numeric.call(this,l,u,o):""}};var Ns={formatters:ea};const is=Object.create(null),to=Object.create(null);function ss(l,u){if(!u)return l;const o=u.split(".");for(let c=0,f=o.length;c<f;++c){const m=o[c];l=l[m]||(l[m]=Object.create(null))}return l}function na(l,u,o){return"string"==typeof u?hr(ss(l,u),o):hr(ss(l,""),u)}class Co{constructor(u,o){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=c=>c.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(c,f)=>_i(f.backgroundColor),this.hoverBorderColor=(c,f)=>_i(f.borderColor),this.hoverColor=(c,f)=>_i(f.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(u),this.apply(o)}set(u,o){return na(this,u,o)}get(u){return ss(this,u)}describe(u,o){return na(to,u,o)}override(u,o){return na(is,u,o)}route(u,o,c,f){const m=ss(this,u),b=ss(this,c),I="_"+o;Object.defineProperties(m,{[I]:{value:m[o],writable:!0},[o]:{enumerable:!0,get(){const C=this[I],N=b[f];return zt(C)?Object.assign({},N,C):bn(C,N)},set(C){this[I]=C}}})}apply(u){u.forEach(o=>o(this))}}var Gr=new Co({_scriptable:l=>!l.startsWith("on"),_indexable:l=>"events"!==l,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Di(l){l.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),l.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:u=>"onProgress"!==u&&"onComplete"!==u&&"fn"!==u}),l.set("animations",{colors:{type:"color",properties:Os},numbers:{type:"number",properties:$o}}),l.describe("animations",{_fallback:"animation"}),l.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:u=>0|u}}}})},function eo(l){l.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function ta(l){l.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(u,o)=>o.lineWidth,tickColor:(u,o)=>o.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ns.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),l.route("scale.ticks","color","","color"),l.route("scale.grid","color","","borderColor"),l.route("scale.border","color","","borderColor"),l.route("scale.title","color","","color"),l.describe("scale",{_fallback:!1,_scriptable:u=>!u.startsWith("before")&&!u.startsWith("after")&&"callback"!==u&&"parser"!==u,_indexable:u=>"borderDash"!==u&&"tickBorderDash"!==u&&"dash"!==u}),l.describe("scales",{_fallback:"scale"}),l.describe("scale.ticks",{_scriptable:u=>"backdropPadding"!==u&&"callback"!==u,_indexable:u=>"backdropPadding"!==u})}]);function ks(l,u,o,c,f){let m=u[f];return m||(m=u[f]=l.measureText(f).width,o.push(f)),m>c&&(c=m),c}function ra(l,u,o,c){let f=(c=c||{}).data=c.data||{},m=c.garbageCollect=c.garbageCollect||[];c.font!==u&&(f=c.data={},m=c.garbageCollect=[],c.font=u),l.save(),l.font=u;let b=0;const I=o.length;let C,N,j,J,ce;for(C=0;C<I;C++)if(J=o[C],null==J||Mn(J)){if(Mn(J))for(N=0,j=J.length;N<j;N++)ce=J[N],null!=ce&&!Mn(ce)&&(b=ks(l,f,m,b,ce))}else b=ks(l,f,m,b,J);l.restore();const ge=m.length/2;if(ge>o.length){for(C=0;C<ge;C++)delete f[m[C]];m.splice(0,ge)}return b}function os(l,u,o){const c=l.currentDevicePixelRatio,f=0!==o?Math.max(o/2,.5):0;return Math.round((u-f)*c)/c+f}function zi(l,u){(u=u||l.getContext("2d")).save(),u.resetTransform(),u.clearRect(0,0,l.width,l.height),u.restore()}function qs(l,u,o,c){no(l,u,o,c,null)}function no(l,u,o,c,f){let m,b,I,C,N,j,J,ce;const ge=u.pointStyle,Ce=u.rotation,Me=u.radius;let Oe=(Ce||0)*De;if(ge&&"object"==typeof ge&&(m=ge.toString(),"[object HTMLImageElement]"===m||"[object HTMLCanvasElement]"===m))return l.save(),l.translate(o,c),l.rotate(Oe),l.drawImage(ge,-ge.width/2,-ge.height/2,ge.width,ge.height),void l.restore();if(!(isNaN(Me)||Me<=0)){switch(l.beginPath(),ge){default:f?l.ellipse(o,c,f/2,Me,0,0,On):l.arc(o,c,Me,0,On),l.closePath();break;case"triangle":j=f?f/2:Me,l.moveTo(o+Math.sin(Oe)*j,c-Math.cos(Oe)*Me),Oe+=le,l.lineTo(o+Math.sin(Oe)*j,c-Math.cos(Oe)*Me),Oe+=le,l.lineTo(o+Math.sin(Oe)*j,c-Math.cos(Oe)*Me),l.closePath();break;case"rectRounded":N=.516*Me,C=Me-N,b=Math.cos(Oe+ae)*C,J=Math.cos(Oe+ae)*(f?f/2-N:C),I=Math.sin(Oe+ae)*C,ce=Math.sin(Oe+ae)*(f?f/2-N:C),l.arc(o-J,c-I,N,Oe-Vt,Oe-ie),l.arc(o+ce,c-b,N,Oe-ie,Oe),l.arc(o+J,c+I,N,Oe,Oe+ie),l.arc(o-ce,c+b,N,Oe+ie,Oe+Vt),l.closePath();break;case"rect":if(!Ce){C=Math.SQRT1_2*Me,j=f?f/2:C,l.rect(o-j,c-C,2*j,2*C);break}Oe+=ae;case"rectRot":J=Math.cos(Oe)*(f?f/2:Me),b=Math.cos(Oe)*Me,I=Math.sin(Oe)*Me,ce=Math.sin(Oe)*(f?f/2:Me),l.moveTo(o-J,c-I),l.lineTo(o+ce,c-b),l.lineTo(o+J,c+I),l.lineTo(o-ce,c+b),l.closePath();break;case"crossRot":Oe+=ae;case"cross":J=Math.cos(Oe)*(f?f/2:Me),b=Math.cos(Oe)*Me,I=Math.sin(Oe)*Me,ce=Math.sin(Oe)*(f?f/2:Me),l.moveTo(o-J,c-I),l.lineTo(o+J,c+I),l.moveTo(o+ce,c-b),l.lineTo(o-ce,c+b);break;case"star":J=Math.cos(Oe)*(f?f/2:Me),b=Math.cos(Oe)*Me,I=Math.sin(Oe)*Me,ce=Math.sin(Oe)*(f?f/2:Me),l.moveTo(o-J,c-I),l.lineTo(o+J,c+I),l.moveTo(o+ce,c-b),l.lineTo(o-ce,c+b),Oe+=ae,J=Math.cos(Oe)*(f?f/2:Me),b=Math.cos(Oe)*Me,I=Math.sin(Oe)*Me,ce=Math.sin(Oe)*(f?f/2:Me),l.moveTo(o-J,c-I),l.lineTo(o+J,c+I),l.moveTo(o+ce,c-b),l.lineTo(o-ce,c+b);break;case"line":b=f?f/2:Math.cos(Oe)*Me,I=Math.sin(Oe)*Me,l.moveTo(o-b,c-I),l.lineTo(o+b,c+I);break;case"dash":l.moveTo(o,c),l.lineTo(o+Math.cos(Oe)*(f?f/2:Me),c+Math.sin(Oe)*Me);break;case!1:l.closePath()}l.fill(),u.borderWidth>0&&l.stroke()}}function Gn(l,u,o){return o=o||.5,!u||l&&l.x>u.left-o&&l.x<u.right+o&&l.y>u.top-o&&l.y<u.bottom+o}function kn(l,u){l.save(),l.beginPath(),l.rect(u.left,u.top,u.right-u.left,u.bottom-u.top),l.clip()}function Pr(l){l.restore()}function Yi(l,u,o,c,f){if(!u)return l.lineTo(o.x,o.y);if("middle"===f){const m=(u.x+o.x)/2;l.lineTo(m,u.y),l.lineTo(m,o.y)}else"after"===f!=!!c?l.lineTo(u.x,o.y):l.lineTo(o.x,u.y);l.lineTo(o.x,o.y)}function Si(l,u,o,c){if(!u)return l.lineTo(o.x,o.y);l.bezierCurveTo(c?u.cp1x:u.cp2x,c?u.cp1y:u.cp2y,c?o.cp2x:o.cp1x,c?o.cp2y:o.cp1y,o.x,o.y)}function fo(l,u,o,c,f){if(f.strikethrough||f.underline){const m=l.measureText(c),b=u-m.actualBoundingBoxLeft,I=u+m.actualBoundingBoxRight,N=o+m.actualBoundingBoxDescent,j=f.strikethrough?(o-m.actualBoundingBoxAscent+N)/2:N;l.strokeStyle=l.fillStyle,l.beginPath(),l.lineWidth=f.decorationWidth||2,l.moveTo(b,j),l.lineTo(I,j),l.stroke()}}function Ws(l,u){const o=l.fillStyle;l.fillStyle=u.color,l.fillRect(u.left,u.top,u.width,u.height),l.fillStyle=o}function Ls(l,u,o,c,f,m={}){const b=Mn(u)?u:[u],I=m.strokeWidth>0&&""!==m.strokeColor;let C,N;for(l.save(),l.font=f.string,function ia(l,u){u.translation&&l.translate(u.translation[0],u.translation[1]),xn(u.rotation)||l.rotate(u.rotation),u.color&&(l.fillStyle=u.color),u.textAlign&&(l.textAlign=u.textAlign),u.textBaseline&&(l.textBaseline=u.textBaseline)}(l,m),C=0;C<b.length;++C)N=b[C],m.backdrop&&Ws(l,m.backdrop),I&&(m.strokeColor&&(l.strokeStyle=m.strokeColor),xn(m.strokeWidth)||(l.lineWidth=m.strokeWidth),l.strokeText(N,o,c,m.maxWidth)),l.fillText(N,o,c,m.maxWidth),fo(l,o,c,N,m),c+=Number(f.lineHeight);l.restore()}function $i(l,u){const{x:o,y:c,w:f,h:m,radius:b}=u;l.arc(o+b.topLeft,c+b.topLeft,b.topLeft,1.5*Vt,Vt,!0),l.lineTo(o,c+m-b.bottomLeft),l.arc(o+b.bottomLeft,c+m-b.bottomLeft,b.bottomLeft,Vt,ie,!0),l.lineTo(o+f-b.bottomRight,c+m),l.arc(o+f-b.bottomRight,c+m-b.bottomRight,b.bottomRight,ie,0,!0),l.lineTo(o+f,c+b.topRight),l.arc(o+f-b.topRight,c+b.topRight,b.topRight,0,-ie,!0),l.lineTo(o+b.topLeft,c)}const ei=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Xt=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Dn(l,u){const o=(""+l).match(ei);if(!o||"normal"===o[1])return 1.2*u;switch(l=+o[2],o[3]){case"px":return l;case"%":l/=100}return u*l}const W=l=>+l||0;function Y(l,u){const o={},c=zt(u),f=c?Object.keys(u):u,m=zt(l)?c?b=>bn(l[b],l[u[b]]):b=>l[b]:()=>l;for(const b of f)o[b]=W(m(b));return o}function be(l){return Y(l,{top:"y",right:"x",bottom:"y",left:"x"})}function we(l){return Y(l,["topLeft","topRight","bottomLeft","bottomRight"])}function ke(l){const u=be(l);return u.width=u.left+u.right,u.height=u.top+u.bottom,u}function Ye(l,u){let o=bn((l=l||{}).size,(u=u||Gr.font).size);"string"==typeof o&&(o=parseInt(o,10));let c=bn(l.style,u.style);c&&!(""+c).match(Xt)&&(console.warn('Invalid font style specified: "'+c+'"'),c=void 0);const f={family:bn(l.family,u.family),lineHeight:Dn(bn(l.lineHeight,u.lineHeight),o),size:o,style:c,weight:bn(l.weight,u.weight),string:""};return f.string=function ho(l){return!l||xn(l.size)||xn(l.family)?null:(l.style?l.style+" ":"")+(l.weight?l.weight+" ":"")+l.size+"px "+l.family}(f),f}function Ut(l,u,o,c){let m,b,I,f=!0;for(m=0,b=l.length;m<b;++m)if(I=l[m],void 0!==I&&(void 0!==u&&"function"==typeof I&&(I=I(u),f=!1),void 0!==o&&Mn(I)&&(I=I[o%I.length],f=!1),void 0!==I))return c&&!f&&(c.cacheable=!1),I}function It(l,u){return Object.assign(Object.create(l),u)}function Ln(l,u=[""],o,c,f=(()=>l[0])){const m=o||l;typeof c>"u"&&(c=sa("_fallback",l));const b={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:l,_rootScopes:m,_fallback:c,_getTarget:f,override:I=>Ln([I,...l],u,m,c)};return new Proxy(b,{deleteProperty:(I,C)=>(delete I[C],delete I._keys,delete l[0][C],!0),get:(I,C)=>Nr(I,C,()=>function ms(l,u,o,c){let f;for(const m of u)if(f=sa(qn(m,l),o),typeof f<"u")return ti(l,f)?as(o,c,l,f):f}(C,u,l,I)),getOwnPropertyDescriptor:(I,C)=>Reflect.getOwnPropertyDescriptor(I._scopes[0],C),getPrototypeOf:()=>Reflect.getPrototypeOf(l[0]),has:(I,C)=>ir(I).includes(C),ownKeys:I=>ir(I),set(I,C,N){const j=I._storage||(I._storage=f());return I[C]=j[C]=N,delete I._keys,!0}})}function Qn(l,u,o,c){const f={_cacheable:!1,_proxy:l,_context:u,_subProxy:o,_stack:new Set,_descriptors:Or(l,c),setContext:m=>Qn(l,m,o,c),override:m=>Qn(l.override(m),u,o,c)};return new Proxy(f,{deleteProperty:(m,b)=>(delete m[b],delete l[b],!0),get:(m,b,I)=>Nr(m,b,()=>function vr(l,u,o){const{_proxy:c,_context:f,_subProxy:m,_descriptors:b}=l;let I=c[u];return sn(I)&&b.isScriptable(u)&&(I=function ni(l,u,o,c){const{_proxy:f,_context:m,_subProxy:b,_stack:I}=o;if(I.has(l))throw new Error("Recursion detected: "+Array.from(I).join("->")+"->"+l);I.add(l);let C=u(m,b||c);return I.delete(l),ti(l,C)&&(C=as(f._scopes,f,l,C)),C}(u,I,l,o)),Mn(I)&&I.length&&(I=function As(l,u,o,c){const{_proxy:f,_context:m,_subProxy:b,_descriptors:I}=o;if(typeof m.index<"u"&&c(l))return u[m.index%u.length];if(zt(u[0])){const C=u,N=f._scopes.filter(j=>j!==C);u=[];for(const j of C){const J=as(N,f,l,j);u.push(Qn(J,m,b&&b[l],I))}}return u}(u,I,l,b.isIndexable)),ti(u,I)&&(I=Qn(I,f,m&&m[u],b)),I}(m,b,I)),getOwnPropertyDescriptor:(m,b)=>m._descriptors.allKeys?Reflect.has(l,b)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(l,b),getPrototypeOf:()=>Reflect.getPrototypeOf(l),has:(m,b)=>Reflect.has(l,b),ownKeys:()=>Reflect.ownKeys(l),set:(m,b,I)=>(l[b]=I,delete m[b],!0)})}function Or(l,u={scriptable:!0,indexable:!0}){const{_scriptable:o=u.scriptable,_indexable:c=u.indexable,_allKeys:f=u.allKeys}=l;return{allKeys:f,scriptable:o,indexable:c,isScriptable:sn(o)?o:()=>o,isIndexable:sn(c)?c:()=>c}}const qn=(l,u)=>l?l+Yr(u):u,ti=(l,u)=>zt(u)&&"adapters"!==l&&(null===Object.getPrototypeOf(u)||u.constructor===Object);function Nr(l,u,o){if(Object.prototype.hasOwnProperty.call(l,u))return l[u];const c=o();return l[u]=c,c}function vi(l,u,o){return sn(l)?l(u,o):l}const qr=(l,u)=>!0===l?u:"string"==typeof l?Tr(u,l):void 0;function di(l,u,o,c,f){for(const m of u){const b=qr(o,m);if(b){l.add(b);const I=vi(b._fallback,o,f);if(typeof I<"u"&&I!==o&&I!==c)return I}else if(!1===b&&typeof c<"u"&&o!==c)return null}return!1}function as(l,u,o,c){const f=u._rootScopes,m=vi(u._fallback,o,c),b=[...l,...f],I=new Set;I.add(c);let C=zn(I,b,o,m||o,c);return!(null===C||typeof m<"u"&&m!==o&&(C=zn(I,b,m,C,c),null===C))&&Ln(Array.from(I),[""],f,m,()=>function No(l,u,o){const c=l._getTarget();u in c||(c[u]={});const f=c[u];return Mn(f)&&zt(o)?o:f||{}}(u,o,c))}function zn(l,u,o,c,f){for(;o;)o=di(l,u,o,c,f);return o}function sa(l,u){for(const o of u){if(!o)continue;const c=o[l];if(typeof c<"u")return c}}function ir(l){let u=l._keys;return u||(u=l._keys=function oa(l){const u=new Set;for(const o of l)for(const c of Object.keys(o).filter(f=>!f.startsWith("_")))u.add(c);return Array.from(u)}(l._scopes)),u}function mi(l,u,o,c){const{iScale:f}=l,{key:m="r"}=this._parsing,b=new Array(c);let I,C,N,j;for(I=0,C=c;I<C;++I)N=I+o,j=u[N],b[I]={r:f.parse(Tr(j,m),N)};return b}const va=Number.EPSILON||1e-14,Li=(l,u)=>u<l.length&&!l[u].skip&&l[u],al=l=>"x"===l?"y":"x";function xi(l,u,o,c){const f=l.skip?u:l,m=u,b=o.skip?u:o,I=Te(m,f),C=Te(b,m);let N=I/(I+C),j=C/(I+C);N=isNaN(N)?0:N,j=isNaN(j)?0:j;const J=c*N,ce=c*j;return{previous:{x:m.x-J*(b.x-f.x),y:m.y-J*(b.y-f.y)},next:{x:m.x+ce*(b.x-f.x),y:m.y+ce*(b.y-f.y)}}}function Xn(l,u,o){return Math.max(Math.min(l,o),u)}function Ba(l,u,o,c,f){let m,b,I,C;if(u.spanGaps&&(l=l.filter(N=>!N.skip)),"monotone"===u.cubicInterpolationMode)!function Ea(l,u="x"){const o=al(u),c=l.length,f=Array(c).fill(0),m=Array(c);let b,I,C,N=Li(l,0);for(b=0;b<c;++b)if(I=C,C=N,N=Li(l,b+1),C){if(N){const j=N[u]-C[u];f[b]=0!==j?(N[o]-C[o])/j:0}m[b]=I?N?Le(f[b-1])!==Le(f[b])?0:(f[b-1]+f[b])/2:f[b-1]:f[b]}(function Mi(l,u,o){const c=l.length;let f,m,b,I,C,N=Li(l,0);for(let j=0;j<c-1;++j)if(C=N,N=Li(l,j+1),C&&N){if(mt(u[j],0,va)){o[j]=o[j+1]=0;continue}f=o[j]/u[j],m=o[j+1]/u[j],I=Math.pow(f,2)+Math.pow(m,2),!(I<=9)&&(b=3/Math.sqrt(I),o[j]=f*b*u[j],o[j+1]=m*b*u[j])}})(l,f,m),function ba(l,u,o="x"){const c=al(o),f=l.length;let m,b,I,C=Li(l,0);for(let N=0;N<f;++N){if(b=I,I=C,C=Li(l,N+1),!I)continue;const j=I[o],J=I[c];b&&(m=(j-b[o])/3,I[`cp1${o}`]=j-m,I[`cp1${c}`]=J-m*u[N]),C&&(m=(C[o]-j)/3,I[`cp2${o}`]=j+m,I[`cp2${c}`]=J+m*u[N])}}(l,m,u)}(l,f);else{let N=c?l[l.length-1]:l[0];for(m=0,b=l.length;m<b;++m)I=l[m],C=xi(N,I,l[Math.min(m+1,b-(c?0:1))%b],u.tension),I.cp1x=C.previous.x,I.cp1y=C.previous.y,I.cp2x=C.next.x,I.cp2y=C.next.y,N=I}u.capBezierPoints&&function Qi(l,u){let o,c,f,m,b,I=Gn(l[0],u);for(o=0,c=l.length;o<c;++o)b=m,m=I,I=o<c-1&&Gn(l[o+1],u),m&&(f=l[o],b&&(f.cp1x=Xn(f.cp1x,u.left,u.right),f.cp1y=Xn(f.cp1y,u.top,u.bottom)),I&&(f.cp2x=Xn(f.cp2x,u.left,u.right),f.cp2y=Xn(f.cp2y,u.top,u.bottom)))}(l,o)}function q(){return typeof window<"u"&&typeof document<"u"}function Z(l){let u=l.parentNode;return u&&"[object ShadowRoot]"===u.toString()&&(u=u.host),u}function U(l,u,o){let c;return"string"==typeof l?(c=parseInt(l,10),-1!==l.indexOf("%")&&(c=c/100*u.parentNode[o])):c=l,c}const oe=l=>l.ownerDocument.defaultView.getComputedStyle(l,null),un=["top","right","bottom","left"];function jn(l,u,o){const c={};o=o?"-"+o:"";for(let f=0;f<4;f++){const m=un[f];c[m]=parseFloat(l[u+"-"+m+o])||0}return c.width=c.left+c.right,c.height=c.top+c.bottom,c}const ls=(l,u,o)=>(l>0||u>0)&&(!o||!o.shadowRoot);function Cs(l,u){if("native"in l)return l;const{canvas:o,currentDevicePixelRatio:c}=u,f=oe(o),m="border-box"===f.boxSizing,b=jn(f,"padding"),I=jn(f,"border","width"),{x:C,y:N,box:j}=function Ia(l,u){const o=l.touches,c=o&&o.length?o[0]:l,{offsetX:f,offsetY:m}=c;let I,C,b=!1;if(ls(f,m,l.target))I=f,C=m;else{const N=u.getBoundingClientRect();I=c.clientX-N.left,C=c.clientY-N.top,b=!0}return{x:I,y:C,box:b}}(l,o),J=b.left+(j&&I.left),ce=b.top+(j&&I.top);let{width:ge,height:Ce}=u;return m&&(ge-=b.width+I.width,Ce-=b.height+I.height),{x:Math.round((C-J)/ge*o.width/c),y:Math.round((N-ce)/Ce*o.height/c)}}const Do=l=>Math.round(10*l)/10;function Zs(l,u,o){const c=u||1,f=Math.floor(l.height*c),m=Math.floor(l.width*c);l.height=Math.floor(l.height),l.width=Math.floor(l.width);const b=l.canvas;return b.style&&(o||!b.style.height&&!b.style.width)&&(b.style.height=`${l.height}px`,b.style.width=`${l.width}px`),(l.currentDevicePixelRatio!==c||b.height!==f||b.width!==m)&&(l.currentDevicePixelRatio=c,b.height=f,b.width=m,l.ctx.setTransform(c,0,0,c,0,0),!0)}const hd=function(){let l=!1;try{const u={get passive(){return l=!0,!1}};window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch{}return l}();function Xl(l,u){const o=function xe(l,u){return oe(l).getPropertyValue(u)}(l,u),c=o&&o.match(/^(\d+)(\.\d+)?px$/);return c?+c[1]:void 0}function po(l,u,o,c){return{x:l.x+o*(u.x-l.x),y:l.y+o*(u.y-l.y)}}function ja(l,u,o,c){return{x:l.x+o*(u.x-l.x),y:"middle"===c?o<.5?l.y:u.y:"after"===c?o<1?l.y:u.y:o>0?u.y:l.y}}function Pl(l,u,o,c){const f={x:l.cp2x,y:l.cp2y},m={x:u.cp1x,y:u.cp1y},b=po(l,f,o),I=po(f,m,o),C=po(m,u,o),N=po(b,I,o),j=po(I,C,o);return po(N,j,o)}function qo(l,u,o){return l?function(l,u){return{x:o=>l+l+u-o,setWidth(o){u=o},textAlign:o=>"center"===o?o:"right"===o?"left":"right",xPlus:(o,c)=>o-c,leftForLtr:(o,c)=>o-c}}(u,o):{x:l=>l,setWidth(l){},textAlign:l=>l,xPlus:(l,u)=>l+u,leftForLtr:(l,u)=>l}}function Ta(l,u){let o,c;("ltr"===u||"rtl"===u)&&(o=l.canvas.style,c=[o.getPropertyValue("direction"),o.getPropertyPriority("direction")],o.setProperty("direction",u,"important"),l.prevTextDirection=c)}function go(l,u){void 0!==u&&(delete l.prevTextDirection,l.canvas.style.setProperty("direction",u[0],u[1]))}function Mu(l){return"angle"===l?{between:it,compare:Ee,normalize:je}:{between:An,compare:(u,o)=>u-o,normalize:u=>u}}function _s({start:l,end:u,count:o,loop:c,style:f}){return{start:l%o,end:u%o,loop:c&&(u-l+1)%o==0,style:f}}function mo(l,u,o){if(!o)return[l];const{property:c,start:f,end:m}=o,b=u.length,{compare:I,between:C,normalize:N}=Mu(c),{start:j,end:J,loop:ce,style:ge}=function ys(l,u,o){const{property:c,start:f,end:m}=o,{between:b,normalize:I}=Mu(c),C=u.length;let ce,ge,{start:N,end:j,loop:J}=l;if(J){for(N+=C,j+=C,ce=0,ge=C;ce<ge&&b(I(u[N%C][c]),f,m);++ce)N--,j--;N%=C,j%=C}return j<N&&(j+=C),{start:N,end:j,loop:J,style:l.style}}(l,u,o),Ce=[];let bt,yt,jt,Me=!1,Oe=null;for(let an=j,Fn=j;an<=J;++an)yt=u[an%b],!yt.skip&&(bt=N(yt[c]),bt!==jt&&(Me=C(bt,f,m),null===Oe&&(Me||C(f,jt,bt)&&0!==I(f,jt))&&(Oe=0===I(bt,f)?an:Fn),null!==Oe&&(!Me||0===I(m,bt)||C(m,jt,bt))&&(Ce.push(_s({start:Oe,end:an,loop:ce,count:b,style:ge})),Oe=null),Fn=an,jt=bt));return null!==Oe&&Ce.push(_s({start:Oe,end:J,loop:ce,count:b,style:ge})),Ce}function us(l,u){const o=[],c=l.segments;for(let f=0;f<c.length;f++){const m=mo(c[f],l.points,u);m.length&&o.push(...m)}return o}function Ha(l){return{backgroundColor:l.backgroundColor,borderCapStyle:l.borderCapStyle,borderDash:l.borderDash,borderDashOffset:l.borderDashOffset,borderJoinStyle:l.borderJoinStyle,borderWidth:l.borderWidth,borderColor:l.borderColor}}function xo(l,u){if(!u)return!1;const o=[],c=function(f,m){return Ci(m)?(o.includes(m)||o.push(m),o.indexOf(m)):m};return JSON.stringify(l,c)!==JSON.stringify(u,c)}class cl{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(u,o,c,f){const b=o.duration;o.listeners[f].forEach(I=>I({chart:u,initial:o.initial,numSteps:b,currentStep:Math.min(c-o.start,b)}))}_refresh(){this._request||(this._running=!0,this._request=Un.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(u=Date.now()){let o=0;this._charts.forEach((c,f)=>{if(!c.running||!c.items.length)return;const m=c.items;let C,b=m.length-1,I=!1;for(;b>=0;--b)C=m[b],C._active?(C._total>c.duration&&(c.duration=C._total),C.tick(u),I=!0):(m[b]=m[m.length-1],m.pop());I&&(f.draw(),this._notify(f,c,u,"progress")),m.length||(c.running=!1,this._notify(f,c,u,"complete"),c.initial=!1),o+=m.length}),this._lastDate=u,0===o&&(this._running=!1)}_getAnims(u){const o=this._charts;let c=o.get(u);return c||(c={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},o.set(u,c)),c}listen(u,o,c){this._getAnims(u).listeners[o].push(c)}add(u,o){!o||!o.length||this._getAnims(u).items.push(...o)}has(u){return this._getAnims(u).items.length>0}start(u){const o=this._charts.get(u);o&&(o.running=!0,o.start=Date.now(),o.duration=o.items.reduce((c,f)=>Math.max(c,f._duration),0),this._refresh())}running(u){if(!this._running)return!1;const o=this._charts.get(u);return!(!o||!o.running||!o.items.length)}stop(u){const o=this._charts.get(u);if(!o||!o.items.length)return;const c=o.items;let f=c.length-1;for(;f>=0;--f)c[f].cancel();o.items=[],this._notify(u,o,Date.now(),"complete")}remove(u){return this._charts.delete(u)}}var ko=new cl;const za="transparent",dl={boolean:(l,u,o)=>o>.5?u:l,color(l,u,o){const c=ws(l||za),f=c.valid&&ws(u||za);return f&&f.valid?f.mix(c,o).hexString():u},number:(l,u,o)=>l+(u-l)*o};class wa{constructor(u,o,c,f){const m=o[c];f=Ut([u.to,f,m,u.from]);const b=Ut([u.from,m,f]);this._active=!0,this._fn=u.fn||dl[u.type||typeof b],this._easing=Gs[u.easing]||Gs.linear,this._start=Math.floor(Date.now()+(u.delay||0)),this._duration=this._total=Math.floor(u.duration),this._loop=!!u.loop,this._target=o,this._prop=c,this._from=b,this._to=f,this._promises=void 0}active(){return this._active}update(u,o,c){if(this._active){this._notify(!1);const f=this._target[this._prop],m=c-this._start,b=this._duration-m;this._start=c,this._duration=Math.floor(Math.max(b,u.duration)),this._total+=m,this._loop=!!u.loop,this._to=Ut([u.to,o,f,u.from]),this._from=Ut([u.from,f,o])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(u){const o=u-this._start,c=this._duration,f=this._prop,m=this._from,b=this._loop,I=this._to;let C;if(this._active=m!==I&&(b||o<c),!this._active)return this._target[f]=I,void this._notify(!0);o<0?this._target[f]=m:(C=o/c%2,C=b&&C>1?2-C:C,C=this._easing(Math.min(1,Math.max(0,C))),this._target[f]=this._fn(m,I,C))}wait(){const u=this._promises||(this._promises=[]);return new Promise((o,c)=>{u.push({res:o,rej:c})})}_notify(u){const o=u?"res":"rej",c=this._promises||[];for(let f=0;f<c.length;f++)c[f][o]()}}class Fs{constructor(u,o){this._chart=u,this._properties=new Map,this.configure(o)}configure(u){if(!zt(u))return;const o=Object.keys(Gr.animation),c=this._properties;Object.getOwnPropertyNames(u).forEach(f=>{const m=u[f];if(!zt(m))return;const b={};for(const I of o)b[I]=m[I];(Mn(m.properties)&&m.properties||[f]).forEach(I=>{(I===f||!c.has(I))&&c.set(I,b)})})}_animateOptions(u,o){const c=o.options,f=function Ji(l,u){if(!u)return;let o=l.options;if(o)return o.$shared&&(l.options=o=Object.assign({},o,{$shared:!1,$animations:{}})),o;l.options=u}(u,c);if(!f)return[];const m=this._createAnimations(f,c);return c.$shared&&function Vs(l,u){const o=[],c=Object.keys(u);for(let f=0;f<c.length;f++){const m=l[c[f]];m&&m.active()&&o.push(m.wait())}return Promise.all(o)}(u.options.$animations,c).then(()=>{u.options=c},()=>{}),m}_createAnimations(u,o){const c=this._properties,f=[],m=u.$animations||(u.$animations={}),b=Object.keys(o),I=Date.now();let C;for(C=b.length-1;C>=0;--C){const N=b[C];if("$"===N.charAt(0))continue;if("options"===N){f.push(...this._animateOptions(u,o));continue}const j=o[N];let J=m[N];const ce=c.get(N);if(J){if(ce&&J.active()){J.update(ce,j,I);continue}J.cancel()}ce&&ce.duration?(m[N]=J=new wa(ce,u,N,j),f.push(J)):u[N]=j}return f}update(u,o){if(0===this._properties.size)return void Object.assign(u,o);const c=this._createAnimations(u,o);return c.length?(ko.add(this._chart,c),!0):void 0}}function $a(l,u){const o=l&&l.options||{},c=o.reverse,f=void 0===o.min?u:0,m=void 0===o.max?u:0;return{start:c?m:f,end:c?f:m}}function te(l,u){const o=[],c=l._getSortedDatasetMetas(u);let f,m;for(f=0,m=c.length;f<m;++f)o.push(c[f].index);return o}function B(l,u,o,c={}){const f=l.keys,m="single"===c.mode;let b,I,C,N;if(null!==u){for(b=0,I=f.length;b<I;++b){if(C=+f[b],C===o){if(c.all)continue;break}N=l.values[C],Kn(N)&&(m||0===u||Le(u)===Le(N))&&(u+=N)}return u}}function Ie(l,u){const o=l&&l.options.stacked;return o||void 0===o&&void 0!==u.stack}function Tn(l,u,o){const c=l[u]||(l[u]={});return c[o]||(c[o]={})}function ri(l,u,o,c){for(const f of u.getMatchingVisibleMetas(c).reverse()){const m=l[f.index];if(o&&m>0||!o&&m<0)return f.index}return null}function jr(l,u){const{chart:o,_cachedMeta:c}=l,f=o._stacks||(o._stacks={}),{iScale:m,vScale:b,index:I}=c,C=m.axis,N=b.axis,j=function ot(l,u,o){return`${l.id}.${u.id}.${o.stack||o.type}`}(m,b,c),J=u.length;let ce;for(let ge=0;ge<J;++ge){const Ce=u[ge],{[C]:Me,[N]:Oe}=Ce;ce=(Ce._stacks||(Ce._stacks={}))[N]=Tn(f,j,Me),ce[I]=Oe,ce._top=ri(ce,b,!0,c.type),ce._bottom=ri(ce,b,!1,c.type),(ce._visualValues||(ce._visualValues={}))[I]=Oe}}function Vr(l,u){const o=l.scales;return Object.keys(o).filter(c=>o[c].axis===u).shift()}function wr(l,u){const o=l.controller.index,c=l.vScale&&l.vScale.axis;if(c){u=u||l._parsed;for(const f of u){const m=f._stacks;if(!m||void 0===m[c]||void 0===m[c][o])return;delete m[c][o],void 0!==m[c]._visualValues&&void 0!==m[c]._visualValues[o]&&delete m[c]._visualValues[o]}}}const oi=l=>"reset"===l||"none"===l,Lo=(l,u)=>u?l:Object.assign({},l);let cs=(()=>class l{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(o,c){this.chart=o,this._ctx=o.ctx,this.index=c,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const o=this._cachedMeta;this.configure(),this.linkScales(),o._stacked=Ie(o.vScale,o),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(o){this.index!==o&&wr(this._cachedMeta),this.index=o}linkScales(){const o=this.chart,c=this._cachedMeta,f=this.getDataset(),m=(ce,ge,Ce,Me)=>"x"===ce?ge:"r"===ce?Me:Ce,b=c.xAxisID=bn(f.xAxisID,Vr(o,"x")),I=c.yAxisID=bn(f.yAxisID,Vr(o,"y")),C=c.rAxisID=bn(f.rAxisID,Vr(o,"r")),N=c.indexAxis,j=c.iAxisID=m(N,b,I,C),J=c.vAxisID=m(N,I,b,C);c.xScale=this.getScaleForId(b),c.yScale=this.getScaleForId(I),c.rScale=this.getScaleForId(C),c.iScale=this.getScaleForId(j),c.vScale=this.getScaleForId(J)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(o){return this.chart.scales[o]}_getOtherScale(o){const c=this._cachedMeta;return o===c.iScale?c.vScale:c.iScale}reset(){this._update("reset")}_destroy(){const o=this._cachedMeta;this._data&&ur(this._data,this),o._stacked&&wr(o)}_dataCheck(){const o=this.getDataset(),c=o.data||(o.data=[]),f=this._data;if(zt(c))this._data=function K(l){const u=Object.keys(l),o=new Array(u.length);let c,f,m;for(c=0,f=u.length;c<f;++c)m=u[c],o[c]={x:m,y:l[m]};return o}(c);else if(f!==c){if(f){ur(f,this);const m=this._cachedMeta;wr(m),m._parsed=[]}c&&Object.isExtensible(c)&&function Bn(l,u){l._chartjs?l._chartjs.listeners.push(u):(Object.defineProperty(l,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[u]}}),ki.forEach(o=>{const c="_onData"+Yr(o),f=l[o];Object.defineProperty(l,o,{configurable:!0,enumerable:!1,value(...m){const b=f.apply(this,m);return l._chartjs.listeners.forEach(I=>{"function"==typeof I[c]&&I[c](...m)}),b}})}))}(c,this),this._syncList=[],this._data=c}}addElements(){const o=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(o.dataset=new this.datasetElementType)}buildOrUpdateElements(o){const c=this._cachedMeta,f=this.getDataset();let m=!1;this._dataCheck();const b=c._stacked;c._stacked=Ie(c.vScale,c),c.stack!==f.stack&&(m=!0,wr(c),c.stack=f.stack),this._resyncElements(o),(m||b!==c._stacked)&&jr(this,c._parsed)}configure(){const o=this.chart.config,c=o.datasetScopeKeys(this._type),f=o.getOptionScopes(this.getDataset(),c,!0);this.options=o.createResolver(f,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(o,c){const{_cachedMeta:f,_data:m}=this,{iScale:b,_stacked:I}=f,C=b.axis;let J,ce,ge,N=0===o&&c===m.length||f._sorted,j=o>0&&f._parsed[o-1];if(!1===this._parsing)f._parsed=m,f._sorted=!0,ge=m;else{ge=Mn(m[o])?this.parseArrayData(f,m,o,c):zt(m[o])?this.parseObjectData(f,m,o,c):this.parsePrimitiveData(f,m,o,c);const Ce=()=>null===ce[C]||j&&ce[C]<j[C];for(J=0;J<c;++J)f._parsed[J+o]=ce=ge[J],N&&(Ce()&&(N=!1),j=ce);f._sorted=N}I&&jr(this,ge)}parsePrimitiveData(o,c,f,m){const{iScale:b,vScale:I}=o,C=b.axis,N=I.axis,j=b.getLabels(),J=b===I,ce=new Array(m);let ge,Ce,Me;for(ge=0,Ce=m;ge<Ce;++ge)Me=ge+f,ce[ge]={[C]:J||b.parse(j[Me],Me),[N]:I.parse(c[Me],Me)};return ce}parseArrayData(o,c,f,m){const{xScale:b,yScale:I}=o,C=new Array(m);let N,j,J,ce;for(N=0,j=m;N<j;++N)J=N+f,ce=c[J],C[N]={x:b.parse(ce[0],J),y:I.parse(ce[1],J)};return C}parseObjectData(o,c,f,m){const{xScale:b,yScale:I}=o,{xAxisKey:C="x",yAxisKey:N="y"}=this._parsing,j=new Array(m);let J,ce,ge,Ce;for(J=0,ce=m;J<ce;++J)ge=J+f,Ce=c[ge],j[J]={x:b.parse(Tr(Ce,C),ge),y:I.parse(Tr(Ce,N),ge)};return j}getParsed(o){return this._cachedMeta._parsed[o]}getDataElement(o){return this._cachedMeta.data[o]}applyStack(o,c,f){const b=this._cachedMeta,I=c[o.axis];return B({keys:te(this.chart,!0),values:c._stacks[o.axis]._visualValues},I,b.index,{mode:f})}updateRangeFromParsed(o,c,f,m){const b=f[c.axis];let I=null===b?NaN:b;const C=m&&f._stacks[c.axis];m&&C&&(m.values=C,I=B(m,b,this._cachedMeta.index)),o.min=Math.min(o.min,I),o.max=Math.max(o.max,I)}getMinMax(o,c){const f=this._cachedMeta,m=f._parsed,b=f._sorted&&o===f.iScale,I=m.length,C=this._getOtherScale(o),N=((l,u,o)=>l&&!u.hidden&&u._stacked&&{keys:te(this.chart,!0),values:null})(c,f),j={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:J,max:ce}=function Dt(l){const{min:u,max:o,minDefined:c,maxDefined:f}=l.getUserBounds();return{min:c?u:Number.NEGATIVE_INFINITY,max:f?o:Number.POSITIVE_INFINITY}}(C);let ge,Ce;function Me(){Ce=m[ge];const Oe=Ce[C.axis];return!Kn(Ce[o.axis])||J>Oe||ce<Oe}for(ge=0;ge<I&&(Me()||(this.updateRangeFromParsed(j,o,Ce,N),!b));++ge);if(b)for(ge=I-1;ge>=0;--ge)if(!Me()){this.updateRangeFromParsed(j,o,Ce,N);break}return j}getAllParsedValues(o){const c=this._cachedMeta._parsed,f=[];let m,b,I;for(m=0,b=c.length;m<b;++m)I=c[m][o.axis],Kn(I)&&f.push(I);return f}getMaxOverflow(){return!1}getLabelAndValue(o){const c=this._cachedMeta,f=c.iScale,m=c.vScale,b=this.getParsed(o);return{label:f?""+f.getLabelForValue(b[f.axis]):"",value:m?""+m.getLabelForValue(b[m.axis]):""}}_update(o){const c=this._cachedMeta;this.update(o||"default"),c._clip=function P(l){let u,o,c,f;return zt(l)?(u=l.top,o=l.right,c=l.bottom,f=l.left):u=o=c=f=l,{top:u,right:o,bottom:c,left:f,disabled:!1===l}}(bn(this.options.clip,function Ol(l,u,o){if(!1===o)return!1;const c=$a(l,o),f=$a(u,o);return{top:f.end,right:c.end,bottom:f.start,left:c.start}}(c.xScale,c.yScale,this.getMaxOverflow())))}update(o){}draw(){const o=this._ctx,f=this._cachedMeta,m=f.data||[],b=this.chart.chartArea,I=[],C=this._drawStart||0,N=this._drawCount||m.length-C,j=this.options.drawActiveElementsOnTop;let J;for(f.dataset&&f.dataset.draw(o,b,C,N),J=C;J<C+N;++J){const ce=m[J];ce.hidden||(ce.active&&j?I.push(ce):ce.draw(o,b))}for(J=0;J<I.length;++J)I[J].draw(o,b)}getStyle(o,c){const f=c?"active":"default";return void 0===o&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(f):this.resolveDataElementOptions(o||0,f)}getContext(o,c,f){const m=this.getDataset();let b;if(o>=0&&o<this._cachedMeta.data.length){const I=this._cachedMeta.data[o];b=I.$context||(I.$context=function bi(l,u,o){return It(l,{active:!1,dataIndex:u,parsed:void 0,raw:void 0,element:o,index:u,mode:"default",type:"data"})}(this.getContext(),o,I)),b.parsed=this.getParsed(o),b.raw=m.data[o],b.index=b.dataIndex=o}else b=this.$context||(this.$context=function er(l,u){return It(l,{active:!1,dataset:void 0,datasetIndex:u,index:u,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),b.dataset=m,b.index=b.datasetIndex=this.index;return b.active=!!c,b.mode=f,b}resolveDatasetElementOptions(o){return this._resolveElementOptions(this.datasetElementType.id,o)}resolveDataElementOptions(o,c){return this._resolveElementOptions(this.dataElementType.id,c,o)}_resolveElementOptions(o,c="default",f){const m="active"===c,b=this._cachedDataOpts,I=o+"-"+c,C=b[I],N=this.enableOptionSharing&&Jn(f);if(C)return Lo(C,N);const j=this.chart.config,J=j.datasetElementScopeKeys(this._type,o),ce=m?[`${o}Hover`,"hover",o,""]:[o,""],ge=j.getOptionScopes(this.getDataset(),J),Ce=Object.keys(Gr.elements[o]),Oe=j.resolveNamedOptions(ge,Ce,()=>this.getContext(f,m,c),ce);return Oe.$shared&&(Oe.$shared=N,b[I]=Object.freeze(Lo(Oe,N))),Oe}_resolveAnimations(o,c,f){const m=this.chart,b=this._cachedDataOpts,I=`animation-${c}`,C=b[I];if(C)return C;let N;if(!1!==m.options.animation){const J=this.chart.config,ce=J.datasetAnimationScopeKeys(this._type,c),ge=J.getOptionScopes(this.getDataset(),ce);N=J.createResolver(ge,this.getContext(o,f,c))}const j=new Fs(m,N&&N.animations);return N&&N._cacheable&&(b[I]=Object.freeze(j)),j}getSharedOptions(o){if(o.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},o))}includeOptions(o,c){return!c||oi(o)||this.chart._animationsDisabled}_getSharedOptions(o,c){const f=this.resolveDataElementOptions(o,c),m=this._sharedOptions,b=this.getSharedOptions(f),I=this.includeOptions(c,b)||b!==m;return this.updateSharedOptions(b,c,f),{sharedOptions:b,includeOptions:I}}updateElement(o,c,f,m){oi(m)?Object.assign(o,f):this._resolveAnimations(c,m).update(o,f)}updateSharedOptions(o,c,f){o&&!oi(c)&&this._resolveAnimations(void 0,c).update(o,f)}_setStyle(o,c,f,m){o.active=m;const b=this.getStyle(c,m);this._resolveAnimations(c,f,m).update(o,{options:!m&&this.getSharedOptions(b)||b})}removeHoverStyle(o,c,f){this._setStyle(o,f,"active",!1)}setHoverStyle(o,c,f){this._setStyle(o,f,"active",!0)}_removeDatasetHoverStyle(){const o=this._cachedMeta.dataset;o&&this._setStyle(o,void 0,"active",!1)}_setDatasetHoverStyle(){const o=this._cachedMeta.dataset;o&&this._setStyle(o,void 0,"active",!0)}_resyncElements(o){const c=this._data,f=this._cachedMeta.data;for(const[C,N,j]of this._syncList)this[C](N,j);this._syncList=[];const m=f.length,b=c.length,I=Math.min(b,m);I&&this.parse(0,I),b>m?this._insertElements(m,b-m,o):b<m&&this._removeElements(b,m-b)}_insertElements(o,c,f=!0){const m=this._cachedMeta,b=m.data,I=o+c;let C;const N=j=>{for(j.length+=c,C=j.length-1;C>=I;C--)j[C]=j[C-c]};for(N(b),C=o;C<I;++C)b[C]=new this.dataElementType;this._parsing&&N(m._parsed),this.parse(o,c),f&&this.updateElements(b,o,c,"reset")}updateElements(o,c,f,m){}_removeElements(o,c){const f=this._cachedMeta;if(this._parsing){const m=f._parsed.splice(o,c);f._stacked&&wr(f,m)}f.data.splice(o,c)}_sync(o){if(this._parsing)this._syncList.push(o);else{const[c,f,m]=o;this[c](f,m)}this.chart._dataChanges.push([this.index,...o])}_onDataPush(){const o=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-o,o])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(o,c){c&&this._sync(["_removeElements",o,c]);const f=arguments.length-2;f&&this._sync(["_insertElements",o,f])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function _o(l){const u=l.iScale,o=function Fi(l,u){if(!l._cache.$bar){const o=l.getMatchingVisibleMetas(u);let c=[];for(let f=0,m=o.length;f<m;f++)c=c.concat(o[f].controller.getAllParsedValues(l));l._cache.$bar=Qr(c.sort((f,m)=>f-m))}return l._cache.$bar}(u,l.type);let f,m,b,I,c=u._length;const C=()=>{32767===b||-32768===b||(Jn(I)&&(c=Math.min(c,Math.abs(b-I)||c)),I=b)};for(f=0,m=o.length;f<m;++f)b=u.getPixelForValue(o[f]),C();for(I=void 0,f=0,m=u.ticks.length;f<m;++f)b=u.getPixelForTick(f),C();return c}function ro(l,u,o,c){return Mn(l)?function Vi(l,u,o,c){const f=o.parse(l[0],c),m=o.parse(l[1],c),b=Math.min(f,m),I=Math.max(f,m);let C=b,N=I;Math.abs(b)>Math.abs(I)&&(C=I,N=b),u[o.axis]=N,u._custom={barStart:C,barEnd:N,start:f,end:m,min:b,max:I}}(l,u,o,c):u[o.axis]=o.parse(l,c),u}function _c(l,u,o,c){const f=l.iScale,m=l.vScale,b=f.getLabels(),I=f===m,C=[];let N,j,J,ce;for(N=o,j=o+c;N<j;++N)ce=u[N],J={},J[f.axis]=I||f.parse(b[N],N),C.push(ro(ce,J,m,N));return C}function gn(l){return l&&void 0!==l.barStart&&void 0!==l.barEnd}function tn(l,u,o,c){let f=u.borderSkipped;const m={};if(!f)return void(l.borderSkipped=m);if(!0===f)return void(l.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:b,end:I,reverse:C,top:N,bottom:j}=function xf(l){let u,o,c,f,m;return l.horizontal?(u=l.base>l.x,o="left",c="right"):(u=l.base<l.y,o="bottom",c="top"),u?(f="end",m="start"):(f="start",m="end"),{start:o,end:c,reverse:u,top:f,bottom:m}}(l);"middle"===f&&o&&(l.enableBorderRadius=!0,(o._top||0)===c?f=N:(o._bottom||0)===c?f=j:(m[lt(j,b,I,C)]=!0,f=N)),m[lt(f,b,I,C)]=!0,l.borderSkipped=m}function lt(l,u,o,c){return c?(l=function Ot(l,u,o){return l===u?o:l===o?u:l}(l,u,o),l=Wr(l,o,u)):l=Wr(l,u,o),l}function Wr(l,u,o){return"start"===l?u:"end"===l?o:l}function fd(l,{inflateAmount:u},o){l.inflateAmount="auto"===u?1===o?.33:0:u}let pd=(()=>class l extends cs{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(o,c,f,m){return _c(o,c,f,m)}parseArrayData(o,c,f,m){return _c(o,c,f,m)}parseObjectData(o,c,f,m){const{iScale:b,vScale:I}=o,{xAxisKey:C="x",yAxisKey:N="y"}=this._parsing,j="x"===b.axis?C:N,J="x"===I.axis?C:N,ce=[];let ge,Ce,Me,Oe;for(ge=f,Ce=f+m;ge<Ce;++ge)Oe=c[ge],Me={},Me[b.axis]=b.parse(Tr(Oe,j),ge),ce.push(ro(Tr(Oe,J),Me,I,ge));return ce}updateRangeFromParsed(o,c,f,m){super.updateRangeFromParsed(o,c,f,m);const b=f._custom;b&&c===this._cachedMeta.vScale&&(o.min=Math.min(o.min,b.min),o.max=Math.max(o.max,b.max))}getMaxOverflow(){return 0}getLabelAndValue(o){const c=this._cachedMeta,{iScale:f,vScale:m}=c,b=this.getParsed(o),I=b._custom,C=gn(I)?"["+I.start+", "+I.end+"]":""+m.getLabelForValue(b[m.axis]);return{label:""+f.getLabelForValue(b[f.axis]),value:C}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(o){const c=this._cachedMeta;this.updateElements(c.data,0,c.data.length,o)}updateElements(o,c,f,m){const b="reset"===m,{index:I,_cachedMeta:{vScale:C}}=this,N=C.getBasePixel(),j=C.isHorizontal(),J=this._getRuler(),{sharedOptions:ce,includeOptions:ge}=this._getSharedOptions(c,m);for(let Ce=c;Ce<c+f;Ce++){const Me=this.getParsed(Ce),Oe=b||xn(Me[C.axis])?{base:N,head:N}:this._calculateBarValuePixels(Ce),bt=this._calculateBarIndexPixels(Ce,J),yt=(Me._stacks||{})[C.axis],jt={horizontal:j,base:Oe.base,enableBorderRadius:!yt||gn(Me._custom)||I===yt._top||I===yt._bottom,x:j?Oe.head:bt.center,y:j?bt.center:Oe.head,height:j?bt.size:Math.abs(Oe.size),width:j?Math.abs(Oe.size):bt.size};ge&&(jt.options=ce||this.resolveDataElementOptions(Ce,o[Ce].active?"active":m));const Yt=jt.options||o[Ce].options;tn(jt,Yt,yt,I),fd(jt,Yt,J.ratio),this.updateElement(o[Ce],Ce,jt,m)}}_getStacks(o,c){const{iScale:f}=this._cachedMeta,m=f.getMatchingVisibleMetas(this._type).filter(N=>N.controller.options.grouped),b=f.options.stacked,I=[],C=N=>{const j=N.controller.getParsed(c),J=j&&j[N.vScale.axis];if(xn(J)||isNaN(J))return!0};for(const N of m)if((void 0===c||!C(N))&&((!1===b||-1===I.indexOf(N.stack)||void 0===b&&void 0===N.stack)&&I.push(N.stack),N.index===o))break;return I.length||I.push(void 0),I}_getStackCount(o){return this._getStacks(void 0,o).length}_getStackIndex(o,c,f){const m=this._getStacks(o,f),b=void 0!==c?m.indexOf(c):-1;return-1===b?m.length-1:b}_getRuler(){const o=this.options,c=this._cachedMeta,f=c.iScale,m=[];let b,I;for(b=0,I=c.data.length;b<I;++b)m.push(f.getPixelForValue(this.getParsed(b)[f.axis],b));const C=o.barThickness;return{min:C||_o(c),pixels:m,start:f._startPixel,end:f._endPixel,stackCount:this._getStackCount(),scale:f,grouped:o.grouped,ratio:C?1:o.categoryPercentage*o.barPercentage}}_calculateBarValuePixels(o){const{_cachedMeta:{vScale:c,_stacked:f,index:m},options:{base:b,minBarLength:I}}=this,C=b||0,N=this.getParsed(o),j=N._custom,J=gn(j);let Me,Oe,ce=N[c.axis],ge=0,Ce=f?this.applyStack(c,N,f):ce;Ce!==ce&&(ge=Ce-ce,Ce=ce),J&&(ce=j.barStart,Ce=j.barEnd-j.barStart,0!==ce&&Le(ce)!==Le(j.barEnd)&&(ge=0),ge+=ce);const bt=xn(b)||J?ge:b;let yt=c.getPixelForValue(bt);if(Me=this.chart.getDataVisibility(o)?c.getPixelForValue(ge+Ce):yt,Oe=Me-yt,Math.abs(Oe)<I){Oe=function Pn(l,u,o){return 0!==l?Le(l):(u.isHorizontal()?1:-1)*(u.min>=o?1:-1)}(Oe,c,C)*I,ce===C&&(yt-=Oe/2);const jt=c.getPixelForDecimal(0),Yt=c.getPixelForDecimal(1),Nt=Math.min(jt,Yt),Wt=Math.max(jt,Yt);yt=Math.max(Math.min(yt,Wt),Nt),Me=yt+Oe,f&&!J&&(N._stacks[c.axis]._visualValues[m]=c.getValueForPixel(Me)-c.getValueForPixel(yt))}if(yt===c.getPixelForValue(C)){const jt=Le(Oe)*c.getLineWidthForValue(C)/2;yt+=jt,Oe-=jt}return{size:Oe,base:yt,head:Me,center:Me+Oe/2}}_calculateBarIndexPixels(o,c){const f=c.scale,m=this.options,b=m.skipNull,I=bn(m.maxBarThickness,1/0);let C,N;if(c.grouped){const j=b?this._getStackCount(o):c.stackCount,J="flex"===m.barThickness?function Mt(l,u,o,c){const f=u.pixels,m=f[l];let b=l>0?f[l-1]:null,I=l<f.length-1?f[l+1]:null;const C=o.categoryPercentage;null===b&&(b=m-(null===I?u.end-u.start:I-m)),null===I&&(I=m+m-b);const N=m-(m-Math.min(b,I))/2*C;return{chunk:Math.abs(I-b)/2*C/c,ratio:o.barPercentage,start:N}}(o,c,m,j):function hl(l,u,o,c){const f=o.barThickness;let m,b;return xn(f)?(m=u.min*o.categoryPercentage,b=o.barPercentage):(m=f*c,b=1),{chunk:m/c,ratio:b,start:u.pixels[l]-m/2}}(o,c,m,j),ce=this._getStackIndex(this.index,this._cachedMeta.stack,b?o:void 0);C=J.start+J.chunk*ce+J.chunk/2,N=Math.min(I,J.chunk*J.ratio)}else C=f.getPixelForValue(this.getParsed(o)[f.axis],o),N=Math.min(I,c.min*c.ratio);return{base:C-N/2,head:C+N/2,center:C,size:N}}draw(){const o=this._cachedMeta,c=o.vScale,f=o.data,m=f.length;let b=0;for(;b<m;++b)null!==this.getParsed(b)[c.axis]&&f[b].draw(this._ctx)}})(),br=(()=>class l extends cs{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(o,c,f,m){const b=super.parsePrimitiveData(o,c,f,m);for(let I=0;I<b.length;I++)b[I]._custom=this.resolveDataElementOptions(I+f).radius;return b}parseArrayData(o,c,f,m){const b=super.parseArrayData(o,c,f,m);for(let I=0;I<b.length;I++)b[I]._custom=bn(c[f+I][2],this.resolveDataElementOptions(I+f).radius);return b}parseObjectData(o,c,f,m){const b=super.parseObjectData(o,c,f,m);for(let I=0;I<b.length;I++){const C=c[f+I];b[I]._custom=bn(C&&C.r&&+C.r,this.resolveDataElementOptions(I+f).radius)}return b}getMaxOverflow(){const o=this._cachedMeta.data;let c=0;for(let f=o.length-1;f>=0;--f)c=Math.max(c,o[f].size(this.resolveDataElementOptions(f))/2);return c>0&&c}getLabelAndValue(o){const c=this._cachedMeta,f=this.chart.data.labels||[],{xScale:m,yScale:b}=c,I=this.getParsed(o),C=m.getLabelForValue(I.x),N=b.getLabelForValue(I.y),j=I._custom;return{label:f[o]||"",value:"("+C+", "+N+(j?", "+j:"")+")"}}update(o){const c=this._cachedMeta.data;this.updateElements(c,0,c.length,o)}updateElements(o,c,f,m){const b="reset"===m,{iScale:I,vScale:C}=this._cachedMeta,{sharedOptions:N,includeOptions:j}=this._getSharedOptions(c,m),J=I.axis,ce=C.axis;for(let ge=c;ge<c+f;ge++){const Ce=o[ge],Me=!b&&this.getParsed(ge),Oe={},bt=Oe[J]=b?I.getPixelForDecimal(.5):I.getPixelForValue(Me[J]),yt=Oe[ce]=b?C.getBasePixel():C.getPixelForValue(Me[ce]);Oe.skip=isNaN(bt)||isNaN(yt),j&&(Oe.options=N||this.resolveDataElementOptions(ge,Ce.active?"active":m),b&&(Oe.options.radius=0)),this.updateElement(Ce,ge,Oe,m)}}resolveDataElementOptions(o,c){const f=this.getParsed(o);let m=super.resolveDataElementOptions(o,c);m.$shared&&(m=Object.assign({},m,{$shared:!1}));const b=m.radius;return"active"!==c&&(m.radius=0),m.radius+=bn(f&&f._custom,b),m}})(),fl=(()=>class l extends cs{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:o=>"spacing"!==o,_indexable:o=>"spacing"!==o&&!o.startsWith("borderDash")&&!o.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(o){const c=o.data;if(c.labels.length&&c.datasets.length){const{labels:{pointStyle:f,color:m}}=o.legend.options;return c.labels.map((b,I)=>{const N=o.getDatasetMeta(0).controller.getStyle(I);return{text:b,fillStyle:N.backgroundColor,strokeStyle:N.borderColor,fontColor:m,lineWidth:N.borderWidth,pointStyle:f,hidden:!o.getDataVisibility(I),index:I}})}return[]}},onClick(o,c,f){f.chart.toggleDataVisibility(c.index),f.chart.update()}}}};constructor(o,c){super(o,c),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(o,c){const f=this.getDataset().data,m=this._cachedMeta;if(!1===this._parsing)m._parsed=f;else{let I,C,b=N=>+f[N];if(zt(f[o])){const{key:N="value"}=this._parsing;b=j=>+Tr(f[j],N)}for(I=o,C=o+c;I<C;++I)m._parsed[I]=b(I)}}_getRotation(){return rr(this.options.rotation-90)}_getCircumference(){return rr(this.options.circumference)}_getRotationExtents(){let o=On,c=-On;for(let f=0;f<this.chart.data.datasets.length;++f)if(this.chart.isDatasetVisible(f)&&this.chart.getDatasetMeta(f).type===this._type){const m=this.chart.getDatasetMeta(f).controller,b=m._getRotation(),I=m._getCircumference();o=Math.min(o,b),c=Math.max(c,b+I)}return{rotation:o,circumference:c-o}}update(o){const c=this.chart,{chartArea:f}=c,m=this._cachedMeta,b=m.data,I=this.getMaxBorderWidth()+this.getMaxOffset(b)+this.options.spacing,C=Math.max((Math.min(f.width,f.height)-I)/2,0),N=Math.min(((l,u)=>"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/u)(this.options.cutout,C),1),j=this._getRingWeight(this.index),{circumference:J,rotation:ce}=this._getRotationExtents(),{ratioX:ge,ratioY:Ce,offsetX:Me,offsetY:Oe}=function gd(l,u,o){let c=1,f=1,m=0,b=0;if(u<On){const I=l,C=I+u,N=Math.cos(I),j=Math.sin(I),J=Math.cos(C),ce=Math.sin(C),ge=(jt,Yt,Nt)=>it(jt,I,C,!0)?1:Math.max(Yt,Yt*o,Nt,Nt*o),Ce=(jt,Yt,Nt)=>it(jt,I,C,!0)?-1:Math.min(Yt,Yt*o,Nt,Nt*o),Me=ge(0,N,J),Oe=ge(ie,j,ce),bt=Ce(Vt,N,J),yt=Ce(Vt+ie,j,ce);c=(Me-bt)/2,f=(Oe-yt)/2,m=-(Me+bt)/2,b=-(Oe+yt)/2}return{ratioX:c,ratioY:f,offsetX:m,offsetY:b}}(ce,J,N),jt=Math.max(Math.min((f.width-I)/ge,(f.height-I)/Ce)/2,0),Yt=dr(this.options.radius,jt),Wt=(Yt-Math.max(Yt*N,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Me*Yt,this.offsetY=Oe*Yt,m.total=this.calculateTotal(),this.outerRadius=Yt-Wt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Wt*j,0),this.updateElements(b,0,b.length,o)}_circumference(o,c){const f=this.options,m=this._cachedMeta,b=this._getCircumference();return c&&f.animation.animateRotate||!this.chart.getDataVisibility(o)||null===m._parsed[o]||m.data[o].hidden?0:this.calculateCircumference(m._parsed[o]*b/On)}updateElements(o,c,f,m){const b="reset"===m,I=this.chart,C=I.chartArea,J=(C.left+C.right)/2,ce=(C.top+C.bottom)/2,ge=b&&I.options.animation.animateScale,Ce=ge?0:this.innerRadius,Me=ge?0:this.outerRadius,{sharedOptions:Oe,includeOptions:bt}=this._getSharedOptions(c,m);let jt,yt=this._getRotation();for(jt=0;jt<c;++jt)yt+=this._circumference(jt,b);for(jt=c;jt<c+f;++jt){const Yt=this._circumference(jt,b),Nt=o[jt],Wt={x:J+this.offsetX,y:ce+this.offsetY,startAngle:yt,endAngle:yt+Yt,circumference:Yt,outerRadius:Me,innerRadius:Ce};bt&&(Wt.options=Oe||this.resolveDataElementOptions(jt,Nt.active?"active":m)),yt+=Yt,this.updateElement(Nt,jt,Wt,m)}}calculateTotal(){const o=this._cachedMeta,c=o.data;let m,f=0;for(m=0;m<c.length;m++){const b=o._parsed[m];null!==b&&!isNaN(b)&&this.chart.getDataVisibility(m)&&!c[m].hidden&&(f+=Math.abs(b))}return f}calculateCircumference(o){const c=this._cachedMeta.total;return c>0&&!isNaN(o)?On*(Math.abs(o)/c):0}getLabelAndValue(o){const f=this.chart,m=f.data.labels||[],b=co(this._cachedMeta._parsed[o],f.options.locale);return{label:m[o]||"",value:b}}getMaxBorderWidth(o){let c=0;const f=this.chart;let m,b,I,C,N;if(!o)for(m=0,b=f.data.datasets.length;m<b;++m)if(f.isDatasetVisible(m)){I=f.getDatasetMeta(m),o=I.data,C=I.controller;break}if(!o)return 0;for(m=0,b=o.length;m<b;++m)N=C.resolveDataElementOptions(m),"inner"!==N.borderAlign&&(c=Math.max(c,N.borderWidth||0,N.hoverBorderWidth||0));return c}getMaxOffset(o){let c=0;for(let f=0,m=o.length;f<m;++f){const b=this.resolveDataElementOptions(f);c=Math.max(c,b.offset||0,b.hoverOffset||0)}return c}_getRingWeightOffset(o){let c=0;for(let f=0;f<o;++f)this.chart.isDatasetVisible(f)&&(c+=this._getRingWeight(f));return c}_getRingWeight(o){return Math.max(bn(this.chart.data.datasets[o].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),Us=(()=>class l extends cs{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(o){const c=this._cachedMeta,{dataset:f,data:m=[],_dataset:b}=c,I=this.chart._animationsDisabled;let{start:C,count:N}=zs(c,m,I);this._drawStart=C,this._drawCount=N,$s(c)&&(C=0,N=m.length),f._chart=this.chart,f._datasetIndex=this.index,f._decimated=!!b._decimated,f.points=m;const j=this.resolveDatasetElementOptions(o);this.options.showLine||(j.borderWidth=0),j.segment=this.options.segment,this.updateElement(f,void 0,{animated:!I,options:j},o),this.updateElements(m,C,N,o)}updateElements(o,c,f,m){const b="reset"===m,{iScale:I,vScale:C,_stacked:N,_dataset:j}=this._cachedMeta,{sharedOptions:J,includeOptions:ce}=this._getSharedOptions(c,m),ge=I.axis,Ce=C.axis,{spanGaps:Me,segment:Oe}=this.options,bt=Rn(Me)?Me:Number.POSITIVE_INFINITY,yt=this.chart._animationsDisabled||b||"none"===m,jt=c+f,Yt=o.length;let Nt=c>0&&this.getParsed(c-1);for(let Wt=0;Wt<Yt;++Wt){const En=o[Wt],an=yt?En:{};if(Wt<c||Wt>=jt){an.skip=!0;continue}const Fn=this.getParsed(Wt),Ar=xn(Fn[Ce]),Cr=an[ge]=I.getPixelForValue(Fn[ge],Wt),zr=an[Ce]=b||Ar?C.getBasePixel():C.getPixelForValue(N?this.applyStack(C,Fn,N):Fn[Ce],Wt);an.skip=isNaN(Cr)||isNaN(zr)||Ar,an.stop=Wt>0&&Math.abs(Fn[ge]-Nt[ge])>bt,Oe&&(an.parsed=Fn,an.raw=j.data[Wt]),ce&&(an.options=J||this.resolveDataElementOptions(Wt,En.active?"active":m)),yt||this.updateElement(En,Wt,an,m),Nt=Fn}}getMaxOverflow(){const o=this._cachedMeta,c=o.dataset,f=c.options&&c.options.borderWidth||0,m=o.data||[];if(!m.length)return f;const b=m[0].size(this.resolveDataElementOptions(0)),I=m[m.length-1].size(this.resolveDataElementOptions(m.length-1));return Math.max(f,b,I)/2}draw(){const o=this._cachedMeta;o.dataset.updateControlPoints(this.chart.chartArea,o.iScale.axis),super.draw()}})(),Nl=(()=>class l extends cs{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(o){const c=o.data;if(c.labels.length&&c.datasets.length){const{labels:{pointStyle:f,color:m}}=o.legend.options;return c.labels.map((b,I)=>{const N=o.getDatasetMeta(0).controller.getStyle(I);return{text:b,fillStyle:N.backgroundColor,strokeStyle:N.borderColor,fontColor:m,lineWidth:N.borderWidth,pointStyle:f,hidden:!o.getDataVisibility(I),index:I}})}return[]}},onClick(o,c,f){f.chart.toggleDataVisibility(c.index),f.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(o,c){super(o,c),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(o){const f=this.chart,m=f.data.labels||[],b=co(this._cachedMeta._parsed[o].r,f.options.locale);return{label:m[o]||"",value:b}}parseObjectData(o,c,f,m){return mi.bind(this)(o,c,f,m)}update(o){const c=this._cachedMeta.data;this._updateRadius(),this.updateElements(c,0,c.length,o)}getMinMax(){const c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((f,m)=>{const b=this.getParsed(m).r;!isNaN(b)&&this.chart.getDataVisibility(m)&&(b<c.min&&(c.min=b),b>c.max&&(c.max=b))}),c}_updateRadius(){const o=this.chart,c=o.chartArea,f=o.options,m=Math.min(c.right-c.left,c.bottom-c.top),b=Math.max(m/2,0),C=(b-Math.max(f.cutoutPercentage?b/100*f.cutoutPercentage:1,0))/o.getVisibleDatasetCount();this.outerRadius=b-C*this.index,this.innerRadius=this.outerRadius-C}updateElements(o,c,f,m){const b="reset"===m,I=this.chart,N=I.options.animation,j=this._cachedMeta.rScale,J=j.xCenter,ce=j.yCenter,ge=j.getIndexAngle(0)-.5*Vt;let Me,Ce=ge;const Oe=360/this.countVisibleElements();for(Me=0;Me<c;++Me)Ce+=this._computeAngle(Me,m,Oe);for(Me=c;Me<c+f;Me++){const bt=o[Me];let yt=Ce,jt=Ce+this._computeAngle(Me,m,Oe),Yt=I.getDataVisibility(Me)?j.getDistanceFromCenterForValue(this.getParsed(Me).r):0;Ce=jt,b&&(N.animateScale&&(Yt=0),N.animateRotate&&(yt=jt=ge));const Nt={x:J,y:ce,innerRadius:0,outerRadius:Yt,startAngle:yt,endAngle:jt,options:this.resolveDataElementOptions(Me,bt.active?"active":m)};this.updateElement(bt,Me,Nt,m)}}countVisibleElements(){let c=0;return this._cachedMeta.data.forEach((f,m)=>{!isNaN(this.getParsed(m).r)&&this.chart.getDataVisibility(m)&&c++}),c}_computeAngle(o,c,f){return this.chart.getDataVisibility(o)?rr(this.resolveDataElementOptions(o,c).angle||f):0}})();var md=Object.freeze({__proto__:null,BarController:pd,BubbleController:br,DoughnutController:fl,LineController:Us,PieController:(()=>class l extends fl{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:Nl,RadarController:(()=>class l extends cs{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(o){const c=this._cachedMeta.vScale,f=this.getParsed(o);return{label:c.getLabels()[o],value:""+c.getLabelForValue(f[c.axis])}}parseObjectData(o,c,f,m){return mi.bind(this)(o,c,f,m)}update(o){const c=this._cachedMeta,f=c.dataset,m=c.data||[],b=c.iScale.getLabels();if(f.points=m,"resize"!==o){const I=this.resolveDatasetElementOptions(o);this.options.showLine||(I.borderWidth=0),this.updateElement(f,void 0,{_loop:!0,_fullLoop:b.length===m.length,options:I},o)}this.updateElements(m,0,m.length,o)}updateElements(o,c,f,m){const b=this._cachedMeta.rScale,I="reset"===m;for(let C=c;C<c+f;C++){const N=o[C],j=this.resolveDataElementOptions(C,N.active?"active":m),J=b.getPointPositionForValue(C,this.getParsed(C).r),ce=I?b.xCenter:J.x,ge=I?b.yCenter:J.y,Ce={x:ce,y:ge,angle:J.angle,skip:isNaN(ce)||isNaN(ge),options:j};this.updateElement(N,C,Ce,m)}}})(),ScatterController:(()=>class l extends cs{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(o){const c=this._cachedMeta,f=this.chart.data.labels||[],{xScale:m,yScale:b}=c,I=this.getParsed(o),C=m.getLabelForValue(I.x),N=b.getLabelForValue(I.y);return{label:f[o]||"",value:"("+C+", "+N+")"}}update(o){const c=this._cachedMeta,{data:f=[]}=c,m=this.chart._animationsDisabled;let{start:b,count:I}=zs(c,f,m);if(this._drawStart=b,this._drawCount=I,$s(c)&&(b=0,I=f.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:C,_dataset:N}=c;C._chart=this.chart,C._datasetIndex=this.index,C._decimated=!!N._decimated,C.points=f;const j=this.resolveDatasetElementOptions(o);j.segment=this.options.segment,this.updateElement(C,void 0,{animated:!m,options:j},o)}else this.datasetElementType&&(delete c.dataset,this.datasetElementType=!1);this.updateElements(f,b,I,o)}addElements(){const{showLine:o}=this.options;!this.datasetElementType&&o&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(o,c,f,m){const b="reset"===m,{iScale:I,vScale:C,_stacked:N,_dataset:j}=this._cachedMeta,J=this.resolveDataElementOptions(c,m),ce=this.getSharedOptions(J),ge=this.includeOptions(m,ce),Ce=I.axis,Me=C.axis,{spanGaps:Oe,segment:bt}=this.options,yt=Rn(Oe)?Oe:Number.POSITIVE_INFINITY,jt=this.chart._animationsDisabled||b||"none"===m;let Yt=c>0&&this.getParsed(c-1);for(let Nt=c;Nt<c+f;++Nt){const Wt=o[Nt],En=this.getParsed(Nt),an=jt?Wt:{},Fn=xn(En[Me]),Ar=an[Ce]=I.getPixelForValue(En[Ce],Nt),Cr=an[Me]=b||Fn?C.getBasePixel():C.getPixelForValue(N?this.applyStack(C,En,N):En[Me],Nt);an.skip=isNaN(Ar)||isNaN(Cr)||Fn,an.stop=Nt>0&&Math.abs(En[Ce]-Yt[Ce])>yt,bt&&(an.parsed=En,an.raw=j.data[Nt]),ge&&(an.options=ce||this.resolveDataElementOptions(Nt,Wt.active?"active":m)),jt||this.updateElement(Wt,Nt,an,m),Yt=En}this.updateSharedOptions(ce,m,J)}getMaxOverflow(){const o=this._cachedMeta,c=o.data||[];if(!this.options.showLine){let C=0;for(let N=c.length-1;N>=0;--N)C=Math.max(C,c[N].size(this.resolveDataElementOptions(N))/2);return C>0&&C}const f=o.dataset,m=f.options&&f.options.borderWidth||0;if(!c.length)return m;const b=c[0].size(this.resolveDataElementOptions(0)),I=c[c.length-1].size(this.resolveDataElementOptions(c.length-1));return Math.max(m,b,I)/2}})()});function Wn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ua{static override(u){Object.assign(ua.prototype,u)}options;constructor(u){this.options=u||{}}init(){}formats(){return Wn()}parse(){return Wn()}format(){return Wn()}add(){return Wn()}diff(){return Wn()}startOf(){return Wn()}endOf(){return Wn()}}var ca__date=ua;function Gi(l,u,o,c){const{controller:f,data:m,_sorted:b}=l,I=f._cachedMeta.iScale;if(I&&u===I.axis&&"r"!==u&&b&&m.length){const C=I._reversePixels?ci:Cn;if(!c)return C(m,u,o);if(f._sharedOptions){const N=m[0],j="function"==typeof N.getRange&&N.getRange(u);if(j){const J=C(m,u,o-j),ce=C(m,u,o+j);return{lo:J.lo,hi:ce.hi}}}}return{lo:0,hi:m.length-1}}function wn(l,u,o,c,f){const m=l.getSortedVisibleDatasetMetas(),b=o[u];for(let I=0,C=m.length;I<C;++I){const{index:N,data:j}=m[I],{lo:J,hi:ce}=Gi(m[I],u,b,f);for(let ge=J;ge<=ce;++ge){const Ce=j[ge];Ce.skip||c(Ce,N,ge)}}}function Er(l,u,o,c,f){const m=[];return!f&&!l.isPointInArea(u)||wn(l,o,u,function(I,C,N){!f&&!Gn(I,l.chartArea,0)||I.inRange(u.x,u.y,c)&&m.push({element:I,datasetIndex:C,index:N})},!0),m}function Et(l,u,o,c,f,m){return m||l.isPointInArea(u)?"r"!==o||c?function Ui(l,u,o,c,f,m){let b=[];const I=function Mo(l){const u=-1!==l.indexOf("x"),o=-1!==l.indexOf("y");return function(c,f){const m=u?Math.abs(c.x-f.x):0,b=o?Math.abs(c.y-f.y):0;return Math.sqrt(Math.pow(m,2)+Math.pow(b,2))}}(o);let C=Number.POSITIVE_INFINITY;return wn(l,o,u,function N(j,J,ce){const ge=j.inRange(u.x,u.y,f);if(c&&!ge)return;const Ce=j.getCenterPoint(f);if(!m&&!l.isPointInArea(Ce)&&!ge)return;const Oe=I(u,Ce);Oe<C?(b=[{element:j,datasetIndex:J,index:ce}],C=Oe):Oe===C&&b.push({element:j,datasetIndex:J,index:ce})}),b}(l,u,o,c,f,m):function gh(l,u,o,c){let f=[];return wn(l,o,u,function m(b,I,C){const{startAngle:N,endAngle:j}=b.getProps(["startAngle","endAngle"],c),{angle:J}=Pe(b,{x:u.x,y:u.y});it(J,N,j)&&f.push({element:b,datasetIndex:I,index:C})}),f}(l,u,o,f):[]}function Aa(l,u,o,c,f){const m=[],b="x"===o?"inXRange":"inYRange";let I=!1;return wn(l,o,u,(C,N,j)=>{C[b](u[o],f)&&(m.push({element:C,datasetIndex:N,index:j}),I=I||C.inRange(u.x,u.y,f))}),c&&!I?[]:m}var qi={evaluateInteractionItems:wn,modes:{index(l,u,o,c){const f=Cs(u,l),m=o.axis||"x",b=o.includeInvisible||!1,I=o.intersect?Er(l,f,m,c,b):Et(l,f,m,!1,c,b),C=[];return I.length?(l.getSortedVisibleDatasetMetas().forEach(N=>{const j=I[0].index,J=N.data[j];J&&!J.skip&&C.push({element:J,datasetIndex:N.index,index:j})}),C):[]},dataset(l,u,o,c){const f=Cs(u,l),m=o.axis||"xy",b=o.includeInvisible||!1;let I=o.intersect?Er(l,f,m,c,b):Et(l,f,m,!1,c,b);if(I.length>0){const C=I[0].datasetIndex,N=l.getDatasetMeta(C).data;I=[];for(let j=0;j<N.length;++j)I.push({element:N[j],datasetIndex:C,index:j})}return I},point:(l,u,o,c)=>Er(l,Cs(u,l),o.axis||"xy",c,o.includeInvisible||!1),nearest:(l,u,o,c)=>Et(l,Cs(u,l),o.axis||"xy",o.intersect,c,o.includeInvisible||!1),x:(l,u,o,c)=>Aa(l,Cs(u,l),"x",o.intersect,c),y:(l,u,o,c)=>Aa(l,Cs(u,l),"y",o.intersect,c)}};const da=["left","top","right","bottom"];function pl(l,u){return l.filter(o=>o.pos===u)}function Ga(l,u){return l.filter(o=>-1===da.indexOf(o.pos)&&o.box.axis===u)}function gl(l,u){return l.sort((o,c)=>{const f=u?c:o,m=u?o:c;return f.weight===m.weight?f.index-m.index:f.weight-m.weight})}function kl(l,u,o,c){return Math.max(l[o],u[o])+Math.max(l[c],u[c])}function Pu(l,u){l.top=Math.max(l.top,u.top),l.left=Math.max(l.left,u.left),l.bottom=Math.max(l.bottom,u.bottom),l.right=Math.max(l.right,u.right)}function Rt(l,u,o,c){const{pos:f,box:m}=o,b=l.maxPadding;if(!zt(f)){o.size&&(l[f]-=o.size);const J=c[o.stack]||{size:0,count:1};J.size=Math.max(J.size,o.horizontal?m.height:m.width),o.size=J.size/J.count,l[f]+=o.size}m.getPadding&&Pu(b,m.getPadding());const I=Math.max(0,u.outerWidth-kl(b,l,"left","right")),C=Math.max(0,u.outerHeight-kl(b,l,"top","bottom")),N=I!==l.w,j=C!==l.h;return l.w=I,l.h=C,o.horizontal?{same:N,other:j}:{same:j,other:N}}function Ou(l,u){const o=u.maxPadding;return function c(f){const m={left:0,top:0,right:0,bottom:0};return f.forEach(b=>{m[b]=Math.max(u[b],o[b])}),m}(l?["left","right"]:["top","bottom"])}function Ke(l,u,o,c){const f=[];let m,b,I,C,N,j;for(m=0,b=l.length,N=0;m<b;++m){I=l[m],C=I.box,C.update(I.width||u.w,I.height||u.h,Ou(I.horizontal,u));const{same:J,other:ce}=Rt(u,o,I,c);N|=J&&f.length,j=j||ce,C.fullSize||f.push(I)}return N&&Ke(f,u,o,c)||j}function Ri(l,u,o,c,f){l.top=o,l.left=u,l.right=u+c,l.bottom=o+f,l.width=c,l.height=f}function io(l,u,o,c){const f=o.padding;let{x:m,y:b}=u;for(const I of l){const C=I.box,N=c[I.stack]||{count:1,placed:0,weight:1},j=I.stackWeight/N.weight||1;if(I.horizontal){const J=u.w*j,ce=N.size||C.height;Jn(N.start)&&(b=N.start),C.fullSize?Ri(C,f.left,b,o.outerWidth-f.right-f.left,ce):Ri(C,u.left+N.placed,b,J,ce),N.start=b,N.placed+=J,b=C.bottom}else{const J=u.h*j,ce=N.size||C.width;Jn(N.start)&&(m=N.start),C.fullSize?Ri(C,m,f.top,ce,o.outerHeight-f.bottom-f.top):Ri(C,m,u.top+N.placed,ce,J),N.start=m,N.placed+=J,m=C.right}}u.x=m,u.y=b}var ds={addBox(l,u){l.boxes||(l.boxes=[]),u.fullSize=u.fullSize||!1,u.position=u.position||"top",u.weight=u.weight||0,u._layers=u._layers||function(){return[{z:0,draw(o){u.draw(o)}}]},l.boxes.push(u)},removeBox(l,u){const o=l.boxes?l.boxes.indexOf(u):-1;-1!==o&&l.boxes.splice(o,1)},configure(l,u,o){u.fullSize=o.fullSize,u.position=o.position,u.weight=o.weight},update(l,u,o,c){if(!l)return;const f=ke(l.options.layout.padding),m=Math.max(u-f.width,0),b=Math.max(o-f.height,0),I=function Vo(l){const u=function Fo(l){const u=[];let o,c,f,m,b,I;for(o=0,c=(l||[]).length;o<c;++o)f=l[o],({position:m,options:{stack:b,stackWeight:I=1}}=f),u.push({index:o,box:f,pos:m,horizontal:f.isHorizontal(),weight:f.weight,stack:b&&m+b,stackWeight:I});return u}(l),o=gl(u.filter(N=>N.box.fullSize),!0),c=gl(pl(u,"left"),!0),f=gl(pl(u,"right")),m=gl(pl(u,"top"),!0),b=gl(pl(u,"bottom")),I=Ga(u,"x"),C=Ga(u,"y");return{fullSize:o,leftAndTop:c.concat(m),rightAndBottom:f.concat(C).concat(b).concat(I),chartArea:pl(u,"chartArea"),vertical:c.concat(f).concat(C),horizontal:m.concat(b).concat(I)}}(l.boxes),C=I.vertical,N=I.horizontal;en(l.boxes,Me=>{"function"==typeof Me.beforeLayout&&Me.beforeLayout()});const j=C.reduce((Me,Oe)=>Oe.box.options&&!1===Oe.box.options.display?Me:Me+1,0)||1,J=Object.freeze({outerWidth:u,outerHeight:o,padding:f,availableWidth:m,availableHeight:b,vBoxMaxWidth:m/2/j,hBoxMaxHeight:b/2}),ce=Object.assign({},f);Pu(ce,ke(c));const ge=Object.assign({maxPadding:ce,w:m,h:b,x:f.left,y:f.top},f),Ce=function yd(l,u){const o=function _d(l){const u={};for(const o of l){const{stack:c,pos:f,stackWeight:m}=o;if(!c||!da.includes(f))continue;const b=u[c]||(u[c]={count:0,placed:0,weight:0,size:0});b.count++,b.weight+=m}return u}(l),{vBoxMaxWidth:c,hBoxMaxHeight:f}=u;let m,b,I;for(m=0,b=l.length;m<b;++m){I=l[m];const{fullSize:C}=I.box,N=o[I.stack],j=N&&I.stackWeight/N.weight;I.horizontal?(I.width=j?j*c:C&&u.availableWidth,I.height=f):(I.width=c,I.height=j?j*f:C&&u.availableHeight)}return o}(C.concat(N),J);Ke(I.fullSize,ge,J,Ce),Ke(C,ge,J,Ce),Ke(N,ge,J,Ce)&&Ke(C,ge,J,Ce),function or(l){const u=l.maxPadding;function o(c){const f=Math.max(u[c]-l[c],0);return l[c]+=f,f}l.y+=o("top"),l.x+=o("left"),o("right"),o("bottom")}(ge),io(I.leftAndTop,ge,J,Ce),ge.x+=ge.w,ge.y+=ge.h,io(I.rightAndBottom,ge,J,Ce),l.chartArea={left:ge.left,top:ge.top,right:ge.left+ge.w,bottom:ge.top+ge.h,height:ge.h,width:ge.w},en(I.chartArea,Me=>{const Oe=Me.box;Object.assign(Oe,l.chartArea),Oe.update(ge.w,ge.h,{left:0,top:0,right:0,bottom:0})})}};class Bs{acquireContext(u,o){}releaseContext(u){return!1}addEventListener(u,o,c){}removeEventListener(u,o,c){}getDevicePixelRatio(){return 1}getMaximumSize(u,o,c,f){return o=Math.max(0,o||u.width),c=c||u.height,{width:o,height:Math.max(0,f?Math.floor(o/f):c)}}isAttached(u){return!0}updateConfig(u){}}class Wo extends Bs{acquireContext(u){return u&&u.getContext&&u.getContext("2d")||null}updateConfig(u){u.options.animation=!1}}const Ll="$chartjs",qa={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},mh=l=>null===l||""===l,so=!!hd&&{passive:!0};function Ro(l,u,o){l.canvas.removeEventListener(u,o,so)}function oo(l,u){for(const o of l)if(o===u||o.contains(u))return!0}function S(l,u,o){const c=l.canvas,f=new MutationObserver(m=>{let b=!1;for(const I of m)b=b||oo(I.addedNodes,c),b=b&&!oo(I.removedNodes,c);b&&o()});return f.observe(document,{childList:!0,subtree:!0}),f}function k(l,u,o){const c=l.canvas,f=new MutationObserver(m=>{let b=!1;for(const I of m)b=b||oo(I.removedNodes,c),b=b&&!oo(I.addedNodes,c);b&&o()});return f.observe(document,{childList:!0,subtree:!0}),f}const D=new Map;let F=0;function H(){const l=window.devicePixelRatio;l!==F&&(F=l,D.forEach((u,o)=>{o.currentDevicePixelRatio!==l&&u()}))}function st(l,u,o){const c=l.canvas,f=c&&Z(c);if(!f)return;const m=Br((I,C)=>{const N=f.clientWidth;o(I,C),N<f.clientWidth&&o()},window),b=new ResizeObserver(I=>{const C=I[0],N=C.contentRect.width,j=C.contentRect.height;0===N&&0===j||m(N,j)});return b.observe(f),function se(l,u){D.size||window.addEventListener("resize",H),D.set(l,u)}(l,m),b}function rt(l,u,o){o&&o.disconnect(),"resize"===u&&function ve(l){D.delete(l),D.size||window.removeEventListener("resize",H)}(l)}function ln(l,u,o){const c=l.canvas,f=Br(m=>{null!==l.ctx&&o(function Ca(l,u){const o=qa[l.type]||l.type,{x:c,y:f}=Cs(l,u);return{type:o,chart:u,native:l,x:void 0!==c?c:null,y:void 0!==f?f:null}}(m,l))},l);return function Wa(l,u,o){l.addEventListener(u,o,so)}(c,u,f),f}class Yn extends Bs{acquireContext(u,o){const c=u&&u.getContext&&u.getContext("2d");return c&&c.canvas===u?(function vc(l,u){const o=l.style,c=l.getAttribute("height"),f=l.getAttribute("width");if(l[Ll]={initial:{height:c,width:f,style:{display:o.display,height:o.height,width:o.width}}},o.display=o.display||"block",o.boxSizing=o.boxSizing||"border-box",mh(f)){const m=Xl(l,"width");void 0!==m&&(l.width=m)}if(mh(c))if(""===l.style.height)l.height=l.width/(u||2);else{const m=Xl(l,"height");void 0!==m&&(l.height=m)}}(u,o),c):null}releaseContext(u){const o=u.canvas;if(!o[Ll])return!1;const c=o[Ll].initial;["height","width"].forEach(m=>{const b=c[m];xn(b)?o.removeAttribute(m):o.setAttribute(m,b)});const f=c.style||{};return Object.keys(f).forEach(m=>{o.style[m]=f[m]}),o.width=o.width,delete o[Ll],!0}addEventListener(u,o,c){this.removeEventListener(u,o),(u.$proxies||(u.$proxies={}))[o]=({attach:S,detach:k,resize:st}[o]||ln)(u,o,c)}removeEventListener(u,o){const c=u.$proxies||(u.$proxies={}),f=c[o];f&&(({attach:rt,detach:rt,resize:rt}[o]||Ro)(u,o,f),c[o]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(u,o,c,f){return function aa(l,u,o,c){const f=oe(l),m=jn(f,"margin"),b=U(f.maxWidth,l,"clientWidth")||gi,I=U(f.maxHeight,l,"clientHeight")||gi,C=function Go(l,u,o){let c,f;if(void 0===u||void 0===o){const m=Z(l);if(m){const b=m.getBoundingClientRect(),I=oe(m),C=jn(I,"border","width"),N=jn(I,"padding");u=b.width-N.width-C.width,o=b.height-N.height-C.height,c=U(I.maxWidth,m,"clientWidth"),f=U(I.maxHeight,m,"clientHeight")}else u=l.clientWidth,o=l.clientHeight}return{width:u,height:o,maxWidth:c||gi,maxHeight:f||gi}}(l,u,o);let{width:N,height:j}=C;if("content-box"===f.boxSizing){const ce=jn(f,"border","width"),ge=jn(f,"padding");N-=ge.width+ce.width,j-=ge.height+ce.height}return N=Math.max(0,N-m.width),j=Math.max(0,c?N/c:j-m.height),N=Do(Math.min(N,b,C.maxWidth)),j=Do(Math.min(j,I,C.maxHeight)),N&&!j&&(j=Do(N/2)),(void 0!==u||void 0!==o)&&c&&C.height&&j>C.height&&(j=C.height,N=Do(Math.floor(j*c))),{width:N,height:j}}(u,o,c,f)}isAttached(u){const o=Z(u);return!(!o||!o.isConnected)}}class fr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(u){const{x:o,y:c}=this.getProps(["x","y"],u);return{x:o,y:c}}hasValue(){return Rn(this.x)&&Rn(this.y)}getProps(u,o){const c=this.$animations;if(!o||!c)return this;const f={};return u.forEach(m=>{f[m]=c[m]&&c[m].active()?c[m]._to:this[m]}),f}}function hs(l,u,o,c,f){const m=bn(c,0),b=Math.min(bn(f,l.length),l.length);let C,N,j,I=0;for(o=Math.ceil(o),f&&(C=f-c,o=C/Math.floor(C/o)),j=m;j<0;)I++,j=Math.round(m+I*o);for(N=Math.max(m,0);N<b;N++)N===j&&(u.push(l[N]),I++,j=Math.round(m+I*o))}const vd=(l,u,o)=>"top"===u||"left"===u?l[u]+o:l[u]-o,bd=(l,u)=>Math.min(u||l,l);function Mf(l,u){const o=[],c=l.length/u,f=l.length;let m=0;for(;m<f;m+=c)o.push(l[Math.floor(m)]);return o}function _h(l,u,o){const c=l.ticks.length,f=Math.min(u,c-1),m=l._startPixel,b=l._endPixel,I=1e-6;let N,C=l.getPixelForTick(f);if(!(o&&(N=1===c?Math.max(C-m,b-C):0===u?(l.getPixelForTick(1)-C)/2:(C-l.getPixelForTick(f-1))/2,C+=f<u?N:-N,C<m-I||C>b+I)))return C}function Zo(l){return l.drawTicks?l.tickLength:0}function iu(l,u){if(!l.display)return 0;const o=Ye(l.font,u),c=ke(l.padding);return(Mn(l.text)?l.text.length:1)*o.lineHeight+c.height}function bc(l,u,o){let c=Jr(l);return(o&&"right"!==u||!o&&"right"===u)&&(c=(l=>"left"===l?"right":"right"===l?"left":l)(c)),c}class Da extends fr{constructor(u){super(),this.id=u.id,this.type=u.type,this.options=void 0,this.ctx=u.ctx,this.chart=u.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(u){this.options=u.setContext(this.getContext()),this.axis=u.axis,this._userMin=this.parse(u.min),this._userMax=this.parse(u.max),this._suggestedMin=this.parse(u.suggestedMin),this._suggestedMax=this.parse(u.suggestedMax)}parse(u,o){return u}getUserBounds(){let{_userMin:u,_userMax:o,_suggestedMin:c,_suggestedMax:f}=this;return u=cn(u,Number.POSITIVE_INFINITY),o=cn(o,Number.NEGATIVE_INFINITY),c=cn(c,Number.POSITIVE_INFINITY),f=cn(f,Number.NEGATIVE_INFINITY),{min:cn(u,c),max:cn(o,f),minDefined:Kn(u),maxDefined:Kn(o)}}getMinMax(u){let b,{min:o,max:c,minDefined:f,maxDefined:m}=this.getUserBounds();if(f&&m)return{min:o,max:c};const I=this.getMatchingVisibleMetas();for(let C=0,N=I.length;C<N;++C)b=I[C].controller.getMinMax(this,u),f||(o=Math.min(o,b.min)),m||(c=Math.max(c,b.max));return o=m&&o>c?c:o,c=f&&o>c?o:c,{min:cn(o,cn(c,o)),max:cn(c,cn(o,c))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const u=this.chart.data;return this.options.labels||(this.isHorizontal()?u.xLabels:u.yLabels)||u.labels||[]}getLabelItems(u=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(u))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){rn(this.options.beforeUpdate,[this])}update(u,o,c){const{beginAtZero:f,grace:m,ticks:b}=this.options,I=b.sampleSize;this.beforeUpdate(),this.maxWidth=u,this.maxHeight=o,this._margins=c=Object.assign({left:0,right:0,top:0,bottom:0},c),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+c.left+c.right:this.height+c.top+c.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function hn(l,u,o){const{min:c,max:f}=l,m=dr(u,(f-c)/2),b=(I,C)=>o&&0===I?0:I+C;return{min:b(c,-Math.abs(m)),max:b(f,m)}}(this,m,f),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const C=I<this.ticks.length;this._convertTicksToLabels(C?Mf(this.ticks,I):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),b.display&&(b.autoSkip||"auto"===b.source)&&(this.ticks=function ha(l,u){const o=l.options.ticks,c=function Za(l){const u=l.options.offset,o=l._tickSize();return Math.floor(Math.min(l._length/o+(u?0:1),l._maxLength/o))}(l),f=Math.min(o.maxTicksLimit||c,c),m=o.major.enabled?function nu(l){const u=[];let o,c;for(o=0,c=l.length;o<c;o++)l[o].major&&u.push(o);return u}(u):[],b=m.length,I=m[0],C=m[b-1],N=[];if(b>f)return function ru(l,u,o,c){let b,f=0,m=o[0];for(c=Math.ceil(c),b=0;b<l.length;b++)b===m&&(u.push(l[b]),f++,m=o[f*c])}(u,N,m,b/f),N;const j=function Fl(l,u,o){const c=function Nu(l){const u=l.length;let o,c;if(u<2)return!1;for(c=l[0],o=1;o<u;++o)if(l[o]-l[o-1]!==c)return!1;return c}(l),f=u.length/o;if(!c)return Math.max(f,1);const m=function mn(l){const u=[],o=Math.sqrt(l);let c;for(c=1;c<o;c++)l%c==0&&(u.push(c),u.push(l/c));return o===(0|o)&&u.push(o),u.sort((f,m)=>f-m).pop(),u}(c);for(let b=0,I=m.length-1;b<I;b++){const C=m[b];if(C>f)return C}return Math.max(f,1)}(m,u,f);if(b>0){let J,ce;const ge=b>1?Math.round((C-I)/(b-1)):null;for(hs(u,N,j,xn(ge)?0:I-ge,I),J=0,ce=b-1;J<ce;J++)hs(u,N,j,m[J],m[J+1]);return hs(u,N,j,C,xn(ge)?u.length:C+ge),N}return hs(u,N,j),N}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),C&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let o,c,u=this.options.reverse;this.isHorizontal()?(o=this.left,c=this.right):(o=this.top,c=this.bottom,u=!u),this._startPixel=o,this._endPixel=c,this._reversePixels=u,this._length=c-o,this._alignToPixels=this.options.alignToPixels}afterUpdate(){rn(this.options.afterUpdate,[this])}beforeSetDimensions(){rn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){rn(this.options.afterSetDimensions,[this])}_callHooks(u){this.chart.notifyPlugins(u,this.getContext()),rn(this.options[u],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){rn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(u){const o=this.options.ticks;let c,f,m;for(c=0,f=u.length;c<f;c++)m=u[c],m.label=rn(o.callback,[m.value,c,u],this)}afterTickToLabelConversion(){rn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){rn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const u=this.options,o=u.ticks,c=bd(this.ticks.length,u.ticks.maxTicksLimit),f=o.minRotation||0,m=o.maxRotation;let I,C,N,b=f;if(!this._isVisible()||!o.display||f>=m||c<=1||!this.isHorizontal())return void(this.labelRotation=f);const j=this._getLabelSizes(),J=j.widest.width,ce=j.highest.height,ge=Zt(this.chart.width-J,0,this.maxWidth);I=u.offset?this.maxWidth/c:ge/(c-1),J+6>I&&(I=ge/(c-(u.offset?.5:1)),C=this.maxHeight-Zo(u.grid)-o.padding-iu(u.title,this.chart.options.font),N=Math.sqrt(J*J+ce*ce),b=Be(Math.min(Math.asin(Zt((j.highest.height+6)/I,-1,1)),Math.asin(Zt(C/N,-1,1))-Math.asin(Zt(ce/N,-1,1)))),b=Math.max(f,Math.min(m,b))),this.labelRotation=b}afterCalculateLabelRotation(){rn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){rn(this.options.beforeFit,[this])}fit(){const u={width:0,height:0},{chart:o,options:{ticks:c,title:f,grid:m}}=this,b=this._isVisible(),I=this.isHorizontal();if(b){const C=iu(f,o.options.font);if(I?(u.width=this.maxWidth,u.height=Zo(m)+C):(u.height=this.maxHeight,u.width=Zo(m)+C),c.display&&this.ticks.length){const{first:N,last:j,widest:J,highest:ce}=this._getLabelSizes(),ge=2*c.padding,Ce=rr(this.labelRotation),Me=Math.cos(Ce),Oe=Math.sin(Ce);I?u.height=Math.min(this.maxHeight,u.height+(c.mirror?0:Oe*J.width+Me*ce.height)+ge):u.width=Math.min(this.maxWidth,u.width+(c.mirror?0:Me*J.width+Oe*ce.height)+ge),this._calculatePadding(N,j,Oe,Me)}}this._handleMargins(),I?(this.width=this._length=o.width-this._margins.left-this._margins.right,this.height=u.height):(this.width=u.width,this.height=this._length=o.height-this._margins.top-this._margins.bottom)}_calculatePadding(u,o,c,f){const{ticks:{align:m,padding:b},position:I}=this.options,C=0!==this.labelRotation,N="top"!==I&&"x"===this.axis;if(this.isHorizontal()){const j=this.getPixelForTick(0)-this.left,J=this.right-this.getPixelForTick(this.ticks.length-1);let ce=0,ge=0;C?N?(ce=f*u.width,ge=c*o.height):(ce=c*u.height,ge=f*o.width):"start"===m?ge=o.width:"end"===m?ce=u.width:"inner"!==m&&(ce=u.width/2,ge=o.width/2),this.paddingLeft=Math.max((ce-j+b)*this.width/(this.width-j),0),this.paddingRight=Math.max((ge-J+b)*this.width/(this.width-J),0)}else{let j=o.height/2,J=u.height/2;"start"===m?(j=0,J=u.height):"end"===m&&(j=o.height,J=0),this.paddingTop=j+b,this.paddingBottom=J+b}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){rn(this.options.afterFit,[this])}isHorizontal(){const{axis:u,position:o}=this.options;return"top"===o||"bottom"===o||"x"===u}isFullSize(){return this.options.fullSize}_convertTicksToLabels(u){let o,c;for(this.beforeTickToLabelConversion(),this.generateTickLabels(u),o=0,c=u.length;o<c;o++)xn(u[o].label)&&(u.splice(o,1),c--,o--);this.afterTickToLabelConversion()}_getLabelSizes(){let u=this._labelSizes;if(!u){const o=this.options.ticks.sampleSize;let c=this.ticks;o<c.length&&(c=Mf(c,o)),this._labelSizes=u=this._computeLabelSizes(c,c.length,this.options.ticks.maxTicksLimit)}return u}_computeLabelSizes(u,o,c){const{ctx:f,_longestTextCache:m}=this,b=[],I=[],C=Math.floor(o/bd(o,c));let J,ce,ge,Ce,Me,Oe,bt,yt,jt,Yt,Nt,N=0,j=0;for(J=0;J<o;J+=C){if(Ce=u[J].label,Me=this._resolveTickFontOptions(J),f.font=Oe=Me.string,bt=m[Oe]=m[Oe]||{data:{},gc:[]},yt=Me.lineHeight,jt=Yt=0,xn(Ce)||Mn(Ce)){if(Mn(Ce))for(ce=0,ge=Ce.length;ce<ge;++ce)Nt=Ce[ce],!xn(Nt)&&!Mn(Nt)&&(jt=ks(f,bt.data,bt.gc,jt,Nt),Yt+=yt)}else jt=ks(f,bt.data,bt.gc,jt,Ce),Yt=yt;b.push(jt),I.push(Yt),N=Math.max(jt,N),j=Math.max(Yt,j)}!function Rf(l,u){en(l,o=>{const c=o.gc,f=c.length/2;let m;if(f>u){for(m=0;m<f;++m)delete o.data[c[m]];c.splice(0,f)}})}(m,o);const Wt=b.indexOf(N),En=I.indexOf(j),an=Fn=>({width:b[Fn]||0,height:I[Fn]||0});return{first:an(0),last:an(o-1),widest:an(Wt),highest:an(En),widths:b,heights:I}}getLabelForValue(u){return u}getPixelForValue(u,o){return NaN}getValueForPixel(u){}getPixelForTick(u){const o=this.ticks;return u<0||u>o.length-1?null:this.getPixelForValue(o[u].value)}getPixelForDecimal(u){this._reversePixels&&(u=1-u);const o=this._startPixel+u*this._length;return function Tt(l){return Zt(l,-32768,32767)}(this._alignToPixels?os(this.chart,o,0):o)}getDecimalForPixel(u){const o=(u-this._startPixel)/this._length;return this._reversePixels?1-o:o}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:u,max:o}=this;return u<0&&o<0?o:u>0&&o>0?u:0}getContext(u){const o=this.ticks||[];if(u>=0&&u<o.length){const c=o[u];return c.$context||(c.$context=function Ks(l,u,o){return It(l,{tick:o,index:u,type:"tick"})}(this.getContext(),u,c))}return this.$context||(this.$context=function Ka(l,u){return It(l,{scale:u,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const u=this.options.ticks,o=rr(this.labelRotation),c=Math.abs(Math.cos(o)),f=Math.abs(Math.sin(o)),m=this._getLabelSizes(),b=u.autoSkipPadding||0,I=m?m.widest.width+b:0,C=m?m.highest.height+b:0;return this.isHorizontal()?C*c>I*f?I/c:C/f:C*f<I*c?C/c:I/f}_isVisible(){const u=this.options.display;return"auto"!==u?!!u:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(u){const o=this.axis,c=this.chart,f=this.options,{grid:m,position:b,border:I}=f,C=m.offset,N=this.isHorizontal(),J=this.ticks.length+(C?1:0),ce=Zo(m),ge=[],Ce=I.setContext(this.getContext()),Me=Ce.display?Ce.width:0,Oe=Me/2,bt=function(Es){return os(c,Es,Me)};let yt,jt,Yt,Nt,Wt,En,an,Fn,Ar,Cr,zr,wo;if("top"===b)yt=bt(this.bottom),En=this.bottom-ce,Fn=yt-Oe,Cr=bt(u.top)+Oe,wo=u.bottom;else if("bottom"===b)yt=bt(this.top),Cr=u.top,wo=bt(u.bottom)-Oe,En=yt+Oe,Fn=this.top+ce;else if("left"===b)yt=bt(this.right),Wt=this.right-ce,an=yt-Oe,Ar=bt(u.left)+Oe,zr=u.right;else if("right"===b)yt=bt(this.left),Ar=u.left,zr=bt(u.right)-Oe,Wt=yt+Oe,an=this.left+ce;else if("x"===o){if("center"===b)yt=bt((u.top+u.bottom)/2+.5);else if(zt(b)){const Es=Object.keys(b)[0];yt=bt(this.chart.scales[Es].getPixelForValue(b[Es]))}Cr=u.top,wo=u.bottom,En=yt+Oe,Fn=En+ce}else if("y"===o){if("center"===b)yt=bt((u.left+u.right)/2);else if(zt(b)){const Es=Object.keys(b)[0];yt=bt(this.chart.scales[Es].getPixelForValue(b[Es]))}Wt=yt-Oe,an=Wt-ce,Ar=u.left,zr=u.right}const Ua=bn(f.ticks.maxTicksLimit,J),Ti=Math.max(1,Math.ceil(J/Ua));for(jt=0;jt<J;jt+=Ti){const Es=this.getContext(jt),uo=m.setContext(Es),Kl=I.setContext(Es),jo=uo.lineWidth,Af=uo.color,Cf=Kl.dash||[],Ho=Kl.dashOffset,ol=uo.tickWidth,xl=uo.tickColor,Ml=uo.tickBorderDash||[],xu=uo.tickBorderDashOffset;Yt=_h(this,jt,C),void 0!==Yt&&(Nt=os(c,Yt,jo),N?Wt=an=Ar=zr=Nt:En=Fn=Cr=wo=Nt,ge.push({tx1:Wt,ty1:En,tx2:an,ty2:Fn,x1:Ar,y1:Cr,x2:zr,y2:wo,width:jo,color:Af,borderDash:Cf,borderDashOffset:Ho,tickWidth:ol,tickColor:xl,tickBorderDash:Ml,tickBorderDashOffset:xu}))}return this._ticksLength=J,this._borderValue=yt,ge}_computeLabelItems(u){const o=this.axis,c=this.options,{position:f,ticks:m}=c,b=this.isHorizontal(),I=this.ticks,{align:C,crossAlign:N,padding:j,mirror:J}=m,ce=Zo(c.grid),ge=ce+j,Ce=J?-j:ge,Me=-rr(this.labelRotation),Oe=[];let bt,yt,jt,Yt,Nt,Wt,En,an,Fn,Ar,Cr,zr,wo="middle";if("top"===f)Wt=this.bottom-Ce,En=this._getXAxisLabelAlignment();else if("bottom"===f)Wt=this.top+Ce,En=this._getXAxisLabelAlignment();else if("left"===f){const Ti=this._getYAxisLabelAlignment(ce);En=Ti.textAlign,Nt=Ti.x}else if("right"===f){const Ti=this._getYAxisLabelAlignment(ce);En=Ti.textAlign,Nt=Ti.x}else if("x"===o){if("center"===f)Wt=(u.top+u.bottom)/2+ge;else if(zt(f)){const Ti=Object.keys(f)[0];Wt=this.chart.scales[Ti].getPixelForValue(f[Ti])+ge}En=this._getXAxisLabelAlignment()}else if("y"===o){if("center"===f)Nt=(u.left+u.right)/2-ge;else if(zt(f)){const Ti=Object.keys(f)[0];Nt=this.chart.scales[Ti].getPixelForValue(f[Ti])}En=this._getYAxisLabelAlignment(ce).textAlign}"y"===o&&("start"===C?wo="top":"end"===C&&(wo="bottom"));const Ua=this._getLabelSizes();for(bt=0,yt=I.length;bt<yt;++bt){jt=I[bt],Yt=jt.label;const Ti=m.setContext(this.getContext(bt));an=this.getPixelForTick(bt)+m.labelOffset,Fn=this._resolveTickFontOptions(bt),Ar=Fn.lineHeight,Cr=Mn(Yt)?Yt.length:1;const Es=Cr/2,uo=Ti.color,Kl=Ti.textStrokeColor,jo=Ti.textStrokeWidth;let Cf,Af=En;if(b?(Nt=an,"inner"===En&&(Af=bt===yt-1?this.options.reverse?"left":"right":0===bt?this.options.reverse?"right":"left":"center"),zr="top"===f?"near"===N||0!==Me?-Cr*Ar+Ar/2:"center"===N?-Ua.highest.height/2-Es*Ar+Ar:Ar/2-Ua.highest.height:"near"===N||0!==Me?Ar/2:"center"===N?Ua.highest.height/2-Es*Ar:Ua.highest.height-Cr*Ar,J&&(zr*=-1),0!==Me&&!Ti.showLabelBackdrop&&(Nt+=Ar/2*Math.sin(Me))):(Wt=an,zr=(1-Cr)*Ar/2),Ti.showLabelBackdrop){const Ho=ke(Ti.backdropPadding),ol=Ua.heights[bt],xl=Ua.widths[bt];let Ml=zr-Ho.top,xu=0-Ho.left;switch(wo){case"middle":Ml-=ol/2;break;case"bottom":Ml-=ol}switch(En){case"center":xu-=xl/2;break;case"right":xu-=xl}Cf={left:xu,top:Ml,width:xl+Ho.width,height:ol+Ho.height,color:Ti.backdropColor}}Oe.push({label:Yt,font:Fn,textOffset:zr,options:{rotation:Me,color:uo,strokeColor:Kl,strokeWidth:jo,textAlign:Af,textBaseline:wo,translation:[Nt,Wt],backdrop:Cf}})}return Oe}_getXAxisLabelAlignment(){const{position:u,ticks:o}=this.options;if(-rr(this.labelRotation))return"top"===u?"left":"right";let f="center";return"start"===o.align?f="left":"end"===o.align?f="right":"inner"===o.align&&(f="inner"),f}_getYAxisLabelAlignment(u){const{position:o,ticks:{crossAlign:c,mirror:f,padding:m}}=this.options,I=u+m,C=this._getLabelSizes().widest.width;let N,j;return"left"===o?f?(j=this.right+m,"near"===c?N="left":"center"===c?(N="center",j+=C/2):(N="right",j+=C)):(j=this.right-I,"near"===c?N="right":"center"===c?(N="center",j-=C/2):(N="left",j=this.left)):"right"===o?f?(j=this.left+m,"near"===c?N="right":"center"===c?(N="center",j-=C/2):(N="left",j-=C)):(j=this.left+I,"near"===c?N="left":"center"===c?(N="center",j+=C/2):(N="right",j=this.right)):N="right",{textAlign:N,x:j}}_computeLabelArea(){if(this.options.ticks.mirror)return;const u=this.chart,o=this.options.position;return"left"===o||"right"===o?{top:0,left:this.left,bottom:u.height,right:this.right}:"top"===o||"bottom"===o?{top:this.top,left:0,bottom:this.bottom,right:u.width}:void 0}drawBackground(){const{ctx:u,options:{backgroundColor:o},left:c,top:f,width:m,height:b}=this;o&&(u.save(),u.fillStyle=o,u.fillRect(c,f,m,b),u.restore())}getLineWidthForValue(u){const o=this.options.grid;if(!this._isVisible()||!o.display)return 0;const f=this.ticks.findIndex(m=>m.value===u);return f>=0?o.setContext(this.getContext(f)).lineWidth:0}drawGrid(u){const o=this.options.grid,c=this.ctx,f=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(u));let m,b;const I=(C,N,j)=>{!j.width||!j.color||(c.save(),c.lineWidth=j.width,c.strokeStyle=j.color,c.setLineDash(j.borderDash||[]),c.lineDashOffset=j.borderDashOffset,c.beginPath(),c.moveTo(C.x,C.y),c.lineTo(N.x,N.y),c.stroke(),c.restore())};if(o.display)for(m=0,b=f.length;m<b;++m){const C=f[m];o.drawOnChartArea&&I({x:C.x1,y:C.y1},{x:C.x2,y:C.y2},C),o.drawTicks&&I({x:C.tx1,y:C.ty1},{x:C.tx2,y:C.ty2},{color:C.tickColor,width:C.tickWidth,borderDash:C.tickBorderDash,borderDashOffset:C.tickBorderDashOffset})}}drawBorder(){const{chart:u,ctx:o,options:{border:c,grid:f}}=this,m=c.setContext(this.getContext()),b=c.display?m.width:0;if(!b)return;const I=f.setContext(this.getContext(0)).lineWidth,C=this._borderValue;let N,j,J,ce;this.isHorizontal()?(N=os(u,this.left,b)-b/2,j=os(u,this.right,I)+I/2,J=ce=C):(J=os(u,this.top,b)-b/2,ce=os(u,this.bottom,I)+I/2,N=j=C),o.save(),o.lineWidth=m.width,o.strokeStyle=m.color,o.beginPath(),o.moveTo(N,J),o.lineTo(j,ce),o.stroke(),o.restore()}drawLabels(u){if(!this.options.ticks.display)return;const c=this.ctx,f=this._computeLabelArea();f&&kn(c,f);const m=this.getLabelItems(u);for(const b of m)Ls(c,b.label,0,b.textOffset,b.font,b.options);f&&Pr(c)}drawTitle(){const{ctx:u,options:{position:o,title:c,reverse:f}}=this;if(!c.display)return;const m=Ye(c.font),b=ke(c.padding),I=c.align;let C=m.lineHeight/2;"bottom"===o||"center"===o||zt(o)?(C+=b.bottom,Mn(c.text)&&(C+=m.lineHeight*(c.text.length-1))):C+=b.top;const{titleX:N,titleY:j,maxWidth:J,rotation:ce}=function Ko(l,u,o,c){const{top:f,left:m,bottom:b,right:I,chart:C}=l,{chartArea:N,scales:j}=C;let ce,ge,Ce,J=0;const Me=b-f,Oe=I-m;if(l.isHorizontal()){if(ge=Xr(c,m,I),zt(o)){const bt=Object.keys(o)[0];Ce=j[bt].getPixelForValue(o[bt])+Me-u}else Ce="center"===o?(N.bottom+N.top)/2+Me-u:vd(l,o,u);ce=I-m}else{if(zt(o)){const bt=Object.keys(o)[0];ge=j[bt].getPixelForValue(o[bt])-Oe+u}else ge="center"===o?(N.left+N.right)/2-Oe+u:vd(l,o,u);Ce=Xr(c,b,f),J="left"===o?-ie:ie}return{titleX:ge,titleY:Ce,maxWidth:ce,rotation:J}}(this,C,o,I);Ls(u,c.text,0,0,m,{color:c.color,maxWidth:J,rotation:ce,textAlign:bc(I,o,f),textBaseline:"middle",translation:[N,j]})}draw(u){this._isVisible()&&(this.drawBackground(),this.drawGrid(u),this.drawBorder(),this.drawTitle(),this.drawLabels(u))}_layers(){const u=this.options,o=u.ticks&&u.ticks.z||0,c=bn(u.grid&&u.grid.z,-1),f=bn(u.border&&u.border.z,0);return this._isVisible()&&this.draw===Da.prototype.draw?[{z:c,draw:m=>{this.drawBackground(),this.drawGrid(m),this.drawTitle()}},{z:f,draw:()=>{this.drawBorder()}},{z:o,draw:m=>{this.drawLabels(m)}}]:[{z:o,draw:m=>{this.draw(m)}}]}getMatchingVisibleMetas(u){const o=this.chart.getSortedVisibleDatasetMetas(),c=this.axis+"AxisID",f=[];let m,b;for(m=0,b=o.length;m<b;++m){const I=o[m];I[c]===this.id&&(!u||I.type===u)&&f.push(I)}return f}_resolveTickFontOptions(u){return Ye(this.options.ticks.setContext(this.getContext(u)).font)}_maxDigits(){const u=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/u}}class fi{constructor(u,o,c){this.type=u,this.scope=o,this.override=c,this.items=Object.create(null)}isForType(u){return Object.prototype.isPrototypeOf.call(this.type.prototype,u.prototype)}register(u){const o=Object.getPrototypeOf(u);let c;(function Ei(l){return"id"in l&&"defaults"in l})(o)&&(c=this.register(o));const f=this.items,m=u.id,b=this.scope+"."+m;if(!m)throw new Error("class does not have id: "+u);return m in f||(f[m]=u,function Ed(l,u,o){const c=hr(Object.create(null),[o?Gr.get(o):{},Gr.get(u),l.defaults]);Gr.set(u,c),l.defaultRoutes&&function Ds(l,u){Object.keys(u).forEach(o=>{const c=o.split("."),f=c.pop(),m=[l].concat(c).join("."),b=u[o].split("."),I=b.pop(),C=b.join(".");Gr.route(m,f,C,I)})}(u,l.defaultRoutes),l.descriptors&&Gr.describe(u,l.descriptors)}(u,b,c),this.override&&Gr.override(u.id,u.overrides)),b}get(u){return this.items[u]}unregister(u){const o=this.items,c=u.id,f=this.scope;c in o&&delete o[c],f&&c in Gr[f]&&(delete Gr[f][c],this.override&&delete is[c])}}class ml{constructor(){this.controllers=new fi(cs,"datasets",!0),this.elements=new fi(fr,"elements"),this.plugins=new fi(Object,"plugins"),this.scales=new fi(Da,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...u){this._each("register",u)}remove(...u){this._each("unregister",u)}addControllers(...u){this._each("register",u,this.controllers)}addElements(...u){this._each("register",u,this.elements)}addPlugins(...u){this._each("register",u,this.plugins)}addScales(...u){this._each("register",u,this.scales)}getController(u){return this._get(u,this.controllers,"controller")}getElement(u){return this._get(u,this.elements,"element")}getPlugin(u){return this._get(u,this.plugins,"plugin")}getScale(u){return this._get(u,this.scales,"scale")}removeControllers(...u){this._each("unregister",u,this.controllers)}removeElements(...u){this._each("unregister",u,this.elements)}removePlugins(...u){this._each("unregister",u,this.plugins)}removeScales(...u){this._each("unregister",u,this.scales)}_each(u,o,c){[...o].forEach(f=>{const m=c||this._getRegistryForType(f);c||m.isForType(f)||m===this.plugins&&f.id?this._exec(u,m,f):en(f,b=>{const I=c||this._getRegistryForType(b);this._exec(u,I,b)})})}_exec(u,o,c){const f=Yr(u);rn(c["before"+f],[],c),o[u](c),rn(c["after"+f],[],c)}_getRegistryForType(u){for(let o=0;o<this._typedRegistries.length;o++){const c=this._typedRegistries[o];if(c.isForType(u))return c}return this.plugins}_get(u,o,c){const f=o.get(u);if(void 0===f)throw new Error('"'+u+'" is not a registered '+c+".");return f}}var Ys=new ml;class vo{constructor(){this._init=[]}notify(u,o,c,f){"beforeInit"===o&&(this._init=this._createDescriptors(u,!0),this._notify(this._init,u,"install"));const m=f?this._descriptors(u).filter(f):this._descriptors(u),b=this._notify(m,u,o,c);return"afterDestroy"===o&&(this._notify(m,u,"stop"),this._notify(this._init,u,"uninstall")),b}_notify(u,o,c,f){f=f||{};for(const m of u){const b=m.plugin;if(!1===rn(b[c],[o,f,m.options],b)&&f.cancelable)return!1}return!0}invalidate(){xn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(u){if(this._cache)return this._cache;const o=this._cache=this._createDescriptors(u);return this._notifyStateChanges(u),o}_createDescriptors(u,o){const c=u&&u.config,f=bn(c.options&&c.options.plugins,{}),m=function yh(l){const u={},o=[],c=Object.keys(Ys.plugins.items);for(let m=0;m<c.length;m++)o.push(Ys.getPlugin(c[m]));const f=l.plugins||[];for(let m=0;m<f.length;m++){const b=f[m];-1===o.indexOf(b)&&(o.push(b),u[b.id]=!0)}return{plugins:o,localIds:u}}(c);return!1!==f||o?function fs(l,{plugins:u,localIds:o},c,f){const m=[],b=l.getContext();for(const I of u){const C=I.id,N=Pf(c[C],f);null!==N&&m.push({plugin:I,options:qp(l.config,{plugin:I,local:o[C]},N,b)})}return m}(u,m,f,o):[]}_notifyStateChanges(u){const o=this._oldCache||[],c=this._cache,f=(m,b)=>m.filter(I=>!b.some(C=>I.plugin.id===C.plugin.id));this._notify(f(o,c),u,"stop"),this._notify(f(c,o),u,"start")}}function Pf(l,u){return u||!1!==l?!0===l?{}:l:null}function qp(l,{plugin:u,local:o},c,f){const m=l.pluginScopeKeys(u),b=l.getOptionScopes(c,m);return o&&u.defaults&&b.push(u.defaults),l.createResolver(b,f,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ya(l,u){return((u.datasets||{})[l]||{}).indexAxis||u.indexAxis||(Gr.datasets[l]||{}).indexAxis||"x"}function _l(l){if("x"===l||"y"===l||"r"===l)return l}function su(l){return"top"===l||"bottom"===l?"x":"left"===l||"right"===l?"y":void 0}function ou(l,...u){if(_l(l))return l;for(const o of u){const c=o.axis||su(o.position)||l.length>1&&_l(l[0].toLowerCase());if(c)return c}throw new Error(`Cannot determine type of '${l}' axis. Please provide 'axis' or 'position' option.`)}function au(l,u,o){if(o[u+"AxisID"]===l)return{axis:u}}function Id(l){const u=l.options||(l.options={});u.plugins=bn(u.plugins,{}),u.scales=function Xa(l,u){const o=is[l.type]||{scales:{}},c=u.scales||{},f=Ya(l.type,u),m=Object.create(null);return Object.keys(c).forEach(b=>{const I=c[b];if(!zt(I))return console.error(`Invalid scale configuration for scale: ${b}`);if(I._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${b}`);const C=ou(b,I,function Ja(l,u){if(u.data&&u.data.datasets){const o=u.data.datasets.filter(c=>c.xAxisID===l||c.yAxisID===l);if(o.length)return au(l,"x",o[0])||au(l,"y",o[0])}return{}}(b,l),Gr.scales[I.type]),N=function Qa(l,u){return l===u?"_index_":"_value_"}(C,f),j=o.scales||{};m[b]=wi(Object.create(null),[{axis:C},I,j[C],j[N]])}),l.data.datasets.forEach(b=>{const I=b.type||l.type,C=b.indexAxis||Ya(I,u),j=(is[I]||{}).scales||{};Object.keys(j).forEach(J=>{const ce=function Xi(l,u){let o=l;return"_index_"===l?o=u:"_value_"===l&&(o="x"===u?"y":"x"),o}(J,C),ge=b[ce+"AxisID"]||ce;m[ge]=m[ge]||Object.create(null),wi(m[ge],[{axis:ce},c[ge],j[J]])})}),Object.keys(m).forEach(b=>{const I=m[b];wi(I,[Gr.scales[I.type],Gr.scale])}),m}(l,u)}function fa(l){return(l=l||{}).datasets=l.datasets||[],l.labels=l.labels||[],l}const ku=new Map,Ss=new Set;function Td(l,u){let o=ku.get(l);return o||(o=u(),ku.set(l,o),Ss.add(o)),o}const Yo=(l,u,o)=>{const c=Tr(u,o);void 0!==c&&l.add(c)};class lu{constructor(u){this._config=function el(l){return(l=l||{}).data=fa(l.data),Id(l),l}(u),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(u){this._config.type=u}get data(){return this._config.data}set data(u){this._config.data=fa(u)}get options(){return this._config.options}set options(u){this._config.options=u}get plugins(){return this._config.plugins}update(){const u=this._config;this.clearCache(),Id(u)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(u){return Td(u,()=>[[`datasets.${u}`,""]])}datasetAnimationScopeKeys(u,o){return Td(`${u}.transition.${o}`,()=>[[`datasets.${u}.transitions.${o}`,`transitions.${o}`],[`datasets.${u}`,""]])}datasetElementScopeKeys(u,o){return Td(`${u}-${o}`,()=>[[`datasets.${u}.elements.${o}`,`datasets.${u}`,`elements.${o}`,""]])}pluginScopeKeys(u){const o=u.id;return Td(`${this.type}-plugin-${o}`,()=>[[`plugins.${o}`,...u.additionalOptionScopes||[]]])}_cachedScopes(u,o){const c=this._scopeCache;let f=c.get(u);return(!f||o)&&(f=new Map,c.set(u,f)),f}getOptionScopes(u,o,c){const{options:f,type:m}=this,b=this._cachedScopes(u,c),I=b.get(o);if(I)return I;const C=new Set;o.forEach(j=>{u&&(C.add(u),j.forEach(J=>Yo(C,u,J))),j.forEach(J=>Yo(C,f,J)),j.forEach(J=>Yo(C,is[m]||{},J)),j.forEach(J=>Yo(C,Gr,J)),j.forEach(J=>Yo(C,to,J))});const N=Array.from(C);return 0===N.length&&N.push(Object.create(null)),Ss.has(o)&&b.set(o,N),N}chartOptionScopes(){const{options:u,type:o}=this;return[u,is[o]||{},Gr.datasets[o]||{},{type:o},Gr,to]}resolveNamedOptions(u,o,c,f=[""]){const m={$shared:!0},{resolver:b,subPrefixes:I}=Ec(this._resolverCache,u,f);let C=b;(function Lu(l,u){const{isScriptable:o,isIndexable:c}=Or(l);for(const f of u){const m=o(f),b=c(f),I=(b||m)&&l[f];if(m&&(sn(I)||pa(I))||b&&Mn(I))return!0}return!1})(b,o)&&(m.$shared=!1,C=Qn(b,c=sn(c)?c():c,this.createResolver(u,c,I)));for(const N of o)m[N]=C[N];return m}createResolver(u,o,c=[""],f){const{resolver:m}=Ec(this._resolverCache,u,c);return zt(o)?Qn(m,o,void 0,f):m}}function Ec(l,u,o){let c=l.get(u);c||(c=new Map,l.set(u,c));const f=o.join();let m=c.get(f);return m||(m={resolver:Ln(u,o),subPrefixes:o.filter(I=>!I.toLowerCase().includes("hover"))},c.set(f,m)),m}const pa=l=>zt(l)&&Object.getOwnPropertyNames(l).reduce((u,o)=>u||sn(l[o]),!1),wd=["top","bottom","left","right","chartArea"];function Fu(l,u){return"top"===l||"bottom"===l||-1===wd.indexOf(l)&&"x"===u}function Vu(l,u){return function(o,c){return o[l]===c[l]?o[u]-c[u]:o[l]-c[l]}}function cu(l){const u=l.chart,o=u.options.animation;u.notifyPlugins("afterRender"),rn(o&&o.onComplete,[l],u)}function vh(l){const u=l.chart,o=u.options.animation;rn(o&&o.onProgress,[l],u)}function Uu(l){return q()&&"string"==typeof l?l=document.getElementById(l):l&&l.length&&(l=l[0]),l&&l.canvas&&(l=l.canvas),l}const tl={},bh=l=>{const u=Uu(l);return Object.values(tl).filter(o=>o.canvas===u).pop()};function Ic(l,u,o){const c=Object.keys(l);for(const f of c){const m=+f;if(m>=u){const b=l[f];delete l[f],(o>0||m>u)&&(l[m+o]=b)}}}function yl(l,u,o){return l.options.clip?l[o]:u[o]}let Pi=(()=>class l{static defaults=Gr;static instances=tl;static overrides=is;static registry=Ys;static version="4.4.0";static getChart=bh;static register(...o){Ys.add(...o),Eh()}static unregister(...o){Ys.remove(...o),Eh()}constructor(o,c){const f=this.config=new lu(c),m=Uu(o),b=bh(m);if(b)throw new Error("Canvas is already in use. Chart with ID '"+b.id+"' must be destroyed before the canvas with ID '"+b.canvas.id+"' can be reused.");const I=f.createResolver(f.chartOptionScopes(),this.getContext());this.platform=new(f.platform||function ai(l){return!q()||typeof OffscreenCanvas<"u"&&l instanceof OffscreenCanvas?Wo:Yn}(m)),this.platform.updateConfig(f);const C=this.platform.acquireContext(m,I.aspectRatio),N=C&&C.canvas,j=N&&N.height,J=N&&N.width;this.id=yr(),this.ctx=C,this.canvas=N,this.width=J,this.height=j,this._options=I,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new vo,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Rr(l,u){let o;return function(...c){return u?(clearTimeout(o),o=setTimeout(l,u,c)):l.apply(this,c),u}}(ce=>this.update(ce),I.resizeDelay||0),this._dataChanges=[],tl[this.id]=this,C&&N?(ko.listen(this,"complete",cu),ko.listen(this,"progress",vh),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:o,maintainAspectRatio:c},width:f,height:m,_aspectRatio:b}=this;return xn(o)?c&&b?b:m?f/m:null:o}get data(){return this.config.data}set data(o){this.config.data=o}get options(){return this._options}set options(o){this.config.options=o}get registry(){return Ys}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Zs(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return zi(this.canvas,this.ctx),this}stop(){return ko.stop(this),this}resize(o,c){ko.running(this)?this._resizeBeforeDraw={width:o,height:c}:this._resize(o,c)}_resize(o,c){const f=this.options,I=this.platform.getMaximumSize(this.canvas,o,c,f.maintainAspectRatio&&this.aspectRatio),C=f.devicePixelRatio||this.platform.getDevicePixelRatio(),N=this.width?"resize":"attach";this.width=I.width,this.height=I.height,this._aspectRatio=this.aspectRatio,Zs(this,C,!0)&&(this.notifyPlugins("resize",{size:I}),rn(f.onResize,[this,I],this),this.attached&&this._doResize(N)&&this.render())}ensureScalesHaveIDs(){en(this.options.scales||{},(f,m)=>{f.id=m})}buildOrUpdateScales(){const o=this.options,c=o.scales,f=this.scales,m=Object.keys(f).reduce((I,C)=>(I[C]=!1,I),{});let b=[];c&&(b=b.concat(Object.keys(c).map(I=>{const C=c[I],N=ou(I,C),j="r"===N,J="x"===N;return{options:C,dposition:j?"chartArea":J?"bottom":"left",dtype:j?"radialLinear":J?"category":"linear"}}))),en(b,I=>{const C=I.options,N=C.id,j=ou(N,C),J=bn(C.type,I.dtype);(void 0===C.position||Fu(C.position,j)!==Fu(I.dposition))&&(C.position=I.dposition),m[N]=!0;let ce=null;N in f&&f[N].type===J?ce=f[N]:(ce=new(Ys.getScale(J))({id:N,type:J,ctx:this.ctx,chart:this}),f[ce.id]=ce),ce.init(C,o)}),en(m,(I,C)=>{I||delete f[C]}),en(f,I=>{ds.configure(this,I,I.options),ds.addBox(this,I)})}_updateMetasets(){const o=this._metasets,c=this.data.datasets.length,f=o.length;if(o.sort((m,b)=>m.index-b.index),f>c){for(let m=c;m<f;++m)this._destroyDatasetMeta(m);o.splice(c,f-c)}this._sortedMetasets=o.slice(0).sort(Vu("order","index"))}_removeUnreferencedMetasets(){const{_metasets:o,data:{datasets:c}}=this;o.length>c.length&&delete this._stacks,o.forEach((f,m)=>{0===c.filter(b=>b===f._dataset).length&&this._destroyDatasetMeta(m)})}buildOrUpdateControllers(){const o=[],c=this.data.datasets;let f,m;for(this._removeUnreferencedMetasets(),f=0,m=c.length;f<m;f++){const b=c[f];let I=this.getDatasetMeta(f);const C=b.type||this.config.type;if(I.type&&I.type!==C&&(this._destroyDatasetMeta(f),I=this.getDatasetMeta(f)),I.type=C,I.indexAxis=b.indexAxis||Ya(C,this.options),I.order=b.order||0,I.index=f,I.label=""+b.label,I.visible=this.isDatasetVisible(f),I.controller)I.controller.updateIndex(f),I.controller.linkScales();else{const N=Ys.getController(C),{datasetElementType:j,dataElementType:J}=Gr.datasets[C];Object.assign(N,{dataElementType:Ys.getElement(J),datasetElementType:j&&Ys.getElement(j)}),I.controller=new N(this,f),o.push(I.controller)}}return this._updateMetasets(),o}_resetElements(){en(this.data.datasets,(o,c)=>{this.getDatasetMeta(c).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(o){const c=this.config;c.update();const f=this._options=c.createResolver(c.chartOptionScopes(),this.getContext()),m=this._animationsDisabled=!f.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:o,cancelable:!0}))return;const b=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let I=0;for(let j=0,J=this.data.datasets.length;j<J;j++){const{controller:ce}=this.getDatasetMeta(j),ge=!m&&-1===b.indexOf(ce);ce.buildOrUpdateElements(ge),I=Math.max(+ce.getMaxOverflow(),I)}I=this._minPadding=f.layout.autoPadding?I:0,this._updateLayout(I),m||en(b,j=>{j.reset()}),this._updateDatasets(o),this.notifyPlugins("afterUpdate",{mode:o}),this._layers.sort(Vu("z","_idx"));const{_active:C,_lastEvent:N}=this;N?this._eventHandler(N,!0):C.length&&this._updateHoverStyles(C,C,!0),this.render()}_updateScales(){en(this.scales,o=>{ds.removeBox(this,o)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const o=this.options,c=new Set(Object.keys(this._listeners)),f=new Set(o.events);(!Ni(c,f)||!!this._responsiveListeners!==o.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:o}=this,c=this._getUniformDataChanges()||[];for(const{method:f,start:m,count:b}of c)Ic(o,m,"_removeElements"===f?-b:b)}_getUniformDataChanges(){const o=this._dataChanges;if(!o||!o.length)return;this._dataChanges=[];const c=this.data.datasets.length,f=b=>new Set(o.filter(I=>I[0]===b).map((I,C)=>C+","+I.splice(1).join(","))),m=f(0);for(let b=1;b<c;b++)if(!Ni(m,f(b)))return;return Array.from(m).map(b=>b.split(",")).map(b=>({method:b[1],start:+b[2],count:+b[3]}))}_updateLayout(o){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ds.update(this,this.width,this.height,o);const c=this.chartArea,f=c.width<=0||c.height<=0;this._layers=[],en(this.boxes,m=>{f&&"chartArea"===m.position||(m.configure&&m.configure(),this._layers.push(...m._layers()))},this),this._layers.forEach((m,b)=>{m._idx=b}),this.notifyPlugins("afterLayout")}_updateDatasets(o){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:o,cancelable:!0})){for(let c=0,f=this.data.datasets.length;c<f;++c)this.getDatasetMeta(c).controller.configure();for(let c=0,f=this.data.datasets.length;c<f;++c)this._updateDataset(c,sn(o)?o({datasetIndex:c}):o);this.notifyPlugins("afterDatasetsUpdate",{mode:o})}}_updateDataset(o,c){const f=this.getDatasetMeta(o),m={meta:f,index:o,mode:c,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",m)&&(f.controller._update(c),m.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",m))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ko.has(this)?this.attached&&!ko.running(this)&&ko.start(this):(this.draw(),cu({chart:this})))}draw(){let o;if(this._resizeBeforeDraw){const{width:f,height:m}=this._resizeBeforeDraw;this._resize(f,m),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const c=this._layers;for(o=0;o<c.length&&c[o].z<=0;++o)c[o].draw(this.chartArea);for(this._drawDatasets();o<c.length;++o)c[o].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(o){const c=this._sortedMetasets,f=[];let m,b;for(m=0,b=c.length;m<b;++m){const I=c[m];(!o||I.visible)&&f.push(I)}return f}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const o=this.getSortedVisibleDatasetMetas();for(let c=o.length-1;c>=0;--c)this._drawDataset(o[c]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(o){const c=this.ctx,f=o._clip,m=!f.disabled,b=function ji(l,u){const{xScale:o,yScale:c}=l;return o&&c?{left:yl(o,u,"left"),right:yl(o,u,"right"),top:yl(c,u,"top"),bottom:yl(c,u,"bottom")}:u}(o,this.chartArea),I={meta:o,index:o.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",I)&&(m&&kn(c,{left:!1===f.left?0:b.left-f.left,right:!1===f.right?this.width:b.right+f.right,top:!1===f.top?0:b.top-f.top,bottom:!1===f.bottom?this.height:b.bottom+f.bottom}),o.controller.draw(),m&&Pr(c),I.cancelable=!1,this.notifyPlugins("afterDatasetDraw",I))}isPointInArea(o){return Gn(o,this.chartArea,this._minPadding)}getElementsAtEventForMode(o,c,f,m){const b=qi.modes[c];return"function"==typeof b?b(this,o,f,m):[]}getDatasetMeta(o){const c=this.data.datasets[o],f=this._metasets;let m=f.filter(b=>b&&b._dataset===c).pop();return m||(m={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:c&&c.order||0,index:o,_dataset:c,_parsed:[],_sorted:!1},f.push(m)),m}getContext(){return this.$context||(this.$context=It(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(o){const c=this.data.datasets[o];if(!c)return!1;const f=this.getDatasetMeta(o);return"boolean"==typeof f.hidden?!f.hidden:!c.hidden}setDatasetVisibility(o,c){this.getDatasetMeta(o).hidden=!c}toggleDataVisibility(o){this._hiddenIndices[o]=!this._hiddenIndices[o]}getDataVisibility(o){return!this._hiddenIndices[o]}_updateVisibility(o,c,f){const m=f?"show":"hide",b=this.getDatasetMeta(o),I=b.controller._resolveAnimations(void 0,m);Jn(c)?(b.data[c].hidden=!f,this.update()):(this.setDatasetVisibility(o,f),I.update(b,{visible:f}),this.update(C=>C.datasetIndex===o?m:void 0))}hide(o,c){this._updateVisibility(o,c,!1)}show(o,c){this._updateVisibility(o,c,!0)}_destroyDatasetMeta(o){const c=this._metasets[o];c&&c.controller&&c.controller._destroy(),delete this._metasets[o]}_stop(){let o,c;for(this.stop(),ko.remove(this),o=0,c=this.data.datasets.length;o<c;++o)this._destroyDatasetMeta(o)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:o,ctx:c}=this;this._stop(),this.config.clearCache(),o&&(this.unbindEvents(),zi(o,c),this.platform.releaseContext(c),this.canvas=null,this.ctx=null),delete tl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...o){return this.canvas.toDataURL(...o)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const o=this._listeners,c=this.platform,f=(b,I)=>{c.addEventListener(this,b,I),o[b]=I},m=(b,I,C)=>{b.offsetX=I,b.offsetY=C,this._eventHandler(b)};en(this.options.events,b=>f(b,m))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const o=this._responsiveListeners,c=this.platform,f=(N,j)=>{c.addEventListener(this,N,j),o[N]=j},m=(N,j)=>{o[N]&&(c.removeEventListener(this,N,j),delete o[N])},b=(N,j)=>{this.canvas&&this.resize(N,j)};let I;const C=()=>{m("attach",C),this.attached=!0,this.resize(),f("resize",b),f("detach",I)};I=()=>{this.attached=!1,m("resize",b),this._stop(),this._resize(0,0),f("attach",C)},c.isAttached(this.canvas)?C():I()}unbindEvents(){en(this._listeners,(o,c)=>{this.platform.removeEventListener(this,c,o)}),this._listeners={},en(this._responsiveListeners,(o,c)=>{this.platform.removeEventListener(this,c,o)}),this._responsiveListeners=void 0}updateHoverStyle(o,c,f){const m=f?"set":"remove";let b,I,C,N;for("dataset"===c&&(b=this.getDatasetMeta(o[0].datasetIndex),b.controller["_"+m+"DatasetHoverStyle"]()),C=0,N=o.length;C<N;++C){I=o[C];const j=I&&this.getDatasetMeta(I.datasetIndex).controller;j&&j[m+"HoverStyle"](I.element,I.datasetIndex,I.index)}}getActiveElements(){return this._active||[]}setActiveElements(o){const c=this._active||[],f=o.map(({datasetIndex:b,index:I})=>{const C=this.getDatasetMeta(b);if(!C)throw new Error("No dataset found at index "+b);return{datasetIndex:b,element:C.data[I],index:I}});!Sr(f,c)&&(this._active=f,this._lastEvent=null,this._updateHoverStyles(f,c))}notifyPlugins(o,c,f){return this._plugins.notify(this,o,c,f)}isPluginEnabled(o){return 1===this._plugins._cache.filter(c=>c.plugin.id===o).length}_updateHoverStyles(o,c,f){const m=this.options.hover,b=(N,j)=>N.filter(J=>!j.some(ce=>J.datasetIndex===ce.datasetIndex&&J.index===ce.index)),I=b(c,o),C=f?o:b(o,c);I.length&&this.updateHoverStyle(I,m.mode,!1),C.length&&m.mode&&this.updateHoverStyle(C,m.mode,!0)}_eventHandler(o,c){const f={event:o,replay:c,cancelable:!0,inChartArea:this.isPointInArea(o)},m=I=>(I.options.events||this.options.events).includes(o.native.type);if(!1===this.notifyPlugins("beforeEvent",f,m))return;const b=this._handleEvent(o,c,f.inChartArea);return f.cancelable=!1,this.notifyPlugins("afterEvent",f,m),(b||f.changed)&&this.render(),this}_handleEvent(o,c,f){const{_active:m=[],options:b}=this,C=this._getActiveElements(o,m,f,c),N=function Ai(l){return"mouseup"===l.type||"click"===l.type||"contextmenu"===l.type}(o),j=function Qs(l,u,o,c){return o&&"mouseout"!==l.type?c?u:l:null}(o,this._lastEvent,f,N);f&&(this._lastEvent=null,rn(b.onHover,[o,C,this],this),N&&rn(b.onClick,[o,C,this],this));const J=!Sr(C,m);return(J||c)&&(this._active=C,this._updateHoverStyles(C,m,c)),this._lastEvent=j,J}_getActiveElements(o,c,f,m){if("mouseout"===o.type)return[];if(!f)return c;const b=this.options.hover;return this.getElementsAtEventForMode(o,b.mode,b,m)}})();function Eh(){return en(Pi.instances,l=>l._plugins.invalidate())}function Sa(l,u,o,c){return{x:o+l*Math.cos(u),y:c+l*Math.sin(u)}}function gr(l,u,o,c,f,m){const{x:b,y:I,startAngle:C,pixelMargin:N,innerRadius:j}=u,J=Math.max(u.outerRadius+c+o-N,0),ce=j>0?j+c+o+N:0;let ge=0;const Ce=f-C;if(c){const uo=((j>0?j-c:0)+(J>0?J-c:0))/2;ge=(Ce-(0!==uo?Ce*uo/(uo+c):Ce))/2}const Oe=(Ce-Math.max(.001,Ce*J-o/Vt)/J)/2,bt=C+Oe+ge,yt=f-Oe-ge,{outerStart:jt,outerEnd:Yt,innerStart:Nt,innerEnd:Wt}=function Wp(l,u,o,c){const f=function Vl(l){return Y(l,["outerStart","outerEnd","innerStart","innerEnd"])}(l.options.borderRadius),m=(o-u)/2,b=Math.min(m,c*u/2),I=C=>{const N=(o-Math.min(m,C))*c/2;return Zt(C,0,Math.min(m,N))};return{outerStart:I(f.outerStart),outerEnd:I(f.outerEnd),innerStart:Zt(f.innerStart,0,b),innerEnd:Zt(f.innerEnd,0,b)}}(u,ce,J,yt-bt),En=J-jt,an=J-Yt,Fn=bt+jt/En,Ar=yt-Yt/an,Cr=ce+Nt,zr=ce+Wt,wo=bt+Nt/Cr,Ua=yt-Wt/zr;if(l.beginPath(),m){const Ti=(Fn+Ar)/2;if(l.arc(b,I,J,Fn,Ti),l.arc(b,I,J,Ti,Ar),Yt>0){const jo=Sa(an,Ar,b,I);l.arc(jo.x,jo.y,Yt,Ar,yt+ie)}const Es=Sa(zr,yt,b,I);if(l.lineTo(Es.x,Es.y),Wt>0){const jo=Sa(zr,Ua,b,I);l.arc(jo.x,jo.y,Wt,yt+ie,Ua+Math.PI)}const uo=(yt-Wt/ce+(bt+Nt/ce))/2;if(l.arc(b,I,ce,yt-Wt/ce,uo,!0),l.arc(b,I,ce,uo,bt+Nt/ce,!0),Nt>0){const jo=Sa(Cr,wo,b,I);l.arc(jo.x,jo.y,Nt,wo+Math.PI,bt-ie)}const Kl=Sa(En,bt,b,I);if(l.lineTo(Kl.x,Kl.y),jt>0){const jo=Sa(En,Fn,b,I);l.arc(jo.x,jo.y,jt,bt-ie,Fn)}}else{l.moveTo(b,I);const Ti=Math.cos(Fn)*J+b,Es=Math.sin(Fn)*J+I;l.lineTo(Ti,Es);const uo=Math.cos(Ar)*J+b,Kl=Math.sin(Ar)*J+I;l.lineTo(uo,Kl)}l.closePath()}function Tc(l,u,o=u){l.lineCap=bn(o.borderCapStyle,u.borderCapStyle),l.setLineDash(bn(o.borderDash,u.borderDash)),l.lineDashOffset=bn(o.borderDashOffset,u.borderDashOffset),l.lineJoin=bn(o.borderJoinStyle,u.borderJoinStyle),l.lineWidth=bn(o.borderWidth,u.borderWidth),l.strokeStyle=bn(o.borderColor,u.borderColor)}function Ad(l,u,o){l.lineTo(o.x,o.y)}function Of(l,u,o={}){const c=l.length,{start:f=0,end:m=c-1}=o,{start:b,end:I}=u,C=Math.max(f,b),N=Math.min(m,I);return{count:c,start:C,loop:u.loop,ilen:N<C&&!(f<b&&m<b||f>I&&m>I)?c+N-C:N-C}}function Cd(l,u,o,c){const{points:f,options:m}=u,{count:b,start:I,loop:C,ilen:N}=Of(f,o,c),j=function Bl(l){return l.stepped?Yi:l.tension||"monotone"===l.cubicInterpolationMode?Si:Ad}(m);let ge,Ce,Me,{move:J=!0,reverse:ce}=c||{};for(ge=0;ge<=N;++ge)Ce=f[(I+(ce?N-ge:ge))%b],!Ce.skip&&(J?(l.moveTo(Ce.x,Ce.y),J=!1):j(l,Me,Ce,ce,m.stepped),Me=Ce);return C&&(Ce=f[(I+(ce?N:0))%b],j(l,Me,Ce,ce,m.stepped)),!!C}function Zp(l,u,o,c){const f=u.points,{count:m,start:b,ilen:I}=Of(f,o,c),{move:C=!0,reverse:N}=c||{};let ce,ge,Ce,Me,Oe,bt,j=0,J=0;const yt=Yt=>(b+(N?I-Yt:Yt))%m,jt=()=>{Me!==Oe&&(l.lineTo(j,Oe),l.lineTo(j,Me),l.lineTo(j,bt))};for(C&&(ge=f[yt(0)],l.moveTo(ge.x,ge.y)),ce=0;ce<=I;++ce){if(ge=f[yt(ce)],ge.skip)continue;const Yt=ge.x,Nt=ge.y,Wt=0|Yt;Wt===Ce?(Nt<Me?Me=Nt:Nt>Oe&&(Oe=Nt),j=(J*j+Yt)/++J):(jt(),l.lineTo(Yt,Nt),Ce=Wt,J=0,Me=Oe=Nt),bt=Nt}jt()}function Nf(l){const u=l.options;return l._decimated||l._loop||u.tension||"monotone"===u.cubicInterpolationMode||u.stepped||u.borderDash&&u.borderDash.length?Cd:Zp}const Yp="function"==typeof Path2D;let Dd=(()=>class l extends fr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:o=>"borderDash"!==o&&"fill"!==o};constructor(o){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,o&&Object.assign(this,o)}updateControlPoints(o,c){const f=this.options;!f.tension&&"monotone"!==f.cubicInterpolationMode||f.stepped||this._pointsUpdated||(Ba(this._points,f,o,f.spanGaps?this._loop:this._fullLoop,c),this._pointsUpdated=!0)}set points(o){this._points=o,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function ll(l,u){const o=l.points,c=l.options.spanGaps,f=o.length;if(!f)return[];const m=!!l._loop,{start:b,end:I}=function tu(l,u,o,c){let f=0,m=u-1;if(o&&!c)for(;f<u&&!l[f].skip;)f++;for(;f<u&&l[f].skip;)f++;for(f%=u,o&&(m+=f);m>f&&l[m%u].skip;)m--;return m%=u,{start:f,end:m}}(o,f,m,c);return function kr(l,u,o,c){return c&&c.setContext&&o?function ul(l,u,o,c){const f=l._chart.getContext(),m=Ha(l.options),{_datasetIndex:b,options:{spanGaps:I}}=l,C=o.length,N=[];let j=m,J=u[0].start,ce=J;function ge(Ce,Me,Oe,bt){const yt=I?-1:1;if(Ce!==Me){for(Ce+=C;o[Ce%C].skip;)Ce-=yt;for(;o[Me%C].skip;)Me+=yt;Ce%C!=Me%C&&(N.push({start:Ce%C,end:Me%C,loop:Oe,style:bt}),j=bt,J=Me%C)}}for(const Ce of u){J=I?J:Ce.start;let Oe,Me=o[J%C];for(ce=J+1;ce<=Ce.end;ce++){const bt=o[ce%C];Oe=Ha(c.setContext(It(f,{type:"segment",p0:Me,p1:bt,p0DataIndex:(ce-1)%C,p1DataIndex:ce%C,datasetIndex:b}))),xo(Oe,j)&&ge(J,ce-1,Ce.loop,j),Me=bt,j=Oe}J<ce-1&&ge(J,ce-1,Ce.loop,j)}return N}(l,u,o,c):u}(l,!0===c?[{start:b,end:I,loop:m}]:function So(l,u,o,c){const f=l.length,m=[];let C,b=u,I=l[u];for(C=u+1;C<=o;++C){const N=l[C%f];N.skip||N.stop?I.skip||(m.push({start:u%f,end:(C-1)%f,loop:c=!1}),u=b=N.stop?C:null):(b=C,I.skip&&(u=C)),I=N}return null!==b&&m.push({start:u%f,end:b%f,loop:c}),m}(o,b,I<b?I+f:I,!!l._fullLoop&&0===b&&I===f-1),o,u)}(this,this.options.segment))}first(){const o=this.segments;return o.length&&this.points[o[0].start]}last(){const o=this.segments,f=o.length;return f&&this.points[o[f-1].end]}interpolate(o,c){const f=this.options,m=o[c],b=this.points,I=us(this,{property:c,start:m,end:m});if(!I.length)return;const C=[],N=function Em(l){return l.stepped?ja:l.tension||"monotone"===l.cubicInterpolationMode?Pl:po}(f);let j,J;for(j=0,J=I.length;j<J;++j){const{start:ce,end:ge}=I[j],Ce=b[ce],Me=b[ge];if(Ce===Me){C.push(Ce);continue}const bt=N(Ce,Me,Math.abs((m-Ce[c])/(Me[c]-Ce[c])),f.stepped);bt[c]=o[c],C.push(bt)}return 1===C.length?C[0]:C}pathSegment(o,c,f){return Nf(this)(o,this,c,f)}path(o,c,f){const m=this.segments,b=Nf(this);let I=this._loop;c=c||0,f=f||this.points.length-c;for(const C of m)I&=b(o,this,C,{start:c,end:c+f-1});return!!I}draw(o,c,f,m){(this.points||[]).length&&(this.options||{}).borderWidth&&(o.save(),function du(l,u,o,c){Yp&&!u.options.segment?function Im(l,u,o,c){let f=u._path;f||(f=u._path=new Path2D,u.path(f,o,c)&&f.closePath()),Tc(l,u.options),l.stroke(f)}(l,u,o,c):function Kp(l,u,o,c){const{segments:f,options:m}=u,b=Nf(u);for(const I of f)Tc(l,m,I.style),l.beginPath(),b(l,u,I,{start:o,end:o+c-1})&&l.closePath(),l.stroke()}(l,u,o,c)}(o,this,f,m),o.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function kf(l,u,o,c){const f=l.options,{[o]:m}=l.getProps([o],c);return Math.abs(u-m)<f.radius+f.hitRadius}let js=(()=>class l extends fr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(o){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,o&&Object.assign(this,o)}inRange(o,c,f){const m=this.options,{x:b,y:I}=this.getProps(["x","y"],f);return Math.pow(o-b,2)+Math.pow(c-I,2)<Math.pow(m.hitRadius+m.radius,2)}inXRange(o,c){return kf(this,o,"x",c)}inYRange(o,c){return kf(this,o,"y",c)}getCenterPoint(o){const{x:c,y:f}=this.getProps(["x","y"],o);return{x:c,y:f}}size(o){let c=(o=o||this.options||{}).radius||0;return c=Math.max(c,c&&o.hoverRadius||0),2*(c+(c&&o.borderWidth||0))}draw(o,c){const f=this.options;this.skip||f.radius<.1||!Gn(this,c,this.size(f)/2)||(o.strokeStyle=f.borderColor,o.lineWidth=f.borderWidth,o.fillStyle=f.backgroundColor,qs(o,f,this.x,this.y))}getRange(){const o=this.options||{};return o.radius+o.hitRadius}})();function Sd(l,u){const{x:o,y:c,base:f,width:m,height:b}=l.getProps(["x","y","base","width","height"],u);let I,C,N,j,J;return l.horizontal?(J=b/2,I=Math.min(o,f),C=Math.max(o,f),N=c-J,j=c+J):(J=m/2,I=o-J,C=o+J,N=Math.min(c,f),j=Math.max(c,f)),{left:I,top:N,right:C,bottom:j}}function Hs(l,u,o,c){return l?0:Zt(u,o,c)}function wc(l,u,o,c){const f=null===u,m=null===o,I=l&&!(f&&m)&&Sd(l,c);return I&&(f||An(u,I.left,I.right))&&(m||An(o,I.top,I.bottom))}function ga(l,u){l.rect(u.x,u.y,u.w,u.h)}function Cc(l,u,o={}){const c=l.x!==o.x?-u:0,f=l.y!==o.y?-u:0;return{x:l.x+c,y:l.y+f,w:l.w+((l.x+l.w!==o.x+o.w?u:0)-c),h:l.h+((l.y+l.h!==o.y+o.h?u:0)-f),radius:l.radius}}var Qp=Object.freeze({__proto__:null,ArcElement:class Ul extends fr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:u=>"borderDash"!==u};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(u){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,u&&Object.assign(this,u)}inRange(u,o,c){const f=this.getProps(["x","y"],c),{angle:m,distance:b}=Pe(f,{x:u,y:o}),{startAngle:I,endAngle:C,innerRadius:N,outerRadius:j,circumference:J}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],c),ce=(this.options.spacing+this.options.borderWidth)/2,Ce=bn(J,C-I)>=On||it(m,I,C),Me=An(b,N+ce,j+ce);return Ce&&Me}getCenterPoint(u){const{x:o,y:c,startAngle:f,endAngle:m,innerRadius:b,outerRadius:I}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],u),{offset:C,spacing:N}=this.options,j=(f+m)/2,J=(b+I+N+C)/2;return{x:o+Math.cos(j)*J,y:c+Math.sin(j)*J}}tooltipPosition(u){return this.getCenterPoint(u)}draw(u){const{options:o,circumference:c}=this,f=(o.offset||0)/4,m=(o.spacing||0)/2,b=o.circular;if(this.pixelMargin="inner"===o.borderAlign?.33:0,this.fullCircles=c>On?Math.floor(c/On):0,0===c||this.innerRadius<0||this.outerRadius<0)return;u.save();const I=(this.startAngle+this.endAngle)/2;u.translate(Math.cos(I)*f,Math.sin(I)*f);const N=f*(1-Math.sin(Math.min(Vt,c||0)));u.fillStyle=o.backgroundColor,u.strokeStyle=o.borderColor,function Hr(l,u,o,c,f){const{fullCircles:m,startAngle:b,circumference:I}=u;let C=u.endAngle;if(m){gr(l,u,o,c,C,f);for(let N=0;N<m;++N)l.fill();isNaN(I)||(C=b+(I%On||On))}gr(l,u,o,c,C,f),l.fill()}(u,this,N,m,b),function xa(l,u,o,c,f){const{fullCircles:m,startAngle:b,circumference:I,options:C}=u,{borderWidth:N,borderJoinStyle:j,borderDash:J,borderDashOffset:ce}=C,ge="inner"===C.borderAlign;if(!N)return;l.setLineDash(J||[]),l.lineDashOffset=ce,ge?(l.lineWidth=2*N,l.lineJoin=j||"round"):(l.lineWidth=N,l.lineJoin=j||"bevel");let Ce=u.endAngle;if(m){gr(l,u,o,c,Ce,f);for(let Me=0;Me<m;++Me)l.stroke();isNaN(I)||(Ce=b+(I%On||On))}ge&&function Ih(l,u,o){const{startAngle:c,pixelMargin:f,x:m,y:b,outerRadius:I,innerRadius:C}=u;let N=f/I;l.beginPath(),l.arc(m,b,I,c-N,o+N),C>f?(N=f/C,l.arc(m,b,C,o+N,c-N,!0)):l.arc(m,b,f,o+ie,c-ie),l.closePath(),l.clip()}(l,u,Ce),m||(gr(l,u,o,c,Ce,f),l.stroke())}(u,this,N,m,b),u.restore()}},BarElement:class xd extends fr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(u){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,u&&Object.assign(this,u)}draw(u){const{inflateAmount:o,options:{borderColor:c,backgroundColor:f}}=this,{inner:m,outer:b}=function Ma(l){const u=Sd(l),o=u.right-u.left,c=u.bottom-u.top,f=function hu(l,u,o){const f=l.borderSkipped,m=be(l.options.borderWidth);return{t:Hs(f.top,m.top,0,o),r:Hs(f.right,m.right,0,u),b:Hs(f.bottom,m.bottom,0,o),l:Hs(f.left,m.left,0,u)}}(l,o/2,c/2),m=function Po(l,u,o){const{enableBorderRadius:c}=l.getProps(["enableBorderRadius"]),f=l.options.borderRadius,m=we(f),b=Math.min(u,o),I=l.borderSkipped,C=c||zt(f);return{topLeft:Hs(!C||I.top||I.left,m.topLeft,0,b),topRight:Hs(!C||I.top||I.right,m.topRight,0,b),bottomLeft:Hs(!C||I.bottom||I.left,m.bottomLeft,0,b),bottomRight:Hs(!C||I.bottom||I.right,m.bottomRight,0,b)}}(l,o/2,c/2);return{outer:{x:u.left,y:u.top,w:o,h:c,radius:m},inner:{x:u.left+f.l,y:u.top+f.t,w:o-f.l-f.r,h:c-f.t-f.b,radius:{topLeft:Math.max(0,m.topLeft-Math.max(f.t,f.l)),topRight:Math.max(0,m.topRight-Math.max(f.t,f.r)),bottomLeft:Math.max(0,m.bottomLeft-Math.max(f.b,f.l)),bottomRight:Math.max(0,m.bottomRight-Math.max(f.b,f.r))}}}}(this),I=function Ac(l){return l.topLeft||l.topRight||l.bottomLeft||l.bottomRight}(b.radius)?$i:ga;u.save(),(b.w!==m.w||b.h!==m.h)&&(u.beginPath(),I(u,Cc(b,o,m)),u.clip(),I(u,Cc(m,-o,b)),u.fillStyle=c,u.fill("evenodd")),u.beginPath(),I(u,Cc(m,o)),u.fillStyle=f,u.fill(),u.restore()}inRange(u,o,c){return wc(this,u,o,c)}inXRange(u,o){return wc(this,u,null,o)}inYRange(u,o){return wc(this,null,u,o)}getCenterPoint(u){const{x:o,y:c,base:f,horizontal:m}=this.getProps(["x","y","base","horizontal"],u);return{x:m?(o+f)/2:o,y:m?c:(c+f)/2}}getRange(u){return"x"===u?this.width/2:this.height/2}},LineElement:Dd,PointElement:js});const Bu=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],xs=Bu.map(l=>l.replace("rgb(","rgba(").replace(")",", 0.5)"));function vs(l){return Bu[l%Bu.length]}function vl(l){return xs[l%xs.length]}function fu(l){let u;for(u in l)if(l[u].borderColor||l[u].backgroundColor)return!0;return!1}var wh={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(l,u,o){if(!o.enabled)return;const{data:{datasets:c},options:f}=l.config,{elements:m}=f;if(!o.forceOverride&&(fu(c)||function xc(l){return l&&(l.borderColor||l.backgroundColor)}(f)||m&&fu(m)))return;const b=function Lf(l){let u=0;return(o,c)=>{const f=l.getDatasetMeta(c).controller;f instanceof fl?u=function Dc(l,u){return l.backgroundColor=l.data.map(()=>vs(u++)),u}(o,u):f instanceof Nl?u=function Sc(l,u){return l.backgroundColor=l.data.map(()=>vl(u++)),u}(o,u):f&&(u=function Th(l,u){return l.borderColor=vs(u),l.backgroundColor=vl(u),++u}(o,u))}}(l);c.forEach(b)}};function Uo(l){if(l._decimated){const u=l._data;delete l._decimated,delete l._data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,writable:!0,value:u})}}function Mc(l){l.data.datasets.forEach(u=>{Uo(u)})}var Jp={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(l,u,o)=>{if(!o.enabled)return void Mc(l);const c=l.width;l.data.datasets.forEach((f,m)=>{const{_data:b,indexAxis:I}=f,C=l.getDatasetMeta(m),N=b||f.data;if("y"===Ut([I,l.options.indexAxis])||!C.controller.supportsDecimation)return;const j=l.scales[C.xAxisID];if("linear"!==j.type&&"time"!==j.type||l.options.parsing)return;let Ce,{start:J,count:ce}=function Js(l,u){const o=u.length;let f,c=0;const{iScale:m}=l,{min:b,max:I,minDefined:C,maxDefined:N}=m.getUserBounds();return C&&(c=Zt(Cn(u,m.axis,b).lo,0,o-1)),f=N?Zt(Cn(u,m.axis,I).hi+1,c,o)-c:o-c,{start:c,count:f}}(C,N);if(ce<=(o.threshold||4*c))Uo(f);else{switch(xn(b)&&(f._data=N,delete f.data,Object.defineProperty(f,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Me){this._data=Me}})),o.algorithm){case"lttb":Ce=function Ff(l,u,o,c,f){const m=f.samples||c;if(m>=o)return l.slice(u,u+o);const b=[],I=(o-2)/(m-2);let C=0;const N=u+o-1;let J,ce,ge,Ce,Me,j=u;for(b[C++]=l[j],J=0;J<m-2;J++){let yt,Oe=0,bt=0;const jt=Math.floor((J+1)*I)+1+u,Yt=Math.min(Math.floor((J+2)*I)+1,o)+u,Nt=Yt-jt;for(yt=jt;yt<Yt;yt++)Oe+=l[yt].x,bt+=l[yt].y;Oe/=Nt,bt/=Nt;const Wt=Math.floor(J*I)+1+u,En=Math.min(Math.floor((J+1)*I)+1,o)+u,{x:an,y:Fn}=l[j];for(ge=Ce=-1,yt=Wt;yt<En;yt++)Ce=.5*Math.abs((an-Oe)*(l[yt].y-Fn)-(an-l[yt].x)*(bt-Fn)),Ce>ge&&(ge=Ce,ce=l[yt],Me=yt);b[C++]=ce,j=Me}return b[C++]=l[N],b}(N,J,ce,c,o);break;case"min-max":Ce=function Ah(l,u,o,c){let b,I,C,N,j,J,ce,ge,Ce,Me,f=0,m=0;const Oe=[],yt=l[u].x,Yt=l[u+o-1].x-yt;for(b=u;b<u+o;++b){I=l[b],C=(I.x-yt)/Yt*c,N=I.y;const Nt=0|C;if(Nt===j)N<Ce?(Ce=N,J=b):N>Me&&(Me=N,ce=b),f=(m*f+I.x)/++m;else{const Wt=b-1;if(!xn(J)&&!xn(ce)){const En=Math.min(J,ce),an=Math.max(J,ce);En!==ge&&En!==Wt&&Oe.push({...l[En],x:f}),an!==ge&&an!==Wt&&Oe.push({...l[an],x:f})}b>0&&Wt!==ge&&Oe.push(l[Wt]),Oe.push(I),j=Nt,m=0,Ce=Me=N,J=ce=ge=b}}return Oe}(N,J,ce,c);break;default:throw new Error(`Unsupported decimation algorithm '${o.algorithm}'`)}f._decimated=Ce}})},destroy(l){Mc(l)}};function Md(l,u,o,c){if(c)return;let f=u[l],m=o[l];return"angle"===l&&(f=je(f),m=je(m)),{property:l,start:f,end:m}}function ju(l,u,o){for(;u>l;u--){const c=o[u];if(!isNaN(c.x)&&!isNaN(c.y))break}return u}function bl(l,u,o,c){return l&&u?c(l[o],u[o]):l?l[o]:u?u[o]:0}function Ch(l,u){let o=[],c=!1;return Mn(l)?(c=!0,o=l):o=function Ra(l,u){const{x:o=null,y:c=null}=l||{},f=u.points,m=[];return u.segments.forEach(({start:b,end:I})=>{I=ju(b,I,f);const C=f[b],N=f[I];null!==c?(m.push({x:C.x,y:c}),m.push({x:N.x,y:c})):null!==o&&(m.push({x:o,y:C.y}),m.push({x:o,y:N.y}))}),m}(l,u),o.length?new Dd({points:o,options:{tension:0},_loop:c,_fullLoop:c}):null}function Vf(l){return l&&!1!==l.fill}function mr(l,u,o){let f=l[u].fill;const m=[u];let b;if(!o)return f;for(;!1!==f&&-1===m.indexOf(f);){if(!Kn(f))return f;if(b=l[f],!b)return!1;if(b.visible)return f;m.push(f),f=b.fill}return!1}function Rc(l,u,o){const c=function Uf(l){const u=l.options,o=u.fill;let c=bn(o&&o.target,o);return void 0===c&&(c=!!u.backgroundColor),!1!==c&&null!==c&&(!0===c?"origin":c)}(l);if(zt(c))return!isNaN(c.value)&&c;let f=parseFloat(c);return Kn(f)&&Math.floor(f)===f?function Hu(l,u,o,c){return("-"===l||"+"===l)&&(o=u+o),!(o===u||o<0||o>=c)&&o}(c[0],u,f,o):["origin","start","end","stack","shape"].indexOf(c)>=0&&c}function eg(l,u,o){const c=[];for(let f=0;f<o.length;f++){const m=o[f],{first:b,last:I,point:C}=tg(m,u,"x");if(!(!C||b&&I))if(b)c.unshift(C);else if(l.push(C),!I)break}l.push(...c)}function tg(l,u,o){const c=l.interpolate(u,o);if(!c)return{};const f=c[o],m=l.segments,b=l.points;let I=!1,C=!1;for(let N=0;N<m.length;N++){const j=m[N],J=b[j.start][o],ce=b[j.end][o];if(An(f,J,ce)){I=f===J,C=f===ce;break}}return{first:I,last:C,point:c}}class zu{constructor(u){this.x=u.x,this.y=u.y,this.radius=u.radius}pathSegment(u,o,c){const{x:f,y:m,radius:b}=this;return u.arc(f,m,b,(o=o||{start:0,end:On}).end,o.start,!0),!c.bounds}interpolate(u){const{x:o,y:c,radius:f}=this,m=u.angle;return{x:o+Math.cos(m)*f,y:c+Math.sin(m)*f,angle:m}}}function Pd(l,u,o){const c=function El(l){const{chart:u,fill:o,line:c}=l;if(Kn(o))return function Sh(l,u){const o=l.getDatasetMeta(u);return o&&l.isDatasetVisible(u)?o.dataset:null}(u,o);if("stack"===o)return function Dh(l){const{scale:u,index:o,line:c}=l,f=[],m=c.segments,b=c.points,I=function K_(l,u){const o=[],c=l.getMatchingVisibleMetas("line");for(let f=0;f<c.length;f++){const m=c[f];if(m.index===u)break;m.hidden||o.unshift(m.dataset)}return o}(u,o);I.push(Ch({x:null,y:u.bottom},c));for(let C=0;C<m.length;C++){const N=m[C];for(let j=N.start;j<=N.end;j++)eg(f,b[j],I)}return new Dd({points:f,options:{}})}(l);if("shape"===o)return!0;const f=function $u(l){return(l.scale||{}).getPointPositionForValue?function Rd(l){const{scale:u,fill:o}=l,c=u.options,f=u.getLabels().length,m=c.reverse?u.max:u.min,b=function Tm(l,u,o){let c;return c="start"===l?o:"end"===l?u.options.reverse?u.min:u.max:zt(l)?l.value:u.getBaseValue(),c}(o,u,m),I=[];if(c.grid.circular){const C=u.getPointPositionForValue(0,m);return new zu({x:C.x,y:C.y,radius:u.getDistanceFromCenterForValue(b)})}for(let C=0;C<f;++C)I.push(u.getPointPositionForValue(C,b));return I}(l):function Bf(l){const{scale:u={},fill:o}=l,c=function Xp(l,u){let o=null;return"start"===l?o=u.bottom:"end"===l?o=u.top:zt(l)?o=u.getPixelForValue(l.value):u.getBasePixel&&(o=u.getBasePixel()),o}(o,u);if(Kn(c)){const f=u.isHorizontal();return{x:f?c:null,y:f?null:c}}return null}(l)}(l);return f instanceof zu?f:Ch(f,c)}(u),{line:f,scale:m,axis:b}=u,I=f.options,C=I.fill,N=I.backgroundColor,{above:j=N,below:J=N}=C||{};c&&f.points.length&&(kn(l,o),function wm(l,u){const{line:o,target:c,above:f,below:m,area:b,scale:I}=u,C=o._loop?"angle":u.axis;l.save(),"x"===C&&m!==f&&(Pc(l,c,b.top),ng(l,{line:o,target:c,color:f,scale:I,property:C}),l.restore(),l.save(),Pc(l,c,b.bottom)),ng(l,{line:o,target:c,color:m,scale:I,property:C}),l.restore()}(l,{line:f,target:c,above:j,below:J,area:o,scale:m,axis:b}),Pr(l))}function Pc(l,u,o){const{segments:c,points:f}=u;let m=!0,b=!1;l.beginPath();for(const I of c){const{start:C,end:N}=I,j=f[C],J=f[ju(C,N,f)];m?(l.moveTo(j.x,j.y),m=!1):(l.lineTo(j.x,o),l.lineTo(j.x,j.y)),b=!!u.pathSegment(l,I,{move:b}),b?l.closePath():l.lineTo(J.x,o)}l.lineTo(u.first().x,o),l.closePath(),l.clip()}function ng(l,u){const{line:o,target:c,property:f,color:m,scale:b}=u,I=function nl(l,u,o){const c=l.segments,f=l.points,m=u.points,b=[];for(const I of c){let{start:C,end:N}=I;N=ju(C,N,f);const j=Md(o,f[C],f[N],I.loop);if(!u.segments){b.push({source:I,target:j,start:f[C],end:f[N]});continue}const J=us(u,j);for(const ce of J){const ge=Md(o,m[ce.start],m[ce.end],ce.loop),Ce=mo(I,f,ge);for(const Me of Ce)b.push({source:Me,target:ce,start:{[o]:bl(j,ge,"start",Math.max)},end:{[o]:bl(j,ge,"end",Math.min)}})}}return b}(o,c,f);for(const{source:C,target:N,start:j,end:J}of I){const{style:{backgroundColor:ce=m}={}}=C,ge=!0!==c;l.save(),l.fillStyle=ce,jf(l,b,ge&&Md(f,j,J)),l.beginPath();const Ce=!!o.pathSegment(l,C);let Me;if(ge){Ce?l.closePath():es(l,c,J,f);const Oe=!!c.pathSegment(l,N,{move:Ce,reverse:!0});Me=Ce&&Oe,Me||es(l,c,j,f)}l.closePath(),l.fill(Me?"evenodd":"nonzero"),l.restore()}}function jf(l,u,o){const{top:c,bottom:f}=u.chart.chartArea,{property:m,start:b,end:I}=o||{};"x"===m&&(l.beginPath(),l.rect(b,c,I-b,f-c),l.clip())}function es(l,u,o,c){const f=u.interpolate(o,c);f&&l.lineTo(f.x,f.y)}var Hf={id:"filler",afterDatasetsUpdate(l,u,o){const c=(l.data.datasets||[]).length,f=[];let m,b,I,C;for(b=0;b<c;++b)m=l.getDatasetMeta(b),I=m.dataset,C=null,I&&I.options&&I instanceof Dd&&(C={visible:l.isDatasetVisible(b),index:b,fill:Rc(I,b,c),chart:l,axis:m.controller.options.indexAxis,scale:m.vScale,line:I}),m.$filler=C,f.push(C);for(b=0;b<c;++b)C=f[b],C&&!1!==C.fill&&(C.fill=mr(f,b,o.propagate))},beforeDraw(l,u,o){const c="beforeDraw"===o.drawTime,f=l.getSortedVisibleDatasetMetas(),m=l.chartArea;for(let b=f.length-1;b>=0;--b){const I=f[b].$filler;I&&(I.line.updateControlPoints(m,I.axis),c&&I.fill&&Pd(l.ctx,I,m))}},beforeDatasetsDraw(l,u,o){if("beforeDatasetsDraw"!==o.drawTime)return;const c=l.getSortedVisibleDatasetMetas();for(let f=c.length-1;f>=0;--f){const m=c[f].$filler;Vf(m)&&Pd(l.ctx,m,l.chartArea)}},beforeDatasetDraw(l,u,o){const c=u.meta.$filler;!Vf(c)||"beforeDatasetDraw"!==o.drawTime||Pd(l.ctx,c,l.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Gu=(l,u)=>{let{boxHeight:o=u,boxWidth:c=u}=l;return l.usePointStyle&&(o=Math.min(o,u),c=l.pointStyleWidth||Math.min(c,u)),{boxWidth:c,boxHeight:o,itemHeight:Math.max(u,o)}};class Cm extends fr{constructor(u){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=u.chart,this.options=u.options,this.ctx=u.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(u,o,c){this.maxWidth=u,this.maxHeight=o,this._margins=c,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const u=this.options.labels||{};let o=rn(u.generateLabels,[this.chart],this)||[];u.filter&&(o=o.filter(c=>u.filter(c,this.chart.data))),u.sort&&(o=o.sort((c,f)=>u.sort(c,f,this.chart.data))),this.options.reverse&&o.reverse(),this.legendItems=o}fit(){const{options:u,ctx:o}=this;if(!u.display)return void(this.width=this.height=0);const c=u.labels,f=Ye(c.font),m=f.size,b=this._computeTitleHeight(),{boxWidth:I,itemHeight:C}=Gu(c,m);let N,j;o.font=f.string,this.isHorizontal()?(N=this.maxWidth,j=this._fitRows(b,m,I,C)+10):(j=this.maxHeight,N=this._fitCols(b,f,I,C)+10),this.width=Math.min(N,u.maxWidth||this.maxWidth),this.height=Math.min(j,u.maxHeight||this.maxHeight)}_fitRows(u,o,c,f){const{ctx:m,maxWidth:b,options:{labels:{padding:I}}}=this,C=this.legendHitBoxes=[],N=this.lineWidths=[0],j=f+I;let J=u;m.textAlign="left",m.textBaseline="middle";let ce=-1,ge=-j;return this.legendItems.forEach((Ce,Me)=>{const Oe=c+o/2+m.measureText(Ce.text).width;(0===Me||N[N.length-1]+Oe+2*I>b)&&(J+=j,N[N.length-(Me>0?0:1)]=0,ge+=j,ce++),C[Me]={left:0,top:ge,row:ce,width:Oe,height:f},N[N.length-1]+=Oe+I}),J}_fitCols(u,o,c,f){const{ctx:m,maxHeight:b,options:{labels:{padding:I}}}=this,C=this.legendHitBoxes=[],N=this.columnSizes=[],j=b-u;let J=I,ce=0,ge=0,Ce=0,Me=0;return this.legendItems.forEach((Oe,bt)=>{const{itemWidth:yt,itemHeight:jt}=function xh(l,u,o,c,f){const m=function Y_(l,u,o,c){let f=l.text;return f&&"string"!=typeof f&&(f=f.reduce((m,b)=>m.length>b.length?m:b)),u+o.size/2+c.measureText(f).width}(c,l,u,o),b=function Dm(l,u,o){let c=l;return"string"!=typeof u.text&&(c=qu(u,o)),c}(f,c,u.lineHeight);return{itemWidth:m,itemHeight:b}}(c,o,m,Oe,f);bt>0&&ge+jt+2*I>j&&(J+=ce+I,N.push({width:ce,height:ge}),Ce+=ce+I,Me++,ce=ge=0),C[bt]={left:Ce,top:ge,col:Me,width:yt,height:jt},ce=Math.max(ce,yt),ge+=jt+I}),J+=ce,N.push({width:ce,height:ge}),J}adjustHitBoxes(){if(!this.options.display)return;const u=this._computeTitleHeight(),{legendHitBoxes:o,options:{align:c,labels:{padding:f},rtl:m}}=this,b=qo(m,this.left,this.width);if(this.isHorizontal()){let I=0,C=Xr(c,this.left+f,this.right-this.lineWidths[I]);for(const N of o)I!==N.row&&(I=N.row,C=Xr(c,this.left+f,this.right-this.lineWidths[I])),N.top+=this.top+u+f,N.left=b.leftForLtr(b.x(C),N.width),C+=N.width+f}else{let I=0,C=Xr(c,this.top+u+f,this.bottom-this.columnSizes[I].height);for(const N of o)N.col!==I&&(I=N.col,C=Xr(c,this.top+u+f,this.bottom-this.columnSizes[I].height)),N.top=C,N.left+=this.left+f,N.left=b.leftForLtr(b.x(N.left),N.width),C+=N.height+f}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const u=this.ctx;kn(u,this),this._draw(),Pr(u)}}_draw(){const{options:u,columnSizes:o,lineWidths:c,ctx:f}=this,{align:m,labels:b}=u,I=Gr.color,C=qo(u.rtl,this.left,this.width),N=Ye(b.font),{padding:j}=b,J=N.size,ce=J/2;let ge;this.drawTitle(),f.textAlign=C.textAlign("left"),f.textBaseline="middle",f.lineWidth=.5,f.font=N.string;const{boxWidth:Ce,boxHeight:Me,itemHeight:Oe}=Gu(b,J),jt=this.isHorizontal(),Yt=this._computeTitleHeight();ge=jt?{x:Xr(m,this.left+j,this.right-c[0]),y:this.top+j+Yt,line:0}:{x:this.left+j,y:Xr(m,this.top+Yt+j,this.bottom-o[0].height),line:0},Ta(this.ctx,u.textDirection);const Nt=Oe+j;this.legendItems.forEach((Wt,En)=>{f.strokeStyle=Wt.fontColor,f.fillStyle=Wt.fontColor;const an=f.measureText(Wt.text).width,Fn=C.textAlign(Wt.textAlign||(Wt.textAlign=b.textAlign)),Ar=Ce+ce+an;let Cr=ge.x,zr=ge.y;C.setWidth(this.width),jt?En>0&&Cr+Ar+j>this.right&&(zr=ge.y+=Nt,ge.line++,Cr=ge.x=Xr(m,this.left+j,this.right-c[ge.line])):En>0&&zr+Nt>this.bottom&&(Cr=ge.x=Cr+o[ge.line].width+j,ge.line++,zr=ge.y=Xr(m,this.top+Yt+j,this.bottom-o[ge.line].height)),function(Wt,En,an){if(isNaN(Ce)||Ce<=0||isNaN(Me)||Me<0)return;f.save();const Fn=bn(an.lineWidth,1);if(f.fillStyle=bn(an.fillStyle,I),f.lineCap=bn(an.lineCap,"butt"),f.lineDashOffset=bn(an.lineDashOffset,0),f.lineJoin=bn(an.lineJoin,"miter"),f.lineWidth=Fn,f.strokeStyle=bn(an.strokeStyle,I),f.setLineDash(bn(an.lineDash,[])),b.usePointStyle){const Ar={radius:Me*Math.SQRT2/2,pointStyle:an.pointStyle,rotation:an.rotation,borderWidth:Fn},Cr=C.xPlus(Wt,Ce/2);no(f,Ar,Cr,En+ce,b.pointStyleWidth&&Ce)}else{const Ar=En+Math.max((J-Me)/2,0),Cr=C.leftForLtr(Wt,Ce),zr=we(an.borderRadius);f.beginPath(),Object.values(zr).some(wo=>0!==wo)?$i(f,{x:Cr,y:Ar,w:Ce,h:Me,radius:zr}):f.rect(Cr,Ar,Ce,Me),f.fill(),0!==Fn&&f.stroke()}f.restore()}(C.x(Cr),zr,Wt),Cr=((l,u,o,c)=>l===(c?"left":"right")?o:"center"===l?(u+o)/2:u)(Fn,Cr+Ce+ce,jt?Cr+Ar:this.right,u.rtl),function(Wt,En,an){Ls(f,an.text,Wt,En+Oe/2,N,{strikethrough:an.hidden,textAlign:C.textAlign(an.textAlign)})}(C.x(Cr),zr,Wt),jt?ge.x+=Ar+j:ge.y+="string"!=typeof Wt.text?qu(Wt,N.lineHeight)+j:Nt}),go(this.ctx,u.textDirection)}drawTitle(){const u=this.options,o=u.title,c=Ye(o.font),f=ke(o.padding);if(!o.display)return;const m=qo(u.rtl,this.left,this.width),b=this.ctx,I=o.position,N=f.top+c.size/2;let j,J=this.left,ce=this.width;if(this.isHorizontal())ce=Math.max(...this.lineWidths),j=this.top+N,J=Xr(u.align,J,this.right-ce);else{const Ce=this.columnSizes.reduce((Me,Oe)=>Math.max(Me,Oe.height),0);j=N+Xr(u.align,this.top,this.bottom-Ce-u.labels.padding-this._computeTitleHeight())}const ge=Xr(I,J,J+ce);b.textAlign=m.textAlign(Jr(I)),b.textBaseline="middle",b.strokeStyle=o.color,b.fillStyle=o.color,b.font=c.string,Ls(b,o.text,ge,j,c)}_computeTitleHeight(){const u=this.options.title,o=Ye(u.font),c=ke(u.padding);return u.display?o.lineHeight+c.height:0}_getLegendItemAt(u,o){let c,f,m;if(An(u,this.left,this.right)&&An(o,this.top,this.bottom))for(m=this.legendHitBoxes,c=0;c<m.length;++c)if(f=m[c],An(u,f.left,f.left+f.width)&&An(o,f.top,f.top+f.height))return this.legendItems[c];return null}handleEvent(u){const o=this.options;if(!function Pa(l,u){return!(("mousemove"!==l&&"mouseout"!==l||!u.onHover&&!u.onLeave)&&(!u.onClick||"click"!==l&&"mouseup"!==l))}(u.type,o))return;const c=this._getLegendItemAt(u.x,u.y);if("mousemove"===u.type||"mouseout"===u.type){const f=this._hoveredItem,m=((l,u)=>null!==l&&null!==u&&l.datasetIndex===u.datasetIndex&&l.index===u.index)(f,c);f&&!m&&rn(o.onLeave,[u,f,this],this),this._hoveredItem=c,c&&!m&&rn(o.onHover,[u,c,this],this)}else c&&rn(o.onClick,[u,c,this],this)}}function qu(l,u){return u*(l.text?l.text.length:0)}var Od={id:"legend",_element:Cm,start(l,u,o){const c=l.legend=new Cm({ctx:l.ctx,options:o,chart:l});ds.configure(l,c,o),ds.addBox(l,c)},stop(l){ds.removeBox(l,l.legend),delete l.legend},beforeUpdate(l,u,o){const c=l.legend;ds.configure(l,c,o),c.options=o},afterUpdate(l){const u=l.legend;u.buildLabels(),u.adjustHitBoxes()},afterEvent(l,u){u.replay||l.legend.handleEvent(u.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(l,u,o){const c=u.datasetIndex,f=o.chart;f.isDatasetVisible(c)?(f.hide(c),u.hidden=!0):(f.show(c),u.hidden=!1)},onHover:null,onLeave:null,labels:{color:l=>l.chart.options.color,boxWidth:40,padding:10,generateLabels(l){const u=l.data.datasets,{labels:{usePointStyle:o,pointStyle:c,textAlign:f,color:m,useBorderRadius:b,borderRadius:I}}=l.legend.options;return l._getSortedDatasetMetas().map(C=>{const N=C.controller.getStyle(o?0:void 0),j=ke(N.borderWidth);return{text:u[C.index].label,fillStyle:N.backgroundColor,fontColor:m,hidden:!C.visible,lineCap:N.borderCapStyle,lineDash:N.borderDash,lineDashOffset:N.borderDashOffset,lineJoin:N.borderJoinStyle,lineWidth:(j.width+j.height)/4,strokeStyle:N.borderColor,pointStyle:c||N.pointStyle,rotation:N.rotation,textAlign:f||N.textAlign,borderRadius:b&&(I||N.borderRadius),datasetIndex:C.index}},this)}},title:{color:l=>l.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:l=>!l.startsWith("on"),labels:{_scriptable:l=>!["generateLabels","filter","sort"].includes(l)}}};class Nd extends fr{constructor(u){super(),this.chart=u.chart,this.options=u.options,this.ctx=u.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(u,o){const c=this.options;if(this.left=0,this.top=0,!c.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=u,this.height=this.bottom=o;const f=Mn(c.text)?c.text.length:1;this._padding=ke(c.padding);const m=f*Ye(c.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=m:this.width=m}isHorizontal(){const u=this.options.position;return"top"===u||"bottom"===u}_drawArgs(u){const{top:o,left:c,bottom:f,right:m,options:b}=this,I=b.align;let N,j,J,C=0;return this.isHorizontal()?(j=Xr(I,c,m),J=o+u,N=m-c):("left"===b.position?(j=c+u,J=Xr(I,f,o),C=-.5*Vt):(j=m-u,J=Xr(I,o,f),C=.5*Vt),N=f-o),{titleX:j,titleY:J,maxWidth:N,rotation:C}}draw(){const u=this.ctx,o=this.options;if(!o.display)return;const c=Ye(o.font),m=c.lineHeight/2+this._padding.top,{titleX:b,titleY:I,maxWidth:C,rotation:N}=this._drawArgs(m);Ls(u,o.text,0,0,c,{color:o.color,maxWidth:C,rotation:N,textAlign:Jr(o.align),textBaseline:"middle",translation:[b,I]})}}var Wu={id:"title",_element:Nd,start(l,u,o){!function zf(l,u){const o=new Nd({ctx:l.ctx,options:u,chart:l});ds.configure(l,o,u),ds.addBox(l,o),l.titleBlock=o}(l,o)},stop(l){ds.removeBox(l,l.titleBlock),delete l.titleBlock},beforeUpdate(l,u,o){const c=l.titleBlock;ds.configure(l,c,o),c.options=o},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rl=new WeakMap;var Mh={id:"subtitle",start(l,u,o){const c=new Nd({ctx:l.ctx,options:o,chart:l});ds.configure(l,c,o),ds.addBox(l,c),rl.set(l,c)},stop(l){ds.removeBox(l,rl.get(l)),rl.delete(l)},beforeUpdate(l,u,o){const c=rl.get(l);ds.configure(l,c,o),c.options=o},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const pu={average(l){if(!l.length)return!1;let u,o,c=0,f=0,m=0;for(u=0,o=l.length;u<o;++u){const b=l[u].element;if(b&&b.hasValue()){const I=b.tooltipPosition();c+=I.x,f+=I.y,++m}}return{x:c/m,y:f/m}},nearest(l,u){if(!l.length)return!1;let m,b,I,o=u.x,c=u.y,f=Number.POSITIVE_INFINITY;for(m=0,b=l.length;m<b;++m){const C=l[m].element;if(C&&C.hasValue()){const j=Te(u,C.getCenterPoint());j<f&&(f=j,I=C)}}if(I){const C=I.tooltipPosition();o=C.x,c=C.y}return{x:o,y:c}}};function Bo(l,u){return u&&(Mn(u)?Array.prototype.push.apply(l,u):l.push(u)),l}function Oa(l){return("string"==typeof l||l instanceof String)&&l.indexOf("\n")>-1?l.split("\n"):l}function kd(l,u){const{element:o,datasetIndex:c,index:f}=u,m=l.getDatasetMeta(c).controller,{label:b,value:I}=m.getLabelAndValue(f);return{chart:l,label:b,parsed:m.getParsed(f),raw:l.data.datasets[c].data[f],formattedValue:I,dataset:m.getDataset(),dataIndex:f,datasetIndex:c,element:o}}function Ms(l,u){const o=l.chart.ctx,{body:c,footer:f,title:m}=l,{boxWidth:b,boxHeight:I}=u,C=Ye(u.bodyFont),N=Ye(u.titleFont),j=Ye(u.footerFont),J=m.length,ce=f.length,ge=c.length,Ce=ke(u.padding);let Me=Ce.height,Oe=0,bt=c.reduce((Yt,Nt)=>Yt+Nt.before.length+Nt.lines.length+Nt.after.length,0);bt+=l.beforeBody.length+l.afterBody.length,J&&(Me+=J*N.lineHeight+(J-1)*u.titleSpacing+u.titleMarginBottom),bt&&(Me+=ge*(u.displayColors?Math.max(I,C.lineHeight):C.lineHeight)+(bt-ge)*C.lineHeight+(bt-1)*u.bodySpacing),ce&&(Me+=u.footerMarginTop+ce*j.lineHeight+(ce-1)*u.footerSpacing);let yt=0;const jt=function(Yt){Oe=Math.max(Oe,o.measureText(Yt).width+yt)};return o.save(),o.font=N.string,en(l.title,jt),o.font=C.string,en(l.beforeBody.concat(l.afterBody),jt),yt=u.displayColors?b+2+u.boxPadding:0,en(c,Yt=>{en(Yt.before,jt),en(Yt.lines,jt),en(Yt.after,jt)}),yt=0,o.font=j.string,en(l.footer,jt),o.restore(),Oe+=Ce.width,{width:Oe,height:Me}}function $f(l,u,o,c){const{x:f,width:m}=o,{width:b,chartArea:{left:I,right:C}}=l;let N="center";return"center"===c?N=f<=(I+C)/2?"left":"right":f<=m/2?N="left":f>=b-m/2&&(N="right"),function rg(l,u,o,c){const{x:f,width:m}=c,b=o.caretSize+o.caretPadding;if("left"===l&&f+m+b>u.width||"right"===l&&f-m-b<0)return!0}(N,l,u,o)&&(N="center"),N}function Zu(l,u,o){const c=o.yAlign||u.yAlign||function Zr(l,u){const{y:o,height:c}=u;return o<c/2?"top":o>l.height-c/2?"bottom":"center"}(l,o);return{xAlign:o.xAlign||u.xAlign||$f(l,u,o,c),yAlign:c}}function Gf(l,u,o,c){const{caretSize:f,caretPadding:m,cornerRadius:b}=l,{xAlign:I,yAlign:C}=o,N=f+m,{topLeft:j,topRight:J,bottomLeft:ce,bottomRight:ge}=we(b);let Ce=function ig(l,u){let{x:o,width:c}=l;return"right"===u?o-=c:"center"===u&&(o-=c/2),o}(u,I);const Me=function Sm(l,u,o){let{y:c,height:f}=l;return"top"===u?c+=o:c-="bottom"===u?f+o:f/2,c}(u,C,N);return"center"===C?"left"===I?Ce+=N:"right"===I&&(Ce-=N):"left"===I?Ce-=Math.max(j,ce)+f:"right"===I&&(Ce+=Math.max(J,ge)+f),{x:Zt(Ce,0,c.width-u.width),y:Zt(Me,0,c.height-u.height)}}function Oc(l,u,o){const c=ke(o.padding);return"center"===u?l.x+l.width/2:"right"===u?l.x+l.width-c.right:l.x+c.left}function Rh(l){return Bo([],Oa(l))}function Xs(l,u){const o=u&&u.dataset&&u.dataset.tooltip&&u.dataset.tooltip.callbacks;return o?l.override(o):l}const gu={beforeTitle:Lr,title(l){if(l.length>0){const u=l[0],o=u.chart.data.labels,c=o?o.length:0;if(this&&this.options&&"dataset"===this.options.mode)return u.dataset.label||"";if(u.label)return u.label;if(c>0&&u.dataIndex<c)return o[u.dataIndex]}return""},afterTitle:Lr,beforeBody:Lr,beforeLabel:Lr,label(l){if(this&&this.options&&"dataset"===this.options.mode)return l.label+": "+l.formattedValue||l.formattedValue;let u=l.dataset.label||"";u&&(u+=": ");const o=l.formattedValue;return xn(o)||(u+=o),u},labelColor(l){const o=l.chart.getDatasetMeta(l.datasetIndex).controller.getStyle(l.dataIndex);return{borderColor:o.borderColor,backgroundColor:o.backgroundColor,borderWidth:o.borderWidth,borderDash:o.borderDash,borderDashOffset:o.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(l){const o=l.chart.getDatasetMeta(l.datasetIndex).controller.getStyle(l.dataIndex);return{pointStyle:o.pointStyle,rotation:o.rotation}},afterLabel:Lr,afterBody:Lr,beforeFooter:Lr,footer:Lr,afterFooter:Lr};function ao(l,u,o,c){const f=l[u].call(o,c);return typeof f>"u"?gu[u].call(o,c):f}let Fd=(()=>class l extends fr{static positioners=pu;constructor(o){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=o.chart,this.options=o.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(o){this.options=o,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const o=this._cachedAnimations;if(o)return o;const c=this.chart,f=this.options.setContext(this.getContext()),m=f.enabled&&c.options.animation&&f.animations,b=new Fs(this.chart,m);return m._cacheable&&(this._cachedAnimations=Object.freeze(b)),b}getContext(){return this.$context||(this.$context=function Ld(l,u,o){return It(l,{tooltip:u,tooltipItems:o,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(o,c){const{callbacks:f}=c,m=ao(f,"beforeTitle",this,o),b=ao(f,"title",this,o),I=ao(f,"afterTitle",this,o);let C=[];return C=Bo(C,Oa(m)),C=Bo(C,Oa(b)),C=Bo(C,Oa(I)),C}getBeforeBody(o,c){return Rh(ao(c.callbacks,"beforeBody",this,o))}getBody(o,c){const{callbacks:f}=c,m=[];return en(o,b=>{const I={before:[],lines:[],after:[]},C=Xs(f,b);Bo(I.before,Oa(ao(C,"beforeLabel",this,b))),Bo(I.lines,ao(C,"label",this,b)),Bo(I.after,Oa(ao(C,"afterLabel",this,b))),m.push(I)}),m}getAfterBody(o,c){return Rh(ao(c.callbacks,"afterBody",this,o))}getFooter(o,c){const{callbacks:f}=c,m=ao(f,"beforeFooter",this,o),b=ao(f,"footer",this,o),I=ao(f,"afterFooter",this,o);let C=[];return C=Bo(C,Oa(m)),C=Bo(C,Oa(b)),C=Bo(C,Oa(I)),C}_createItems(o){const c=this._active,f=this.chart.data,m=[],b=[],I=[];let N,j,C=[];for(N=0,j=c.length;N<j;++N)C.push(kd(this.chart,c[N]));return o.filter&&(C=C.filter((J,ce,ge)=>o.filter(J,ce,ge,f))),o.itemSort&&(C=C.sort((J,ce)=>o.itemSort(J,ce,f))),en(C,J=>{const ce=Xs(o.callbacks,J);m.push(ao(ce,"labelColor",this,J)),b.push(ao(ce,"labelPointStyle",this,J)),I.push(ao(ce,"labelTextColor",this,J))}),this.labelColors=m,this.labelPointStyles=b,this.labelTextColors=I,this.dataPoints=C,C}update(o,c){const f=this.options.setContext(this.getContext()),m=this._active;let b,I=[];if(m.length){const C=pu[f.position].call(this,m,this._eventPosition);I=this._createItems(f),this.title=this.getTitle(I,f),this.beforeBody=this.getBeforeBody(I,f),this.body=this.getBody(I,f),this.afterBody=this.getAfterBody(I,f),this.footer=this.getFooter(I,f);const N=this._size=Ms(this,f),j=Object.assign({},C,N),J=Zu(this.chart,f,j),ce=Gf(f,j,J,this.chart);this.xAlign=J.xAlign,this.yAlign=J.yAlign,b={opacity:1,x:ce.x,y:ce.y,width:N.width,height:N.height,caretX:C.x,caretY:C.y}}else 0!==this.opacity&&(b={opacity:0});this._tooltipItems=I,this.$context=void 0,b&&this._resolveAnimations().update(this,b),o&&f.external&&f.external.call(this,{chart:this.chart,tooltip:this,replay:c})}drawCaret(o,c,f,m){const b=this.getCaretPosition(o,f,m);c.lineTo(b.x1,b.y1),c.lineTo(b.x2,b.y2),c.lineTo(b.x3,b.y3)}getCaretPosition(o,c,f){const{xAlign:m,yAlign:b}=this,{caretSize:I,cornerRadius:C}=f,{topLeft:N,topRight:j,bottomLeft:J,bottomRight:ce}=we(C),{x:ge,y:Ce}=o,{width:Me,height:Oe}=c;let bt,yt,jt,Yt,Nt,Wt;return"center"===b?(Nt=Ce+Oe/2,"left"===m?(bt=ge,yt=bt-I,Yt=Nt+I,Wt=Nt-I):(bt=ge+Me,yt=bt+I,Yt=Nt-I,Wt=Nt+I),jt=bt):(yt="left"===m?ge+Math.max(N,J)+I:"right"===m?ge+Me-Math.max(j,ce)-I:this.caretX,"top"===b?(Yt=Ce,Nt=Yt-I,bt=yt-I,jt=yt+I):(Yt=Ce+Oe,Nt=Yt+I,bt=yt+I,jt=yt-I),Wt=Yt),{x1:bt,x2:yt,x3:jt,y1:Yt,y2:Nt,y3:Wt}}drawTitle(o,c,f){const m=this.title,b=m.length;let I,C,N;if(b){const j=qo(f.rtl,this.x,this.width);for(o.x=Oc(this,f.titleAlign,f),c.textAlign=j.textAlign(f.titleAlign),c.textBaseline="middle",I=Ye(f.titleFont),C=f.titleSpacing,c.fillStyle=f.titleColor,c.font=I.string,N=0;N<b;++N)c.fillText(m[N],j.x(o.x),o.y+I.lineHeight/2),o.y+=I.lineHeight+C,N+1===b&&(o.y+=f.titleMarginBottom-C)}}_drawColorBox(o,c,f,m,b){const I=this.labelColors[f],C=this.labelPointStyles[f],{boxHeight:N,boxWidth:j}=b,J=Ye(b.bodyFont),ce=Oc(this,"left",b),ge=m.x(ce),Me=c.y+(N<J.lineHeight?(J.lineHeight-N)/2:0);if(b.usePointStyle){const Oe={radius:Math.min(j,N)/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:1},bt=m.leftForLtr(ge,j)+j/2,yt=Me+N/2;o.strokeStyle=b.multiKeyBackground,o.fillStyle=b.multiKeyBackground,qs(o,Oe,bt,yt),o.strokeStyle=I.borderColor,o.fillStyle=I.backgroundColor,qs(o,Oe,bt,yt)}else{o.lineWidth=zt(I.borderWidth)?Math.max(...Object.values(I.borderWidth)):I.borderWidth||1,o.strokeStyle=I.borderColor,o.setLineDash(I.borderDash||[]),o.lineDashOffset=I.borderDashOffset||0;const Oe=m.leftForLtr(ge,j),bt=m.leftForLtr(m.xPlus(ge,1),j-2),yt=we(I.borderRadius);Object.values(yt).some(jt=>0!==jt)?(o.beginPath(),o.fillStyle=b.multiKeyBackground,$i(o,{x:Oe,y:Me,w:j,h:N,radius:yt}),o.fill(),o.stroke(),o.fillStyle=I.backgroundColor,o.beginPath(),$i(o,{x:bt,y:Me+1,w:j-2,h:N-2,radius:yt}),o.fill()):(o.fillStyle=b.multiKeyBackground,o.fillRect(Oe,Me,j,N),o.strokeRect(Oe,Me,j,N),o.fillStyle=I.backgroundColor,o.fillRect(bt,Me+1,j-2,N-2))}o.fillStyle=this.labelTextColors[f]}drawBody(o,c,f){const{body:m}=this,{bodySpacing:b,bodyAlign:I,displayColors:C,boxHeight:N,boxWidth:j,boxPadding:J}=f,ce=Ye(f.bodyFont);let ge=ce.lineHeight,Ce=0;const Me=qo(f.rtl,this.x,this.width),Oe=function(Fn){c.fillText(Fn,Me.x(o.x+Ce),o.y+ge/2),o.y+=ge+b},bt=Me.textAlign(I);let yt,jt,Yt,Nt,Wt,En,an;for(c.textAlign=I,c.textBaseline="middle",c.font=ce.string,o.x=Oc(this,bt,f),c.fillStyle=f.bodyColor,en(this.beforeBody,Oe),Ce=C&&"right"!==bt?"center"===I?j/2+J:j+2+J:0,Nt=0,En=m.length;Nt<En;++Nt){for(yt=m[Nt],jt=this.labelTextColors[Nt],c.fillStyle=jt,en(yt.before,Oe),Yt=yt.lines,C&&Yt.length&&(this._drawColorBox(c,o,Nt,Me,f),ge=Math.max(ce.lineHeight,N)),Wt=0,an=Yt.length;Wt<an;++Wt)Oe(Yt[Wt]),ge=ce.lineHeight;en(yt.after,Oe)}Ce=0,ge=ce.lineHeight,en(this.afterBody,Oe),o.y-=b}drawFooter(o,c,f){const m=this.footer,b=m.length;let I,C;if(b){const N=qo(f.rtl,this.x,this.width);for(o.x=Oc(this,f.footerAlign,f),o.y+=f.footerMarginTop,c.textAlign=N.textAlign(f.footerAlign),c.textBaseline="middle",I=Ye(f.footerFont),c.fillStyle=f.footerColor,c.font=I.string,C=0;C<b;++C)c.fillText(m[C],N.x(o.x),o.y+I.lineHeight/2),o.y+=I.lineHeight+f.footerSpacing}}drawBackground(o,c,f,m){const{xAlign:b,yAlign:I}=this,{x:C,y:N}=o,{width:j,height:J}=f,{topLeft:ce,topRight:ge,bottomLeft:Ce,bottomRight:Me}=we(m.cornerRadius);c.fillStyle=m.backgroundColor,c.strokeStyle=m.borderColor,c.lineWidth=m.borderWidth,c.beginPath(),c.moveTo(C+ce,N),"top"===I&&this.drawCaret(o,c,f,m),c.lineTo(C+j-ge,N),c.quadraticCurveTo(C+j,N,C+j,N+ge),"center"===I&&"right"===b&&this.drawCaret(o,c,f,m),c.lineTo(C+j,N+J-Me),c.quadraticCurveTo(C+j,N+J,C+j-Me,N+J),"bottom"===I&&this.drawCaret(o,c,f,m),c.lineTo(C+Ce,N+J),c.quadraticCurveTo(C,N+J,C,N+J-Ce),"center"===I&&"left"===b&&this.drawCaret(o,c,f,m),c.lineTo(C,N+ce),c.quadraticCurveTo(C,N,C+ce,N),c.closePath(),c.fill(),m.borderWidth>0&&c.stroke()}_updateAnimationTarget(o){const c=this.chart,f=this.$animations,m=f&&f.x,b=f&&f.y;if(m||b){const I=pu[o.position].call(this,this._active,this._eventPosition);if(!I)return;const C=this._size=Ms(this,o),N=Object.assign({},I,this._size),j=Zu(c,o,N),J=Gf(o,N,j,c);(m._to!==J.x||b._to!==J.y)&&(this.xAlign=j.xAlign,this.yAlign=j.yAlign,this.width=C.width,this.height=C.height,this.caretX=I.x,this.caretY=I.y,this._resolveAnimations().update(this,J))}}_willRender(){return!!this.opacity}draw(o){const c=this.options.setContext(this.getContext());let f=this.opacity;if(!f)return;this._updateAnimationTarget(c);const m={width:this.width,height:this.height},b={x:this.x,y:this.y};f=Math.abs(f)<.001?0:f;const I=ke(c.padding);c.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(o.save(),o.globalAlpha=f,this.drawBackground(b,o,m,c),Ta(o,c.textDirection),b.y+=I.top,this.drawTitle(b,o,c),this.drawBody(b,o,c),this.drawFooter(b,o,c),go(o,c.textDirection),o.restore())}getActiveElements(){return this._active||[]}setActiveElements(o,c){const f=this._active,m=o.map(({datasetIndex:C,index:N})=>{const j=this.chart.getDatasetMeta(C);if(!j)throw new Error("Cannot find a dataset at index "+C);return{datasetIndex:C,element:j.data[N],index:N}}),b=!Sr(f,m),I=this._positionChanged(m,c);(b||I)&&(this._active=m,this._eventPosition=c,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(o,c,f=!0){if(c&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const m=this.options,b=this._active||[],I=this._getActiveElements(o,b,c,f),C=this._positionChanged(I,o),N=c||!Sr(I,b)||C;return N&&(this._active=I,(m.enabled||m.external)&&(this._eventPosition={x:o.x,y:o.y},this.update(!0,c))),N}_getActiveElements(o,c,f,m){const b=this.options;if("mouseout"===o.type)return[];if(!m)return c;const I=this.chart.getElementsAtEventForMode(o,b.mode,b,f);return b.reverse&&I.reverse(),I}_positionChanged(o,c){const{caretX:f,caretY:m,options:b}=this,I=pu[b.position].call(this,o,c);return!1!==I&&(f!==I.x||m!==I.y)}})();var M={id:"tooltip",_element:Fd,positioners:pu,afterInit(l,u,o){o&&(l.tooltip=new Fd({chart:l,options:o}))},beforeUpdate(l,u,o){l.tooltip&&l.tooltip.initialize(o)},reset(l,u,o){l.tooltip&&l.tooltip.initialize(o)},afterDraw(l){const u=l.tooltip;if(u&&u._willRender()){const o={tooltip:u};if(!1===l.notifyPlugins("beforeTooltipDraw",{...o,cancelable:!0}))return;u.draw(l.ctx),l.notifyPlugins("afterTooltipDraw",o)}},afterEvent(l,u){l.tooltip&&l.tooltip.handleEvent(u.event,u.replay,u.inChartArea)&&(u.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(l,u)=>u.bodyFont.size,boxWidth:(l,u)=>u.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:gu},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:l=>"filter"!==l&&"itemSort"!==l&&"external"!==l,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},y=Object.freeze({__proto__:null,Colors:wh,Decimation:Jp,Filler:Hf,Legend:Od,SubTitle:Mh,Title:Wu,Tooltip:M});function de(l){const u=this.getLabels();return l>=0&&l<u.length?u[l]:l}let Ue=(()=>class l extends Da{static id="category";static defaults={ticks:{callback:de}};constructor(o){super(o),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(o){const c=this._addedLabels;if(c.length){const f=this.getLabels();for(const{index:m,label:b}of c)f[m]===b&&f.splice(m,1);this._addedLabels=[]}super.init(o)}parse(o,c){if(xn(o))return null;const f=this.getLabels();return((l,u)=>null===l?null:Zt(Math.round(l),0,u))(c=isFinite(c)&&f[c]===o?c:function R(l,u,o,c){const f=l.indexOf(u);return-1===f?((l,u,o,c)=>("string"==typeof u?(o=l.push(u)-1,c.unshift({index:o,label:u})):isNaN(u)&&(o=null),o))(l,u,o,c):f!==l.lastIndexOf(u)?o:f}(f,o,bn(c,o),this._addedLabels),f.length-1)}determineDataLimits(){const{minDefined:o,maxDefined:c}=this.getUserBounds();let{min:f,max:m}=this.getMinMax(!0);"ticks"===this.options.bounds&&(o||(f=0),c||(m=this.getLabels().length-1)),this.min=f,this.max=m}buildTicks(){const o=this.min,c=this.max,f=this.options.offset,m=[];let b=this.getLabels();b=0===o&&c===b.length-1?b:b.slice(o,c+1),this._valueRange=Math.max(b.length-(f?0:1),1),this._startValue=this.min-(f?.5:0);for(let I=o;I<=c;I++)m.push({value:I});return m}getLabelForValue(o){return de.call(this,o)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(o){return"number"!=typeof o&&(o=this.parse(o)),null===o?NaN:this.getPixelForDecimal((o-this._startValue)/this._valueRange)}getPixelForTick(o){const c=this.ticks;return o<0||o>c.length-1?null:this.getPixelForValue(c[o].value)}getValueForPixel(o){return Math.round(this._startValue+this.getDecimalForPixel(o)*this._valueRange)}getBasePixel(){return this.bottom}})();function Ft(l,u,{horizontal:o,minRotation:c}){const f=rr(c),m=(o?Math.sin(f):Math.cos(f))||.001;return Math.min(u/m,.75*u*(""+l).length)}class _n extends Da{constructor(u){super(u),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(u,o){return xn(u)||("number"==typeof u||u instanceof Number)&&!isFinite(+u)?null:+u}handleTickRangeOptions(){const{beginAtZero:u}=this.options,{minDefined:o,maxDefined:c}=this.getUserBounds();let{min:f,max:m}=this;const b=C=>f=o?f:C,I=C=>m=c?m:C;if(u){const C=Le(f),N=Le(m);C<0&&N<0?I(0):C>0&&N>0&&b(0)}if(f===m){let C=0===m?1:Math.abs(.05*m);I(m+C),u||b(f-C)}this.min=f,this.max=m}getTickLimit(){const u=this.options.ticks;let f,{maxTicksLimit:o,stepSize:c}=u;return c?(f=Math.ceil(this.max/c)-Math.floor(this.min/c)+1,f>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${c} would result generating up to ${f} ticks. Limiting to 1000.`),f=1e3)):(f=this.computeTickLimit(),o=o||11),o&&(f=Math.min(o,f)),f}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const u=this.options,o=u.ticks;let c=this.getTickLimit();c=Math.max(2,c);const b=function dt(l,u){const o=[],{bounds:f,step:m,min:b,max:I,precision:C,count:N,maxTicks:j,maxDigits:J,includeBounds:ce}=l,ge=m||1,Ce=j-1,{min:Me,max:Oe}=u,bt=!xn(b),yt=!xn(I),jt=!xn(N),Yt=(Oe-Me)/(J+1);let Wt,En,an,Fn,Nt=qt((Oe-Me)/Ce/ge)*ge;if(Nt<1e-14&&!bt&&!yt)return[{value:Me},{value:Oe}];Fn=Math.ceil(Oe/Nt)-Math.floor(Me/Nt),Fn>Ce&&(Nt=qt(Fn*Nt/Ce/ge)*ge),xn(C)||(Wt=Math.pow(10,C),Nt=Math.ceil(Nt*Wt)/Wt),"ticks"===f?(En=Math.floor(Me/Nt)*Nt,an=Math.ceil(Oe/Nt)*Nt):(En=Me,an=Oe),bt&&yt&&m&&function nr(l,u){const o=Math.round(l);return o-u<=l&&o+u>=l}((I-b)/m,Nt/1e3)?(Fn=Math.round(Math.min((I-b)/Nt,j)),Nt=(I-b)/Fn,En=b,an=I):jt?(En=bt?b:En,an=yt?I:an,Fn=N-1,Nt=(an-En)/Fn):(Fn=(an-En)/Nt,Fn=mt(Fn,Math.round(Fn),Nt/1e3)?Math.round(Fn):Math.ceil(Fn));const Ar=Math.max(Ae(Nt),Ae(En));Wt=Math.pow(10,xn(C)?Ar:C),En=Math.round(En*Wt)/Wt,an=Math.round(an*Wt)/Wt;let Cr=0;for(bt&&(ce&&En!==b?(o.push({value:b}),En<b&&Cr++,mt(Math.round((En+Cr*Nt)*Wt)/Wt,b,Ft(b,Yt,l))&&Cr++):En<b&&Cr++);Cr<Fn;++Cr){const zr=Math.round((En+Cr*Nt)*Wt)/Wt;if(yt&&zr>I)break;o.push({value:zr})}return yt&&ce&&an!==I?o.length&&mt(o[o.length-1].value,I,Ft(I,Yt,l))?o[o.length-1].value=I:o.push({value:I}):(!yt||an===I)&&o.push({value:an}),o}({maxTicks:c,bounds:u.bounds,min:u.min,max:u.max,precision:o.precision,step:o.stepSize,count:o.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:o.minRotation||0,includeBounds:!1!==o.includeBounds},this._range||this);return"ticks"===u.bounds&&Nn(b,this,"value"),u.reverse?(b.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),b}configure(){const u=this.ticks;let o=this.min,c=this.max;if(super.configure(),this.options.offset&&u.length){const f=(c-o)/Math.max(u.length-1,1)/2;o-=f,c+=f}this._startValue=o,this._endValue=c,this._valueRange=c-o}getLabelForValue(u){return co(u,this.chart.options.locale,this.options.ticks.format)}}const Ir=l=>Math.floor(ue(l)),ps=(l,u)=>Math.pow(10,Ir(l)+u);function li(l){return l/Math.pow(10,Ir(l))==1}function mu(l,u,o){const c=Math.pow(10,o),f=Math.floor(l/c);return Math.ceil(u/c)-f}function vu(l){const u=l.ticks;if(u.display&&l.display){const o=ke(u.backdropPadding);return bn(u.font&&u.font.size,Gr.font.size)+o.height}return 0}function Nc(l,u,o){return o=Mn(o)?o:[o],{w:ra(l,u.string,o),h:o.length*u.lineHeight}}function jl(l,u,o,c,f){return l===c||l===f?{start:u-o/2,end:u+o/2}:l<c||l>f?{start:u-o,end:u}:{start:u,end:u+o}}function bu(l,u,o,c,f){const m=Math.abs(Math.sin(o)),b=Math.abs(Math.cos(o));let I=0,C=0;c.start<u.l?(I=(u.l-c.start)/m,l.l=Math.min(l.l,u.l-I)):c.end>u.r&&(I=(c.end-u.r)/m,l.r=Math.max(l.r,u.r+I)),f.start<u.t?(C=(u.t-f.start)/b,l.t=Math.min(l.t,u.t-C)):f.end>u.b&&(C=(f.end-u.b)/b,l.b=Math.max(l.b,u.b+C))}function Vd(l,u,o){const c=l.drawingArea,{extra:f,additionalAngle:m,padding:b,size:I}=o,C=l.getPointPosition(u,c+f+b,m),N=Math.round(Be(je(C.angle+ie))),j=function Q_(l,u,o){return 90===o||270===o?l-=u/2:(o>270||o<90)&&(l-=u),l}(C.y,I.h,N),J=function kc(l){return 0===l||180===l?"center":l<180?"left":"right"}(N),ce=function sg(l,u,o){return"right"===o?l-=u:"center"===o&&(l-=u/2),l}(C.x,I.w,J);return{visible:!0,x:C.x,y:j,textAlign:J,left:ce,top:j,right:ce+I.w,bottom:j+I.h}}function Ph(l,u){if(!u)return!0;const{left:o,top:c,right:f,bottom:m}=l;return!(Gn({x:o,y:c},u)||Gn({x:o,y:m},u)||Gn({x:f,y:c},u)||Gn({x:f,y:m},u))}function xm(l,u,o){const{left:c,top:f,right:m,bottom:b}=o,{backdropColor:I}=u;if(!xn(I)){const C=we(u.borderRadius),N=ke(u.backdropPadding);l.fillStyle=I;const j=c-N.left,J=f-N.top,ce=m-c+N.width,ge=b-f+N.height;Object.values(C).some(Ce=>0!==Ce)?(l.beginPath(),$i(l,{x:j,y:J,w:ce,h:ge,radius:C}),l.fill()):l.fillRect(j,J,ce,ge)}}function ag(l,u,o,c){const{ctx:f}=l;if(o)f.arc(l.xCenter,l.yCenter,u,0,On);else{let m=l.getPointPosition(0,u);f.moveTo(m.x,m.y);for(let b=1;b<c;b++)m=l.getPointPosition(b,u),f.lineTo(m.x,m.y)}}const Ud={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ma=Object.keys(Ud);function Eu(l,u){return l-u}function Iu(l,u){if(xn(u))return null;const o=l._adapter,{parser:c,round:f,isoWeekday:m}=l._parseOpts;let b=u;return"function"==typeof c&&(b=c(b)),Kn(b)||(b="string"==typeof c?o.parse(b,c):o.parse(b)),null===b?null:(f&&(b="week"!==f||!Rn(m)&&!0!==m?o.startOf(b,f):o.startOf(b,"isoWeek",m)),+b)}function qf(l,u,o,c){const f=ma.length;for(let m=ma.indexOf(l);m<f-1;++m){const b=Ud[ma[m]];if(b.common&&Math.ceil((o-u)/((b.steps?b.steps:Number.MAX_SAFE_INTEGER)*b.size))<=c)return ma[m]}return ma[f-1]}function Il(l,u,o){if(o){if(o.length){const{lo:c,hi:f}=Fr(o,u);l[o[c]>=u?o[c]:o[f]]=!0}}else l[u]=!0}function J_(l,u,o){const c=[],f={},m=u.length;let b,I;for(b=0;b<m;++b)I=u[b],f[I]=b,c.push({value:I,major:!1});return 0!==m&&o?function Rm(l,u,o,c){const f=l._adapter,m=+f.startOf(u[0].value,c),b=u[u.length-1].value;let I,C;for(I=m;I<=b;I=+f.add(I,1,c))C=o[I],C>=0&&(u[C].major=!0);return u}(l,c,f,o):c}let Fc=(()=>class l extends Da{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(o){super(o),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(o,c={}){const f=o.time||(o.time={}),m=this._adapter=new ca__date(o.adapters.date);m.init(c),wi(f.displayFormats,m.formats()),this._parseOpts={parser:f.parser,round:f.round,isoWeekday:f.isoWeekday},super.init(o),this._normalized=c.normalized}parse(o,c){return void 0===o?null:Iu(this,o)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const o=this.options,c=this._adapter,f=o.time.unit||"day";let{min:m,max:b,minDefined:I,maxDefined:C}=this.getUserBounds();function N(j){!I&&!isNaN(j.min)&&(m=Math.min(m,j.min)),!C&&!isNaN(j.max)&&(b=Math.max(b,j.max))}(!I||!C)&&(N(this._getLabelBounds()),("ticks"!==o.bounds||"labels"!==o.ticks.source)&&N(this.getMinMax(!1))),m=Kn(m)&&!isNaN(m)?m:+c.startOf(Date.now(),f),b=Kn(b)&&!isNaN(b)?b:+c.endOf(Date.now(),f)+1,this.min=Math.min(m,b-1),this.max=Math.max(m+1,b)}_getLabelBounds(){const o=this.getLabelTimestamps();let c=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;return o.length&&(c=o[0],f=o[o.length-1]),{min:c,max:f}}buildTicks(){const o=this.options,c=o.time,f=o.ticks,m="labels"===f.source?this.getLabelTimestamps():this._generate();"ticks"===o.bounds&&m.length&&(this.min=this._userMin||m[0],this.max=this._userMax||m[m.length-1]);const b=this.min,C=function Ps(l,u,o){let c=0,f=l.length;for(;c<f&&l[c]<u;)c++;for(;f>c&&l[f-1]>o;)f--;return c>0||f<l.length?l.slice(c,f):l}(m,b,this.max);return this._unit=c.unit||(f.autoSkip?qf(c.minUnit,this.min,this.max,this._getLabelCapacity(b)):function Lc(l,u,o,c,f){for(let m=ma.length-1;m>=ma.indexOf(o);m--){const b=ma[m];if(Ud[b].common&&l._adapter.diff(f,c,b)>=u-1)return b}return ma[o?ma.indexOf(o):0]}(this,C.length,c.minUnit,this.min,this.max)),this._majorUnit=f.major.enabled&&"year"!==this._unit?function ug(l){for(let u=ma.indexOf(l)+1,o=ma.length;u<o;++u)if(Ud[ma[u]].common)return ma[u]}(this._unit):void 0,this.initOffsets(m),o.reverse&&C.reverse(),J_(this,C,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(o=>+o.value))}initOffsets(o=[]){let m,b,c=0,f=0;this.options.offset&&o.length&&(m=this.getDecimalForValue(o[0]),c=1===o.length?1-m:(this.getDecimalForValue(o[1])-m)/2,b=this.getDecimalForValue(o[o.length-1]),f=1===o.length?b:(b-this.getDecimalForValue(o[o.length-2]))/2);const I=o.length<3?.5:.25;c=Zt(c,0,I),f=Zt(f,0,I),this._offsets={start:c,end:f,factor:1/(c+1+f)}}_generate(){const o=this._adapter,c=this.min,f=this.max,m=this.options,b=m.time,I=b.unit||qf(b.minUnit,c,f,this._getLabelCapacity(c)),C=bn(m.ticks.stepSize,1),N="week"===I&&b.isoWeekday,j=Rn(N)||!0===N,J={};let ge,Ce,ce=c;if(j&&(ce=+o.startOf(ce,"isoWeek",N)),ce=+o.startOf(ce,j?"day":I),o.diff(f,c,I)>1e5*C)throw new Error(c+" and "+f+" are too far apart with stepSize of "+C+" "+I);const Me="data"===m.ticks.source&&this.getDataTimestamps();for(ge=ce,Ce=0;ge<f;ge=+o.add(ge,C,I),Ce++)Il(J,ge,Me);return(ge===f||"ticks"===m.bounds||1===Ce)&&Il(J,ge,Me),Object.keys(J).sort(Eu).map(Oe=>+Oe)}getLabelForValue(o){const f=this.options.time;return this._adapter.format(o,f.tooltipFormat?f.tooltipFormat:f.displayFormats.datetime)}format(o,c){return this._adapter.format(o,c||this.options.time.displayFormats[this._unit])}_tickFormatFunction(o,c,f,m){const b=this.options,I=b.ticks.callback;if(I)return rn(I,[o,c,f],this);const C=b.time.displayFormats,N=this._unit,j=this._majorUnit,ce=j&&C[j],ge=f[c];return this._adapter.format(o,m||(j&&ce&&ge&&ge.major?ce:N&&C[N]))}generateTickLabels(o){let c,f,m;for(c=0,f=o.length;c<f;++c)m=o[c],m.label=this._tickFormatFunction(m.value,c,o)}getDecimalForValue(o){return null===o?NaN:(o-this.min)/(this.max-this.min)}getPixelForValue(o){const c=this._offsets,f=this.getDecimalForValue(o);return this.getPixelForDecimal((c.start+f)*c.factor)}getValueForPixel(o){const c=this._offsets,f=this.getDecimalForPixel(o)/c.factor-c.end;return this.min+f*(this.max-this.min)}_getLabelSize(o){const c=this.options.ticks,f=this.ctx.measureText(o).width,m=rr(this.isHorizontal()?c.maxRotation:c.minRotation),b=Math.cos(m),I=Math.sin(m),C=this._resolveTickFontOptions(0).size;return{w:f*b+C*I,h:f*I+C*b}}_getLabelCapacity(o){const c=this.options.time,f=c.displayFormats,m=f[c.unit]||f.millisecond,b=this._tickFormatFunction(o,0,J_(this,[o],this._majorUnit),m),I=this._getLabelSize(b),C=Math.floor(this.isHorizontal()?this.width/I.w:this.height/I.h)-1;return C>0?C:1}getDataTimestamps(){let c,f,o=this._cache.data||[];if(o.length)return o;const m=this.getMatchingVisibleMetas();if(this._normalized&&m.length)return this._cache.data=m[0].controller.getAllParsedValues(this);for(c=0,f=m.length;c<f;++c)o=o.concat(m[c].controller.getAllParsedValues(this));return this._cache.data=this.normalize(o)}getLabelTimestamps(){const o=this._cache.labels||[];let c,f;if(o.length)return o;const m=this.getLabels();for(c=0,f=m.length;c<f;++c)o.push(Iu(this,m[c]));return this._cache.labels=this._normalized?o:this.normalize(o)}normalize(o){return Qr(o.sort(Eu))}})();function Vc(l,u,o){let m,b,I,C,c=0,f=l.length-1;o?(u>=l[c].pos&&u<=l[f].pos&&({lo:c,hi:f}=Cn(l,"pos",u)),({pos:m,time:I}=l[c]),({pos:b,time:C}=l[f])):(u>=l[c].time&&u<=l[f].time&&({lo:c,hi:f}=Cn(l,"time",u)),({time:m,pos:I}=l[c]),({time:b,pos:C}=l[f]));const N=b-m;return N?I+(C-I)*(u-m)/N:I}var Qu=Object.freeze({__proto__:null,CategoryScale:Ue,LinearScale:class Vn extends _n{static id="linear";static defaults={ticks:{callback:Ns.formatters.numeric}};determineDataLimits(){const{min:u,max:o}=this.getMinMax(!0);this.min=Kn(u)?u:0,this.max=Kn(o)?o:1,this.handleTickRangeOptions()}computeTickLimit(){const u=this.isHorizontal(),o=u?this.width:this.height,c=rr(this.options.ticks.minRotation),f=(u?Math.sin(c):Math.cos(c))||.001,m=this._resolveTickFontOptions(0);return Math.ceil(o/Math.min(40,m.lineHeight/f))}getPixelForValue(u){return null===u?NaN:this.getPixelForDecimal((u-this._startValue)/this._valueRange)}getValueForPixel(u){return this._startValue+this.getDecimalForPixel(u)*this._valueRange}},LogarithmicScale:class Na extends Da{static id="logarithmic";static defaults={ticks:{callback:Ns.formatters.logarithmic,major:{enabled:!0}}};constructor(u){super(u),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(u,o){const c=_n.prototype.parse.apply(this,[u,o]);if(0!==c)return Kn(c)&&c>0?c:null;this._zero=!0}determineDataLimits(){const{min:u,max:o}=this.getMinMax(!0);this.min=Kn(u)?Math.max(0,u):null,this.max=Kn(o)?Math.max(0,o):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Kn(this._userMin)&&(this.min=u===ps(this.min,0)?ps(this.min,-1):ps(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:u,maxDefined:o}=this.getUserBounds();let c=this.min,f=this.max;const m=I=>c=u?c:I,b=I=>f=o?f:I;c===f&&(c<=0?(m(1),b(10)):(m(ps(c,-1)),b(ps(f,1)))),c<=0&&m(ps(f,-1)),f<=0&&b(ps(c,1)),this.min=c,this.max=f}buildTicks(){const u=this.options,c=function yu(l,{min:u,max:o}){u=cn(l.min,u);const c=[],f=Ir(u);let m=function _u(l,u){let c=Ir(u-l);for(;mu(l,u,c)>10;)c++;for(;mu(l,u,c)<10;)c--;return Math.min(c,Ir(l))}(u,o),b=m<0?Math.pow(10,Math.abs(m)):1;const I=Math.pow(10,m),C=f>m?Math.pow(10,f):0,N=Math.round((u-C)*b)/b,j=Math.floor((u-C)/I/10)*I*10;let J=Math.floor((N-j)/Math.pow(10,m)),ce=cn(l.min,Math.round((C+j+J*Math.pow(10,m))*b)/b);for(;ce<o;)c.push({value:ce,major:li(ce),significand:J}),J>=10?J=J<15?15:20:J++,J>=20&&(m++,J=2,b=m>=0?1:b),ce=Math.round((C+j+J*Math.pow(10,m))*b)/b;const ge=cn(l.max,ce);return c.push({value:ge,major:li(ge),significand:J}),c}({min:this._userMin,max:this._userMax},this);return"ticks"===u.bounds&&Nn(c,this,"value"),u.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}getLabelForValue(u){return void 0===u?"0":co(u,this.chart.options.locale,this.options.ticks.format)}configure(){const u=this.min;super.configure(),this._startValue=ue(u),this._valueRange=ue(this.max)-ue(u)}getPixelForValue(u){return(void 0===u||0===u)&&(u=this.min),null===u||isNaN(u)?NaN:this.getPixelForDecimal(u===this.min?0:(ue(u)-this._startValue)/this._valueRange)}getValueForPixel(u){const o=this.getDecimalForPixel(u);return Math.pow(10,this._startValue+o*this._valueRange)}},RadialLinearScale:class lg extends _n{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ns.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:u=>u,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(u){super(u),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const u=this._padding=ke(vu(this.options)/2),o=this.width=this.maxWidth-u.width,c=this.height=this.maxHeight-u.height;this.xCenter=Math.floor(this.left+o/2+u.left),this.yCenter=Math.floor(this.top+c/2+u.top),this.drawingArea=Math.floor(Math.min(o,c)/2)}determineDataLimits(){const{min:u,max:o}=this.getMinMax(!1);this.min=Kn(u)&&!isNaN(u)?u:0,this.max=Kn(o)&&!isNaN(o)?o:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/vu(this.options))}generateTickLabels(u){_n.prototype.generateTickLabels.call(this,u),this._pointLabels=this.getLabels().map((o,c)=>{const f=rn(this.options.pointLabels.callback,[o,c],this);return f||0===f?f:""}).filter((o,c)=>this.chart.getDataVisibility(c))}fit(){const u=this.options;u.display&&u.pointLabels.display?function Hl(l){const u={l:l.left+l._padding.left,r:l.right-l._padding.right,t:l.top+l._padding.top,b:l.bottom-l._padding.bottom},o=Object.assign({},u),c=[],f=[],m=l._pointLabels.length,b=l.options.pointLabels,I=b.centerPointLabels?Vt/m:0;for(let C=0;C<m;C++){const N=b.setContext(l.getPointLabelContext(C));f[C]=N.padding;const j=l.getPointPosition(C,l.drawingArea+f[C],I),J=Ye(N.font),ce=Nc(l.ctx,J,l._pointLabels[C]);c[C]=ce;const ge=je(l.getIndexAngle(C)+I),Ce=Math.round(Be(ge));bu(o,u,ge,jl(Ce,j.x,ce.w,0,180),jl(Ce,j.y,ce.h,90,270))}l.setCenterPoint(u.l-o.l,o.r-u.r,u.t-o.t,o.b-u.b),l._pointLabelItems=function Ku(l,u,o){const c=[],f=l._pointLabels.length,m=l.options,{centerPointLabels:b,display:I}=m.pointLabels,C={extra:vu(m)/2,additionalAngle:b?Vt/f:0};let N;for(let j=0;j<f;j++){C.padding=o[j],C.size=u[j];const J=Vd(l,j,C);c.push(J),"auto"===I&&(J.visible=Ph(J,N),J.visible&&(N=J))}return c}(l,c,f)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(u,o,c,f){this.xCenter+=Math.floor((u-o)/2),this.yCenter+=Math.floor((c-f)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(u,o,c,f))}getIndexAngle(u){return je(u*(On/(this._pointLabels.length||1))+rr(this.options.startAngle||0))}getDistanceFromCenterForValue(u){if(xn(u))return NaN;const o=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-u)*o:(u-this.min)*o}getValueForDistanceFromCenter(u){if(xn(u))return NaN;const o=u/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-o:this.min+o}getPointLabelContext(u){const o=this._pointLabels||[];if(u>=0&&u<o.length){const c=o[u];return function Oh(l,u,o){return It(l,{label:o,index:u,type:"pointLabel"})}(this.getContext(),u,c)}}getPointPosition(u,o,c=0){const f=this.getIndexAngle(u)-ie+c;return{x:Math.cos(f)*o+this.xCenter,y:Math.sin(f)*o+this.yCenter,angle:f}}getPointPositionForValue(u,o){return this.getPointPosition(u,this.getDistanceFromCenterForValue(o))}getBasePosition(u){return this.getPointPositionForValue(u||0,this.getBaseValue())}getPointLabelPosition(u){const{left:o,top:c,right:f,bottom:m}=this._pointLabelItems[u];return{left:o,top:c,right:f,bottom:m}}drawBackground(){const{backgroundColor:u,grid:{circular:o}}=this.options;if(u){const c=this.ctx;c.save(),c.beginPath(),ag(this,this.getDistanceFromCenterForValue(this._endValue),o,this._pointLabels.length),c.closePath(),c.fillStyle=u,c.fill(),c.restore()}}drawGrid(){const u=this.ctx,o=this.options,{angleLines:c,grid:f,border:m}=o,b=this._pointLabels.length;let I,C,N;if(o.pointLabels.display&&function og(l,u){const{ctx:o,options:{pointLabels:c}}=l;for(let f=u-1;f>=0;f--){const m=l._pointLabelItems[f];if(!m.visible)continue;const b=c.setContext(l.getPointLabelContext(f));xm(o,b,m);const I=Ye(b.font),{x:C,y:N,textAlign:j}=m;Ls(o,l._pointLabels[f],C,N+I.lineHeight/2,I,{color:b.color,textAlign:j,textBaseline:"middle"})}}(this,b),f.display&&this.ticks.forEach((j,J)=>{if(0!==J){C=this.getDistanceFromCenterForValue(j.value);const ce=this.getContext(J),ge=f.setContext(ce),Ce=m.setContext(ce);!function Mm(l,u,o,c,f){const m=l.ctx,b=u.circular,{color:I,lineWidth:C}=u;!b&&!c||!I||!C||o<0||(m.save(),m.strokeStyle=I,m.lineWidth=C,m.setLineDash(f.dash),m.lineDashOffset=f.dashOffset,m.beginPath(),ag(l,o,b,c),m.closePath(),m.stroke(),m.restore())}(this,ge,C,b,Ce)}}),c.display){for(u.save(),I=b-1;I>=0;I--){const j=c.setContext(this.getPointLabelContext(I)),{color:J,lineWidth:ce}=j;!ce||!J||(u.lineWidth=ce,u.strokeStyle=J,u.setLineDash(j.borderDash),u.lineDashOffset=j.borderDashOffset,C=this.getDistanceFromCenterForValue(o.ticks.reverse?this.min:this.max),N=this.getPointPosition(I,C),u.beginPath(),u.moveTo(this.xCenter,this.yCenter),u.lineTo(N.x,N.y),u.stroke())}u.restore()}}drawBorder(){}drawLabels(){const u=this.ctx,o=this.options,c=o.ticks;if(!c.display)return;const f=this.getIndexAngle(0);let m,b;u.save(),u.translate(this.xCenter,this.yCenter),u.rotate(f),u.textAlign="center",u.textBaseline="middle",this.ticks.forEach((I,C)=>{if(0===C&&!o.reverse)return;const N=c.setContext(this.getContext(C)),j=Ye(N.font);if(m=this.getDistanceFromCenterForValue(this.ticks[C].value),N.showLabelBackdrop){u.font=j.string,b=u.measureText(I.label).width,u.fillStyle=N.backdropColor;const J=ke(N.backdropPadding);u.fillRect(-b/2-J.left,-m-j.size/2-J.top,b+J.width,j.size+J.height)}Ls(u,I.label,0,-m,j,{color:N.color,strokeColor:N.textStrokeColor,strokeWidth:N.textStrokeWidth})}),u.restore()}drawTitle(){}},TimeScale:Fc,TimeSeriesScale:class Yu extends Fc{static id="timeseries";static defaults=Fc.defaults;constructor(u){super(u),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const u=this._getTimestampsForTable(),o=this._table=this.buildLookupTable(u);this._minPos=Vc(o,this.min),this._tableRange=Vc(o,this.max)-this._minPos,super.initOffsets(u)}buildLookupTable(u){const{min:o,max:c}=this,f=[],m=[];let b,I,C,N,j;for(b=0,I=u.length;b<I;++b)N=u[b],N>=o&&N<=c&&f.push(N);if(f.length<2)return[{time:o,pos:0},{time:c,pos:1}];for(b=0,I=f.length;b<I;++b)j=f[b+1],C=f[b-1],N=f[b],Math.round((j+C)/2)!==N&&m.push({time:N,pos:b/(I-1)});return m}_generate(){const u=this.min,o=this.max;let c=super.getDataTimestamps();return(!c.includes(u)||!c.length)&&c.splice(0,0,u),(!c.includes(o)||1===c.length)&&c.push(o),c.sort((f,m)=>f-m)}_getTimestampsForTable(){let u=this._cache.all||[];if(u.length)return u;const o=this.getDataTimestamps(),c=this.getLabelTimestamps();return u=o.length&&c.length?this.normalize(o.concat(c)):o.length?o:c,u=this._cache.all=u,u}getDecimalForValue(u){return(Vc(this._table,u)-this._minPos)/this._tableRange}getValueForPixel(u){const o=this._offsets,c=this.getDecimalForPixel(u)/o.factor-o.end;return Vc(this._table,c*this._tableRange+this._minPos,!0)}}});const Ju=[md,Qp,y,Qu],zl=function Bd(l,u){return l===u||l!=l&&u!=u},Bc=function dg(l,u){for(var o=l.length;o--;)if(zl(l[o][0],u))return o;return-1};var hg=Array.prototype.splice;function jc(l){var u=-1,o=null==l?0:l.length;for(this.clear();++u<o;){var c=l[u];this.set(c[0],c[1])}}jc.prototype.clear=function Uc(){this.__data__=[],this.size=0},jc.prototype.delete=function Zf(l){var u=this.__data__,o=Bc(u,l);return!(o<0||(o==u.length-1?u.pop():hg.call(u,o,1),--this.size,0))},jc.prototype.get=function Nh(l){var u=this.__data__,o=Bc(u,l);return o<0?void 0:u[o][1]},jc.prototype.has=function X_(l){return Bc(this.__data__,l)>-1},jc.prototype.set=function ey(l,u){var o=this.__data__,c=Bc(o,l);return c<0?(++this.size,o.push([l,u])):o[c][1]=u,this};const Tl=jc,zc="object"==typeof global&&global&&global.Object===Object&&global;var Lh="object"==typeof self&&self&&self.Object===Object&&self;const $l=zc||Lh||Function("return this")();var Lm=$l.Symbol,Fh=Object.prototype,ry=Fh.hasOwnProperty,Fm=Fh.toString,Gl=Lm?Lm.toStringTag:void 0;var Vm=Object.prototype.toString;var Um=Lm?Lm.toStringTag:void 0;const Au=function wu(l){return null==l?void 0===l?"[object Undefined]":"[object Null]":Um&&Um in Object(l)?function Vh(l){var u=ry.call(l,Gl),o=l[Gl];try{l[Gl]=void 0;var c=!0}catch{}var f=Fm.call(l);return c&&(u?l[Gl]=o:delete l[Gl]),f}(l):function Qo(l){return Vm.call(l)}(l)},Fa=function Bm(l){var u=typeof l;return null!=l&&("object"==u||"function"==u)},Kf=function _g(l){if(!Fa(l))return!1;var u=Au(l);return"[object Function]"==u||"[object GeneratorFunction]"==u||"[object AsyncFunction]"==u||"[object Proxy]"==u};var l,yg=$l["__core-js_shared__"],Hm=(l=/[^.]+$/.exec(yg&&yg.keys&&yg.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"";var ov=Function.prototype.toString;var Gc=/^\[object .+?Constructor\]$/,qm=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ay=function Eg(l){return!(!Fa(l)||function sv(l){return!!Hm&&Hm in l}(l))&&(Kf(l)?qm:Gc).test(function oy(l){if(null!=l){try{return ov.call(l)}catch{}try{return l+""}catch{}}return""}(l))},Qf=function ly(l,u){var o=function nc(l,u){return l?.[u]}(l,u);return ay(o)?o:void 0},Zm=Qf($l,"Map"),Bh=Qf(Object,"create");var zd=Object.prototype.hasOwnProperty;var cy=Object.prototype.hasOwnProperty;function $d(l){var u=-1,o=null==l?0:l.length;for(this.clear();++u<o;){var c=l[u];this.set(c[0],c[1])}}$d.prototype.clear=function Jf(){this.__data__=Bh?Bh(null):{},this.size=0},$d.prototype.delete=function av(l){var u=this.has(l)&&delete this.__data__[l];return this.size-=u?1:0,u},$d.prototype.get=function Hh(l){var u=this.__data__;if(Bh){var o=u[l];return"__lodash_hash_undefined__"===o?void 0:o}return zd.call(u,l)?u[l]:void 0},$d.prototype.has=function Tg(l){var u=this.__data__;return Bh?void 0!==u[l]:cy.call(u,l)},$d.prototype.set=function dy(l,u){var o=this.__data__;return this.size+=this.has(l)?0:1,o[l]=Bh&&void 0===u?"__lodash_hash_undefined__":u,this};const Wh=$d,Cu=function rc(l,u){var o=l.__data__;return function Zc(l){var u=typeof l;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==l:null===l}(u)?o["string"==typeof u?"string":"hash"]:o.map};function ic(l){var u=-1,o=null==l?0:l.length;for(this.clear();++u<o;){var c=l[u];this.set(c[0],c[1])}}ic.prototype.clear=function Ym(){this.size=0,this.__data__={hash:new Wh,map:new(Zm||Tl),string:new Wh}},ic.prototype.delete=function Xf(l){var u=Cu(this,l).delete(l);return this.size-=u?1:0,u},ic.prototype.get=function Zh(l){return Cu(this,l).get(l)},ic.prototype.has=function qd(l){return Cu(this,l).has(l)},ic.prototype.set=function hy(l,u){var o=Cu(this,l),c=o.size;return o.set(l,u),this.size+=o.size==c?0:1,this};const Kc=ic;function Al(l){var u=this.__data__=new Tl(l);this.size=u.size}Al.prototype.clear=function Tu(){this.__data__=new Tl,this.size=0},Al.prototype.delete=function Nm(l){var u=this.__data__,o=u.delete(l);return this.size=u.size,o},Al.prototype.get=function ty(l){return this.__data__.get(l)},Al.prototype.has=function kh(l){return this.__data__.has(l)},Al.prototype.set=function tp(l,u){var o=this.__data__;if(o instanceof Tl){var c=o.__data__;if(!Zm||c.length<199)return c.push([l,u]),this.size=++o.size,this;o=this.__data__=new Kc(c)}return o.set(l,u),this.size=o.size,this};const np=Al;var Dg=function(){try{var l=Qf(Object,"defineProperty");return l({},"",{}),l}catch{}}();const Yc=Dg,Qm=function rp(l,u,o){"__proto__"==u&&Yc?Yc(l,u,{configurable:!0,enumerable:!0,value:o,writable:!0}):l[u]=o},Wd=function fy(l,u,o){(void 0!==o&&!zl(l[u],o)||void 0===o&&!(u in l))&&Qm(l,u,o)};var lv=function Sg(l){return function(u,o,c){for(var f=-1,m=Object(u),b=c(u),I=b.length;I--;){var C=b[l?I:++f];if(!1===o(m[C],C,m))break}return u}}();const lo=lv;var Jm="object"==typeof exports&&exports&&!exports.nodeType&&exports,Qh=Jm&&"object"==typeof module&&module&&!module.nodeType&&module,Cl=Qh&&Qh.exports===Jm?$l.Buffer:void 0,Kd=Cl?Cl.allocUnsafe:void 0;const Qc=$l.Uint8Array,uv=function op(l,u){var o=u?function xg(l){var u=new l.constructor(l.byteLength);return new Qc(u).set(new Qc(l)),u}(l.buffer):l.buffer;return new l.constructor(o,l.byteOffset,l.length)};var ed=Object.create,ap=function(){function l(){}return function(u){if(!Fa(u))return{};if(ed)return ed(u);l.prototype=u;var o=new l;return l.prototype=void 0,o}}();const lp=ap;var Mg=function ef(l,u){return function(o){return l(u(o))}}(Object.getPrototypeOf,Object);const cp=Mg;var Rg=Object.prototype;const Pg=function td(l){var u=l&&l.constructor;return l===("function"==typeof u&&u.prototype||Rg)},sc=function py(l){return null!=l&&"object"==typeof l},nf=function Yd(l){return sc(l)&&"[object Arguments]"==Au(l)};var rf=Object.prototype,Xm=rf.hasOwnProperty,nd=rf.propertyIsEnumerable,e_=nf(function(){return arguments}())?nf:function(l){return sc(l)&&Xm.call(l,"callee")&&!nd.call(l,"callee")};const Ng=e_,fp=Array.isArray,pp=function sf(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=9007199254740991},af=function t_(l){return null!=l&&pp(l.length)&&!Kf(l)};var lf="object"==typeof exports&&exports&&!exports.nodeType&&exports,Lg=lf&&"object"==typeof module&&module&&!module.nodeType&&module,cf=Lg&&Lg.exports===lf?$l.Buffer:void 0;const df=(cf?cf.isBuffer:void 0)||function n_(){return!1};var sd=Function.prototype.toString,cv=Object.prototype.hasOwnProperty,i_=sd.call(Object);var Wi={};Wi["[object Float32Array]"]=Wi["[object Float64Array]"]=Wi["[object Int8Array]"]=Wi["[object Int16Array]"]=Wi["[object Int32Array]"]=Wi["[object Uint8Array]"]=Wi["[object Uint8ClampedArray]"]=Wi["[object Uint16Array]"]=Wi["[object Uint32Array]"]=!0,Wi["[object Arguments]"]=Wi["[object Array]"]=Wi["[object ArrayBuffer]"]=Wi["[object Boolean]"]=Wi["[object DataView]"]=Wi["[object Date]"]=Wi["[object Error]"]=Wi["[object Function]"]=Wi["[object Map]"]=Wi["[object Number]"]=Wi["[object Object]"]=Wi["[object RegExp]"]=Wi["[object Set]"]=Wi["[object String]"]=Wi["[object WeakMap]"]=!1;var Wl="object"==typeof exports&&exports&&!exports.nodeType&&exports,sl=Wl&&"object"==typeof module&&module&&!module.nodeType&&module,pf=sl&&sl.exports===Wl&&zc.process,h_=function(){try{return sl&&sl.require&&sl.require("util").types||pf&&pf.binding&&pf.binding("util")}catch{}}(),Xd=h_&&h_.isTypedArray;const Zl=Xd?function d_(l){return function(u){return l(u)}}(Xd):function $g(l){return sc(l)&&pp(l.length)&&!!Wi[Au(l)]},eh=function Gg(l,u){if(("constructor"!==u||"function"!=typeof l[u])&&"__proto__"!=u)return l[u]};var qg=Object.prototype.hasOwnProperty;const Wg=function Du(l,u,o){var c=l[u];(!qg.call(l,u)||!zl(c,o)||void 0===o&&!(u in l))&&Qm(l,u,o)};var m_=/^(?:0|[1-9]\d*)$/;const Iy=function bp(l,u){var o=typeof l;return!!(u=u??9007199254740991)&&("number"==o||"symbol"!=o&&m_.test(l))&&l>-1&&l%1==0&&l<u};var __=Object.prototype.hasOwnProperty;const y_=function Ep(l,u){var o=fp(l),c=!o&&Ng(l),f=!o&&!c&&df(l),m=!o&&!c&&!f&&Zl(l),b=o||c||f||m,I=b?function Ey(l,u){for(var o=-1,c=Array(l);++o<l;)c[o]=u(o);return c}(l.length,String):[],C=I.length;for(var N in l)(u||__.call(l,N))&&(!b||!("length"==N||f&&("offset"==N||"parent"==N)||m&&("buffer"==N||"byteLength"==N||"byteOffset"==N)||Iy(N,C)))&&I.push(N);return I};var v_=Object.prototype.hasOwnProperty;const nh=function Tp(l){if(!Fa(l))return function Ip(l){var u=[];if(null!=l)for(var o in Object(l))u.push(o);return u}(l);var u=Pg(l),o=[];for(var c in l)"constructor"==c&&(u||!v_.call(l,c))||o.push(c);return o},Ap=function wp(l){return af(l)?y_(l,!0):nh(l)},ih=function rh(l){return function f_(l,u,o,c){var f=!o;o||(o={});for(var m=-1,b=u.length;++m<b;){var I=u[m],C=c?c(o[I],l[I],I,o,l):void 0;void 0===C&&(C=l[I]),f?Qm(o,I,C):Wg(o,I,C)}return o}(l,Ap(l))},mf=function sh(l,u,o,c,f,m,b){var I=eh(l,o),C=eh(u,o),N=b.get(C);if(N)Wd(l,o,N);else{var j=m?m(I,C,o+"",l,u,b):void 0,J=void 0===j;if(J){var ce=fp(C),ge=!ce&&df(C),Ce=!ce&&!ge&&Zl(C);j=C,ce||ge||Ce?fp(I)?j=I:function gy(l){return sc(l)&&af(l)}(I)?j=function Jc(l,u){var o=-1,c=l.length;for(u||(u=Array(c));++o<c;)u[o]=l[o];return u}(I):ge?(J=!1,j=function ip(l,u){if(u)return l.slice();var o=l.length,c=Kd?Kd(o):new l.constructor(o);return l.copy(c),c}(C,!0)):Ce?(J=!1,j=uv(C,!0)):j=[]:function mp(l){if(!sc(l)||"[object Object]"!=Au(l))return!1;var u=cp(l);if(null===u)return!0;var o=cv.call(u,"constructor")&&u.constructor;return"function"==typeof o&&o instanceof o&&sd.call(o)==i_}(C)||Ng(C)?(j=I,Ng(I)?j=ih(I):(!Fa(I)||Kf(I))&&(j=function dp(l){return"function"!=typeof l.constructor||Pg(l)?{}:lp(cp(l))}(C))):J=!1}J&&(b.set(C,j),f(j,C,c,m,b),b.delete(C)),Wd(l,o,j)}},Dp=function Cp(l,u,o,c,f){l!==u&&lo(u,function(m,b){if(f||(f=new np),Fa(m))mf(l,u,b,o,Cp,c,f);else{var I=c?c(eh(l,b),m,b+"",l,u,f):void 0;void 0===I&&(I=m),Wd(l,b,I)}},Ap)},_f=function uc(l){return l};var b_=Math.max;const Yg=function vf(l){return function(){return l}};var Qg=Yc?function(l,u){return Yc(l,"toString",{configurable:!0,enumerable:!1,value:Yg(u),writable:!0})}:_f,xp=Date.now,_a=function Mp(l){var u=0,o=0;return function(){var c=xp(),f=16-(c-o);if(o=c,f>0){if(++u>=800)return arguments[0]}else u=0;return l.apply(void 0,arguments)}}(Qg);const oh=_a,w_=function T_(l,u){return oh(function Ty(l,u,o){return u=b_(void 0===u?l.length-1:u,0),function(){for(var c=arguments,f=-1,m=b_(c.length-u,0),b=Array(m);++f<m;)b[f]=c[u+f];f=-1;for(var I=Array(u+1);++f<u;)I[f]=c[f];return I[u]=o(b),function yf(l,u,o){switch(o.length){case 0:return l.call(u);case 1:return l.call(u,o[0]);case 2:return l.call(u,o[0],o[1]);case 3:return l.call(u,o[0],o[1],o[2])}return l.apply(u,o)}(l,this,I)}}(l,u,_f),l+"")};var Ay=function Xg(l){return w_(function(u,o){var c=-1,f=o.length,m=f>1?o[f-1]:void 0,b=f>2?o[2]:void 0;for(m=l.length>3&&"function"==typeof m?(f--,m):void 0,b&&function Rp(l,u,o){if(!Fa(o))return!1;var c=typeof u;return!!("number"==c?af(o)&&Iy(u,o.length):"string"==c&&u in o)&&zl(o[u],l)}(o[0],o[1],b)&&(m=f<3?void 0:m,f=1),u=Object(u);++c<f;){var I=o[c];I&&l(u,I,c,m)}return u})}(function(l,u,o){Dp(l,u,o)});const A_=Ay,Pp=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],Dy={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:l=>cc(dc(l.datasetIndex),.4),borderColor:l=>cc(dc(l.datasetIndex),1),pointBackgroundColor:l=>cc(dc(l.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:l=>cc(dc(l.datasetIndex),.6),borderColor:l=>cc(dc(l.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:l=>cc(dc(l.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:l=>cc(dc(l.dataIndex),.6),borderColor:l=>cc(dc(l.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function cc(l,u){return"rgba("+l.concat(u).join(",")+")"}function em(l,u){return Math.floor(Math.random()*(u-l+1))+l}function dc(l=0){return Pp[l]||function Sy(){return[em(0,255),em(0,255),em(0,255)]}()}let Sl=(()=>{class l{constructor(){this.generateColors=!0}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();Pi.register(...Ju);let Op=(()=>{class l{constructor(o){o?.plugins&&Pi.register(...o.plugins);const c=A_(o?.generateColors?Dy:{},o?.defaults||{});Gr.set(c)}static forRoot(o){return{ngModule:l,providers:[{provide:Sl,useValue:o}]}}static#e=this.\u0275fac=function(c){return new(c||l)(E.LFG(Sl,8))};static#t=this.\u0275mod=E.oAB({type:l});static#n=this.\u0275inj=E.cJS({})}return l})();const tm_firebase={apiKey:"AIzaSyBbCizM3I4KZ22G7fZMsPLc_hVSt7m1_nE",authDomain:"coala-df864.firebaseapp.com",databaseURL:"https://coala-df864-default-rtdb.europe-west1.firebasedatabase.app",projectId:"coala-df864",storageBucket:"coala-df864.appspot.com",messagingSenderId:"912952563459",appId:"1:912952563459:web:774607334db6568efc3b36"};var ld=X(721),Np=X(5349),ah=X(1210),nm=X(5816),ts=X(8589);const Ur=function(){return["/afdelingLijst",2]},xy=function(){return["/afdelingLijst",1]},rm=function(){return["/afdelingLijst",4]},lh=function(){return["/afdelingLijst",3]},C_=function(){return["/afdelingLijst",6]},Io=function(){return["/afdelingLijst",5]},bs=function(){return["/afdelingLijst",8]},To=function(){return["/afdelingLijst",7]},My=function(){return["/afdelingLijst",9]},gv=function(){return["/afdelingLijst",10]},kp=function(){return["/afdelingLijst",12]},mv=function(){return["/afdelingLijst",11]};let im=(()=>{class l{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=E.Xpm({type:l,selectors:[["app-dashboard"]],decls:63,vars:24,consts:[[1,"container","mx-auto","p-8"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],[1,"bg-white","p-4","rounded-lg","shadow-md"],[1,"text-xl","font-semibold","mb-2","hover:text-blue-700","ease-in-out","duration-300"],["href","#"],[1,"text-xl"],[1,"w-fit","mx-auto","mt-5"],[1,"border-2","border-blue-700","bg-blue-300","px-4","py-1","my-2","rounded-lg","hover:bg-blue-400","ease-in-out","duration-500"],[1,"w-fit","mx-auto"],[1,"text-xl","font-semibold","mb-2"],[1,"grid","grid-cols-2","gap-1","text-sm","text-center"],[1,"cursor-pointer","border-2","border-purple-700","bg-purple-400","rounded-sm","py-1","px-4",3,"routerLink"],[1,"fa-solid","fa-venus","fa-sm"],[1,"fa-solid","fa-mars","fa-sm"],[1,"cursor-pointer","border-2","border-yellow-700","bg-yellow-400","rounded-sm","py-1","px-4",3,"routerLink"],[1,"cursor-pointer","border-2","border-green-700","bg-green-400","rounded-sm","py-1","px-4",3,"routerLink"],[1,"cursor-pointer","border-2","border-red-700","bg-red-400","rounded-sm","py-1","px-4",3,"routerLink"],[1,"cursor-pointer","border-2","border-blue-700","bg-blue-400","rounded-sm","py-1","px-4",3,"routerLink"],[1,"cursor-pointer","border-2","border-orange-700","bg-orange-400","rounded-sm","py-1","px-4",3,"routerLink"],[1,"bg-white","p-4","rounded-lg","shadow-md","text-center"],[1,"text-7xl","font-bold","mt-16"]],template:function(c,f){1&c&&(E.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3)(4,"a",4),E._uU(5," Jou Afdeling "),E.qZA()(),E.TgZ(6,"h3",5),E._uU(7,"Kerels"),E.qZA(),E.TgZ(8,"h2"),E._uU(9,"- Leden: 13"),E.qZA(),E.TgZ(10,"h2"),E._uU(11,"- Leiding: 3"),E.qZA(),E.TgZ(12,"div",6)(13,"button",7),E._uU(14,"Download Mailijst"),E.qZA()(),E.TgZ(15,"div",8)(16,"button",7),E._uU(17,"Afdeling Info"),E.qZA()()(),E.TgZ(18,"div",2)(19,"h2",9),E._uU(20,"Afdeling"),E.qZA(),E.TgZ(21,"div",10)(22,"div",11),E._uU(23,"Ribbel "),E._UZ(24,"i",12),E.qZA(),E.TgZ(25,"div",11),E._uU(26,"Ribbel "),E._UZ(27,"i",13),E.qZA(),E.TgZ(28,"div",14),E._uU(29,"Speelclub "),E._UZ(30,"i",12),E.qZA(),E.TgZ(31,"div",14),E._uU(32,"Speelclub "),E._UZ(33,"i",13),E.qZA(),E.TgZ(34,"div",15),E._uU(35,"Kwiks "),E._UZ(36,"i",12),E.qZA(),E.TgZ(37,"div",15),E._uU(38,"Rakkers "),E._UZ(39,"i",13),E.qZA(),E.TgZ(40,"div",16),E._uU(41,"Tippers "),E._UZ(42,"i",12),E.qZA(),E.TgZ(43,"div",16),E._uU(44,"Toppers "),E._UZ(45,"i",13),E.qZA(),E.TgZ(46,"div",17),E._uU(47,"Tip 10's "),E._UZ(48,"i",12),E.qZA(),E.TgZ(49,"div",17),E._uU(50,"Kerels "),E._UZ(51,"i",13),E.qZA(),E.TgZ(52,"div",18),E._uU(53,"Aspi "),E._UZ(54,"i",13),E.qZA(),E.TgZ(55,"div",18),E._uU(56,"Aspi "),E._UZ(57,"i",13),E.qZA()()(),E.TgZ(58,"div",19)(59,"h2",9),E._uU(60,"Totaal Ingeschreven Leden"),E.qZA(),E.TgZ(61,"h3",20),E._uU(62," NaN "),E.qZA()()()()),2&c&&(E.xp6(22),E.Q6J("routerLink",E.DdM(12,Ur)),E.xp6(3),E.Q6J("routerLink",E.DdM(13,xy)),E.xp6(3),E.Q6J("routerLink",E.DdM(14,rm)),E.xp6(3),E.Q6J("routerLink",E.DdM(15,lh)),E.xp6(3),E.Q6J("routerLink",E.DdM(16,C_)),E.xp6(3),E.Q6J("routerLink",E.DdM(17,Io)),E.xp6(3),E.Q6J("routerLink",E.DdM(18,bs)),E.xp6(3),E.Q6J("routerLink",E.DdM(19,To)),E.xp6(3),E.Q6J("routerLink",E.DdM(20,My)),E.xp6(3),E.Q6J("routerLink",E.DdM(21,gv)),E.xp6(3),E.Q6J("routerLink",E.DdM(22,kp)),E.xp6(3),E.Q6J("routerLink",E.DdM(23,mv)))},dependencies:[ts.rH]})}return l})();var sm=X(5303);const uh=function(){return["/addLid"]},bf=function(){return["/afdelingLijst",1]},Ry=function(){return["/afdelingLijst",2]},Ii=function(){return["/afdelingLijst",3]},cb=function(){return["/afdelingLijst",4]},Py=function(){return["/afdelingLijst",5]},Rs=function(){return["/afdelingLijst",6]},om=function(){return["/afdelingLijst",7]},_v=function(){return["/afdelingLijst",8]},yv=function(){return["/afdelingLijst",9]},am=function(){return["/afdelingLijst",10]},Oy=function(){return["/afdelingLijst",11]},Lp=function(){return["/afdelingLijst",12]};let vv=(()=>{class l{constructor(o){this.dataService=o,this.users=[]}ngOnInit(){}static#e=this.\u0275fac=function(c){return new(c||l)(E.Y36(sm.D))};static#t=this.\u0275cmp=E.Xpm({type:l,selectors:[["app-afdelingen"]],decls:43,vars:26,consts:[[1,"bg-white","p-6","rounded-lg","shadow-md"],[1,"text-5xl","font-semibold","text-center"],[1,"mb-4","mx-auto","w-fit","mt-4"],["routerLinkActive","router-link-active",1,"border-2","bg-red-300","border-red-700","px-8","py-2","text-lg","rounded-md","hover:bg-red-400","ease-in-out","font-semibold",3,"routerLink"],[1,"grid","grid-cols-2","gap-4","text-lg","text-center"],[1,"border-2","border-purple-700","bg-purple-400","rounded-lg","py-2","px-6","cursor-pointer","ease-in-out","duration-300","hover:bg-purple-500","hover:font-semibold",3,"routerLink"],[1,"fa-solid","fa-venus","fa-lg"],[1,"fa-solid","fa-mars","fa-lg"],[1,"border-2","border-yellow-700","bg-yellow-400","rounded-lg","py-2","px-6","cursor-pointer","ease-in-out","duration-300","hover:bg-yellow-500","hover:font-semibold",3,"routerLink"],[1,"border-2","border-green-700","bg-green-400","rounded-lg","py-2","px-6","cursor-pointer","ease-in-out","duration-300","hover:bg-green-500","hover:font-semibold",3,"routerLink"],[1,"border-2","border-red-700","bg-red-400","rounded-lg","py-2","px-6","cursor-pointer","ease-in-out","duration-300","hover:bg-red-500","hover:font-semibold",3,"routerLink"],[1,"border-2","border-blue-700","bg-blue-400","rounded-lg","py-2","px-6","cursor-pointer","ease-in-out","duration-300","hover:bg-blue-500","hover:font-semibold",3,"routerLink"],[1,"border-2","border-orange-700","bg-orange-400","rounded-lg","py-2","px-6","cursor-pointer","ease-in-out","duration-300","hover:bg-orange-500","hover:font-semibold",3,"routerLink"]],template:function(c,f){1&c&&(E.TgZ(0,"div",0)(1,"h2",1),E._uU(2,"Afdeling"),E.qZA(),E.TgZ(3,"div",2)(4,"button",3),E._uU(5,"Voeg Nieuw Lid Toe"),E.qZA()(),E.TgZ(6,"div",4)(7,"div",5),E._uU(8," Ribbel "),E._UZ(9,"i",6),E.qZA(),E.TgZ(10,"div",5),E._uU(11," Ribbel "),E._UZ(12,"i",7),E.qZA(),E.TgZ(13,"div",8),E._uU(14," Speelclub "),E._UZ(15,"i",6),E.qZA(),E.TgZ(16,"div",8),E._uU(17," Speelclub "),E._UZ(18,"i",7),E.qZA(),E.TgZ(19,"div",9),E._uU(20," Kwiks "),E._UZ(21,"i",6),E.qZA(),E.TgZ(22,"div",9),E._uU(23," Rakkers "),E._UZ(24,"i",7),E.qZA(),E.TgZ(25,"div",10),E._uU(26," Tippers "),E._UZ(27,"i",6),E.qZA(),E.TgZ(28,"div",10),E._uU(29," Toppers "),E._UZ(30,"i",7),E.qZA(),E.TgZ(31,"div",11),E._uU(32," Tip 10's "),E._UZ(33,"i",6),E.qZA(),E.TgZ(34,"div",11),E._uU(35," Kerels "),E._UZ(36,"i",7),E.qZA(),E.TgZ(37,"div",12),E._uU(38," Aspi "),E._UZ(39,"i",6),E.qZA(),E.TgZ(40,"div",12),E._uU(41," Aspi "),E._UZ(42,"i",7),E.qZA()()()),2&c&&(E.xp6(4),E.Q6J("routerLink",E.DdM(13,uh)),E.xp6(3),E.Q6J("routerLink",E.DdM(14,bf)),E.xp6(3),E.Q6J("routerLink",E.DdM(15,Ry)),E.xp6(3),E.Q6J("routerLink",E.DdM(16,Ii)),E.xp6(3),E.Q6J("routerLink",E.DdM(17,cb)),E.xp6(3),E.Q6J("routerLink",E.DdM(18,Py)),E.xp6(3),E.Q6J("routerLink",E.DdM(19,Rs)),E.xp6(3),E.Q6J("routerLink",E.DdM(20,om)),E.xp6(3),E.Q6J("routerLink",E.DdM(21,_v)),E.xp6(3),E.Q6J("routerLink",E.DdM(22,yv)),E.xp6(3),E.Q6J("routerLink",E.DdM(23,am)),E.xp6(3),E.Q6J("routerLink",E.DdM(24,Oy)),E.xp6(3),E.Q6J("routerLink",E.DdM(25,Lp)))},dependencies:[ts.rH,ts.Od]})}return l})();var Fp=X(5220),ud=X(6814),Jo=X(95);let bv=(()=>{class l{constructor(o,c){this.el=o,this.renderer=c}onMouseEnter(){this.renderer.setStyle(this.el.nativeElement,"background-color","#FFA500"),this.renderer.setStyle(this.el.nativeElement,"font-size","18px")}onMouseLeave(){this.renderer.removeStyle(this.el.nativeElement,"background-color"),this.renderer.removeStyle(this.el.nativeElement,"font-size")}static#e=this.\u0275fac=function(c){return new(c||l)(E.Y36(E.SBq),E.Y36(E.Qsj))};static#t=this.\u0275dir=E.lG2({type:l,selectors:[["","appHover",""]],hostBindings:function(c,f){1&c&&E.NdJ("mouseenter",function(){return f.onMouseEnter()})("mouseleave",function(){return f.onMouseLeave()})}})}return l})(),ch=(()=>{class l{transform(o,c){return Array.isArray(o)?o.sort((f,m)=>{const b=f[c].toLowerCase(),I=m[c].toLowerCase();return b<I?-1:b>I?1:0}):o}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275pipe=E.Yjl({name:"sortByName",type:l,pure:!0})}return l})();const Ef=function(l){return["/ledenDetails",l]};function Ny(l,u){if(1&l){const o=E.EpF();E.TgZ(0,"div",10)(1,"div",11)(2,"span",12),E._uU(3),E.qZA()(),E.TgZ(4,"div",11)(5,"span",12),E._uU(6),E.qZA()(),E.TgZ(7,"div",8)(8,"span",12),E._uU(9),E.qZA()(),E.TgZ(10,"div",8)(11,"span",12),E._uU(12),E.qZA()(),E.TgZ(13,"div",8)(14,"input",13),E.NdJ("ngModelChange",function(f){const b=E.CHM(o).$implicit;return E.KtG(b.betaald=f)})("change",function(){const m=E.CHM(o).$implicit,b=E.oxw();return E.KtG(b.handleCheckboxChange(m.Id,m.betaald,m))}),E.qZA()(),E._UZ(15,"div",8),E.TgZ(16,"div",8)(17,"button",14),E._uU(18," Details "),E.qZA()()()}if(2&l){const o=u.$implicit;E.xp6(3),E.hij("",o.voornaam," "),E.xp6(3),E.hij(" ",o.name," "),E.xp6(3),E.hij(" ",o.geboortedatum," "),E.xp6(3),E.Oqu(o.afdeling),E.xp6(2),E.Q6J("ngModel",o.betaald),E.xp6(3),E.Q6J("routerLink",E.VKq(6,Ef,o.Id))}}let cd=(()=>{class l{constructor(o,c,f,m){this.dataService=o,this.route=c,this.router=f,this.fb=m,this.leden=[],this.ledenAll=[],this.inschrijvingIsChecked=!1}ngOnInit(){this.route.params.subscribe(o=>{this.parameterValue=o.afdelingParId}),this.onGetAfdeling(this.parameterValue)}handleCheckboxChange(o,c,f){f.betaald=c,this.fb.changeCheckBoxState(f,f.Id)}onGetAfdeling(o){const c=parseInt(o);this.fb.getAllLedenPerAfdeling(c).subscribe(f=>{this.leden=f})}static#e=this.\u0275fac=function(c){return new(c||l)(E.Y36(sm.D),E.Y36(ts.gz),E.Y36(ts.F0),E.Y36(Fp.O))};static#t=this.\u0275cmp=E.Xpm({type:l,selectors:[["app-afdeling-lijst"]],decls:29,vars:6,consts:[[1,"text-center","font-bold","text-3xl","mt-3"],[1,"mx-auto","w-fit","mt-2"],[1,"border-2","text-black","border-blue-600","bg-blue-500","hover:bg-blue-700","px-4","py-1","rounded-md","font-semibold","text-xl",3,"routerLink"],[1,"grid","grid-cols-1","gap-2","px-2","py-4"],[1,"grid","grid-cols-7","grid-rows-1","p-2","shadow-md","text-left","bg-orange-300","rounded-lg","border-2","border-black"],[1,"text-center","w-fit","ml-6"],[1,"text-xl","font-bold"],[1,"text-cente","w-fit","px-3"],[1,"text-center"],["class","grid grid-cols-7 grid-rows-1 p-2 shadow-md  text-left bg-orange-300 rounded-lg border-2 border-black","appHover","",4,"ngFor","ngForOf"],["appHover","",1,"grid","grid-cols-7","grid-rows-1","p-2","shadow-md","text-left","bg-orange-300","rounded-lg","border-2","border-black"],[1,"text-center","w-fit","px-3","ml-6"],[1,"text-lg","font-semibold"],["type","checkbox","id","inschrijvingCheckbox",1,"w-5","h-5",3,"ngModel","ngModelChange","change"],[1,"bg-red-500","border-2","border-red-800","hover:bg-red-800","ease-in-out","duration-400","px-4","rounded-md","text-white","font-semibold",3,"routerLink"]],template:function(c,f){1&c&&(E.TgZ(0,"div",0),E._uU(1),E.qZA(),E.TgZ(2,"div",1)(3,"button",2),E._uU(4,"Terug"),E.qZA()(),E.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"span",6),E._uU(9,"Naam: "),E.qZA()(),E.TgZ(10,"div",7)(11,"span",6),E._uU(12,"Achternaam: "),E.qZA()(),E.TgZ(13,"div",8)(14,"span",6),E._uU(15,"Geboortedatum "),E.qZA()(),E.TgZ(16,"div",8)(17,"span",6),E._uU(18,"Afdeling: "),E.qZA()(),E.TgZ(19,"div",8)(20,"span",6),E._uU(21," LidGeld Betaald?"),E.qZA()(),E.TgZ(22,"div",8),E._UZ(23,"span",6),E.qZA(),E.TgZ(24,"div",8)(25,"span",6),E._uU(26," Meer Info:"),E.qZA()()(),E.YNc(27,Ny,19,8,"div",9),E.ALo(28,"sortByName"),E.qZA()),2&c&&(E.xp6(1),E.hij(" ",f.afdeling," "),E.xp6(2),E.Q6J("routerLink","/afdelingen"),E.xp6(24),E.Q6J("ngForOf",E.xi3(28,3,f.leden,"voornaam")))},dependencies:[ud.sg,ts.rH,Jo.Wl,Jo.JJ,Jo.On,bv,ch]})}return l})();function dh(l,u){if(1&l&&(E.TgZ(0,"p")(1,"strong",6),E._uU(2),E.qZA(),E._uU(3),E.qZA()),2&l){const o=E.oxw().$implicit;E.xp6(2),E.hij("Telefoon 1 ( ",o.Opmerking_2," ):"),E.xp6(1),E.hij(" ",o.telefoon_2," ")}}function Ev(l,u){if(1&l&&(E.TgZ(0,"p")(1,"strong",6),E._uU(2),E.qZA(),E._uU(3),E.qZA()),2&l){const o=E.oxw().$implicit;E.xp6(2),E.hij("Address 1 ( ",o.Opmerking_2," ):"),E.xp6(1),E.hij(" ",o.Address_2," ")}}const lm=function(l){return["/edit",l]},um=function(l){return["/afdelingLijst",l]};function ky(l,u){if(1&l){const o=E.EpF();E.TgZ(0,"div",2)(1,"div",3)(2,"h2",4),E._uU(3,"Lid Overview"),E.qZA(),E.TgZ(4,"div",5)(5,"p")(6,"strong",6),E._uU(7,"Naam"),E.qZA(),E._uU(8),E.qZA(),E._UZ(9,"br"),E.TgZ(10,"p")(11,"strong",6),E._uU(12,"Email 1:"),E.qZA(),E._uU(13),E.qZA(),E.TgZ(14,"p")(15,"strong",6),E._uU(16,"Email 2:"),E.qZA(),E._uU(17),E.qZA(),E._UZ(18,"br"),E.TgZ(19,"p")(20,"strong",6),E._uU(21),E.qZA(),E._uU(22),E.qZA(),E.YNc(23,dh,4,2,"p",7),E._UZ(24,"br"),E.TgZ(25,"p")(26,"strong",6),E._uU(27),E.qZA(),E._uU(28),E.qZA(),E.YNc(29,Ev,4,2,"p",7),E._UZ(30,"br"),E.TgZ(31,"p")(32,"strong",6),E._uU(33,"Geboortedatum"),E.qZA(),E._uU(34),E.qZA(),E._UZ(35,"br"),E.TgZ(36,"p")(37,"strong",6),E._uU(38,"Afdeling"),E.qZA(),E._uU(39),E.qZA()(),E.TgZ(40,"div",8)(41,"button",9),E._uU(42," Aanpassen "),E.qZA(),E.TgZ(43,"button",10),E._uU(44," Terug "),E.qZA(),E.TgZ(45,"button",11),E.NdJ("click",function(){E.CHM(o);const f=E.oxw();return E.KtG(f.openDisableModal())}),E._uU(46," Gestopt "),E.qZA()()()()}if(2&l){const o=u.$implicit,c=E.oxw();E.xp6(8),E.AsE(" ",o.voornaam," ",o.name," "),E.xp6(5),E.hij(" ",o.email," "),E.xp6(4),E.hij(" ",o.email_2,""),E.xp6(4),E.hij("Telefoon 1 ( ",o.Opmerking," ):"),E.xp6(1),E.hij(" ",o.telefoon," "),E.xp6(1),E.Q6J("ngIf",c.HadSecondAddress),E.xp6(4),E.hij("Address 1 ( ",o.Opmerking," ):"),E.xp6(1),E.hij(" ",o.Address," "),E.xp6(1),E.Q6J("ngIf",c.HadSecondAddress),E.xp6(5),E.hij(" ",o.geboortedatum," "),E.xp6(5),E.hij(" ",o.afdeling," "),E.xp6(2),E.Q6J("routerLink",E.VKq(14,lm,o.Id)),E.xp6(2),E.Q6J("routerLink",E.VKq(16,um,c.tempAfdelingID))}}function D_(l,u){if(1&l){const o=E.EpF();E.TgZ(0,"div",12),E._UZ(1,"div",13),E.TgZ(2,"div",14)(3,"h2",15),E._uU(4,"Lid Uitschrijven?"),E.qZA(),E.TgZ(5,"h4",16),E._uU(6,"Ben je zeker dat dit lid wilt uitschrijven?"),E.qZA(),E.TgZ(7,"h5",17),E._uU(8,"Dit zal het lid verwijderen"),E.qZA(),E.TgZ(9,"div",18)(10,"button",19),E.NdJ("click",function(){E.CHM(o);const f=E.oxw();return E.KtG(f.schrijfLidUit())}),E._uU(11,"Ja"),E.qZA(),E.TgZ(12,"button",20),E.NdJ("click",function(){E.CHM(o);const f=E.oxw();return E.KtG(f.closeDisableModal())}),E._uU(13,"Nee"),E.qZA()()()()}}let Vp=(()=>{class l{constructor(o,c,f){this.fb=o,this.route=c,this.router=f,this.leden=[],this.isModalOpen=!1}ngOnInit(){this.route.params.subscribe(c=>{this.parameterValue=c.lidId}),parseInt(this.parameterValue),this.fb.getLidPerId(this.parameterValue).subscribe(c=>{this.leden=c,this.tempAfdelingID=c[0].afdelingId,this.HadSecondAddress=c[0].hasSecondAddress})}openDisableModal(){this.isModalOpen=!0}schrijfLidUit(){this.fb.deleteLid(this.parameterValue),this.router.navigate(["/afdelingLijst/"+this.leden[0].afdelingId])}closeDisableModal(){this.isModalOpen=!1}static#e=this.\u0275fac=function(c){return new(c||l)(E.Y36(Fp.O),E.Y36(ts.gz),E.Y36(ts.F0))};static#t=this.\u0275cmp=E.Xpm({type:l,selectors:[["app-leden-details"]],decls:2,vars:2,consts:[["class","",4,"ngFor","ngForOf"],["class","fixed inset-0 flex items-center justify-center z-50",4,"ngIf"],[1,""],[1,"bg-orange-300","border-2","border-black","p-6","rounded-lg","shadow-md","w-2/6","m-auto","mt-10"],[1,"text-2xl","font-semibold","mb-4","text-center"],[1,"mb-4"],[1,"text-gray-800"],[4,"ngIf"],[1,"flex","justify-between"],[1,"bg-yellow-400","hover:bg-yellow-600","text-white","px-4","py-2","rounded","focus:outline-none","focus:shadow-outline-blue",3,"routerLink"],["routerLinkActive","router-link-active",1,"bg-blue-400","hover:bg-blue-600","text-white","px-4","py-2","rounded","focus:outline-none","focus:shadow-outline-red",3,"routerLink"],[1,"bg-red-400","hover:bg-red-600","text-white","px-4","py-2","rounded","focus:outline-none","focus:shadow-outline-red",3,"click"],[1,"fixed","inset-0","flex","items-center","justify-center","z-50"],[1,"fixed","inset-0","bg-gray-500","opacity-50"],[1,"modal-content","p-6","bg-white","rounded-lg","shadow-lg","relative"],[1,"text-2xl","font-semibold","mb-4"],[1,"text-xl"],[1,"text-sm"],[1,"flex","justify-between","mt-4"],[1,"bg-red-500","text-white","px-4","py-2","rounded-md","hover:bg-red-600",3,"click"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-blue-600",3,"click"]],template:function(c,f){1&c&&(E.YNc(0,ky,47,18,"div",0),E.YNc(1,D_,14,0,"div",1)),2&c&&(E.Q6J("ngForOf",f.leden),E.xp6(1),E.Q6J("ngIf",f.isModalOpen))},dependencies:[ud.sg,ud.O5,ts.rH,ts.Od]})}return l})();function S_(l,u){if(1&l){const o=E.EpF();E.TgZ(0,"fieldset",6)(1,"legend",7),E._uU(2,"Ouder 2 Informatie"),E.qZA(),E.TgZ(3,"div",9)(4,"label",36),E._uU(5,"Telefoon:"),E.qZA(),E.TgZ(6,"input",55),E.NdJ("ngModelChange",function(f){E.CHM(o);const m=E.oxw();return E.KtG(m.phone_2=f)}),E.qZA()(),E.TgZ(7,"div",12)(8,"label",38),E._uU(9,"Straat:"),E.qZA(),E.TgZ(10,"input",56),E.NdJ("ngModelChange",function(f){E.CHM(o);const m=E.oxw();return E.KtG(m.street_2=f)}),E.qZA()(),E.TgZ(11,"div",9)(12,"label",40),E._uU(13,"Huisnummer:"),E.qZA(),E.TgZ(14,"input",57),E.NdJ("ngModelChange",function(f){E.CHM(o);const m=E.oxw();return E.KtG(m.houseNumber_2=f)}),E.qZA()(),E.TgZ(15,"div",12)(16,"label",42),E._uU(17,"Postcode:"),E.qZA(),E.TgZ(18,"input",58),E.NdJ("ngModelChange",function(f){E.CHM(o);const m=E.oxw();return E.KtG(m.postcode_2=f)}),E.qZA()(),E.TgZ(19,"div",12)(20,"label",44),E._uU(21,"Gemeente:"),E.qZA(),E.TgZ(22,"input",59),E.NdJ("ngModelChange",function(f){E.CHM(o);const m=E.oxw();return E.KtG(m.city_2=f)}),E.qZA()(),E.TgZ(23,"div",49)(24,"label",42),E._uU(25,"Opmerking:"),E.qZA(),E.TgZ(26,"input",60),E.NdJ("ngModelChange",function(f){E.CHM(o);const m=E.oxw();return E.KtG(m.opmerking_2=f)}),E.qZA()()()}if(2&l){const o=E.oxw();E.xp6(6),E.Q6J("ngModel",o.phone_2),E.xp6(4),E.Q6J("ngModel",o.street_2),E.xp6(4),E.Q6J("ngModel",o.houseNumber_2),E.xp6(4),E.Q6J("ngModel",o.postcode_2),E.xp6(4),E.Q6J("ngModel",o.city_2),E.xp6(4),E.Q6J("ngModel",o.opmerking_2)}}let dd=(()=>{class l{constructor(o,c,f,m){this.dataService=o,this.route=c,this.router=f,this.firebaseservice=m,this.voornaam="",this.name="",this.department="",this.afdelingId=0,this.hasSecondAddress=!1,this.email="",this.phone="",this.street="",this.houseNumber="",this.postcode="",this.city="",this.geboortedatum="",this.opmerking="",this.email_2="",this.phone_2="",this.street_2="",this.houseNumber_2="",this.postcode_2="",this.city_2="",this.opmerking_2="",this.validForm=!1}ngOnInit(){}submitNieuwLidForm(o){o.voornaam.trim()?o.name.trim()?o.email.trim()?o.email_2.trim()?o.street.trim()?o.houseNumber.trim()?o.postcode.trim()?o.city.trim()?o.geboortedatum.trim()?o.opmerking.trim()?(this.afdelingId=this.firebaseservice.getAfdelingId(this.department),this.hasSecondAddress?this.hasSecondAddress&&this.firebaseservice.addLid({voornaam:this.voornaam,name:this.name,afdeling:this.department,afdelingId:this.afdelingId,geboortedatum:this.geboortedatum,email:this.email,email_2:this.email_2,betaald:!1,telefoon:this.phone,Address:this.street+" "+this.houseNumber+" "+this.postcode+" "+this.city,Opmerking:this.opmerking,hasSecondAddress:this.hasSecondAddress,telefoon_2:this.phone_2,Address_2:this.street_2+" "+this.houseNumber_2+" "+this.postcode_2+" "+this.city_2,Opmerking_2:this.opmerking_2}).then(()=>{this.clearFormInput(),this.bgColor="#9fff96",this.bColor="3px solid green",this.responseMessage="Nieuw Lid toegevoegd!"}).catch(f=>{this.bgColor="#fca5a5",this.bColor="3px solid red",this.responseMessage="Error Met toevoegen van Lid: "+f}):this.firebaseservice.addLid({voornaam:this.voornaam,name:this.name,afdeling:this.department,afdelingId:this.afdelingId,geboortedatum:this.geboortedatum,email:this.email,email_2:this.email_2,betaald:!1,telefoon:this.phone,Address:this.street+" "+this.houseNumber+" "+this.postcode+" "+this.city,Opmerking:this.opmerking,hasSecondAddress:this.hasSecondAddress}).then(()=>{this.clearFormInput(),this.bgColor="#9fff96",this.bColor="3px solid green",this.responseMessage="Nieuw Lid toegevoegd!"}).catch(f=>{this.bgColor="#fca5a5",this.bColor="3px solid red",this.responseMessage="Error Met toevoegen van Lid: "+f})):(this.validForm=!1,this.responseMessage="Vul de Opmerking In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul Je geboortedatum In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul Je gemeente In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul Je postcode In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul Je huisnummer In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul Je straat In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul de tweede Email In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul Je email In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul Je naam In!",this.bgColor="#fca5a5",this.bColor="3px solid red"):(this.validForm=!1,this.responseMessage="Vul Je voornaam In!",this.bgColor="#fca5a5",this.bColor="3px solid red")}OnChangeAddress(){this.hasSecondAddress=!this.hasSecondAddress}clearFormInput(){this.voornaam="",this.name="",this.department="",this.email="",this.phone="",this.street="",this.houseNumber="",this.postcode="",this.city=""}static#e=this.\u0275fac=function(c){return new(c||l)(E.Y36(sm.D),E.Y36(ts.gz),E.Y36(ts.F0),E.Y36(Fp.O))};static#t=this.\u0275cmp=E.Xpm({type:l,selectors:[["app-add-lid"]],decls:101,vars:18,consts:[[3,"ngSubmit"],["nieuwLidForm","ngForm"],[1,"w-4/6","mx-auto","mt-1","p-4","border","rounded-lg","shadow-lg"],[1,"bg-red-500","text-white","text-center","py-2","px-4","rounded-t-lg"],[1,"text-xl","font-bold"],[1,"bg-white","p-4","rounded-b-lg"],[1,"grid","grid-cols-2","border-2","border-stone-300","p-3","rounded-md"],[1,"font-semibold"],[1,"font-bold","text-red-600","mr-1"],[1,"w-full","md:w-2/2","mb-4","md:pr-2"],["for","voornaam",1,"font-semibold"],["type","text","name","voornaam","placeholder","Voornaam","required","",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],[1,"w-full","md:w-2/2","mb-4","md:pl-2"],["for","name",1,"font-semibold"],["type","text","name","name","placeholder","Naam","required","",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["for","department",1,"font-semibold"],["name","department","required","",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["value","Ribbel Jongens"],["value","Ribbel Meisjes"],["value","Speelclub Jongens"],["value","Speelclub Meisjes"],["value","Rakkers"],["value","Kwiks"],["value","Toppers"],["value","Tippers"],["value","Kerels"],["value","Tiptiens"],["value","Aspi Jongens"],["value","Aspi Meisjes"],["for","geboortedatum",1,"font-semibold"],["type","date","name","geboortedatum","placeholder","geboortedatum","required","",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["for","email",1,"font-semibold"],["type","email","name","email","placeholder","Email",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["type","email","name","email_2","placeholder","Email",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],[1,"grid","grid-cols-2"],[1,"grid","grid-cols-","border-2","border-stone-300","p-3","rounded-md"],["for","phone",1,"font-semibold"],["type","tel","name","phone","placeholder","Telefoon",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["for","street",1,"font-semibold"],["type","text","name","street","placeholder","Straat","required","",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["for","houseNumber",1,"font-semibold"],["type","text","name","houseNumber","placeholder","Huisnummer","required","",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["for","postcode",1,"font-semibold"],["type","text","name","postcode","placeholder","Postcode","required","",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["for","city",1,"font-semibold"],["type","text","name","city","placeholder","Gemeente","required","",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],[1,"w-full","md:w-2/2","md:w-full","mb-4","md:pl-2"],[1,"w-fit","mx-auto"],["id","default-checkbox","type","checkbox","value","",1,"w-6","h-6","mt-3","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600",3,"change"],[1,"w-full","md:w-2/2","md:w-full","mb-4","md:pl-2","col-span-2"],["type","text","name","opmerking","placeholder","bv Papa of Oma",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["class","grid grid-cols-2 border-2 border-stone-300 p-3 rounded-md",4,"ngIf"],[1,"w-full","text-center","mt-3"],["type","submit",1,"bg-red-500","hover:bg-red-600","text-white","font-bold","py-2","px-4","rounded-full"],[1,"rounded-md","px-2","py-3","font-bold","w-full","text-center","mt-2"],["type","tel","name","phone_2","placeholder","Telefoon",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["type","text","name","street_2","placeholder","Straat",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["type","text","name","houseNumber_2","placeholder","Huisnummer",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["type","text","name","postcode_2","placeholder","Postcode",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["type","text","name","city_2","placeholder","Gemeente",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"],["type","text","name","opmerking_2","placeholder","bv Mama / Opa",1,"w-full","px-3","py-2","rounded-lg","focus:outline-none","focus:border-gray-500","border-2","border-gray-300",3,"ngModel","ngModelChange"]],template:function(c,f){if(1&c){const m=E.EpF();E.TgZ(0,"form",0,1),E.NdJ("ngSubmit",function(){E.CHM(m);const I=E.MAs(1);return E.KtG(f.submitNieuwLidForm(I.value))}),E.TgZ(2,"div",2)(3,"div",3)(4,"h2",4),E._uU(5,"Nieuw Lid Form"),E.qZA()(),E.TgZ(6,"div",5)(7,"fieldset",6)(8,"legend",7),E._uU(9,"Basis Informatie "),E.TgZ(10,"span",8),E._uU(11,"*"),E.qZA()(),E.TgZ(12,"div",9)(13,"label",10),E._uU(14,"Voornaam:"),E.qZA(),E.TgZ(15,"input",11),E.NdJ("ngModelChange",function(I){return f.voornaam=I}),E.qZA()(),E.TgZ(16,"div",12)(17,"label",13),E._uU(18,"Naam:"),E.qZA(),E.TgZ(19,"input",14),E.NdJ("ngModelChange",function(I){return f.name=I}),E.qZA()(),E.TgZ(20,"div",9)(21,"label",15),E._uU(22,"Voornaam Afdeling:"),E.qZA(),E.TgZ(23,"select",16),E.NdJ("ngModelChange",function(I){return f.department=I}),E.TgZ(24,"option",17),E._uU(25,"Ribbel Jongens"),E.qZA(),E.TgZ(26,"option",18),E._uU(27,"Ribbel Meisjes"),E.qZA(),E.TgZ(28,"option",19),E._uU(29,"Speelclub Jongens"),E.qZA(),E.TgZ(30,"option",20),E._uU(31,"Speelclub Meisjes"),E.qZA(),E.TgZ(32,"option",21),E._uU(33,"Rakkers"),E.qZA(),E.TgZ(34,"option",22),E._uU(35,"Kwiks"),E.qZA(),E.TgZ(36,"option",23),E._uU(37,"Toppers"),E.qZA(),E.TgZ(38,"option",24),E._uU(39,"Tippers"),E.qZA(),E.TgZ(40,"option",25),E._uU(41,"Kerels"),E.qZA(),E.TgZ(42,"option",26),E._uU(43,"Tiptiens"),E.qZA(),E.TgZ(44,"option",27),E._uU(45,"Aspi Jongens"),E.qZA(),E.TgZ(46,"option",28),E._uU(47,"Aspi Meisjes"),E.qZA()()(),E.TgZ(48,"div",12)(49,"label",29),E._uU(50,"Geboorte Datum:"),E.qZA(),E.TgZ(51,"input",30),E.NdJ("ngModelChange",function(I){return f.geboortedatum=I}),E.qZA()(),E.TgZ(52,"div",12)(53,"label",31),E._uU(54,"Email 1:"),E.qZA(),E.TgZ(55,"input",32),E.NdJ("ngModelChange",function(I){return f.email=I}),E.qZA()(),E.TgZ(56,"div",12)(57,"label",31),E._uU(58,"Email 2:"),E.qZA(),E.TgZ(59,"input",33),E.NdJ("ngModelChange",function(I){return f.email_2=I}),E.qZA()()(),E.TgZ(60,"div",34)(61,"fieldset",35)(62,"legend",7),E._uU(63,"Ouder 1 Informatie "),E.TgZ(64,"span",8),E._uU(65,"*"),E.qZA()(),E.TgZ(66,"div",9)(67,"label",36),E._uU(68,"Telefoon:"),E.qZA(),E.TgZ(69,"input",37),E.NdJ("ngModelChange",function(I){return f.phone=I}),E.qZA()(),E.TgZ(70,"div",12)(71,"label",38),E._uU(72,"Straat:"),E.qZA(),E.TgZ(73,"input",39),E.NdJ("ngModelChange",function(I){return f.street=I}),E.qZA()(),E.TgZ(74,"div",9)(75,"label",40),E._uU(76,"Huisnummer:"),E.qZA(),E.TgZ(77,"input",41),E.NdJ("ngModelChange",function(I){return f.houseNumber=I}),E.qZA()(),E.TgZ(78,"div",12)(79,"label",42),E._uU(80,"Postcode:"),E.qZA(),E.TgZ(81,"input",43),E.NdJ("ngModelChange",function(I){return f.postcode=I}),E.qZA()(),E.TgZ(82,"div",12)(83,"label",44),E._uU(84,"Gemeente:"),E.qZA(),E.TgZ(85,"input",45),E.NdJ("ngModelChange",function(I){return f.city=I}),E.qZA()(),E.TgZ(86,"div",46)(87,"label",42),E._uU(88,"Verschillende Addresen:"),E.qZA(),E.TgZ(89,"div",47)(90,"input",48),E.NdJ("change",function(){return f.OnChangeAddress()}),E.qZA()()(),E.TgZ(91,"div",49)(92,"label",42),E._uU(93,"Opmerking:"),E.qZA(),E.TgZ(94,"input",50),E.NdJ("ngModelChange",function(I){return f.opmerking=I}),E.qZA()()(),E.YNc(95,S_,27,6,"fieldset",51),E.qZA(),E.TgZ(96,"div",52)(97,"button",53),E._uU(98,"Submit"),E.qZA()(),E.TgZ(99,"div",54),E._uU(100),E.qZA()()()()}2&c&&(E.xp6(15),E.Q6J("ngModel",f.voornaam),E.xp6(4),E.Q6J("ngModel",f.name),E.xp6(4),E.Q6J("ngModel",f.department),E.xp6(28),E.Q6J("ngModel",f.geboortedatum),E.xp6(4),E.Q6J("ngModel",f.email),E.xp6(4),E.Q6J("ngModel",f.email_2),E.xp6(10),E.Q6J("ngModel",f.phone),E.xp6(4),E.Q6J("ngModel",f.street),E.xp6(4),E.Q6J("ngModel",f.houseNumber),E.xp6(4),E.Q6J("ngModel",f.postcode),E.xp6(4),E.Q6J("ngModel",f.city),E.xp6(9),E.Q6J("ngModel",f.opmerking),E.xp6(1),E.Q6J("ngIf",f.hasSecondAddress),E.xp6(4),E.Udp("border",f.bColor)("background",f.bgColor),E.xp6(1),E.hij(" ",f.responseMessage," "))},dependencies:[ud.O5,Jo._Y,Jo.YN,Jo.Kr,Jo.Fj,Jo.EJ,Jo.JJ,Jo.JL,Jo.Q7,Jo.On,Jo.F]})}return l})();var If=X(1391);const hh=[{path:"",component:im,canActivate:[If.a]},{path:"afdelingen",component:vv,canActivate:[If.a]},{path:"afdelingLijst/:afdelingParId",component:cd,canActivate:[If.a]},{path:"ledenDetails/:lidId",component:Vp,canActivate:[If.a]},{path:"addLid",component:dd,canActivate:[If.a]},{path:"authentication",loadChildren:()=>Promise.resolve().then(X.bind(X,7469)).then(l=>l.AuthenticationRoutingModule)},{path:"ledenActions",loadChildren:()=>Promise.resolve().then(X.bind(X,1871)).then(l=>l.LedenActionsModule)},{path:"admin",loadChildren:()=>X.e(8).then(X.bind(X,7008)).then(l=>l.AdminModule)},{path:"sub",loadChildren:()=>Promise.resolve().then(X.bind(X,6383)).then(l=>l.RandomNumberModule)}];let cm=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275mod=E.oAB({type:l});static#n=this.\u0275inj=E.cJS({imports:[ts.Bz.forRoot(hh),ts.Bz]})}return l})();var fh=X(4060);function x_(l,u){1&l&&(E.TgZ(0,"li",15)(1,"a",7),E._uU(2,"Login"),E.qZA()())}function dm(l,u){1&l&&(E.TgZ(0,"li",16)(1,"a",7),E._uU(2,"Logout"),E.qZA()())}const Ly=function(){return["/afdelingen"]},M_=function(){return["/AdminDashboard"]};let R_=(()=>{class l{constructor(o,c,f,m){this.auth=o,this.router=c,this.authService=f,this.firebaseService=m,this.loggedIn=this.auth.isLoggedIn()}ngOnInit(){this.test=this.firebaseService.getAdmin(this.authService.getUid()),console.log(this.test),this.router.events.subscribe(o=>{o instanceof ts.m2&&(this.loggedIn=this.auth.isLoggedIn())})}static#e=this.\u0275fac=function(c){return new(c||l)(E.Y36(fh.q),E.Y36(ts.F0),E.Y36(fh.q),E.Y36(Fp.O))};static#t=this.\u0275cmp=E.Xpm({type:l,selectors:[["app-header"]],decls:18,vars:6,consts:[[1,"bg-red-500","p-2"],[1,"flex","justify-between","items-center"],[1,"text-white","text-xl","font-semibold"],["routerLinkActive","router-link-active",3,"routerLink"],["src","assets/chiro.png","alt","",2,"height","50px"],[1,"flex","space-x-4","items-center"],["routerLink","/afdelingen",1,"px-2","rounded-lg","ease-in-out","duration-400","hover:bg-red-800","cursor-pointer"],[1,"text-white"],["routerLink","/login","class","px-2 rounded-lg ease-in-out duration-400 hover:bg-red-800 cursor-pointer",4,"ngIf"],["routerLink","/logout","class","px-2 rounded-lg ease-in-out duration-400 hover:bg-red-800 cursor-pointer",4,"ngIf"],["routerLinkActive","router-link-active",1,"px-2","rounded-lg","ease-in-out","duration-400","hover:bg-red-800","cursor-pointer",3,"routerLink"],[1,"relative"],["type","text","placeholder","Search",1,"px-3","py-1","text-gray-800","border","rounded-lg","focus:outline-none","focus:border-blue-500"],[1,"absolute","right-0","top-0","mt-1","mr-2"],[1,"fas","fa-search","text-gray-600"],["routerLink","/login",1,"px-2","rounded-lg","ease-in-out","duration-400","hover:bg-red-800","cursor-pointer"],["routerLink","/logout",1,"px-2","rounded-lg","ease-in-out","duration-400","hover:bg-red-800","cursor-pointer"]],template:function(c,f){1&c&&(E.TgZ(0,"header",0)(1,"nav",1)(2,"div",2)(3,"a",3),E._UZ(4,"img",4),E.qZA()(),E.TgZ(5,"ul",5)(6,"li",6)(7,"a",7),E._uU(8,"Afdelingen"),E.qZA()(),E.YNc(9,x_,3,0,"li",8),E.YNc(10,dm,3,0,"li",9),E.TgZ(11,"li",10)(12,"a",7),E._uU(13,"Admin"),E.qZA()()(),E.TgZ(14,"div",11),E._UZ(15,"input",12),E.TgZ(16,"button",13),E._UZ(17,"i",14),E.qZA()()()()),2&c&&(E.xp6(3),E.Q6J("routerLink",E.DdM(4,Ly)),E.xp6(6),E.Q6J("ngIf",!f.loggedIn),E.xp6(1),E.Q6J("ngIf",f.loggedIn),E.xp6(1),E.Q6J("routerLink",E.DdM(5,M_)))},dependencies:[ud.O5,ts.rH,ts.Od]})}return l})(),P_=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=E.Xpm({type:l,selectors:[["app-footer"]],decls:11,vars:0,consts:[["id","footer",1,"bg-red-500","text-white","...","sticky","bottom-0"],[1,"grid","grid-cols-3"],[1,"col-span-1"],[1,"col-span-1","text-sm","font-semibold","flex","items-center","justify-center"],[1,"col-span-1","flex","items-center","justify-end","space-x-4","mr-6"],["href","https://www.linkedin.com/in/killian-serluppens-289909224/",1,"text-white","hover:text-blue-500"],[1,"fab","fa-linkedin"],["href","https://github.com/KilliBruhh",1,"text-white","hover:text-purple-900"],[1,"fab","fa-github"]],template:function(c,f){1&c&&(E.TgZ(0,"footer",0)(1,"div",1),E._UZ(2,"div",2),E.TgZ(3,"div",3)(4,"span"),E._uU(5,"\xa9 2023 Killian Serluppens - All rights reserved - Version 0.1.0"),E.qZA()(),E.TgZ(6,"div",4)(7,"a",5),E._UZ(8,"i",6),E.qZA(),E.TgZ(9,"a",7),E._UZ(10,"i",8),E.qZA()()()())},styles:["#footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;background-color:red;color:#fff;text-align:center}"]})}return l})(),Fy=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=E.Xpm({type:l,selectors:[["app-root"]],decls:3,vars:0,template:function(c,f){1&c&&E._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[ts.lC,R_,P_]})}return l})();var hm=X(6383),Su=X(7469);let Vy=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275mod=E.oAB({type:l});static#n=this.\u0275inj=E.cJS({imports:[ud.ez,Su.AuthenticationRoutingModule,Jo.u5,Jo.UX,(0,ld.hX)(()=>(0,ld.ZF)(tm_firebase)),(0,Np.Cm)(()=>(0,Np.ad)()),(0,ah.AR)(()=>(0,ah.v0)())]})}return l})();var Tf=X(8087),fm=X(9862),wf=X(1871),pm=X(8243);let Up=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275mod=E.oAB({type:l,bootstrap:[Fy]});static#n=this.\u0275inj=E.cJS({imports:[A.b2,Op,cm,Vy,Su.AuthenticationRoutingModule,Tf.c,fm.JF,Jo.u5,wf.LedenActionsModule,hm.RandomNumberModule,(0,ld.hX)(()=>(0,ld.ZF)(tm_firebase)),(0,Np.Cm)(()=>(0,Np.ad)()),(0,ah.AR)(()=>(0,ah.v0)()),(0,nm.Vq)(()=>(0,pm.cF)()),ud.ez]})}return l})();A.q6().bootstrapModule(Up).catch(l=>console.error(l))},5619:(yn,ht,X)=>{X.d(ht,{X:()=>E});var A=X(8645);class E extends A.x{constructor(z){super(),this._value=z}get value(){return this.getValue()}_subscribe(z){const fe=super._subscribe(z);return!fe.closed&&z.next(this._value),fe}getValue(){const{hasError:z,thrownError:fe,_value:he}=this;if(z)throw fe;return this._throwIfClosed(),he}next(z){super.next(this._value=z)}}},5592:(yn,ht,X)=>{X.d(ht,{y:()=>St});var A=X(305),E=X(7394),ee=X(4850),z=X(8407),fe=X(2653),he=X(4674),Ge=X(1441);let St=(()=>{class $e{constructor(at){at&&(this._subscribe=at)}lift(at){const Je=new $e;return Je.source=this,Je.operator=at,Je}subscribe(at,Je,pt){const Kt=function me($e){return $e&&$e instanceof A.Lv||function pe($e){return $e&&(0,he.m)($e.next)&&(0,he.m)($e.error)&&(0,he.m)($e.complete)}($e)&&(0,E.Nn)($e)}(at)?at:new A.Hp(at,Je,pt);return(0,Ge.x)(()=>{const{operator:Gt,source:Sn}=this;Kt.add(Gt?Gt.call(Kt,Sn):Sn?this._subscribe(Kt):this._trySubscribe(Kt))}),Kt}_trySubscribe(at){try{return this._subscribe(at)}catch(Je){at.error(Je)}}forEach(at,Je){return new(Je=He(Je))((pt,Kt)=>{const Gt=new A.Hp({next:Sn=>{try{at(Sn)}catch(dn){Kt(dn),Gt.unsubscribe()}},error:Kt,complete:pt});this.subscribe(Gt)})}_subscribe(at){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(at)}[ee.L](){return this}pipe(...at){return(0,z.U)(at)(this)}toPromise(at){return new(at=He(at))((Je,pt)=>{let Kt;this.subscribe(Gt=>Kt=Gt,Gt=>pt(Gt),()=>Je(Kt))})}}return $e.create=Se=>new $e(Se),$e})();function He($e){var Se;return null!==(Se=$e??fe.config.Promise)&&void 0!==Se?Se:Promise}},8645:(yn,ht,X)=>{X.d(ht,{x:()=>Ge});var A=X(5592),E=X(7394);const z=(0,X(2306).d)(He=>function(){He(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=X(9039),he=X(1441);let Ge=(()=>{class He extends A.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const $e=new St(this,this);return $e.operator=me,$e}_throwIfClosed(){if(this.closed)throw new z}next(me){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const $e of this.currentObservers)$e.next(me)}})}error(me){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:$e}=this;for(;$e.length;)$e.shift().error(me)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:$e,isStopped:Se,observers:at}=this;return $e||Se?E.Lc:(this.currentObservers=null,at.push(me),new E.w0(()=>{this.currentObservers=null,(0,fe.P)(at,me)}))}_checkFinalizedStatuses(me){const{hasError:$e,thrownError:Se,isStopped:at}=this;$e?me.error(Se):at&&me.complete()}asObservable(){const me=new A.y;return me.source=this,me}}return He.create=(pe,me)=>new St(pe,me),He})();class St extends Ge{constructor(pe,me){super(),this.destination=pe,this.source=me}next(pe){var me,$e;null===($e=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===$e||$e.call(me,pe)}error(pe){var me,$e;null===($e=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===$e||$e.call(me,pe)}complete(){var pe,me;null===(me=null===(pe=this.destination)||void 0===pe?void 0:pe.complete)||void 0===me||me.call(pe)}_subscribe(pe){var me,$e;return null!==($e=null===(me=this.source)||void 0===me?void 0:me.subscribe(pe))&&void 0!==$e?$e:E.Lc}}},305:(yn,ht,X)=>{X.d(ht,{Hp:()=>pt,Lv:()=>$e});var A=X(4674),E=X(7394),ee=X(2653),z=X(3894),fe=X(2420);const he=He("C",void 0,void 0);function He(nt,Ct,qe){return{kind:nt,value:Ct,error:qe}}var pe=X(7599),me=X(1441);class $e extends E.w0{constructor(Ct){super(),this.isStopped=!1,Ct?(this.destination=Ct,(0,E.Nn)(Ct)&&Ct.add(this)):this.destination=dn}static create(Ct,qe,xt){return new pt(Ct,qe,xt)}next(Ct){this.isStopped?Sn(function St(nt){return He("N",nt,void 0)}(Ct),this):this._next(Ct)}error(Ct){this.isStopped?Sn(function Ge(nt){return He("E",void 0,nt)}(Ct),this):(this.isStopped=!0,this._error(Ct))}complete(){this.isStopped?Sn(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ct){this.destination.next(Ct)}_error(Ct){try{this.destination.error(Ct)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Se=Function.prototype.bind;function at(nt,Ct){return Se.call(nt,Ct)}class Je{constructor(Ct){this.partialObserver=Ct}next(Ct){const{partialObserver:qe}=this;if(qe.next)try{qe.next(Ct)}catch(xt){Kt(xt)}}error(Ct){const{partialObserver:qe}=this;if(qe.error)try{qe.error(Ct)}catch(xt){Kt(xt)}else Kt(Ct)}complete(){const{partialObserver:Ct}=this;if(Ct.complete)try{Ct.complete()}catch(qe){Kt(qe)}}}class pt extends $e{constructor(Ct,qe,xt){let ut;if(super(),(0,A.m)(Ct)||!Ct)ut={next:Ct??void 0,error:qe??void 0,complete:xt??void 0};else{let _t;this&&ee.config.useDeprecatedNextContext?(_t=Object.create(Ct),_t.unsubscribe=()=>this.unsubscribe(),ut={next:Ct.next&&at(Ct.next,_t),error:Ct.error&&at(Ct.error,_t),complete:Ct.complete&&at(Ct.complete,_t)}):ut=Ct}this.destination=new Je(ut)}}function Kt(nt){ee.config.useDeprecatedSynchronousErrorHandling?(0,me.O)(nt):(0,z.h)(nt)}function Sn(nt,Ct){const{onStoppedNotification:qe}=ee.config;qe&&pe.z.setTimeout(()=>qe(nt,Ct))}const dn={closed:!0,next:fe.Z,error:function Gt(nt){throw nt},complete:fe.Z}},7394:(yn,ht,X)=>{X.d(ht,{Lc:()=>he,w0:()=>fe,Nn:()=>Ge});var A=X(4674);const ee=(0,X(2306).d)(He=>function(me){He(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map(($e,Se)=>`${Se+1}) ${$e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var z=X(9039);class fe{constructor(pe){this.initialTeardown=pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let pe;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const at of me)at.remove(this);else me.remove(this);const{initialTeardown:$e}=this;if((0,A.m)($e))try{$e()}catch(at){pe=at instanceof ee?at.errors:[at]}const{_finalizers:Se}=this;if(Se){this._finalizers=null;for(const at of Se)try{St(at)}catch(Je){pe=pe??[],Je instanceof ee?pe=[...pe,...Je.errors]:pe.push(Je)}}if(pe)throw new ee(pe)}}add(pe){var me;if(pe&&pe!==this)if(this.closed)St(pe);else{if(pe instanceof fe){if(pe.closed||pe._hasParent(this))return;pe._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(pe)}}_hasParent(pe){const{_parentage:me}=this;return me===pe||Array.isArray(me)&&me.includes(pe)}_addParent(pe){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(pe),me):me?[me,pe]:pe}_removeParent(pe){const{_parentage:me}=this;me===pe?this._parentage=null:Array.isArray(me)&&(0,z.P)(me,pe)}remove(pe){const{_finalizers:me}=this;me&&(0,z.P)(me,pe),pe instanceof fe&&pe._removeParent(this)}}fe.EMPTY=(()=>{const He=new fe;return He.closed=!0,He})();const he=fe.EMPTY;function Ge(He){return He instanceof fe||He&&"closed"in He&&(0,A.m)(He.remove)&&(0,A.m)(He.add)&&(0,A.m)(He.unsubscribe)}function St(He){(0,A.m)(He)?He():He.unsubscribe()}},2653:(yn,ht,X)=>{X.d(ht,{config:()=>A});const A={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(yn,ht,X)=>{X.d(ht,{E:()=>E});const E=new(X(5592).y)(fe=>fe.complete())},2459:(yn,ht,X)=>{X.d(ht,{D:()=>Ct});var A=X(4829),E=X(3093),ee=X(5137),he=X(5592),St=X(4971),He=X(4674),pe=X(7103);function $e(qe,xt){if(!qe)throw new Error("Iterable cannot be null");return new he.y(ut=>{(0,pe.f)(ut,xt,()=>{const _t=qe[Symbol.asyncIterator]();(0,pe.f)(ut,xt,()=>{_t.next().then(ft=>{ft.done?ut.complete():ut.next(ft.value)})},0,!0)})})}var Se=X(8382),at=X(4026),Je=X(4266),pt=X(3664),Kt=X(5726),Gt=X(9853),Sn=X(541);function Ct(qe,xt){return xt?function nt(qe,xt){if(null!=qe){if((0,Se.c)(qe))return function z(qe,xt){return(0,A.Xf)(qe).pipe((0,ee.R)(xt),(0,E.Q)(xt))}(qe,xt);if((0,Je.z)(qe))return function Ge(qe,xt){return new he.y(ut=>{let _t=0;return xt.schedule(function(){_t===qe.length?ut.complete():(ut.next(qe[_t++]),ut.closed||this.schedule())})})}(qe,xt);if((0,at.t)(qe))return function fe(qe,xt){return(0,A.Xf)(qe).pipe((0,ee.R)(xt),(0,E.Q)(xt))}(qe,xt);if((0,Kt.D)(qe))return $e(qe,xt);if((0,pt.T)(qe))return function me(qe,xt){return new he.y(ut=>{let _t;return(0,pe.f)(ut,xt,()=>{_t=qe[St.h](),(0,pe.f)(ut,xt,()=>{let ft,fn;try{({value:ft,done:fn}=_t.next())}catch(Zn){return void ut.error(Zn)}fn?ut.complete():ut.next(ft)},0,!0)}),()=>(0,He.m)(_t?.return)&&_t.return()})}(qe,xt);if((0,Sn.L)(qe))return function dn(qe,xt){return $e((0,Sn.Q)(qe),xt)}(qe,xt)}throw(0,Gt.z)(qe)}(qe,xt):(0,A.Xf)(qe)}},4829:(yn,ht,X)=>{X.d(ht,{Xf:()=>Se});var A=X(7582),E=X(4266),ee=X(4026),z=X(5592),fe=X(8382),he=X(5726),Ge=X(9853),St=X(3664),He=X(541),pe=X(4674),me=X(3894),$e=X(4850);function Se(nt){if(nt instanceof z.y)return nt;if(null!=nt){if((0,fe.c)(nt))return function at(nt){return new z.y(Ct=>{const qe=nt[$e.L]();if((0,pe.m)(qe.subscribe))return qe.subscribe(Ct);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(nt);if((0,E.z)(nt))return function Je(nt){return new z.y(Ct=>{for(let qe=0;qe<nt.length&&!Ct.closed;qe++)Ct.next(nt[qe]);Ct.complete()})}(nt);if((0,ee.t)(nt))return function pt(nt){return new z.y(Ct=>{nt.then(qe=>{Ct.closed||(Ct.next(qe),Ct.complete())},qe=>Ct.error(qe)).then(null,me.h)})}(nt);if((0,he.D)(nt))return Gt(nt);if((0,St.T)(nt))return function Kt(nt){return new z.y(Ct=>{for(const qe of nt)if(Ct.next(qe),Ct.closed)return;Ct.complete()})}(nt);if((0,He.L)(nt))return function Sn(nt){return Gt((0,He.Q)(nt))}(nt)}throw(0,Ge.z)(nt)}function Gt(nt){return new z.y(Ct=>{(function dn(nt,Ct){var qe,xt,ut,_t;return(0,A.mG)(this,void 0,void 0,function*(){try{for(qe=(0,A.KL)(nt);!(xt=yield qe.next()).done;)if(Ct.next(xt.value),Ct.closed)return}catch(ft){ut={error:ft}}finally{try{xt&&!xt.done&&(_t=qe.return)&&(yield _t.call(qe))}finally{if(ut)throw ut.error}}Ct.complete()})})(nt,Ct).catch(qe=>Ct.error(qe))})}},2096:(yn,ht,X)=>{X.d(ht,{of:()=>ee});var A=X(4564),E=X(2459);function ee(...z){const fe=(0,A.yG)(z);return(0,E.D)(z,fe)}},8251:(yn,ht,X)=>{X.d(ht,{x:()=>E});var A=X(305);function E(z,fe,he,Ge,St){return new ee(z,fe,he,Ge,St)}class ee extends A.Lv{constructor(fe,he,Ge,St,He,pe){super(fe),this.onFinalize=He,this.shouldUnsubscribe=pe,this._next=he?function(me){try{he(me)}catch($e){fe.error($e)}}:super._next,this._error=St?function(me){try{St(me)}catch($e){fe.error($e)}finally{this.unsubscribe()}}:super._error,this._complete=Ge?function(){try{Ge()}catch(me){fe.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},6328:(yn,ht,X)=>{X.d(ht,{b:()=>ee});var A=X(1631),E=X(4674);function ee(z,fe){return(0,E.m)(fe)?(0,A.z)(z,fe,1):(0,A.z)(z,1)}},2181:(yn,ht,X)=>{X.d(ht,{h:()=>ee});var A=X(9360),E=X(8251);function ee(z,fe){return(0,A.e)((he,Ge)=>{let St=0;he.subscribe((0,E.x)(Ge,He=>z.call(fe,He,St++)&&Ge.next(He)))})}},4716:(yn,ht,X)=>{X.d(ht,{x:()=>E});var A=X(9360);function E(ee){return(0,A.e)((z,fe)=>{try{z.subscribe(fe)}finally{fe.add(ee)}})}},7398:(yn,ht,X)=>{X.d(ht,{U:()=>ee});var A=X(9360),E=X(8251);function ee(z,fe){return(0,A.e)((he,Ge)=>{let St=0;he.subscribe((0,E.x)(Ge,He=>{Ge.next(z.call(fe,He,St++))}))})}},7537:(yn,ht,X)=>{X.d(ht,{J:()=>ee});var A=X(1631),E=X(2737);function ee(z=1/0){return(0,A.z)(E.y,z)}},1631:(yn,ht,X)=>{X.d(ht,{z:()=>St});var A=X(7398),E=X(4829),ee=X(9360),z=X(7103),fe=X(8251),Ge=X(4674);function St(He,pe,me=1/0){return(0,Ge.m)(pe)?St(($e,Se)=>(0,A.U)((at,Je)=>pe($e,at,Se,Je))((0,E.Xf)(He($e,Se))),me):("number"==typeof pe&&(me=pe),(0,ee.e)(($e,Se)=>function he(He,pe,me,$e,Se,at,Je,pt){const Kt=[];let Gt=0,Sn=0,dn=!1;const nt=()=>{dn&&!Kt.length&&!Gt&&pe.complete()},Ct=xt=>Gt<$e?qe(xt):Kt.push(xt),qe=xt=>{at&&pe.next(xt),Gt++;let ut=!1;(0,E.Xf)(me(xt,Sn++)).subscribe((0,fe.x)(pe,_t=>{Se?.(_t),at?Ct(_t):pe.next(_t)},()=>{ut=!0},void 0,()=>{if(ut)try{for(Gt--;Kt.length&&Gt<$e;){const _t=Kt.shift();Je?(0,z.f)(pe,Je,()=>qe(_t)):qe(_t)}nt()}catch(_t){pe.error(_t)}}))};return He.subscribe((0,fe.x)(pe,Ct,()=>{dn=!0,nt()})),()=>{pt?.()}}($e,Se,He,me)))}},3093:(yn,ht,X)=>{X.d(ht,{Q:()=>z});var A=X(7103),E=X(9360),ee=X(8251);function z(fe,he=0){return(0,E.e)((Ge,St)=>{Ge.subscribe((0,ee.x)(St,He=>(0,A.f)(St,fe,()=>St.next(He),he),()=>(0,A.f)(St,fe,()=>St.complete(),he),He=>(0,A.f)(St,fe,()=>St.error(He),he)))})}},5137:(yn,ht,X)=>{X.d(ht,{R:()=>E});var A=X(9360);function E(ee,z=0){return(0,A.e)((fe,he)=>{he.add(ee.schedule(()=>fe.subscribe(he),z))})}},4664:(yn,ht,X)=>{X.d(ht,{w:()=>z});var A=X(4829),E=X(9360),ee=X(8251);function z(fe,he){return(0,E.e)((Ge,St)=>{let He=null,pe=0,me=!1;const $e=()=>me&&!He&&St.complete();Ge.subscribe((0,ee.x)(St,Se=>{He?.unsubscribe();let at=0;const Je=pe++;(0,A.Xf)(fe(Se,Je)).subscribe(He=(0,ee.x)(St,pt=>St.next(he?he(Se,pt,Je,at++):pt),()=>{He=null,$e()}))},()=>{me=!0,$e()}))})}},9397:(yn,ht,X)=>{X.d(ht,{b:()=>fe});var A=X(4674),E=X(9360),ee=X(8251),z=X(2737);function fe(he,Ge,St){const He=(0,A.m)(he)||Ge||St?{next:he,error:Ge,complete:St}:he;return He?(0,E.e)((pe,me)=>{var $e;null===($e=He.subscribe)||void 0===$e||$e.call(He);let Se=!0;pe.subscribe((0,ee.x)(me,at=>{var Je;null===(Je=He.next)||void 0===Je||Je.call(He,at),me.next(at)},()=>{var at;Se=!1,null===(at=He.complete)||void 0===at||at.call(He),me.complete()},at=>{var Je;Se=!1,null===(Je=He.error)||void 0===Je||Je.call(He,at),me.error(at)},()=>{var at,Je;Se&&(null===(at=He.unsubscribe)||void 0===at||at.call(He)),null===(Je=He.finalize)||void 0===Je||Je.call(He)}))}):z.y}},7599:(yn,ht,X)=>{X.d(ht,{z:()=>A});const A={setTimeout(E,ee,...z){const{delegate:fe}=A;return fe?.setTimeout?fe.setTimeout(E,ee,...z):setTimeout(E,ee,...z)},clearTimeout(E){const{delegate:ee}=A;return(ee?.clearTimeout||clearTimeout)(E)},delegate:void 0}},4971:(yn,ht,X)=>{X.d(ht,{h:()=>E});const E=function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(yn,ht,X)=>{X.d(ht,{L:()=>A});const A="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(yn,ht,X)=>{X.d(ht,{_6:()=>he,jO:()=>z,yG:()=>fe});var A=X(4674);function ee(Ge){return Ge[Ge.length-1]}function z(Ge){return(0,A.m)(ee(Ge))?Ge.pop():void 0}function fe(Ge){return function E(Ge){return Ge&&(0,A.m)(Ge.schedule)}(ee(Ge))?Ge.pop():void 0}function he(Ge,St){return"number"==typeof ee(Ge)?Ge.pop():St}},7453:(yn,ht,X)=>{X.d(ht,{D:()=>fe});const{isArray:A}=Array,{getPrototypeOf:E,prototype:ee,keys:z}=Object;function fe(Ge){if(1===Ge.length){const St=Ge[0];if(A(St))return{args:St,keys:null};if(function he(Ge){return Ge&&"object"==typeof Ge&&E(Ge)===ee}(St)){const He=z(St);return{args:He.map(pe=>St[pe]),keys:He}}}return{args:Ge,keys:null}}},9039:(yn,ht,X)=>{function A(E,ee){if(E){const z=E.indexOf(ee);0<=z&&E.splice(z,1)}}X.d(ht,{P:()=>A})},2306:(yn,ht,X)=>{function A(E){const z=E(fe=>{Error.call(fe),fe.stack=(new Error).stack});return z.prototype=Object.create(Error.prototype),z.prototype.constructor=z,z}X.d(ht,{d:()=>A})},2714:(yn,ht,X)=>{function A(E,ee){return E.reduce((z,fe,he)=>(z[fe]=ee[he],z),{})}X.d(ht,{n:()=>A})},1441:(yn,ht,X)=>{X.d(ht,{O:()=>z,x:()=>ee});var A=X(2653);let E=null;function ee(fe){if(A.config.useDeprecatedSynchronousErrorHandling){const he=!E;if(he&&(E={errorThrown:!1,error:null}),fe(),he){const{errorThrown:Ge,error:St}=E;if(E=null,Ge)throw St}}else fe()}function z(fe){A.config.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=fe)}},7103:(yn,ht,X)=>{function A(E,ee,z,fe=0,he=!1){const Ge=ee.schedule(function(){z(),he?E.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(E.add(Ge),!he)return Ge}X.d(ht,{f:()=>A})},2737:(yn,ht,X)=>{function A(E){return E}X.d(ht,{y:()=>A})},4266:(yn,ht,X)=>{X.d(ht,{z:()=>A});const A=E=>E&&"number"==typeof E.length&&"function"!=typeof E},5726:(yn,ht,X)=>{X.d(ht,{D:()=>E});var A=X(4674);function E(ee){return Symbol.asyncIterator&&(0,A.m)(ee?.[Symbol.asyncIterator])}},4674:(yn,ht,X)=>{function A(E){return"function"==typeof E}X.d(ht,{m:()=>A})},8382:(yn,ht,X)=>{X.d(ht,{c:()=>ee});var A=X(4850),E=X(4674);function ee(z){return(0,E.m)(z[A.L])}},3664:(yn,ht,X)=>{X.d(ht,{T:()=>ee});var A=X(4971),E=X(4674);function ee(z){return(0,E.m)(z?.[A.h])}},4026:(yn,ht,X)=>{X.d(ht,{t:()=>E});var A=X(4674);function E(ee){return(0,A.m)(ee?.then)}},541:(yn,ht,X)=>{X.d(ht,{L:()=>z,Q:()=>ee});var A=X(7582),E=X(4674);function ee(fe){return(0,A.FC)(this,arguments,function*(){const Ge=fe.getReader();try{for(;;){const{value:St,done:He}=yield(0,A.qq)(Ge.read());if(He)return yield(0,A.qq)(void 0);yield yield(0,A.qq)(St)}}finally{Ge.releaseLock()}})}function z(fe){return(0,E.m)(fe?.getReader)}},9360:(yn,ht,X)=>{X.d(ht,{A:()=>E,e:()=>ee});var A=X(4674);function E(z){return(0,A.m)(z?.lift)}function ee(z){return fe=>{if(E(fe))return fe.lift(function(he){try{return z(he,this)}catch(Ge){this.error(Ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(yn,ht,X)=>{X.d(ht,{Z:()=>z});var A=X(7398);const{isArray:E}=Array;function z(fe){return(0,A.U)(he=>function ee(fe,he){return E(he)?fe(...he):fe(he)}(fe,he))}},2420:(yn,ht,X)=>{function A(){}X.d(ht,{Z:()=>A})},8407:(yn,ht,X)=>{X.d(ht,{U:()=>ee,z:()=>E});var A=X(2737);function E(...z){return ee(z)}function ee(z){return 0===z.length?A.y:1===z.length?z[0]:function(he){return z.reduce((Ge,St)=>St(Ge),he)}}},3894:(yn,ht,X)=>{X.d(ht,{h:()=>ee});var A=X(2653),E=X(7599);function ee(z){E.z.setTimeout(()=>{const{onUnhandledError:fe}=A.config;if(!fe)throw z;fe(z)})}},9853:(yn,ht,X)=>{function A(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}X.d(ht,{z:()=>A})},6814:(yn,ht,X)=>{X.d(ht,{Do:()=>pt,EM:()=>we,HT:()=>z,JF:()=>hn,K0:()=>he,Mx:()=>Ps,O5:()=>Xr,PC:()=>_i,PM:()=>Dn,S$:()=>Se,V_:()=>St,Ye:()=>Kt,b0:()=>Je,bD:()=>Ws,ez:()=>fo,q:()=>ee,sg:()=>Br,w_:()=>fe});var A=X(4946);let E=null;function ee(){return E}function z(P){E||(E=P)}class fe{}const he=new A.OlP("DocumentToken");let Ge=(()=>{class P{historyGo(B){throw new Error("Not implemented")}static#e=this.\u0275fac=function(K){return new(K||P)};static#t=this.\u0275prov=A.Yz7({token:P,factory:function(){return(0,A.f3M)(He)},providedIn:"platform"})}return P})();const St=new A.OlP("Location Initialized");let He=(()=>{class P extends Ge{constructor(){super(),this._doc=(0,A.f3M)(he),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ee().getBaseHref(this._doc)}onPopState(B){const K=ee().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",B,!1),()=>K.removeEventListener("popstate",B)}onHashChange(B){const K=ee().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",B,!1),()=>K.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,K,Ie){this._history.pushState(B,K,Ie)}replaceState(B,K,Ie){this._history.replaceState(B,K,Ie)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}static#e=this.\u0275fac=function(K){return new(K||P)};static#t=this.\u0275prov=A.Yz7({token:P,factory:function(){return new P},providedIn:"platform"})}return P})();function pe(P,te){if(0==P.length)return te;if(0==te.length)return P;let B=0;return P.endsWith("/")&&B++,te.startsWith("/")&&B++,2==B?P+te.substring(1):1==B?P+te:P+"/"+te}function me(P){const te=P.match(/#|\?|$/),B=te&&te.index||P.length;return P.slice(0,B-("/"===P[B-1]?1:0))+P.slice(B)}function $e(P){return P&&"?"!==P[0]?"?"+P:P}let Se=(()=>{class P{historyGo(B){throw new Error("Not implemented")}static#e=this.\u0275fac=function(K){return new(K||P)};static#t=this.\u0275prov=A.Yz7({token:P,factory:function(){return(0,A.f3M)(Je)},providedIn:"root"})}return P})();const at=new A.OlP("appBaseHref");let Je=(()=>{class P extends Se{constructor(B,K){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=K??this._platformLocation.getBaseHrefFromDOM()??(0,A.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return pe(this._baseHref,B)}path(B=!1){const K=this._platformLocation.pathname+$e(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&B?`${K}${Ie}`:K}pushState(B,K,Ie,ot){const Dt=this.prepareExternalUrl(Ie+$e(ot));this._platformLocation.pushState(B,K,Dt)}replaceState(B,K,Ie,ot){const Dt=this.prepareExternalUrl(Ie+$e(ot));this._platformLocation.replaceState(B,K,Dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static#e=this.\u0275fac=function(K){return new(K||P)(A.LFG(Ge),A.LFG(at,8))};static#t=this.\u0275prov=A.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),pt=(()=>{class P extends Se{constructor(B,K){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(B){const K=pe(this._baseHref,B);return K.length>0?"#"+K:K}pushState(B,K,Ie,ot){let Dt=this.prepareExternalUrl(Ie+$e(ot));0==Dt.length&&(Dt=this._platformLocation.pathname),this._platformLocation.pushState(B,K,Dt)}replaceState(B,K,Ie,ot){let Dt=this.prepareExternalUrl(Ie+$e(ot));0==Dt.length&&(Dt=this._platformLocation.pathname),this._platformLocation.replaceState(B,K,Dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static#e=this.\u0275fac=function(K){return new(K||P)(A.LFG(Ge),A.LFG(at,8))};static#t=this.\u0275prov=A.Yz7({token:P,factory:P.\u0275fac})}return P})(),Kt=(()=>{class P{constructor(B){this._subject=new A.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const K=this._locationStrategy.getBaseHref();this._basePath=function nt(P){if(new RegExp("^(https?:)?//").test(P)){const[,B]=P.split(/\/\/[^\/]+/);return B}return P}(me(dn(K))),this._locationStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,K=""){return this.path()==this.normalize(B+$e(K))}normalize(B){return P.stripTrailingSlash(function Sn(P,te){if(!P||!te.startsWith(P))return te;const B=te.substring(P.length);return""===B||["/",";","?","#"].includes(B[0])?B:te}(this._basePath,dn(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,K="",Ie=null){this._locationStrategy.pushState(Ie,"",B,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+$e(K)),Ie)}replaceState(B,K="",Ie=null){this._locationStrategy.replaceState(Ie,"",B,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+$e(K)),Ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)})),()=>{const K=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(K,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",K){this._urlChangeListeners.forEach(Ie=>Ie(B,K))}subscribe(B,K,Ie){return this._subject.subscribe({next:B,error:K,complete:Ie})}static#e=this.normalizeQueryParams=$e;static#t=this.joinWithSlash=pe;static#n=this.stripTrailingSlash=me;static#r=this.\u0275fac=function(K){return new(K||P)(A.LFG(Se))};static#i=this.\u0275prov=A.Yz7({token:P,factory:function(){return function Gt(){return new Kt((0,A.LFG)(Se))}()},providedIn:"root"})}return P})();function dn(P){return P.replace(/\/index.html$/,"")}function Ps(P,te){te=encodeURIComponent(te);for(const B of P.split(";")){const K=B.indexOf("="),[Ie,ot]=-1==K?[B,""]:[B.slice(0,K),B.slice(K+1)];if(Ie.trim()===te)return decodeURIComponent(ot)}return null}class Un{constructor(te,B,K,Ie){this.$implicit=te,this.ngForOf=B,this.index=K,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Br=(()=>{class P{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,K,Ie){this._viewContainer=B,this._template=K,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const K=this._viewContainer;B.forEachOperation((Ie,ot,Dt)=>{if(null==Ie.previousIndex)K.createEmbeddedView(this._template,new Un(Ie.item,this._ngForOf,-1,-1),null===Dt?void 0:Dt);else if(null==Dt)K.remove(null===ot?void 0:ot);else if(null!==ot){const Tn=K.get(ot);K.move(Tn,Dt),Rr(Tn,Ie)}});for(let Ie=0,ot=K.length;Ie<ot;Ie++){const Tn=K.get(Ie).context;Tn.index=Ie,Tn.count=ot,Tn.ngForOf=this._ngForOf}B.forEachIdentityChange(Ie=>{Rr(K.get(Ie.currentIndex),Ie)})}static ngTemplateContextGuard(B,K){return!0}static#e=this.\u0275fac=function(K){return new(K||P)(A.Y36(A.s_b),A.Y36(A.Rgc),A.Y36(A.ZZ4))};static#t=this.\u0275dir=A.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return P})();function Rr(P,te){P.context.$implicit=te.item}let Xr=(()=>{class P{constructor(B,K){this._viewContainer=B,this._context=new gs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){zs("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){zs("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,K){return!0}static#e=this.\u0275fac=function(K){return new(K||P)(A.Y36(A.s_b),A.Y36(A.Rgc))};static#t=this.\u0275dir=A.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return P})();class gs{constructor(){this.$implicit=null,this.ngIf=null}}function zs(P,te){if(te&&!te.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,A.AaK)(te)}'.`)}let _i=(()=>{class P{constructor(B,K,Ie){this._ngEl=B,this._differs=K,this._renderer=Ie,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,K){const[Ie,ot]=B.split("."),Dt=-1===Ie.indexOf("-")?void 0:A.JOm.DashCase;null!=K?this._renderer.setStyle(this._ngEl.nativeElement,Ie,ot?`${K}${ot}`:K,Dt):this._renderer.removeStyle(this._ngEl.nativeElement,Ie,Dt)}_applyChanges(B){B.forEachRemovedItem(K=>this._setStyle(K.key,null)),B.forEachAddedItem(K=>this._setStyle(K.key,K.currentValue)),B.forEachChangedItem(K=>this._setStyle(K.key,K.currentValue))}static#e=this.\u0275fac=function(K){return new(K||P)(A.Y36(A.SBq),A.Y36(A.aQg),A.Y36(A.Qsj))};static#t=this.\u0275dir=A.lG2({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return P})(),fo=(()=>{class P{static#e=this.\u0275fac=function(K){return new(K||P)};static#t=this.\u0275mod=A.oAB({type:P});static#n=this.\u0275inj=A.cJS({})}return P})();const Ws="browser",Ls="server";function Dn(P){return P===Ls}let we=(()=>{class P{static#e=this.\u0275prov=(0,A.Yz7)({token:P,providedIn:"root",factory:()=>new ke((0,A.LFG)(he),window)})}return P})();class ke{constructor(te,B){this.document=te,this.window=B,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(te){this.supportsScrolling()&&this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){if(!this.supportsScrolling())return;const B=function Ye(P,te){const B=P.getElementById(te)||P.getElementsByName(te)[0];if(B)return B;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const K=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Ie=K.currentNode;for(;Ie;){const ot=Ie.shadowRoot;if(ot){const Dt=ot.getElementById(te)||ot.querySelector(`[name="${te}"]`);if(Dt)return Dt}Ie=K.nextNode()}}return null}(this.document,te);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(te){this.supportsScrolling()&&(this.window.history.scrollRestoration=te)}scrollToElement(te){const B=te.getBoundingClientRect(),K=B.left+this.window.pageXOffset,Ie=B.top+this.window.pageYOffset,ot=this.offset();this.window.scrollTo(K-ot[0],Ie-ot[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class hn{}},9862:(yn,ht,X)=>{X.d(ht,{JF:()=>ue,eN:()=>Re});var A=X(4946),E=X(2096),ee=X(2459),z=X(5592),fe=X(6328),he=X(2181),Ge=X(7398),St=X(4716),He=X(4664),pe=X(6814);class me{}class $e{}class Se{constructor(Ae){this.normalizedNames=new Map,this.lazyUpdate=null,Ae?"string"==typeof Ae?this.lazyInit=()=>{this.headers=new Map,Ae.split("\n").forEach(Pe=>{const Te=Pe.indexOf(":");if(Te>0){const Ee=Pe.slice(0,Te),je=Ee.toLowerCase(),it=Pe.slice(Te+1).trim();this.maybeSetNormalizedName(Ee,je),this.headers.has(je)?this.headers.get(je).push(it):this.headers.set(je,[it])}})}:typeof Headers<"u"&&Ae instanceof Headers?(this.headers=new Map,Ae.forEach((Pe,Te)=>{this.setHeaderEntries(Te,Pe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ae).forEach(([Pe,Te])=>{this.setHeaderEntries(Pe,Te)})}:this.headers=new Map}has(Ae){return this.init(),this.headers.has(Ae.toLowerCase())}get(Ae){this.init();const Pe=this.headers.get(Ae.toLowerCase());return Pe&&Pe.length>0?Pe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ae){return this.init(),this.headers.get(Ae.toLowerCase())||null}append(Ae,Pe){return this.clone({name:Ae,value:Pe,op:"a"})}set(Ae,Pe){return this.clone({name:Ae,value:Pe,op:"s"})}delete(Ae,Pe){return this.clone({name:Ae,value:Pe,op:"d"})}maybeSetNormalizedName(Ae,Pe){this.normalizedNames.has(Pe)||this.normalizedNames.set(Pe,Ae)}init(){this.lazyInit&&(this.lazyInit instanceof Se?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ae=>this.applyUpdate(Ae)),this.lazyUpdate=null))}copyFrom(Ae){Ae.init(),Array.from(Ae.headers.keys()).forEach(Pe=>{this.headers.set(Pe,Ae.headers.get(Pe)),this.normalizedNames.set(Pe,Ae.normalizedNames.get(Pe))})}clone(Ae){const Pe=new Se;return Pe.lazyInit=this.lazyInit&&this.lazyInit instanceof Se?this.lazyInit:this,Pe.lazyUpdate=(this.lazyUpdate||[]).concat([Ae]),Pe}applyUpdate(Ae){const Pe=Ae.name.toLowerCase();switch(Ae.op){case"a":case"s":let Te=Ae.value;if("string"==typeof Te&&(Te=[Te]),0===Te.length)return;this.maybeSetNormalizedName(Ae.name,Pe);const Ee=("a"===Ae.op?this.headers.get(Pe):void 0)||[];Ee.push(...Te),this.headers.set(Pe,Ee);break;case"d":const je=Ae.value;if(je){let it=this.headers.get(Pe);if(!it)return;it=it.filter(Zt=>-1===je.indexOf(Zt)),0===it.length?(this.headers.delete(Pe),this.normalizedNames.delete(Pe)):this.headers.set(Pe,it)}else this.headers.delete(Pe),this.normalizedNames.delete(Pe)}}setHeaderEntries(Ae,Pe){const Te=(Array.isArray(Pe)?Pe:[Pe]).map(je=>je.toString()),Ee=Ae.toLowerCase();this.headers.set(Ee,Te),this.maybeSetNormalizedName(Ae,Ee)}forEach(Ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(Pe=>Ae(this.normalizedNames.get(Pe),this.headers.get(Pe)))}}class Je{encodeKey(Ae){return Sn(Ae)}encodeValue(Ae){return Sn(Ae)}decodeKey(Ae){return decodeURIComponent(Ae)}decodeValue(Ae){return decodeURIComponent(Ae)}}const Kt=/%(\d[a-f0-9])/gi,Gt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Sn(Be){return encodeURIComponent(Be).replace(Kt,(Ae,Pe)=>Gt[Pe]??Ae)}function dn(Be){return`${Be}`}class nt{constructor(Ae={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ae.encoder||new Je,Ae.fromString){if(Ae.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function pt(Be,Ae){const Pe=new Map;return Be.length>0&&Be.replace(/^\?/,"").split("&").forEach(Ee=>{const je=Ee.indexOf("="),[it,Zt]=-1==je?[Ae.decodeKey(Ee),""]:[Ae.decodeKey(Ee.slice(0,je)),Ae.decodeValue(Ee.slice(je+1))],Tt=Pe.get(it)||[];Tt.push(Zt),Pe.set(it,Tt)}),Pe}(Ae.fromString,this.encoder)}else Ae.fromObject?(this.map=new Map,Object.keys(Ae.fromObject).forEach(Pe=>{const Te=Ae.fromObject[Pe],Ee=Array.isArray(Te)?Te.map(dn):[dn(Te)];this.map.set(Pe,Ee)})):this.map=null}has(Ae){return this.init(),this.map.has(Ae)}get(Ae){this.init();const Pe=this.map.get(Ae);return Pe?Pe[0]:null}getAll(Ae){return this.init(),this.map.get(Ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ae,Pe){return this.clone({param:Ae,value:Pe,op:"a"})}appendAll(Ae){const Pe=[];return Object.keys(Ae).forEach(Te=>{const Ee=Ae[Te];Array.isArray(Ee)?Ee.forEach(je=>{Pe.push({param:Te,value:je,op:"a"})}):Pe.push({param:Te,value:Ee,op:"a"})}),this.clone(Pe)}set(Ae,Pe){return this.clone({param:Ae,value:Pe,op:"s"})}delete(Ae,Pe){return this.clone({param:Ae,value:Pe,op:"d"})}toString(){return this.init(),this.keys().map(Ae=>{const Pe=this.encoder.encodeKey(Ae);return this.map.get(Ae).map(Te=>Pe+"="+this.encoder.encodeValue(Te)).join("&")}).filter(Ae=>""!==Ae).join("&")}clone(Ae){const Pe=new nt({encoder:this.encoder});return Pe.cloneFrom=this.cloneFrom||this,Pe.updates=(this.updates||[]).concat(Ae),Pe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ae=>this.map.set(Ae,this.cloneFrom.map.get(Ae))),this.updates.forEach(Ae=>{switch(Ae.op){case"a":case"s":const Pe=("a"===Ae.op?this.map.get(Ae.param):void 0)||[];Pe.push(dn(Ae.value)),this.map.set(Ae.param,Pe);break;case"d":if(void 0===Ae.value){this.map.delete(Ae.param);break}{let Te=this.map.get(Ae.param)||[];const Ee=Te.indexOf(dn(Ae.value));-1!==Ee&&Te.splice(Ee,1),Te.length>0?this.map.set(Ae.param,Te):this.map.delete(Ae.param)}}}),this.cloneFrom=this.updates=null)}}class qe{constructor(){this.map=new Map}set(Ae,Pe){return this.map.set(Ae,Pe),this}get(Ae){return this.map.has(Ae)||this.map.set(Ae,Ae.defaultValue()),this.map.get(Ae)}delete(Ae){return this.map.delete(Ae),this}has(Ae){return this.map.has(Ae)}keys(){return this.map.keys()}}function ut(Be){return typeof ArrayBuffer<"u"&&Be instanceof ArrayBuffer}function _t(Be){return typeof Blob<"u"&&Be instanceof Blob}function ft(Be){return typeof FormData<"u"&&Be instanceof FormData}class Zn{constructor(Ae,Pe,Te,Ee){let je;if(this.url=Pe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ae.toUpperCase(),function xt(Be){switch(Be){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ee?(this.body=void 0!==Te?Te:null,je=Ee):je=Te,je&&(this.reportProgress=!!je.reportProgress,this.withCredentials=!!je.withCredentials,je.responseType&&(this.responseType=je.responseType),je.headers&&(this.headers=je.headers),je.context&&(this.context=je.context),je.params&&(this.params=je.params)),this.headers||(this.headers=new Se),this.context||(this.context=new qe),this.params){const it=this.params.toString();if(0===it.length)this.urlWithParams=Pe;else{const Zt=Pe.indexOf("?");this.urlWithParams=Pe+(-1===Zt?"?":Zt<Pe.length-1?"&":"")+it}}else this.params=new nt,this.urlWithParams=Pe}serializeBody(){return null===this.body?null:ut(this.body)||_t(this.body)||ft(this.body)||function fn(Be){return typeof URLSearchParams<"u"&&Be instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ft(this.body)?null:_t(this.body)?this.body.type||null:ut(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ae={}){const Pe=Ae.method||this.method,Te=Ae.url||this.url,Ee=Ae.responseType||this.responseType,je=void 0!==Ae.body?Ae.body:this.body,it=void 0!==Ae.withCredentials?Ae.withCredentials:this.withCredentials,Zt=void 0!==Ae.reportProgress?Ae.reportProgress:this.reportProgress;let Tt=Ae.headers||this.headers,An=Ae.params||this.params;const Fr=Ae.context??this.context;return void 0!==Ae.setHeaders&&(Tt=Object.keys(Ae.setHeaders).reduce((Cn,ci)=>Cn.set(ci,Ae.setHeaders[ci]),Tt)),Ae.setParams&&(An=Object.keys(Ae.setParams).reduce((Cn,ci)=>Cn.set(ci,Ae.setParams[ci]),An)),new Zn(Pe,Te,je,{params:An,headers:Tt,context:Fr,reportProgress:Zt,responseType:Ee,withCredentials:it})}}var wt=function(Be){return Be[Be.Sent=0]="Sent",Be[Be.UploadProgress=1]="UploadProgress",Be[Be.ResponseHeader=2]="ResponseHeader",Be[Be.DownloadProgress=3]="DownloadProgress",Be[Be.Response=4]="Response",Be[Be.User=5]="User",Be}(wt||{});class In{constructor(Ae,Pe=200,Te="OK"){this.headers=Ae.headers||new Se,this.status=void 0!==Ae.status?Ae.status:Pe,this.statusText=Ae.statusText||Te,this.url=Ae.url||null,this.ok=this.status>=200&&this.status<300}}class Pt extends In{constructor(Ae={}){super(Ae),this.type=wt.ResponseHeader}clone(Ae={}){return new Pt({headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class gt extends In{constructor(Ae={}){super(Ae),this.type=wt.Response,this.body=void 0!==Ae.body?Ae.body:null}clone(Ae={}){return new gt({body:void 0!==Ae.body?Ae.body:this.body,headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class kt extends In{constructor(Ae){super(Ae,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ae.url||"(unknown url)"}`:`Http failure response for ${Ae.url||"(unknown url)"}: ${Ae.status} ${Ae.statusText}`,this.error=Ae.error||null}}function tt(Be,Ae){return{body:Ae,headers:Be.headers,context:Be.context,observe:Be.observe,params:Be.params,reportProgress:Be.reportProgress,responseType:Be.responseType,withCredentials:Be.withCredentials}}let Re=(()=>{class Be{constructor(Pe){this.handler=Pe}request(Pe,Te,Ee={}){let je;if(Pe instanceof Zn)je=Pe;else{let Tt,An;Tt=Ee.headers instanceof Se?Ee.headers:new Se(Ee.headers),Ee.params&&(An=Ee.params instanceof nt?Ee.params:new nt({fromObject:Ee.params})),je=new Zn(Pe,Te,void 0!==Ee.body?Ee.body:null,{headers:Tt,context:Ee.context,params:An,reportProgress:Ee.reportProgress,responseType:Ee.responseType||"json",withCredentials:Ee.withCredentials})}const it=(0,E.of)(je).pipe((0,fe.b)(Tt=>this.handler.handle(Tt)));if(Pe instanceof Zn||"events"===Ee.observe)return it;const Zt=it.pipe((0,he.h)(Tt=>Tt instanceof gt));switch(Ee.observe||"body"){case"body":switch(je.responseType){case"arraybuffer":return Zt.pipe((0,Ge.U)(Tt=>{if(null!==Tt.body&&!(Tt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Tt.body}));case"blob":return Zt.pipe((0,Ge.U)(Tt=>{if(null!==Tt.body&&!(Tt.body instanceof Blob))throw new Error("Response is not a Blob.");return Tt.body}));case"text":return Zt.pipe((0,Ge.U)(Tt=>{if(null!==Tt.body&&"string"!=typeof Tt.body)throw new Error("Response is not a string.");return Tt.body}));default:return Zt.pipe((0,Ge.U)(Tt=>Tt.body))}case"response":return Zt;default:throw new Error(`Unreachable: unhandled observe type ${Ee.observe}}`)}}delete(Pe,Te={}){return this.request("DELETE",Pe,Te)}get(Pe,Te={}){return this.request("GET",Pe,Te)}head(Pe,Te={}){return this.request("HEAD",Pe,Te)}jsonp(Pe,Te){return this.request("JSONP",Pe,{params:(new nt).append(Te,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Pe,Te={}){return this.request("OPTIONS",Pe,Te)}patch(Pe,Te,Ee={}){return this.request("PATCH",Pe,tt(Ee,Te))}post(Pe,Te,Ee={}){return this.request("POST",Pe,tt(Ee,Te))}put(Pe,Te,Ee={}){return this.request("PUT",Pe,tt(Ee,Te))}static#e=this.\u0275fac=function(Te){return new(Te||Be)(A.LFG(me))};static#t=this.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac})}return Be})();function Ht(Be,Ae){return Ae(Be)}function Bt(Be,Ae){return(Pe,Te)=>Ae.intercept(Pe,{handle:Ee=>Be(Ee,Te)})}const cr=new A.OlP(""),$n=new A.OlP(""),Dr=new A.OlP("");function Lr(){let Be=null;return(Ae,Pe)=>{null===Be&&(Be=((0,A.f3M)(cr,{optional:!0})??[]).reduceRight(Bt,Ht));const Te=(0,A.f3M)(A.HDt),Ee=Te.add();return Be(Ae,Pe).pipe((0,St.x)(()=>Te.remove(Ee)))}}let yr=(()=>{class Be extends me{constructor(Pe,Te){super(),this.backend=Pe,this.injector=Te,this.chain=null,this.pendingTasks=(0,A.f3M)(A.HDt)}handle(Pe){if(null===this.chain){const Ee=Array.from(new Set([...this.injector.get($n),...this.injector.get(Dr,[])]));this.chain=Ee.reduceRight((je,it)=>function vn(Be,Ae,Pe){return(Te,Ee)=>Pe.runInContext(()=>Ae(Te,je=>Be(je,Ee)))}(je,it,this.injector),Ht)}const Te=this.pendingTasks.add();return this.chain(Pe,Ee=>this.backend.handle(Ee)).pipe((0,St.x)(()=>this.pendingTasks.remove(Te)))}static#e=this.\u0275fac=function(Te){return new(Te||Be)(A.LFG($e),A.LFG(A.lqb))};static#t=this.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac})}return Be})();const ui=/^\)\]\}',?\n/;let xr=(()=>{class Be{constructor(Pe){this.xhrFactory=Pe}handle(Pe){if("JSONP"===Pe.method)throw new A.vHH(-2800,!1);const Te=this.xhrFactory;return(Te.\u0275loadImpl?(0,ee.D)(Te.\u0275loadImpl()):(0,E.of)(null)).pipe((0,He.w)(()=>new z.y(je=>{const it=Te.build();if(it.open(Pe.method,Pe.urlWithParams),Pe.withCredentials&&(it.withCredentials=!0),Pe.headers.forEach((Bn,ur)=>it.setRequestHeader(Bn,ur.join(","))),Pe.headers.has("Accept")||it.setRequestHeader("Accept","application/json, text/plain, */*"),!Pe.headers.has("Content-Type")){const Bn=Pe.detectContentTypeHeader();null!==Bn&&it.setRequestHeader("Content-Type",Bn)}if(Pe.responseType){const Bn=Pe.responseType.toLowerCase();it.responseType="json"!==Bn?Bn:"text"}const Zt=Pe.serializeBody();let Tt=null;const An=()=>{if(null!==Tt)return Tt;const Bn=it.statusText||"OK",ur=new Se(it.getAllResponseHeaders()),Qr=function pi(Be){return"responseURL"in Be&&Be.responseURL?Be.responseURL:/^X-Request-URL:/m.test(Be.getAllResponseHeaders())?Be.getResponseHeader("X-Request-URL"):null}(it)||Pe.url;return Tt=new Pt({headers:ur,status:it.status,statusText:Bn,url:Qr}),Tt},Fr=()=>{let{headers:Bn,status:ur,statusText:Qr,url:si}=An(),Un=null;204!==ur&&(Un=typeof it.response>"u"?it.responseText:it.response),0===ur&&(ur=Un?200:0);let Br=ur>=200&&ur<300;if("json"===Pe.responseType&&"string"==typeof Un){const Rr=Un;Un=Un.replace(ui,"");try{Un=""!==Un?JSON.parse(Un):null}catch(Jr){Un=Rr,Br&&(Br=!1,Un={error:Jr,text:Un})}}Br?(je.next(new gt({body:Un,headers:Bn,status:ur,statusText:Qr,url:si||void 0})),je.complete()):je.error(new kt({error:Un,headers:Bn,status:ur,statusText:Qr,url:si||void 0}))},Cn=Bn=>{const{url:ur}=An(),Qr=new kt({error:Bn,status:it.status||0,statusText:it.statusText||"Unknown Error",url:ur||void 0});je.error(Qr)};let ci=!1;const Ps=Bn=>{ci||(je.next(An()),ci=!0);let ur={type:wt.DownloadProgress,loaded:Bn.loaded};Bn.lengthComputable&&(ur.total=Bn.total),"text"===Pe.responseType&&it.responseText&&(ur.partialText=it.responseText),je.next(ur)},ki=Bn=>{let ur={type:wt.UploadProgress,loaded:Bn.loaded};Bn.lengthComputable&&(ur.total=Bn.total),je.next(ur)};return it.addEventListener("load",Fr),it.addEventListener("error",Cn),it.addEventListener("timeout",Cn),it.addEventListener("abort",Cn),Pe.reportProgress&&(it.addEventListener("progress",Ps),null!==Zt&&it.upload&&it.upload.addEventListener("progress",ki)),it.send(Zt),je.next({type:wt.Sent}),()=>{it.removeEventListener("error",Cn),it.removeEventListener("abort",Cn),it.removeEventListener("load",Fr),it.removeEventListener("timeout",Cn),Pe.reportProgress&&(it.removeEventListener("progress",Ps),null!==Zt&&it.upload&&it.upload.removeEventListener("progress",ki)),it.readyState!==it.DONE&&it.abort()}})))}static#e=this.\u0275fac=function(Te){return new(Te||Be)(A.LFG(pe.JF))};static#t=this.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac})}return Be})();const hr=new A.OlP("XSRF_ENABLED"),Mr=new A.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Jt=new A.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Is{}let Ki=(()=>{class Be{constructor(Pe,Te,Ee){this.doc=Pe,this.platform=Te,this.cookieName=Ee,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Pe=this.doc.cookie||"";return Pe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,pe.Mx)(Pe,this.cookieName),this.lastCookieString=Pe),this.lastToken}static#e=this.\u0275fac=function(Te){return new(Te||Be)(A.LFG(pe.K0),A.LFG(A.Lbi),A.LFG(Mr))};static#t=this.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac})}return Be})();function Tr(Be,Ae){const Pe=Be.url.toLowerCase();if(!(0,A.f3M)(hr)||"GET"===Be.method||"HEAD"===Be.method||Pe.startsWith("http://")||Pe.startsWith("https://"))return Ae(Be);const Te=(0,A.f3M)(Is).getToken(),Ee=(0,A.f3M)(Jt);return null!=Te&&!Be.headers.has(Ee)&&(Be=Be.clone({headers:Be.headers.set(Ee,Te)})),Ae(Be)}var Jn=function(Be){return Be[Be.Interceptors=0]="Interceptors",Be[Be.LegacyInterceptors=1]="LegacyInterceptors",Be[Be.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Be[Be.NoXsrfProtection=3]="NoXsrfProtection",Be[Be.JsonpSupport=4]="JsonpSupport",Be[Be.RequestsMadeViaParent=5]="RequestsMadeViaParent",Be[Be.Fetch=6]="Fetch",Be}(Jn||{});function Ni(...Be){const Ae=[Re,xr,yr,{provide:me,useExisting:yr},{provide:$e,useExisting:xr},{provide:$n,useValue:Tr,multi:!0},{provide:hr,useValue:!0},{provide:Is,useClass:Ki}];for(const Pe of Be)Ae.push(...Pe.\u0275providers);return(0,A.MR2)(Ae)}const Vt=new A.OlP("LEGACY_INTERCEPTOR_FN");function On(){return function sn(Be,Ae){return{\u0275kind:Be,\u0275providers:Ae}}(Jn.LegacyInterceptors,[{provide:Vt,useFactory:Lr},{provide:$n,useExisting:Vt,multi:!0}])}let ue=(()=>{class Be{static#e=this.\u0275fac=function(Te){return new(Te||Be)};static#t=this.\u0275mod=A.oAB({type:Be});static#n=this.\u0275inj=A.cJS({providers:[Ni(On())]})}return Be})()},4946:(yn,ht,X)=>{X.d(ht,{tb:()=>k0,AFp:()=>np,ip1:()=>nT,hGG:()=>WC,z2F:()=>W_,Ojb:()=>Wd,sBO:()=>RC,Sil:()=>QA,EJc:()=>ZA,Xts:()=>Wc,SBq:()=>sf,lqb:()=>wl,qLn:()=>ac,vpe:()=>Dl,XFs:()=>Jt,OlP:()=>Vt,zs3:()=>Va,ZZ4:()=>j0,aQg:()=>H0,soG:()=>rb,YKP:()=>iI,h0i:()=>vm,PXZ:()=>TC,R0b:()=>Eo,FiY:()=>Js,Lbi:()=>rp,g9A:()=>Yc,Qsj:()=>af,FYo:()=>t_,JOm:()=>kd,tp0:()=>nl,Rgc:()=>nv,dDg:()=>vC,eoX:()=>cT,q4F:()=>gp,GfV:()=>n_,s_b:()=>tb,ifc:()=>Qr,VuI:()=>iD,MMx:()=>oI,Lck:()=>Ow,eFA:()=>pT,Gpc:()=>_t,f3M:()=>Tt,$WT:()=>Yi,MR2:()=>$h,_c5:()=>qC,qFp:()=>oD,rg0:()=>hi,c2e:()=>rT,zSh:()=>rc,HDt:()=>iT,wAp:()=>g,vHH:()=>Pt,lri:()=>lT,rWj:()=>uT,cg1:()=>i,kL8:()=>n,dqk:()=>sn,Z0I:()=>Sr,eJc:()=>A0,QGY:()=>F_,F4k:()=>Rv,RDi:()=>fg,AaK:()=>qe,qOj:()=>Vp,Xq5:()=>Su,TTD:()=>Vi,_Bn:()=>rI,jDz:()=>aI,xp6:()=>v_,uIk:()=>b,ekj:()=>Gv,Suo:()=>kI,Xpm:()=>Co,lG2:()=>qs,Yz7:()=>ar,cJS:()=>rn,oAB:()=>ra,Yjl:()=>no,Y36:()=>nh,_UZ:()=>Hy,qZA:()=>jy,TgZ:()=>k_,EpF:()=>Eb,n5z:()=>Ih,LFG:()=>it,$8M:()=>gr,$Z:()=>wp,NdJ:()=>Pv,CRH:()=>LI,oxw:()=>wb,ALo:()=>EI,xi3:()=>II,Q6J:()=>Dv,DdM:()=>pI,VKq:()=>gI,iGM:()=>NI,MAs:()=>mb,KtG:()=>Ke,CHM:()=>Ou,P3R:()=>jh,Udp:()=>$v,YNc:()=>wv,_uU:()=>jb,Oqu:()=>Wv,hij:()=>Ky,AsE:()=>Zv});var A=X(8645),E=X(7394),ee=X(5592),z=X(7537),fe=X(4829),he=X(6232),Ge=X(4564),St=X(2459),pe=X(5619),me=X(2096),$e=X(305),Se=X(9360);function at(t={}){const{connector:r=(()=>new A.x),resetOnError:s=!0,resetOnComplete:d=!0,resetOnRefCountZero:p=!0}=t;return _=>{let w,x,L,$=0,ne=!1,ye=!1;const Fe=()=>{x?.unsubscribe(),x=void 0},Ze=()=>{Fe(),w=L=void 0,ne=ye=!1},At=()=>{const $t=w;Ze(),$t?.unsubscribe()};return(0,Se.e)(($t,pn)=>{$++,!ye&&!ne&&Fe();const Hn=L=L??r();pn.add(()=>{$--,0===$&&!ye&&!ne&&(x=Je(At,p))}),Hn.subscribe(pn),!w&&$>0&&(w=new $e.Hp({next:Lt=>Hn.next(Lt),error:Lt=>{ye=!0,Fe(),x=Je(Ze,s,Lt),Hn.error(Lt)},complete:()=>{ne=!0,Fe(),x=Je(Ze,d),Hn.complete()}}),(0,fe.Xf)($t).subscribe(w))})(_)}}function Je(t,r,...s){if(!0===r)return void t();if(!1===r)return;const d=new $e.Hp({next:()=>{d.unsubscribe(),t()}});return(0,fe.Xf)(r(...s)).subscribe(d)}var pt=X(4664),Kt=X(2737),Gt=X(8251);function dn(t,r){return t===r}function nt(t){for(let r in t)if(t[r]===nt)return r;throw Error("Could not find renamed property on target object.")}function Ct(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function qe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(qe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function xt(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const ut=nt({__forward_ref__:nt});function _t(t){return t.__forward_ref__=_t,t.toString=function(){return qe(this())},t}function ft(t){return fn(t)?t():t}function fn(t){return"function"==typeof t&&t.hasOwnProperty(ut)&&t.__forward_ref__===_t}function Zn(t){return t&&!!t.\u0275providers}const In="https://g.co/ng/security#xss";class Pt extends Error{constructor(r,s){super(function gt(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function kt(t){return"string"==typeof t?t:null==t?"":String(t)}function Xe(t,r){throw new Pt(-201,!1)}function Mn(t,r){null==t&&function zt(t,r,s,d){throw new Error(`ASSERTION ERROR: ${t}`+(null==d?"":` [Expected=> ${s} ${d} ${r} <=Actual]`))}(r,t,null,"!=")}function ar(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rn(t){return{providers:t.providers||[],imports:t.imports||[]}}function en(t){return ui(t,hr)||ui(t,Mr)}function Sr(t){return null!==en(t)}function ui(t,r){return t.hasOwnProperty(r)?t[r]:null}function xr(t){return t&&(t.hasOwnProperty(wi)||t.hasOwnProperty(rs))?t[wi]:null}const hr=nt({\u0275prov:nt}),wi=nt({\u0275inj:nt}),Mr=nt({ngInjectableDef:nt}),rs=nt({ngInjectorDef:nt});var Jt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Jt||{});let Is;function Tr(t){const r=Is;return Is=t,r}function Yr(t,r,s){const d=en(t);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:s&Jt.Optional?null:void 0!==r?r:void Xe(qe(t))}const sn=globalThis;class Vt{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=ar({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const mn={},Rn="__NG_DI_FLAG__",nr="ngTempTokenPath",rr=/\n/gm,Ae="__source";let Pe;function Ee(t){const r=Pe;return Pe=t,r}function je(t,r=Jt.Default){if(void 0===Pe)throw new Pt(-203,!1);return null===Pe?Yr(t,void 0,r):Pe.get(t,r&Jt.Optional?null:void 0,r)}function it(t,r=Jt.Default){return(function Ki(){return Is}()||je)(ft(t),r)}function Tt(t,r=Jt.Default){return it(t,An(r))}function An(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Fr(t){const r=[];for(let s=0;s<t.length;s++){const d=ft(t[s]);if(Array.isArray(d)){if(0===d.length)throw new Pt(900,!1);let p,_=Jt.Default;for(let w=0;w<d.length;w++){const x=d[w],L=ci(x);"number"==typeof L?-1===L?p=x.token:_|=L:p=x}r.push(it(p,_))}else r.push(it(d))}return r}function Cn(t,r){return t[Rn]=r,t.prototype[Rn]=r,t}function ci(t){return t[Rn]}function Bn(t){return{toString:t}.toString()}var ur=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ur||{}),Qr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qr||{});const si={},Un=[],Br=nt({\u0275cmp:nt}),Rr=nt({\u0275dir:nt}),Jr=nt({\u0275pipe:nt}),Xr=nt({\u0275mod:nt}),gs=nt({\u0275fac:nt}),zs=nt({__NG_ELEMENT_ID__:nt}),$s=nt({__NG_ENV_ID__:nt});function Ts(t,r,s){let d=t.length;for(;;){const p=t.indexOf(r,s);if(-1===p)return p;if(0===p||t.charCodeAt(p-1)<=32){const _=r.length;if(p+_===d||t.charCodeAt(p+_)<=32)return p}s=p+1}}function yi(t,r,s){let d=0;for(;d<s.length;){const p=s[d];if("number"==typeof p){if(0!==p)break;d++;const _=s[d++],w=s[d++],x=s[d++];t.setAttribute(r,w,x,_)}else{const _=p,w=s[++d];Gs(_)?t.setProperty(r,_,w):t.setAttribute(r,_,w),d++}}return d}function Ao(t){return 3===t||4===t||6===t}function Gs(t){return 64===t.charCodeAt(0)}function Ci(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let d=0;d<r.length;d++){const p=r[d];"number"==typeof p?s=p:0===s||ws(t,s,p,null,-1===s||2===s?r[++d]:null)}}return t}function ws(t,r,s,d,p){let _=0,w=t.length;if(-1===r)w=-1;else for(;_<t.length;){const x=t[_++];if("number"==typeof x){if(x===r){w=-1;break}if(x>r){w=_-1;break}}}for(;_<t.length;){const x=t[_];if("number"==typeof x)break;if(x===s){if(null===d)return void(null!==p&&(t[_+1]=p));if(d===t[_+1])return void(t[_+2]=p)}_++,null!==d&&_++,null!==p&&_++}-1!==w&&(t.splice(w,0,r),_=w+1),t.splice(_++,0,s),null!==d&&t.splice(_++,0,d),null!==p&&t.splice(_++,0,p)}const _i="ng-template";function $o(t,r,s){let d=0,p=!0;for(;d<t.length;){let _=t[d++];if("string"==typeof _&&p){const w=t[d++];if(s&&"class"===_&&-1!==Ts(w.toLowerCase(),r,0))return!0}else{if(1===_){for(;d<t.length&&"string"==typeof(_=t[d++]);)if(_.toLowerCase()===r)return!0;return!1}"number"==typeof _&&(p=!1)}}return!1}function Os(t){return 4===t.type&&t.value!==_i}function Di(t,r,s){return r===(4!==t.type||s?t.value:_i)}function eo(t,r,s){let d=4;const p=t.attrs||[],_=function ya(t){for(let r=0;r<t.length;r++)if(Ao(t[r]))return r;return t.length}(p);let w=!1;for(let x=0;x<r.length;x++){const L=r[x];if("number"!=typeof L){if(!w)if(4&d){if(d=2|1&d,""!==L&&!Di(t,L,s)||""===L&&1===r.length){if(Hi(d))return!1;w=!0}}else{const $=8&d?L:r[++x];if(8&d&&null!==t.attrs){if(!$o(t.attrs,$,s)){if(Hi(d))return!1;w=!0}continue}const ye=Xo(8&d?"class":L,p,Os(t),s);if(-1===ye){if(Hi(d))return!1;w=!0;continue}if(""!==$){let Fe;Fe=ye>_?"":p[ye+1].toLowerCase();const Ze=8&d?Fe:null;if(Ze&&-1!==Ts(Ze,$,0)||2&d&&$!==Fe){if(Hi(d))return!1;w=!0}}}}else{if(!w&&!Hi(d)&&!Hi(L))return!1;if(w&&Hi(L))continue;w=!1,d=L|1&d}}return Hi(d)||w}function Hi(t){return 0==(1&t)}function Xo(t,r,s,d){if(null===r)return-1;let p=0;if(d||!s){let _=!1;for(;p<r.length;){const w=r[p];if(w===t)return p;if(3===w||6===w)_=!0;else{if(1===w||2===w){let x=r[++p];for(;"string"==typeof x;)x=r[++p];continue}if(4===w)break;if(0===w){p+=4;continue}}p+=_?1:2}return-1}return function Ns(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const d=t[s];if("number"==typeof d)return-1;if(d===r)return s;s++}return-1}(r,t)}function co(t,r,s=!1){for(let d=0;d<r.length;d++)if(eo(t,r[d],s))return!0;return!1}function is(t,r){return t?":not("+r.trim()+")":r}function to(t){let r=t[0],s=1,d=2,p="",_=!1;for(;s<t.length;){let w=t[s];if("string"==typeof w)if(2&d){const x=t[++s];p+="["+w+(x.length>0?'="'+x+'"':"")+"]"}else 8&d?p+="."+w:4&d&&(p+=" "+w);else""!==p&&!Hi(w)&&(r+=is(_,p),p=""),d=w,_=_||!Hi(d);s++}return""!==p&&(r+=is(_,p)),r}function Co(t){return Bn(()=>{const r=ia(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ur.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qr.Emulated,styles:t.styles||Un,_:null,schemas:t.schemas||null,tView:null,id:""};fo(s);const d=t.dependencies;return s.directiveDefs=Ws(d,!1),s.pipeDefs=Ws(d,!0),s.id=function $i(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const p of s)r=Math.imul(31,r)+p.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function ho(t){return Gn(t)||kn(t)}function ks(t){return null!==t}function ra(t){return Bn(()=>({type:t.type,bootstrap:t.bootstrap||Un,declarations:t.declarations||Un,imports:t.imports||Un,exports:t.exports||Un,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function zi(t,r){if(null==t)return si;const s={};for(const d in t)if(t.hasOwnProperty(d)){let p=t[d],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),s[p]=d,r&&(r[p]=_)}return s}function qs(t){return Bn(()=>{const r=ia(t);return fo(r),r})}function no(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Gn(t){return t[Br]||null}function kn(t){return t[Rr]||null}function Pr(t){return t[Jr]||null}function Yi(t){const r=Gn(t)||kn(t)||Pr(t);return null!==r&&r.standalone}function Si(t,r){const s=t[Xr]||null;if(!s&&!0===r)throw new Error(`Type ${qe(t)} does not have '\u0275mod' property.`);return s}function ia(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||si,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Un,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zi(t.inputs,r),outputs:zi(t.outputs)}}function fo(t){t.features?.forEach(r=>r(t))}function Ws(t,r){if(!t)return null;const s=r?Pr:ho;return()=>("function"==typeof t?t():t).map(d=>s(d)).filter(ks)}const ei=0,Xt=1,Dn=2,W=3,Y=4,be=5,we=6,ke=7,Ye=8,Ut=9,hn=10,It=11,Ln=12,Qn=13,Or=14,qn=15,ti=16,Nr=17,vr=18,ni=19,As=20,vi=21,qr=22,di=23,as=24,zn=25,ms=1,sa=2,ir=7,mi=9,Li=11;function xi(t){return Array.isArray(t)&&"object"==typeof t[ms]}function Mi(t){return Array.isArray(t)&&!0===t[ms]}function ba(t){return 0!=(4&t.flags)}function Ea(t){return t.componentOffset>-1}function Xn(t){return 1==(1&t.flags)}function Qi(t){return!!t.template}function Ba(t){return 0!=(512&t[Dn])}function Ta(t,r){return t.hasOwnProperty(gs)?t[gs]:null}let ys=null,mo=!1;function us(t){const r=ys;return ys=t,r}const tu={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ll(t){if(!Fs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ko(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ha(t){t.dirty=!0,function kr(t){if(void 0===t.liveConsumerNode)return;const r=mo;mo=!0;try{for(const s of t.liveConsumerNode)s.dirty||Ha(s)}finally{mo=r}}(t),t.consumerMarkedDirty?.(t)}function xo(t){return t&&(t.nextProducerIndex=0),us(t)}function cl(t,r){if(us(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Fs(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)wa(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ko(t){Vs(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],d=t.producerLastReadVersion[r];if(d!==s.version||(ll(s),d!==s.version))return!0}return!1}function za(t){if(Vs(t),Fs(t))for(let r=0;r<t.producerNode.length;r++)wa(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function wa(t,r){if(function Ji(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Vs(t),1===t.liveConsumerNode.length)for(let d=0;d<t.producerNode.length;d++)wa(t.producerNode[d],t.producerIndexOfThis[d]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const d=t.liveConsumerIndexOfThis[r],p=t.liveConsumerNode[r];Vs(p),p.producerIndexOfThis[d]=r}}function Fs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Vs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ie=null;function hi(t){const r=us(null);try{return t()}finally{us(r)}}const Fi=()=>{},_o=(()=>({...tu,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Fi}))();class Mt{constructor(r,s,d){this.previousValue=r,this.currentValue=s,this.firstChange=d}isFirstChange(){return this.firstChange}}function Vi(){return ro}function ro(t){return t.type.prototype.ngOnChanges&&(t.setInput=gn),_c}function _c(){const t=xf(this),r=t?.current;if(r){const s=t.previous;if(s===si)t.previous=r;else for(let d in r)s[d]=r[d];t.current=null,this.ngOnChanges(r)}}function gn(t,r,s,d){const p=this.declaredInputs[s],_=xf(t)||function tn(t,r){return t[Pn]=r}(t,{previous:si,current:null}),w=_.current||(_.current={}),x=_.previous,L=x[p];w[p]=new Mt(L&&L.currentValue,r,x===si),t[d]=r}Vi.ngInherit=!0;const Pn="__ngSimpleChanges__";function xf(t){return t[Pn]||null}const Wr=function(t,r,s){};function br(t){for(;Array.isArray(t);)t=t[ei];return t}function fl(t,r){return br(r[t])}function Us(t,r){return br(r[t.index])}function yc(t,r){return t.data[r]}function Ru(t,r){return t[r]}function yo(t,r){const s=r[t];return xi(s)?s:s[ei]}function ca(t,r){return null==r?null:t[r]}function Gi(t){t[Nr]=0}function wn(t){1024&t[Dn]||(t[Dn]|=1024,Er(t,1))}function Mo(t){1024&t[Dn]&&(t[Dn]&=-1025,Er(t,-1))}function Er(t,r){let s=t[W];if(null===s)return;s[be]+=r;let d=s;for(s=s[W];null!==s&&(1===r&&1===d[be]||-1===r&&0===d[be]);)s[be]+=r,d=s,s=s[W]}const Et={lFrame:fr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function gl(){return Et.bindingsEnabled}function Rt(){return Et.lFrame.lView}function or(){return Et.lFrame.tView}function Ou(t){return Et.lFrame.contextLView=t,t[Ye]}function Ke(t){return Et.lFrame.contextLView=null,t}function Ri(){let t=io();for(;null!==t&&64===t.type;)t=t.parent;return t}function io(){return Et.lFrame.currentTNode}function Bs(t,r){const s=Et.lFrame;s.currentTNode=t,s.isParent=r}function Wo(){return Et.lFrame.isParent}function so(){const t=Et.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Ca(){return Et.lFrame.bindingIndex++}function oo(t){const r=Et.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function D(t,r){const s=Et.lFrame;s.bindingIndex=s.bindingRootIndex=t,H(r)}function H(t){Et.lFrame.currentDirectiveIndex=t}function ve(){return Et.lFrame.currentQueryIndex}function st(t){Et.lFrame.currentQueryIndex=t}function rt(t){const r=t[Xt];return 2===r.type?r.declTNode:1===r.type?t[we]:null}function ln(t,r,s){if(s&Jt.SkipSelf){let p=r,_=t;for(;!(p=p.parent,null!==p||s&Jt.Host||(p=rt(_),null===p||(_=_[Or],10&p.type))););if(null===p)return!1;r=p,t=_}const d=Et.lFrame=ai();return d.currentTNode=r,d.lView=t,!0}function Yn(t){const r=ai(),s=t[Xt];Et.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function ai(){const t=Et.lFrame,r=null===t?null:t.child;return null===r?fr(t):r}function fr(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function ha(){const t=Et.lFrame;return Et.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Za=ha;function Fl(){const t=ha();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function hs(){return Et.lFrame.selectedIndex}function Nu(t){Et.lFrame.selectedIndex=t}function Bi(){const t=Et.lFrame;return yc(t.tView,t.selectedIndex)}let Zo=!0;function iu(){return Zo}function Ka(t){Zo=t}function bc(t,r){for(let s=r.directiveStart,d=r.directiveEnd;s<d;s++){const _=t.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:x,ngAfterViewInit:L,ngAfterViewChecked:$,ngOnDestroy:ne}=_;w&&(t.contentHooks??=[]).push(-s,w),x&&((t.contentHooks??=[]).push(s,x),(t.contentCheckHooks??=[]).push(s,x)),L&&(t.viewHooks??=[]).push(-s,L),$&&((t.viewHooks??=[]).push(s,$),(t.viewCheckHooks??=[]).push(s,$)),null!=ne&&(t.destroyHooks??=[]).push(s,ne)}}function Ko(t,r,s){Ed(t,r,3,s)}function Da(t,r,s,d){(3&t[Dn])===s&&Ed(t,r,s,d)}function fi(t,r){let s=t[Dn];(3&s)===r&&(s&=8191,s+=1,t[Dn]=s)}function Ed(t,r,s,d){const _=d??-1,w=r.length-1;let x=0;for(let L=void 0!==d?65535&t[Nr]:0;L<w;L++)if("number"==typeof r[L+1]){if(x=r[L],null!=d&&x>=d)break}else r[L]<0&&(t[Nr]+=65536),(x<_||-1==_)&&(Ei(t,s,r,L),t[Nr]=(4294901760&t[Nr])+L+2),L++}function Ds(t,r){Wr(4,t,r);const s=us(null);try{r.call(t)}finally{us(s),Wr(5,t,r)}}function Ei(t,r,s,d){const p=s[d]<0,_=s[d+1],x=t[p?-s[d]:s[d]];p?t[Dn]>>13<t[Nr]>>16&&(3&t[Dn])===r&&(t[Dn]+=8192,Ds(x,_)):Ds(x,_)}const ml=-1;class Ys{constructor(r,s,d){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=d}}function _l(t){return t!==ml}function su(t){return 32767&t}function au(t,r){let s=function ou(t){return t>>16}(t),d=r;for(;s>0;)d=d[Or],s--;return d}let Ja=!0;function Xa(t){const r=Ja;return Ja=t,r}const fa=255,el=5;let ku=0;const Ss={};function Yo(t,r){const s=Ec(t,r);if(-1!==s)return s;const d=r[Xt];d.firstCreatePass&&(t.injectorIndex=r.length,lu(d.data,t),lu(r,null),lu(d.blueprint,null));const p=pa(t,r),_=t.injectorIndex;if(_l(p)){const w=su(p),x=au(p,r),L=x[Xt].data;for(let $=0;$<8;$++)r[_+$]=x[w+$]|L[w+$]}return r[_+8]=p,_}function lu(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Ec(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function pa(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,d=null,p=r;for(;null!==p;){if(d=Sa(p),null===d)return ml;if(s++,p=p[Or],-1!==d.injectorIndex)return d.injectorIndex|s<<16}return ml}function Lu(t,r,s){!function Td(t,r,s){let d;"string"==typeof s?d=s.charCodeAt(0)||0:s.hasOwnProperty(zs)&&(d=s[zs]),null==d&&(d=s[zs]=ku++);const p=d&fa;r.data[t+(p>>el)]|=1<<p}(t,r,s)}function wd(t,r,s){if(s&Jt.Optional||void 0!==t)return t;Xe()}function Fu(t,r,s,d){if(s&Jt.Optional&&void 0===d&&(d=null),!(s&(Jt.Self|Jt.Host))){const p=t[Ut],_=Tr(void 0);try{return p?p.get(r,d,s&Jt.Optional):Yr(r,d,s&Jt.Optional)}finally{Tr(_)}}return wd(d,0,s)}function Vu(t,r,s,d=Jt.Default,p){if(null!==t){if(2048&r[Dn]&&!(d&Jt.Self)){const w=function Wp(t,r,s,d,p){let _=t,w=r;for(;null!==_&&null!==w&&2048&w[Dn]&&!(512&w[Dn]);){const x=cu(_,w,s,d|Jt.Self,Ss);if(x!==Ss)return x;let L=_.parent;if(!L){const $=w[As];if($){const ne=$.get(s,Ss,d);if(ne!==Ss)return ne}L=Sa(w),w=w[Or]}_=L}return p}(t,r,s,d,Ss);if(w!==Ss)return w}const _=cu(t,r,s,d,Ss);if(_!==Ss)return _}return Fu(r,s,d,p)}function cu(t,r,s,d,p){const _=function bh(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(zs)?t[zs]:void 0;return"number"==typeof r?r>=0?r&fa:Eh:r}(s);if("function"==typeof _){if(!ln(r,t,d))return d&Jt.Host?wd(p,0,d):Fu(r,s,d,p);try{let w;if(w=_(d),null!=w||d&Jt.Optional)return w;Xe()}finally{Za()}}else if("number"==typeof _){let w=null,x=Ec(t,r),L=ml,$=d&Jt.Host?r[qn][we]:null;for((-1===x||d&Jt.SkipSelf)&&(L=-1===x?pa(t,r):r[x+8],L!==ml&&Qs(d,!1)?(w=r[Xt],x=su(L),r=au(L,r)):x=-1);-1!==x;){const ne=r[Xt];if(Ic(_,x,ne.data)){const ye=vh(x,r,s,w,d,$);if(ye!==Ss)return ye}L=r[x+8],L!==ml&&Qs(d,r[Xt].data[x+8]===$)&&Ic(_,x,r)?(w=ne,x=su(L),r=au(L,r)):x=-1}}return p}function vh(t,r,s,d,p,_){const w=r[Xt],x=w.data[t+8],ne=Uu(x,w,s,null==d?Ea(x)&&Ja:d!=w&&0!=(3&x.type),p&Jt.Host&&_===x);return null!==ne?tl(r,w,ne,x):Ss}function Uu(t,r,s,d,p){const _=t.providerIndexes,w=r.data,x=1048575&_,L=t.directiveStart,ne=_>>20,Fe=p?x+ne:t.directiveEnd;for(let Ze=d?x:x+ne;Ze<Fe;Ze++){const At=w[Ze];if(Ze<L&&s===At||Ze>=L&&At.type===s)return Ze}if(p){const Ze=w[L];if(Ze&&Qi(Ze)&&Ze.type===s)return L}return null}function tl(t,r,s,d){let p=t[s];const _=r.data;if(function vo(t){return t instanceof Ys}(p)){const w=p;w.resolving&&function Re(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Pt(-200,`Circular dependency in DI detected for ${t}${s}`)}(function tt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():kt(t)}(_[s]));const x=Xa(w.canSeeViewProviders);w.resolving=!0;const $=w.injectImpl?Tr(w.injectImpl):null;ln(t,d,Jt.Default);try{p=t[s]=w.factory(void 0,_,t,d),r.firstCreatePass&&s>=d.directiveStart&&function Ks(t,r,s){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:_}=r.type.prototype;if(d){const w=ro(r);(s.preOrderHooks??=[]).push(t,w),(s.preOrderCheckHooks??=[]).push(t,w)}p&&(s.preOrderHooks??=[]).push(0-t,p),_&&((s.preOrderHooks??=[]).push(t,_),(s.preOrderCheckHooks??=[]).push(t,_))}(s,_[s],r)}finally{null!==$&&Tr($),Xa(x),w.resolving=!1,Za()}}return p}function Ic(t,r,s){return!!(s[r+(t>>el)]&1<<t)}function Qs(t,r){return!(t&Jt.Self||t&Jt.Host&&r)}class Pi{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,d){return Vu(this._tNode,this._lView,r,An(d),s)}}function Eh(){return new Pi(Ri(),Rt())}function Ih(t){return Bn(()=>{const r=t.prototype.constructor,s=r[gs]||Vl(r),d=Object.prototype;let p=Object.getPrototypeOf(t.prototype).constructor;for(;p&&p!==d;){const _=p[gs]||Vl(p);if(_&&_!==s)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function Vl(t){return fn(t)?()=>{const r=Vl(ft(t));return r&&r()}:Ta(t)}function Sa(t){const r=t[Xt],s=r.type;return 2===s?r.declTNode:1===s?t[we]:null}function gr(t){return function uu(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const d=s.length;let p=0;for(;p<d;){const _=s[p];if(Ao(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<d&&"string"==typeof s[p];)p++;else{if(_===r)return s[p+1];p+=2}}}return null}(Ri(),t)}const xa="__parameters__";function Bl(t,r,s){return Bn(()=>{const d=function Ad(t){return function(...s){if(t){const d=t(...s);for(const p in d)this[p]=d[p]}}}(r);function p(..._){if(this instanceof p)return d.apply(this,_),this;const w=new p(..._);return x.annotation=w,x;function x(L,$,ne){const ye=L.hasOwnProperty(xa)?L[xa]:Object.defineProperty(L,xa,{value:[]})[xa];for(;ye.length<=ne;)ye.push(null);return(ye[ne]=ye[ne]||[]).push(w),L}}return s&&(p.prototype=Object.create(s.prototype)),p.prototype.ngMetadataName=t,p.annotationCls=p,p})}function Ma(t,r){t.forEach(s=>Array.isArray(s)?Ma(s,r):r(s))}function wc(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Ac(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function xs(t,r,s){let d=vl(t,r);return d>=0?t[1|d]=s:(d=~d,function Qp(t,r,s,d){let p=t.length;if(p==r)t.push(s,d);else if(1===p)t.push(d,t[0]),t[0]=s;else{for(p--,t.push(t[p-1],t[p]);p>r;)t[p]=t[p-2],p--;t[r]=s,t[r+1]=d}}(t,d,r,s)),d}function vs(t,r){const s=vl(t,r);if(s>=0)return t[1|s]}function vl(t,r){return function Dc(t,r,s){let d=0,p=t.length>>s;for(;p!==d;){const _=d+(p-d>>1),w=t[_<<s];if(r===w)return _<<s;w>r?p=_:d=_+1}return~(p<<s)}(t,r,1)}const Js=Cn(Bl("Optional"),8),nl=Cn(Bl("SkipSelf"),4);function Bo(t){return 128==(128&t.flags)}var kd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(kd||{});const Zu=new Map;let ig=0;const Fd="__ngContext__";function M(t,r){xi(r)?(t[Fd]=r[ni],function Gf(t){Zu.set(t[ni],t)}(r)):t[Fd]=r}let ps;function li(t,r){return ps(t,r)}function _u(t){const r=t[W];return Mi(r)?r[W]:r}function vu(t){return jl(t[Ln])}function Nc(t){return jl(t[Y])}function jl(t){for(;null!==t&&!Mi(t);)t=t[Y];return t}function Hl(t,r,s,d,p){if(null!=d){let _,w=!1;Mi(d)?_=d:xi(d)&&(w=!0,d=d[ei]);const x=br(d);0===t&&null!==s?null==p?ug(r,s,x):Lc(r,s,x,p||null,!0):1===t&&null!==s?Lc(r,s,x,p||null,!0):2===t?function Wf(t,r,s){const d=Fc(t,r);d&&function Rm(t,r,s,d){t.removeChild(r,s,d)}(t,d,r,s)}(r,x,w):3===t&&r.destroyNode(x),null!=_&&function X_(t,r,s,d,p){const _=s[ir];_!==br(s)&&Hl(r,t,d,_,p);for(let x=Li;x<s.length;x++){const L=s[x];Xu(L[Xt],L,t,r,d,_)}}(r,t,_,s,p)}}function Ku(t,r,s){return t.createElement(r,s)}function Mm(t,r){const s=t[mi],d=s.indexOf(r);Mo(r),s.splice(d,1)}function Oh(t,r){if(t.length<=Li)return;const s=Li+r,d=t[s];if(d){const p=d[ti];null!==p&&p!==t&&Mm(p,d),r>0&&(t[s-1][Y]=d[Y]);const _=Ac(t,Li+r);!function kc(t,r){Xu(t,r,r[It],2,null,null),r[ei]=null,r[we]=null}(d[Xt],d);const w=_[vr];null!==w&&w.detachView(_[Xt]),d[W]=null,d[Y]=null,d[Dn]&=-129}return d}function lg(t,r){if(!(256&r[Dn])){const s=r[It];r[di]&&za(r[di]),r[as]&&za(r[as]),s.destroyNode&&Xu(t,r,s,3,null,null),function xm(t){let r=t[Ln];if(!r)return Ud(t[Xt],t);for(;r;){let s=null;if(xi(r))s=r[Ln];else{const d=r[Li];d&&(s=d)}if(!s){for(;r&&!r[Y]&&r!==t;)xi(r)&&Ud(r[Xt],r),r=r[W];null===r&&(r=t),xi(r)&&Ud(r[Xt],r),s=r&&r[Y]}r=s}}(r)}}function Ud(t,r){if(!(256&r[Dn])){r[Dn]&=-129,r[Dn]|=256,function Eu(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let d=0;d<s.length;d+=2){const p=r[s[d]];if(!(p instanceof Ys)){const _=s[d+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const x=p[_[w]],L=_[w+1];Wr(4,x,L);try{L.call(x)}finally{Wr(5,x,L)}}else{Wr(4,p,_);try{_.call(p)}finally{Wr(5,p,_)}}}}}(t,r),function ma(t,r){const s=t.cleanup,d=r[ke];if(null!==s)for(let _=0;_<s.length-1;_+=2)if("string"==typeof s[_]){const w=s[_+3];w>=0?d[w]():d[-w].unsubscribe(),_+=2}else s[_].call(d[s[_+1]]);null!==d&&(r[ke]=null);const p=r[vi];if(null!==p){r[vi]=null;for(let _=0;_<p.length;_++)(0,p[_])()}}(t,r),1===r[Xt].type&&r[It].destroy();const s=r[ti];if(null!==s&&Mi(r[W])){s!==r[W]&&Mm(s,r);const d=r[vr];null!==d&&d.detachView(t)}!function Rh(t){Zu.delete(t[ni])}(r)}}function Iu(t,r,s){return function qf(t,r,s){let d=r;for(;null!==d&&40&d.type;)d=(r=d).parent;if(null===d)return s[ei];{const{componentOffset:p}=d;if(p>-1){const{encapsulation:_}=t.data[d.directiveStart+p];if(_===Qr.None||_===Qr.Emulated)return null}return Us(d,s)}}(t,r.parent,s)}function Lc(t,r,s,d,p){t.insertBefore(r,s,d,p)}function ug(t,r,s){t.appendChild(r,s)}function Il(t,r,s,d,p){null!==d?Lc(t,r,s,d,p):ug(t,r,s)}function Fc(t,r){return t.parentNode(r)}let Uc,kh,zc,Ju=function Qu(t,r,s){return 40&t.type?Us(t,s):null};function Bd(t,r,s,d){const p=Iu(t,d,r),_=r[It],x=function Yu(t,r,s){return Ju(t,r,s)}(d.parent||r[we],d,r);if(null!=p)if(Array.isArray(s))for(let L=0;L<s.length;L++)Il(_,p,s[L],x,!1);else Il(_,p,s,x,!1);void 0!==Uc&&Uc(_,d,r,s,p)}function zl(t,r){if(null!==r){const s=r.type;if(3&s)return Us(r,t);if(4&s)return Bc(-1,t[r.index]);if(8&s){const d=r.child;if(null!==d)return zl(t,d);{const p=t[r.index];return Mi(p)?Bc(-1,p):br(p)}}if(32&s)return li(r,t)()||br(t[r.index]);{const d=dg(t,r);return null!==d?Array.isArray(d)?d[0]:zl(_u(t[qn]),d):zl(t,r.next)}}return null}function dg(t,r){return null!==r?t[qn][we].projection[r.projection]:null}function Bc(t,r){const s=Li+t+1;if(s<r.length){const d=r[s],p=d[Xt].firstChild;if(null!==p)return zl(d,p)}return r[ir]}function Zf(t,r,s,d,p,_,w){for(;null!=s;){const x=d[s.index],L=s.type;if(w&&0===r&&(x&&M(br(x),d),s.flags|=2),32!=(32&s.flags))if(8&L)Zf(t,r,s.child,d,p,_,!1),Hl(r,t,p,x,_);else if(32&L){const $=li(s,d);let ne;for(;ne=$();)Hl(r,t,p,ne,_);Hl(r,t,p,x,_)}else 16&L?ec(t,r,d,s,p,_):Hl(r,t,p,x,_);s=w?s.projectionNext:s.next}}function Xu(t,r,s,d,p,_){Zf(s,d,t.firstChild,r,p,_,!1)}function ec(t,r,s,d,p,_){const w=s[qn],L=w[we].projection[d.projection];if(Array.isArray(L))for(let $=0;$<L.length;$++)Hl(r,t,p,L[$],_);else{let $=L;const ne=w[W];Bo(d)&&($.flags|=128),Zf(t,r,$,ne,p,_,!0)}}function Om(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function jc(t,r,s){const{mergedAttrs:d,classes:p,styles:_}=s;null!==d&&yi(t,r,d),null!==p&&Om(t,r,p),null!==_&&function ey(t,r,s){t.setAttribute(r,"style",s)}(t,r,_)}function fg(t){kh=t}function Lm(t){return function Lh(){if(void 0===zc&&(zc=null,sn.trustedTypes))try{zc=sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zc}()?.createScriptURL(t)||t}class $c{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${In})`}}function La(t){return t instanceof $c?t.changingThisBreaksApplicationSecurity:t}function jd(t,r){const s=function Vm(t){return t instanceof $c&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${In})`)}return s===r}const sy=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var nc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(nc||{});function Qf(t){const r=qc();return r?r.sanitize(nc.URL,t)||"":jd(t,"URL")?La(t):function tc(t){return(t=String(t)).match(sy)?t:"unsafe:"+t}(kt(t))}function Wm(t){const r=qc();if(r)return Lm(r.sanitize(nc.RESOURCE_URL,t)||"");if(jd(t,"ResourceURL"))return Lm(La(t));throw new Pt(904,!1)}function jh(t,r,s){return function Jf(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Wm:Qf}(r,s)(t)}function qc(){const t=Rt();return t&&t[hn].sanitizer}const Wc=new Vt("ENVIRONMENT_INITIALIZER"),zd=new Vt("INJECTOR",-1),Hh=new Vt("INJECTOR_DEF_TYPES");class zh{get(r,s=mn){if(s===mn){const d=new Error(`NullInjectorError: No provider for ${qe(r)}!`);throw d.name="NullInjectorError",d}return s}}function $h(t){return{\u0275providers:t}}function cy(...t){return{\u0275providers:Tg(0,t),\u0275fromNgModule:!0}}function Tg(t,...r){const s=[],d=new Set;let p;const _=w=>{s.push(w)};return Ma(r,w=>{const x=w;Gh(x,_,[],d)&&(p||=[],p.push(x))}),void 0!==p&&Km(p,_),s}function Km(t,r){for(let s=0;s<t.length;s++){const{ngModule:d,providers:p}=t[s];qh(p,_=>{r(_,d)})}}function Gh(t,r,s,d){if(!(t=ft(t)))return!1;let p=null,_=xr(t);const w=!_&&Gn(t);if(_||w){if(w&&!w.standalone)return!1;p=t}else{const L=t.ngModule;if(_=xr(L),!_)return!1;p=L}const x=d.has(p);if(w){if(x)return!1;if(d.add(p),w.dependencies){const L="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const $ of L)Gh($,r,s,d)}}else{if(!_)return!1;{if(null!=_.imports&&!x){let $;d.add(p);try{Ma(_.imports,ne=>{Gh(ne,r,s,d)&&($||=[],$.push(ne))})}finally{}void 0!==$&&Km($,r)}if(!x){const $=Ta(p)||(()=>new p);r({provide:p,useFactory:$,deps:Un},p),r({provide:Hh,useValue:p,multi:!0},p),r({provide:Wc,useValue:()=>it(p),multi:!0},p)}const L=_.providers;if(null!=L&&!x){const $=t;qh(L,ne=>{r(ne,$)})}}}return p!==t&&void 0!==t.providers}function qh(t,r){for(let s of t)Zn(s)&&(s=s.\u0275providers),Array.isArray(s)?qh(s,r):r(s)}const $d=nt({provide:String,useValue:nt});function Wh(t){return null!==t&&"object"==typeof t&&$d in t}function Zc(t){return"function"==typeof t}const rc=new Vt("Set Injector scope."),Cu={},Xf={};let ep;function Zh(){return void 0===ep&&(ep=new zh),ep}class wl{}class qd extends wl{get destroyed(){return this._destroyed}constructor(r,s,d,p){super(),this.parent=s,this.source=d,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Al(r,w=>this.processProvider(w)),this.records.set(zd,Kc(void 0,this)),p.has("environment")&&this.records.set(wl,Kc(void 0,this));const _=this.records.get(rc);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Hh.multi,Un,Jt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=Ee(this),d=Tr(void 0);try{return r()}finally{Ee(s),Tr(d)}}get(r,s=mn,d=Jt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty($s))return r[$s](this);d=An(d);const _=Ee(this),w=Tr(void 0);try{if(!(d&Jt.SkipSelf)){let L=this.records.get(r);if(void 0===L){const $=function Yh(t){return"function"==typeof t||"object"==typeof t&&t instanceof Vt}(r)&&en(r);L=$&&this.injectableDefInScope($)?Kc(Kh(r),Cu):null,this.records.set(r,L)}if(null!=L)return this.hydrate(r,L)}return(d&Jt.Self?Zh():this.parent).get(r,s=d&Jt.Optional&&s===mn?null:s)}catch(x){if("NullInjectorError"===x.name){if((x[nr]=x[nr]||[]).unshift(qe(r)),_)throw x;return function Ps(t,r,s,d){const p=t[nr];throw r[Ae]&&p.unshift(r[Ae]),t.message=function ki(t,r,s,d=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let p=qe(r);if(Array.isArray(r))p=r.map(qe).join(" -> ");else if("object"==typeof r){let _=[];for(let w in r)if(r.hasOwnProperty(w)){let x=r[w];_.push(w+":"+("string"==typeof x?JSON.stringify(x):qe(x)))}p=`{${_.join(", ")}}`}return`${s}${d?"("+d+")":""}[${p}]: ${t.replace(rr,"\n  ")}`}("\n"+t.message,p,s,d),t.ngTokenPath=p,t[nr]=null,t}(x,r,"R3InjectorError",this.source)}throw x}finally{Tr(w),Ee(_)}}resolveInjectorInitializers(){const r=Ee(this),s=Tr(void 0);try{const p=this.get(Wc.multi,Un,Jt.Self);for(const _ of p)_()}finally{Ee(r),Tr(s)}}toString(){const r=[],s=this.records;for(const d of s.keys())r.push(qe(d));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pt(205,!1)}processProvider(r){let s=Zc(r=ft(r))?r:ft(r&&r.provide);const d=function Ag(t){return Wh(t)?Kc(void 0,t.useValue):Kc(ic(t),Cu)}(r);if(Zc(r)||!0!==r.multi)this.records.get(s);else{let p=this.records.get(s);p||(p=Kc(void 0,Cu,!0),p.factory=()=>Fr(p.multi),this.records.set(s,p)),s=r,p.multi.push(r)}this.records.set(s,d)}hydrate(r,s){return s.value===Cu&&(s.value=Xf,s.value=s.factory()),"object"==typeof s.value&&s.value&&function tp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=ft(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Kh(t){const r=en(t),s=null!==r?r.factory:Ta(t);if(null!==s)return s;if(t instanceof Vt)throw new Pt(204,!1);if(t instanceof Function)return function hy(t){const r=t.length;if(r>0)throw function ga(t,r){const s=[];for(let d=0;d<t;d++)s.push(r);return s}(r,"?"),new Pt(204,!1);const s=function pi(t){return t&&(t[hr]||t[Mr])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Pt(204,!1)}function ic(t,r,s){let d;if(Zc(t)){const p=ft(t);return Ta(p)||Kh(p)}if(Wh(t))d=()=>ft(t.useValue);else if(function wg(t){return!(!t||!t.useFactory)}(t))d=()=>t.useFactory(...Fr(t.deps||[]));else if(function Ym(t){return!(!t||!t.useExisting)}(t))d=()=>it(ft(t.useExisting));else{const p=ft(t&&(t.useClass||t.provide));if(!function Cg(t){return!!t.deps}(t))return Ta(p)||Kh(p);d=()=>new p(...Fr(t.deps))}return d}function Kc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Al(t,r){for(const s of t)Array.isArray(s)?Al(s,r):s&&Zn(s)?Al(s.\u0275providers,r):r(s)}const np=new Vt("AppId",{providedIn:"root",factory:()=>Dg}),Dg="ng",Yc=new Vt("Platform Initializer"),rp=new Vt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wd=new Vt("CSP nonce",{providedIn:"root",factory:()=>function Hc(){if(void 0!==kh)return kh;if(typeof document<"u")return document;throw new Pt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ap=(t,r,s)=>null;function up(t,r,s=!1){return ap(t,r,s)}class nf{}class rf{}class Ng{resolveComponentFactory(r){throw function Xm(t){const r=Error(`No component factory found for ${qe(t)}.`);return r.ngComponent=t,r}(r)}}let hp=(()=>{class t{static#e=this.NULL=new Ng}return t})();function fp(){return rd(Ri(),Rt())}function rd(t,r){return new sf(Us(t,r))}let sf=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=fp}return t})();function pp(t){return t instanceof sf?t.nativeElement:t}class t_{}let af=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function gy(){const t=Rt(),s=yo(Ri().index,t);return(xi(s)?s:t)[It]}()}return t})(),kg=(()=>{class t{static#e=this.\u0275prov=ar({token:t,providedIn:"root",factory:()=>null})}return t})();class n_{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const gp=new n_("16.2.11"),lf={};function i_(t,r=null,s=null,d){const p=mp(t,r,s,d);return p.resolveInjectorInitializers(),p}function mp(t,r=null,s=null,d,p=new Set){const _=[s||Un,cy(t)];return d=d||("object"==typeof t?void 0:qe(t)),new qd(_,r||Zh(),d||null,p)}let Va=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=mn;static#t=this.NULL=new zh;static create(s,d){if(Array.isArray(s))return i_({name:""},d,s,"");{const p=s.name??"";return i_({name:p},s.parent,s.providers,p)}}static#n=this.\u0275prov=ar({token:t,providedIn:"any",factory:()=>it(zd)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Fg(t){return t.ngOriginalError}class ac{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Fg(r);for(;s&&Fg(s);)s=Fg(s);return s||null}}function Ug(t){return r=>{setTimeout(t,void 0,r)}}const Dl=class o_ extends A.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,d){let p=r,_=s||(()=>null),w=d;if(r&&"object"==typeof r){const L=r;p=L.next?.bind(L),_=L.error?.bind(L),w=L.complete?.bind(L)}this.__isAsync&&(_=Ug(_),p&&(p=Ug(p)),w&&(w=Ug(w)));const x=super.subscribe({next:p,error:_,complete:w});return r instanceof E.w0&&r.add(x),x}};function Bg(...t){}class Eo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dl(!1),this.onMicrotaskEmpty=new Dl(!1),this.onStable=new Dl(!1),this.onError=new Dl(!1),typeof Zone>"u")throw new Pt(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&s,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function a_(){const t="function"==typeof sn.requestAnimationFrame;let r=sn[t?"requestAnimationFrame":"setTimeout"],s=sn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const d=r[Zone.__symbol__("OriginalDelegate")];d&&(r=d);const p=s[Zone.__symbol__("OriginalDelegate")];p&&(s=p)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Hg(t){const r=()=>{!function yy(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(sn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ff(t),t.isCheckStableRunning=!0,jg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ff(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,d,p,_,w,x)=>{if(function Wi(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(x))return s.invokeTask(p,_,w,x);try{return yp(t),s.invokeTask(p,_,w,x)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||t.shouldCoalesceRunChangeDetection)&&r(),l_(t)}},onInvoke:(s,d,p,_,w,x,L)=>{try{return yp(t),s.invoke(p,_,w,x,L)}finally{t.shouldCoalesceRunChangeDetection&&r(),l_(t)}},onHasTask:(s,d,p,_)=>{s.hasTask(p,_),d===p&&("microTask"==_.change?(t._hasPendingMicrotasks=_.microTask,ff(t),jg(t)):"macroTask"==_.change&&(t.hasPendingMacrotasks=_.macroTask))},onHandleError:(s,d,p,_)=>(s.handleError(p,_),t.runOutsideAngular(()=>t.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Eo.isInAngularZone())throw new Pt(909,!1)}static assertNotInAngularZone(){if(Eo.isInAngularZone())throw new Pt(909,!1)}run(r,s,d){return this._inner.run(r,s,d)}runTask(r,s,d,p){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+p,r,_y,Bg,Bg);try{return _.runTask(w,s,d)}finally{_.cancelTask(w)}}runGuarded(r,s,d){return this._inner.runGuarded(r,s,d)}runOutsideAngular(r){return this._outer.run(r)}}const _y={};function jg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ff(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function yp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function l_(t){t._nesting--,jg(t)}class zg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dl,this.onMicrotaskEmpty=new Dl,this.onStable=new Dl,this.onError=new Dl}run(r,s,d){return r.apply(s,d)}runGuarded(r,s,d){return r.apply(s,d)}runOutsideAngular(r){return r()}runTask(r,s,d,p){return r.apply(s,d)}}const u_=new Vt("",{providedIn:"root",factory:vp});function vp(){const t=Tt(Eo);let r=!0;return function He(...t){const r=(0,Ge.yG)(t),s=(0,Ge._6)(t,1/0),d=t;return d.length?1===d.length?(0,fe.Xf)(d[0]):(0,z.J)(s)((0,St.D)(d,r)):he.E}(new ee.y(p=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{p.next(r),p.complete()})}),new ee.y(p=>{let _;t.runOutsideAngular(()=>{_=t.onStable.subscribe(()=>{Eo.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,p.next(!0))})})});const w=t.onUnstable.subscribe(()=>{Eo.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{p.next(!1)}))});return()=>{_.unsubscribe(),w.unsubscribe()}}).pipe(at()))}function Wl(t){return t instanceof Function?t():t}let Xd=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ar({token:t,providedIn:"root",factory:()=>new t})}return t})();function od(t){for(;t;){t[Dn]|=64;const r=_u(t);if(Ba(t)&&!r)return t;t=r}return null}const eh=new Vt("",{providedIn:"root",factory:()=>!1});let th=null;function __(t,r){return t[r]??Zg()}function Ep(t,r){const s=Zg();s.producerNode?.length&&(t[r]=th,s.lView=t,th=Ip())}const y_={...tu,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{od(t.lView)},lView:null};function Ip(){return Object.create(y_)}function Zg(){return th??=Ip(),th}const pr={};function v_(t){Tp(or(),Rt(),hs()+t,!1)}function Tp(t,r,s,d){if(!d)if(3==(3&r[Dn])){const _=t.preOrderCheckHooks;null!==_&&Ko(r,_,s)}else{const _=t.preOrderHooks;null!==_&&Da(r,_,0,s)}Nu(s)}function nh(t,r=Jt.Default){const s=Rt();return null===s?it(t,r):Vu(Ri(),s,ft(t),r)}function wp(){throw new Error("invalid")}function rh(t,r,s,d,p,_,w,x,L,$,ne){const ye=r.blueprint.slice();return ye[ei]=p,ye[Dn]=140|d,(null!==$||t&&2048&t[Dn])&&(ye[Dn]|=2048),Gi(ye),ye[W]=ye[Or]=t,ye[Ye]=s,ye[hn]=w||t&&t[hn],ye[It]=x||t&&t[It],ye[Ut]=L||t&&t[Ut]||null,ye[we]=_,ye[ni]=function Sm(){return ig++}(),ye[qr]=ne,ye[As]=$,ye[qn]=2==r.type?t[qn]:ye,ye}function ih(t,r,s,d,p){let _=t.data[r];if(null===_)_=function sh(t,r,s,d,p){const _=io(),w=Wo(),L=t.data[r]=function E_(t,r,s,d,p,_){let w=r?r.injectorIndex:-1,x=0;return function Fo(){return null!==Et.skipHydrationRootTNode}()&&(x|=128),{type:s,index:d,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:x,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?_:_&&_.parent,s,r,d,p);return null===t.firstChild&&(t.firstChild=L),null!==_&&(w?null==_.child&&null!==L.parent&&(_.child=L):null===_.next&&(_.next=L,L.prev=_)),L}(t,r,s,d,p),function S(){return Et.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=s,_.value=d,_.attrs=p;const w=function ds(){const t=Et.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();_.injectorIndex=null===w?-1:w.injectorIndex}return Bs(_,!0),_}function mf(t,r,s,d){if(0===s)return-1;const p=r.length;for(let _=0;_<s;_++)r.push(d),t.blueprint.push(d),t.data.push(null);return p}function Cp(t,r,s,d,p){const _=__(r,di),w=hs(),x=2&d;try{Nu(-1),x&&r.length>zn&&Tp(t,r,zn,!1),Wr(x?2:0,p);const $=x?_:null,ne=xo($);try{null!==$&&($.dirty=!1),s(d,p)}finally{cl($,ne)}}finally{x&&null===r[di]&&Ep(r,di),Nu(w),Wr(x?3:1,p)}}function Dp(t,r,s){if(ba(r)){const d=us(null);try{const _=r.directiveEnd;for(let w=r.directiveStart;w<_;w++){const x=t.data[w];x.contentQueries&&x.contentQueries(1,s[w],w)}}finally{us(d)}}}function uc(t,r,s){gl()&&(function Ay(t,r,s,d){const p=s.directiveStart,_=s.directiveEnd;Ea(s)&&function dc(t,r,s){const d=Us(r,t),p=yf(s);let w=16;s.signals?w=4096:s.onPush&&(w=64);const x=ts(t,rh(t,p,null,w,d,r,null,t[hn].rendererFactory.createRenderer(d,s),null,null,null));t[r.index]=x}(r,s,t.data[p+s.componentOffset]),t.firstCreatePass||Yo(s,r),M(d,r);const w=s.initialInputs;for(let x=p;x<_;x++){const L=t.data[x],$=tl(r,t,x,s);M($,r),null!==w&&tm(0,x-p,$,L,0,w),Qi(L)&&(yo(s.index,r)[Ye]=tl(r,t,x,s))}}(t,r,s,Us(s,r)),64==(64&s.flags)&&A_(t,r,s))}function _f(t,r,s=Us){const d=r.localNames;if(null!==d){let p=r.index+1;for(let _=0;_<d.length;_+=2){const w=d[_+1],x=-1===w?s(r,t):t[w];t[p++]=x}}}function yf(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Kg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Kg(t,r,s,d,p,_,w,x,L,$,ne){const ye=zn+d,Fe=ye+p,Ze=function b_(t,r){const s=[];for(let d=0;d<r;d++)s.push(d<t?null:pr);return s}(ye,Fe),At="function"==typeof $?$():$;return Ze[Xt]={type:t,blueprint:Ze,template:s,queries:null,viewQuery:x,declTNode:r,data:Ze.slice().fill(null,ye),bindingStartIndex:ye,expandoStartIndex:Fe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:L,consts:At,incompleteFirstPass:!1,ssrId:ne}}let vf=t=>null;function Sp(t,r,s,d){for(let p in t)if(t.hasOwnProperty(p)){s=null===s?{}:s;const _=t[p];null===d?xp(s,r,p,_):d.hasOwnProperty(p)&&xp(s,r,d[p],_)}return s}function xp(t,r,s,d){t.hasOwnProperty(s)?t[s].push(r,d):t[s]=[r,d]}function Rp(t,r,s,d){if(gl()){const p=null===d?null:{"":-1},_=function pv(t,r){const s=t.directiveRegistry;let d=null,p=null;if(s)for(let _=0;_<s.length;_++){const w=s[_];if(co(r,w.selectors,!1))if(d||(d=[]),Qi(w))if(null!==w.findHostDirectiveDefs){const x=[];p=p||new Map,w.findHostDirectiveDefs(w,x,p),d.unshift(...x,w),Pp(t,r,x.length)}else d.unshift(w),Pp(t,r,0);else p=p||new Map,w.findHostDirectiveDefs?.(w,d,p),d.push(w)}return null===d?null:[d,p]}(t,s);let w,x;null===_?w=x=null:[w,x]=_,null!==w&&ad(t,r,s,w,p,x),p&&function Dy(t,r,s){if(r){const d=t.localNames=[];for(let p=0;p<r.length;p+=2){const _=s[r[p+1]];if(null==_)throw new Pt(-301,!1);d.push(r[p],_)}}}(s,d,p)}s.mergedAttrs=Ci(s.mergedAttrs,s.attrs)}function ad(t,r,s,d,p,_){for(let $=0;$<d.length;$++)Lu(Yo(s,r),t,d[$].type);!function em(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,d.length);for(let $=0;$<d.length;$++){const ne=d[$];ne.providersResolver&&ne.providersResolver(ne)}let w=!1,x=!1,L=mf(t,r,d.length,null);for(let $=0;$<d.length;$++){const ne=d[$];s.mergedAttrs=Ci(s.mergedAttrs,ne.hostAttrs),Sy(t,s,r,L,ne),cc(L,ne,p),null!==ne.contentQueries&&(s.flags|=4),(null!==ne.hostBindings||null!==ne.hostAttrs||0!==ne.hostVars)&&(s.flags|=64);const ye=ne.type.prototype;!w&&(ye.ngOnChanges||ye.ngOnInit||ye.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),w=!0),!x&&(ye.ngOnChanges||ye.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),x=!0),L++}!function Mp(t,r,s){const p=r.directiveEnd,_=t.data,w=r.attrs,x=[];let L=null,$=null;for(let ne=r.directiveStart;ne<p;ne++){const ye=_[ne],Fe=s?s.get(ye):null,At=Fe?Fe.outputs:null;L=Sp(ye.inputs,ne,L,Fe?Fe.inputs:null),$=Sp(ye.outputs,ne,$,At);const $t=null===L||null===w||Os(r)?null:Np(L,ne,w);x.push($t)}null!==L&&(L.hasOwnProperty("class")&&(r.flags|=8),L.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=x,r.inputs=L,r.outputs=$}(t,s,_)}function A_(t,r,s){const d=s.directiveStart,p=s.directiveEnd,_=s.index,w=function F(){return Et.lFrame.currentDirectiveIndex}();try{Nu(_);for(let x=d;x<p;x++){const L=t.data[x],$=r[x];H(x),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&Cy(L,$)}}finally{Nu(-1),H(w)}}function Cy(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Pp(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function cc(t,r,s){if(s){if(r.exportAs)for(let d=0;d<r.exportAs.length;d++)s[r.exportAs[d]]=t;Qi(r)&&(s[""]=t)}}function Sy(t,r,s,d,p){t.data[d]=p;const _=p.factory||(p.factory=Ta(p.type)),w=new Ys(_,Qi(p),nh);t.blueprint[d]=w,s[d]=w,function Xg(t,r,s,d,p){const _=p.hostBindings;if(_){let w=t.hostBindingOpCodes;null===w&&(w=t.hostBindingOpCodes=[]);const x=~r.index;(function fv(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(w)!=x&&w.push(x),w.push(s,d,_)}}(t,r,d,mf(t,s,p.hostVars,pr),p)}function Sl(t,r,s,d,p,_){const w=Us(t,r);!function Op(t,r,s,d,p,_,w){if(null==_)t.removeAttribute(r,p,s);else{const x=null==w?kt(_):w(_,d||"",p);t.setAttribute(r,p,x,s)}}(r[It],w,_,t.value,s,d,p)}function tm(t,r,s,d,p,_){const w=_[r];if(null!==w)for(let x=0;x<w.length;)ld(d,s,w[x++],w[x++],w[x++])}function ld(t,r,s,d,p){const _=us(null);try{const w=t.inputTransforms;null!==w&&w.hasOwnProperty(d)&&(p=w[d].call(r,p)),null!==t.setInput?t.setInput(r,p,s,d):r[d]=p}finally{us(_)}}function Np(t,r,s){let d=null,p=0;for(;p<s.length;){const _=s[p];if(0!==_)if(5!==_){if("number"==typeof _)break;if(t.hasOwnProperty(_)){null===d&&(d=[]);const w=t[_];for(let x=0;x<w.length;x+=2)if(w[x]===r){d.push(_,w[x+1],s[p+1]);break}}p+=2}else p+=2;else p+=4}return d}function ah(t,r,s,d){return[t,!0,!1,r,null,0,d,s,null,null,null]}function nm(t,r){const s=t.contentQueries;if(null!==s)for(let d=0;d<s.length;d+=2){const _=s[d+1];if(-1!==_){const w=t.data[_];st(s[d]),w.contentQueries(2,r[_],_)}}}function ts(t,r){return t[Ln]?t[Qn][Y]=r:t[Ln]=r,t[Qn]=r,r}function Ur(t,r,s){st(0);const d=us(null);try{r(t,s)}finally{us(d)}}function rm(t){return t[ke]||(t[ke]=[])}function lh(t){return t.cleanup||(t.cleanup=[])}function Io(t,r){const s=t[Ut],d=s?s.get(ac,null):null;d&&d.handleError(r)}function bs(t,r,s,d,p){for(let _=0;_<s.length;){const w=s[_++],x=s[_++];ld(t.data[w],r[w],d,x,p)}}function To(t,r,s){const d=fl(r,t);!function Vd(t,r,s){t.setValue(r,s)}(t[It],d,s)}function My(t,r){const s=yo(r,t),d=s[Xt];!function gv(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(d,s);const p=s[ei];null!==p&&null===s[qr]&&(s[qr]=up(p,s[Ut])),kp(d,s,s[Ye])}function kp(t,r,s){Yn(r);try{const d=t.viewQuery;null!==d&&Ur(1,d,s);const p=t.template;null!==p&&Cp(t,r,p,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&nm(t,r),t.staticViewQueries&&Ur(2,t.viewQuery,s);const _=t.components;null!==_&&function mv(t,r){for(let s=0;s<r.length;s++)My(t,r[s])}(r,_)}catch(d){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),d}finally{r[Dn]&=-5,Fl()}}let im=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,d,p){const _=typeof Zone>"u"?null:Zone.current,w=function cs(t,r,s){const d=Object.create(_o);s&&(d.consumerAllowSignalWrites=!0),d.fn=t,d.schedule=r;const p=w=>{d.cleanupFn=w};return d.ref={notify:()=>Ha(d),run:()=>{if(d.dirty=!1,d.hasRun&&!ko(d))return;d.hasRun=!0;const w=xo(d);try{d.cleanupFn(),d.cleanupFn=Fi,d.fn(p)}finally{cl(d,w)}},cleanup:()=>d.cleanupFn()},d.ref}(s,$=>{this.all.has($)&&this.queue.set($,_)},p);let x;this.all.add(w),w.notify();const L=()=>{w.cleanup(),x?.(),this.all.delete(w),this.queue.delete(w)};return x=d?.onDestroy(L),{destroy:L}}flush(){if(0!==this.queue.size)for(const[s,d]of this.queue)this.queue.delete(s),d?d.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ar({token:t,providedIn:"root",factory:()=>new t})}return t})();function uh(t,r,s){let d=s?t.styles:null,p=s?t.classes:null,_=0;if(null!==r)for(let w=0;w<r.length;w++){const x=r[w];"number"==typeof x?_=x:1==_?p=xt(p,x):2==_&&(d=xt(d,x+": "+r[++w]+";"))}s?t.styles=d:t.stylesWithoutHost=d,s?t.classes=p:t.classesWithoutHost=p}function bf(t,r,s,d,p=!1){for(;null!==s;){const _=r[s.index];null!==_&&d.push(br(_)),Mi(_)&&Ry(_,d);const w=s.type;if(8&w)bf(t,r,s.child,d);else if(32&w){const x=li(s,r);let L;for(;L=x();)d.push(L)}else if(16&w){const x=dg(r,s);if(Array.isArray(x))d.push(...x);else{const L=_u(r[qn]);bf(L[Xt],L,x,d,!0)}}s=p?s.projectionNext:s.next}return d}function Ry(t,r){for(let s=Li;s<t.length;s++){const d=t[s],p=d[Xt].firstChild;null!==p&&bf(d[Xt],d,p,r)}t[ir]!==t[ei]&&r.push(t[ir])}function Ii(t,r,s,d=!0){const p=r[hn],_=p.rendererFactory,w=p.afterRenderEventManager;_.begin?.(),w?.begin();try{Rs(t,r,t.template,s)}catch(L){throw d&&Io(r,L),L}finally{_.end?.(),p.effectManager?.flush(),w?.end()}}function Rs(t,r,s,d){const p=r[Dn];if(256!=(256&p)){r[hn].effectManager?.flush(),Yn(r);try{Gi(r),function Ro(t){return Et.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Cp(t,r,s,2,d);const w=3==(3&p);if(w){const $=t.preOrderCheckHooks;null!==$&&Ko(r,$,null)}else{const $=t.preOrderHooks;null!==$&&Da(r,$,0,null),fi(r,0)}if(function _v(t){for(let r=vu(t);null!==r;r=Nc(r)){if(!r[sa])continue;const s=r[mi];for(let d=0;d<s.length;d++){wn(s[d])}}}(r),om(r,2),null!==t.contentQueries&&nm(t,r),w){const $=t.contentCheckHooks;null!==$&&Ko(r,$)}else{const $=t.contentHooks;null!==$&&Da(r,$,1),fi(r,1)}!function Ap(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const d=__(r,as);try{for(let p=0;p<s.length;p++){const _=s[p];if(_<0)Nu(~_);else{const w=_,x=s[++p],L=s[++p];D(x,w),d.dirty=!1;const $=xo(d);try{L(2,r[w])}finally{cl(d,$)}}}}finally{null===r[as]&&Ep(r,as),Nu(-1)}}(t,r);const x=t.components;null!==x&&Oy(r,x,0);const L=t.viewQuery;if(null!==L&&Ur(2,L,d),w){const $=t.viewCheckHooks;null!==$&&Ko(r,$)}else{const $=t.viewHooks;null!==$&&Da(r,$,2),fi(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Dn]&=-73,Mo(r)}finally{Fl()}}}function om(t,r){for(let s=vu(t);null!==s;s=Nc(s))for(let d=Li;d<s.length;d++)am(s[d],r)}function yv(t,r,s){am(yo(r,t),s)}function am(t,r){if(!function Wn(t){return 128==(128&t[Dn])}(t))return;const s=t[Xt],d=t[Dn];if(80&d&&0===r||1024&d||2===r)Rs(s,t,s.template,t[Ye]);else if(t[be]>0){om(t,1);const p=s.components;null!==p&&Oy(t,p,1)}}function Oy(t,r,s){for(let d=0;d<r.length;d++)yv(t,r[d],s)}class Lp{get rootNodes(){const r=this._lView,s=r[Xt];return bf(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ye]}set context(r){this._lView[Ye]=r}get destroyed(){return 256==(256&this._lView[Dn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[W];if(Mi(r)){const s=r[8],d=s?s.indexOf(this):-1;d>-1&&(Oh(r,d),Ac(s,d))}this._attachedToViewContainer=!1}lg(this._lView[Xt],this._lView)}onDestroy(r){!function gh(t,r){if(256==(256&t[Dn]))throw new Pt(911,!1);null===t[vi]&&(t[vi]=[]),t[vi].push(r)}(this._lView,r)}markForCheck(){od(this._cdRefInjectingView||this._lView)}detach(){this._lView[Dn]&=-129}reattach(){this._lView[Dn]|=128}detectChanges(){Ii(this._lView[Xt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Q_(t,r){Xu(t,r,r[It],2,null,null)}(this._lView[Xt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Pt(902,!1);this._appRef=r}}class vv extends Lp{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Ii(r[Xt],r,r[Ye],!1)}checkNoChanges(){}get context(){return null}}class Fp extends hp{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Gn(r);return new ch(s,this.ngModule)}}function ud(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class bv{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,d){d=An(d);const p=this.injector.get(r,lf,d);return p!==lf||s===lf?p:this.parentInjector.get(r,s,d)}}class ch extends rf{get inputs(){const r=this.componentDef,s=r.inputTransforms,d=ud(r.inputs);if(null!==s)for(const p of d)s.hasOwnProperty(p.propName)&&(p.transform=s[p.propName]);return d}get outputs(){return ud(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function ss(t){return t.map(to).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,d,p){let _=(p=p||this.ngModule)instanceof wl?p:p?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const w=_?new bv(r,_):r,x=w.get(t_,null);if(null===x)throw new Pt(407,!1);const ye={rendererFactory:x,sanitizer:w.get(kg,null),effectManager:w.get(im,null),afterRenderEventManager:w.get(Xd,null)},Fe=x.createRenderer(null,this.componentDef),Ze=this.componentDef.selectors[0][0]||"div",At=d?function Ty(t,r,s,d){const _=d.get(eh,!1)||s===Qr.ShadowDom,w=t.selectRootElement(r,_);return function wy(t){vf(t)}(w),w}(Fe,d,this.componentDef.encapsulation,w):Ku(Fe,Ze,function Jo(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Ze)),Hn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Lt=null;null!==At&&(Lt=up(At,w,!0));const _r=Kg(0,null,null,1,0,null,null,null,null,null,null),$r=rh(null,_r,null,Hn,null,null,ye,Fe,w,null,Lt);let ns,Jl;Yn($r);try{const Sf=this.componentDef;let Z_,$0=null;Sf.findHostDirectiveDefs?(Z_=[],$0=new Map,Sf.findHostDirectiveDefs(Sf,Z_,$0),Z_.push(Sf)):Z_=[Sf];const aD=function Ny(t,r){const s=t[Xt],d=zn;return t[d]=r,ih(s,d,2,"#host",null)}($r,At),lD=function cd(t,r,s,d,p,_,w){const x=p[Xt];!function dh(t,r,s,d){for(const p of t)r.mergedAttrs=Ci(r.mergedAttrs,p.hostAttrs);null!==r.mergedAttrs&&(uh(r,r.mergedAttrs,!0),null!==s&&jc(d,s,r))}(d,t,r,w);let L=null;null!==r&&(L=up(r,p[Ut]));const $=_.rendererFactory.createRenderer(r,s);let ne=16;s.signals?ne=4096:s.onPush&&(ne=64);const ye=rh(p,yf(s),null,ne,p[t.index],t,_,$,null,null,L);return x.firstCreatePass&&Pp(x,t,d.length-1),ts(p,ye),p[t.index]=ye}(aD,At,Sf,Z_,$r,ye,Fe);Jl=yc(_r,zn),At&&function lm(t,r,s,d){if(d)yi(t,s,["ng-version",gp.full]);else{const{attrs:p,classes:_}=function na(t){const r=[],s=[];let d=1,p=2;for(;d<t.length;){let _=t[d];if("string"==typeof _)2===p?""!==_&&r.push(_,t[++d]):8===p&&s.push(_);else{if(!Hi(p))break;p=_}d++}return{attrs:r,classes:s}}(r.selectors[0]);p&&yi(t,s,p),_&&_.length>0&&Om(t,s,_.join(" "))}}(Fe,Sf,At,d),void 0!==s&&function um(t,r,s){const d=t.projection=[];for(let p=0;p<r.length;p++){const _=s[p];d.push(null!=_?Array.from(_):null)}}(Jl,this.ngContentSelectors,s),ns=function Ev(t,r,s,d,p,_){const w=Ri(),x=p[Xt],L=Us(w,p);ad(x,p,w,s,null,d);for(let ne=0;ne<s.length;ne++)M(tl(p,x,w.directiveStart+ne,w),p);A_(x,p,w),L&&M(L,p);const $=tl(p,x,w.directiveStart+w.componentOffset,w);if(t[Ye]=p[Ye]=$,null!==_)for(const ne of _)ne($,r);return Dp(x,w,t),$}(lD,Sf,Z_,$0,$r,[ky]),kp(_r,$r,null)}finally{Fl()}return new Ef(this.componentType,ns,rd(Jl,$r),$r,Jl)}}class Ef extends nf{constructor(r,s,d,p,_){super(),this.location=d,this._rootLView=p,this._tNode=_,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new vv(p),this.componentType=r}setInput(r,s){const d=this._tNode.inputs;let p;if(null!==d&&(p=d[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const _=this._rootLView;bs(_[Xt],_,p,r,s),this.previousInputValues.set(r,s),od(yo(this._tNode.index,_))}}get injector(){return new Pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function ky(){const t=Ri();bc(Rt()[Xt],t)}function Vp(t){let r=function D_(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const d=[t];for(;r;){let p;if(Qi(t))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Pt(903,!1);p=r.\u0275dir}if(p){if(s){d.push(p);const w=t;w.inputs=dd(t.inputs),w.inputTransforms=dd(t.inputTransforms),w.declaredInputs=dd(t.declaredInputs),w.outputs=dd(t.outputs);const x=p.hostBindings;x&&cm(t,x);const L=p.viewQuery,$=p.contentQueries;if(L&&If(t,L),$&&hh(t,$),Ct(t.inputs,p.inputs),Ct(t.declaredInputs,p.declaredInputs),Ct(t.outputs,p.outputs),null!==p.inputTransforms&&(null===w.inputTransforms&&(w.inputTransforms={}),Ct(w.inputTransforms,p.inputTransforms)),Qi(p)&&p.data.animation){const ne=t.data;ne.animation=(ne.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let w=0;w<_.length;w++){const x=_[w];x&&x.ngInherit&&x(t),x===Vp&&(s=!1)}}r=Object.getPrototypeOf(r)}!function S_(t){let r=0,s=null;for(let d=t.length-1;d>=0;d--){const p=t[d];p.hostVars=r+=p.hostVars,p.hostAttrs=Ci(p.hostAttrs,s=Ci(s,p.hostAttrs))}}(d)}function dd(t){return t===si?{}:t===Un?[]:t}function If(t,r){const s=t.viewQuery;t.viewQuery=s?(d,p)=>{r(d,p),s(d,p)}:r}function hh(t,r){const s=t.contentQueries;t.contentQueries=s?(d,p,_)=>{r(d,p,_),s(d,p,_)}:r}function cm(t,r){const s=t.hostBindings;t.hostBindings=s?(d,p)=>{r(d,p),s(d,p)}:r}function Su(t){const r=t.inputConfig,s={};for(const d in r)if(r.hasOwnProperty(d)){const p=r[d];Array.isArray(p)&&p[2]&&(s[d]=p[2])}t.inputTransforms=s}function Tf(t){return!!pm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function pm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function l(t,r,s){return t[r]=s}function o(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function c(t,r,s,d){const p=o(t,r,s);return o(t,r+1,d)||p}function b(t,r,s,d){const p=Rt();return o(p,Ca(),r)&&(or(),Sl(Bi(),p,t,r,s,d)),b}function N(t,r,s,d,p,_){const x=c(t,function Wa(){return Et.lFrame.bindingIndex}(),s,p);return oo(2),x?r+kt(s)+d+kt(p)+_:pr}function wv(t,r,s,d,p,_,w,x){const L=Rt(),$=or(),ne=t+zn,ye=$.firstCreatePass?function pb(t,r,s,d,p,_,w,x,L){const $=r.consts,ne=ih(r,t,4,w||null,ca($,x));Rp(r,s,ne,ca($,L)),bc(r,ne);const ye=ne.tView=Kg(2,ne,d,p,_,r.directiveRegistry,r.pipeRegistry,null,r.schemas,$,null);return null!==r.queries&&(r.queries.template(r,ne),ye.queries=r.queries.embeddedTView(ne)),ne}(ne,$,L,r,s,d,p,_,w):$.data[ne];Bs(ye,!1);const Fe=Av($,L,ye,t);iu()&&Bd($,L,Fe,ye),M(Fe,L),ts(L,L[ne]=ah(Fe,L,Fe,ye)),Xn(ye)&&uc($,L,ye),null!=w&&_f(L,ye,x)}let Av=function Cv(t,r,s,d){return Ka(!0),r[It].createComment("")};function mb(t){return Ru(function qa(){return Et.lFrame.contextLView}(),zn+t)}function Dv(t,r,s){const d=Rt();return o(d,Ca(),r)&&function _a(t,r,s,d,p,_,w,x){const L=Us(r,s);let ne,$=r.inputs;!x&&null!=$&&(ne=$[d])?(bs(t,s,ne,d,p),Ea(r)&&function oh(t,r){const s=yo(r,t);16&s[Dn]||(s[Dn]|=64)}(s,r.index)):3&r.type&&(d=function I_(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(d),p=null!=w?w(p,r.value||"",d):p,_.setProperty(L,d,p))}(or(),Bi(),d,t,r,d[It],s,!1),Dv}function By(t,r,s,d,p){const w=p?"class":"style";bs(t,s,r.inputs[w],w,d)}function k_(t,r,s,d){const p=Rt(),_=or(),w=zn+t,x=p[It],L=_.firstCreatePass?function _b(t,r,s,d,p,_){const w=r.consts,L=ih(r,t,2,d,ca(w,p));return Rp(r,s,L,ca(w,_)),null!==L.attrs&&uh(L,L.attrs,!1),null!==L.mergedAttrs&&uh(L,L.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,L),L}(w,_,p,r,s,d):_.data[w],$=Sv(_,p,L,x,r,t);p[w]=$;const ne=Xn(L);return Bs(L,!0),jc(x,$,L),32!=(32&L.flags)&&iu()&&Bd(_,p,$,L),0===function da(){return Et.lFrame.elementDepthCount}()&&M($,p),function pl(){Et.lFrame.elementDepthCount++}(),ne&&(uc(_,p,L),Dp(_,L,p)),null!==d&&_f(p,L),k_}function jy(){let t=Ri();Wo()?function Ll(){Et.lFrame.isParent=!1}():(t=t.parent,Bs(t,!1));const r=t;(function _d(t){return Et.skipHydrationRootTNode===t})(r)&&function Pu(){Et.skipHydrationRootTNode=null}(),function Ga(){Et.lFrame.elementDepthCount--}();const s=or();return s.firstCreatePass&&(bc(s,t),ba(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function qp(t){return 0!=(8&t.flags)}(r)&&By(s,r,Rt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Ya(t){return 0!=(16&t.flags)}(r)&&By(s,r,Rt(),r.stylesWithoutHost,!1),jy}function Hy(t,r,s,d){return k_(t,r,s,d),jy(),Hy}let Sv=(t,r,s,d,p,_)=>(Ka(!0),Ku(d,p,function Rf(){return Et.lFrame.currentNamespace}()));function Eb(){return Rt()}function F_(t){return!!t&&"function"==typeof t.then}function Rv(t){return!!t&&"function"==typeof t.subscribe}function Pv(t,r,s,d){const p=Rt(),_=or(),w=Ri();return function Tb(t,r,s,d,p,_,w){const x=Xn(d),$=t.firstCreatePass&&lh(t),ne=r[Ye],ye=rm(r);let Fe=!0;if(3&d.type||w){const $t=Us(d,r),pn=w?w($t):$t,Hn=ye.length,Lt=w?$r=>w(br($r[d.index])):d.index;let _r=null;if(!w&&x&&(_r=function rE(t,r,s,d){const p=t.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const w=p[_];if(w===s&&p[_+1]===d){const x=r[ke],L=p[_+2];return x.length>L?x[L]:null}"string"==typeof w&&(_+=2)}return null}(t,r,p,d.index)),null!==_r)(_r.__ngLastListenerFn__||_r).__ngNextListenerFn__=_,_r.__ngLastListenerFn__=_,Fe=!1;else{_=$y(d,r,ne,_,!1);const $r=s.listen(pn,p,_);ye.push(_,$r),$&&$.push(p,Lt,Hn,Hn+1)}}else _=$y(d,r,ne,_,!1);const Ze=d.outputs;let At;if(Fe&&null!==Ze&&(At=Ze[p])){const $t=At.length;if($t)for(let pn=0;pn<$t;pn+=2){const ns=r[At[pn]][At[pn+1]].subscribe(_),Jl=ye.length;ye.push(_,ns),$&&$.push(p,d.index,Jl,-(Jl+1))}}}(_,p,p[It],w,t,r,d),Pv}function zy(t,r,s,d){try{return Wr(6,r,s),!1!==s(d)}catch(p){return Io(t,p),!1}finally{Wr(7,r,s)}}function $y(t,r,s,d,p){return function _(w){if(w===Function)return d;od(t.componentOffset>-1?yo(t.index,r):r);let L=zy(r,s,d,w),$=_.__ngNextListenerFn__;for(;$;)L=zy(r,s,$,w)&&L,$=$.__ngNextListenerFn__;return p&&!1===L&&w.preventDefault(),L}}function wb(t=1){return function nu(t){return(Et.lFrame.contextLView=function ru(t,r){for(;t>0;)r=r[Or],t--;return r}(t,Et.lFrame.contextLView))[Ye]}(t)}function jp(t,r){return t<<17|r<<2}function ph(t){return t>>17&32767}function mm(t){return 2|t}function Df(t){return(131068&t)>>2}function H_(t,r){return-131069&t|r<<2}function Vv(t){return 1|t}function _m(t,r,s,d,p){const _=t[s+1],w=null===r;let x=d?ph(_):Df(_),L=!1;for(;0!==x&&(!1===L||w);){const ne=t[x+1];Uv(t[x],r)&&(L=!0,t[x+1]=d?Vv(ne):mm(ne)),x=d?ph(ne):Df(ne)}L&&(t[s+1]=d?mm(_):Vv(_))}function Uv(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&vl(t,r)>=0}function $v(t,r,s){return pc(t,r,s,!1),$v}function Gv(t,r){return pc(t,r,null,!0),Gv}function pc(t,r,s,d){const p=Rt(),_=or(),w=oo(2);_.firstUpdatePass&&function Nb(t,r,s,d){const p=t.data;if(null===p[s+1]){const _=p[hs()],w=function Ob(t,r){return r>=t.expandoStartIndex}(t,s);(function Bb(t,r){return 0!=(t.flags&(r?8:16))})(_,d)&&null===r&&!w&&(r=!1),r=function dE(t,r,s,d){const p=function se(t){const r=Et.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let _=d?r.residualClasses:r.residualStyles;if(null===p)0===(d?r.classBindings:r.styleBindings)&&(s=z_(s=qv(null,t,r,s,d),r.attrs,d),_=null);else{const w=r.directiveStylingLast;if(-1===w||t[w]!==p)if(s=qv(p,t,r,s,d),null===_){let L=function hE(t,r,s){const d=s?r.classBindings:r.styleBindings;if(0!==Df(d))return t[ph(d)]}(t,r,d);void 0!==L&&Array.isArray(L)&&(L=qv(null,t,r,L[1],d),L=z_(L,r.attrs,d),function fE(t,r,s,d){t[ph(s?r.classBindings:r.styleBindings)]=d}(t,r,d,L))}else _=function kb(t,r,s){let d;const p=r.directiveEnd;for(let _=1+r.directiveStylingLast;_<p;_++)d=z_(d,t[_].hostAttrs,s);return z_(d,r.attrs,s)}(t,r,d)}return void 0!==_&&(d?r.residualClasses=_:r.residualStyles=_),s}(p,_,r,d),function Sb(t,r,s,d,p,_){let w=_?r.classBindings:r.styleBindings,x=ph(w),L=Df(w);t[d]=s;let ne,$=!1;if(Array.isArray(s)?(ne=s[1],(null===ne||vl(s,ne)>0)&&($=!0)):ne=s,p)if(0!==L){const Fe=ph(t[x+1]);t[d+1]=jp(Fe,x),0!==Fe&&(t[Fe+1]=H_(t[Fe+1],d)),t[x+1]=function Fv(t,r){return 131071&t|r<<17}(t[x+1],d)}else t[d+1]=jp(x,0),0!==x&&(t[x+1]=H_(t[x+1],d)),x=d;else t[d+1]=jp(L,0),0===x?x=d:t[L+1]=H_(t[L+1],d),L=d;$&&(t[d+1]=mm(t[d+1])),_m(t,ne,d,!0),_m(t,ne,d,!1),function sE(t,r,s,d,p){const _=p?t.residualClasses:t.residualStyles;null!=_&&"string"==typeof r&&vl(_,r)>=0&&(s[d+1]=Vv(s[d+1]))}(r,ne,t,d,_),w=jp(x,L),_?r.classBindings=w:r.styleBindings=w}(p,_,r,s,w,d)}}(_,t,w,d),r!==pr&&o(p,w,r)&&function Vb(t,r,s,d,p,_,w,x){if(!(3&r.type))return;const L=t.data,$=L[x+1],ne=function Db(t){return 1==(1&t)}($)?Ub(L,r,s,p,Df($),w):void 0;$_(ne)||($_(_)||function Cb(t){return 2==(2&t)}($)&&(_=Ub(L,null,s,p,x,w)),function Pm(t,r,s,d,p){if(r)p?t.addClass(s,d):t.removeClass(s,d);else{let _=-1===d.indexOf("-")?void 0:kd.DashCase;null==p?t.removeStyle(s,d,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=kd.Important),t.setStyle(s,d,p,_))}}(d,w,fl(hs(),s),p,_))}(_,_.data[hs()],p,p[It],t,p[w+1]=function mE(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=qe(La(t)))),t}(r,s),d,w)}function qv(t,r,s,d,p){let _=null;const w=s.directiveEnd;let x=s.directiveStylingLast;for(-1===x?x=s.directiveStart:x++;x<w&&(_=r[x],d=z_(d,_.hostAttrs,p),_!==t);)x++;return null!==t&&(s.directiveStylingLast=x),d}function z_(t,r,s){const d=s?1:2;let p=-1;if(null!==r)for(let _=0;_<r.length;_++){const w=r[_];"number"==typeof w?p=w:p===d&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),xs(t,w,!!s||r[++_]))}return void 0===t?null:t}function Ub(t,r,s,d,p,_){const w=null===r;let x;for(;p>0;){const L=t[p],$=Array.isArray(L),ne=$?L[1]:L,ye=null===ne;let Fe=s[p+1];Fe===pr&&(Fe=ye?Un:void 0);let Ze=ye?vs(Fe,d):ne===d?Fe:void 0;if($&&!$_(Ze)&&(Ze=vs(L,d)),$_(Ze)&&(x=Ze,w))return x;const At=t[p+1];p=w?ph(At):Df(At)}if(null!==r){let L=_?r.residualClasses:r.residualStyles;null!=L&&(x=vs(L,d))}return x}function $_(t){return void 0!==t}function jb(t,r=""){const s=Rt(),d=or(),p=t+zn,_=d.firstCreatePass?ih(d,p,1,r,null):d.data[p],w=Hb(d,s,_,r,t);s[p]=w,iu()&&Bd(d,s,w,_),Bs(_,!1)}let Hb=(t,r,s,d,p)=>(Ka(!0),function bu(t,r){return t.createText(r)}(r[It],d));function Wv(t){return Ky("",t,""),Wv}function Ky(t,r,s){const d=Rt(),p=function C(t,r,s,d){return o(t,Ca(),s)?r+kt(s)+d:pr}(d,t,r,s);return p!==pr&&To(d,hs(),p),Ky}function Zv(t,r,s,d,p){const _=Rt(),w=N(_,t,r,s,d,p);return w!==pr&&To(_,hs(),w),Zv}const zp=void 0;var LE=["en",[["a","p"],["AM","PM"],zp],[["AM","PM"],zp,zp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zp,"{1} 'at' {0}",zp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function l0(t){const s=Math.floor(Math.abs(t)),d=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===d?1:5}];let $p={};function i(t){const r=function v(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=a(r);if(s)return s;const d=r.split("-")[0];if(s=a(d),s)return s;if("en"===d)return LE;throw new Pt(701,!1)}function n(t){return i(t)[g.PluralCase]}function a(t){return t in $p||($p[t]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[t]),$p[t]}var g=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(g||{});const G="en-US";let nn=G;function d0(t,r,s,d,p){if(t=ft(t),Array.isArray(t))for(let _=0;_<t.length;_++)d0(t[_],r,s,d,p);else{const _=or(),w=Rt(),x=Ri();let L=Zc(t)?t:ft(t.provide);const $=ic(t),ne=1048575&x.providerIndexes,ye=x.directiveStart,Fe=x.providerIndexes>>20;if(Zc(t)||!t.multi){const Ze=new Ys($,p,nh),At=f0(L,r,p?ne:ne+Fe,ye);-1===At?(Lu(Yo(x,w),_,L),h0(_,t,r.length),r.push(L),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),s.push(Ze),w.push(Ze)):(s[At]=Ze,w[At]=Ze)}else{const Ze=f0(L,r,ne+Fe,ye),At=f0(L,r,ne,ne+Fe),pn=At>=0&&s[At];if(p&&!pn||!p&&!(Ze>=0&&s[Ze])){Lu(Yo(x,w),_,L);const Hn=function Pw(t,r,s,d,p){const _=new Ys(t,s,nh);return _.multi=[],_.index=r,_.componentProviders=0,nI(_,p,d&&!s),_}(p?Rw:Mw,s.length,p,d,$);!p&&pn&&(s[At].providerFactory=Hn),h0(_,t,r.length,0),r.push(L),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),s.push(Hn),w.push(Hn)}else h0(_,t,Ze>-1?Ze:At,nI(s[p?At:Ze],$,!p&&d));!p&&d&&pn&&s[At].componentProviders++}}}function h0(t,r,s,d){const p=Zc(r),_=function Gd(t){return!!t.useClass}(r);if(p||_){const L=(_?ft(r.useClass):r).prototype.ngOnDestroy;if(L){const $=t.destroyHooks||(t.destroyHooks=[]);if(!p&&r.multi){const ne=$.indexOf(s);-1===ne?$.push(s,[d,L]):$[ne+1].push(d,L)}else $.push(s,L)}}}function nI(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function f0(t,r,s,d){for(let p=s;p<d;p++)if(r[p]===t)return p;return-1}function Mw(t,r,s,d){return p0(this.multi,[])}function Rw(t,r,s,d){const p=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,x=tl(s,s[Xt],this.providerFactory.index,d);_=x.slice(0,w),p0(p,_);for(let L=w;L<x.length;L++)_.push(x[L])}else _=[],p0(p,_);return _}function p0(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function rI(t,r=[]){return s=>{s.providersResolver=(d,p)=>function xw(t,r,s){const d=or();if(d.firstCreatePass){const p=Qi(t);d0(s,d.data,d.blueprint,p,!0),d0(r,d.data,d.blueprint,p,!1)}}(d,p?p(t):t,r)}}class vm{}class iI{}function Ow(t,r){return new g0(t,r??null,[])}class g0 extends vm{constructor(r,s,d){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fp(this);const p=Si(r);this._bootstrapComponents=Wl(p.bootstrap),this._r3Injector=mp(r,s,[{provide:vm,useValue:this},{provide:hp,useValue:this.componentFactoryResolver},...d],qe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class m0 extends iI{constructor(r){super(),this.moduleType=r}create(r){return new g0(this.moduleType,r,[])}}class sI extends vm{constructor(r){super(),this.componentFactoryResolver=new Fp(this),this.instance=null;const s=new qd([...r.providers,{provide:vm,useValue:this},{provide:hp,useValue:this.componentFactoryResolver}],r.parent||Zh(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function oI(t,r,s=null){return new sI({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let kw=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const d=Tg(0,s.type),p=d.length>0?oI([d],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,p)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ar({token:t,providedIn:"environment",factory:()=>new t(it(wl))})}return t})();function aI(t){t.getStandaloneInjector=r=>r.get(kw).getOrCreateStandaloneInjector(t)}function pI(t,r,s){const d=so()+t,p=Rt();return p[d]===pr?l(p,d,s?r.call(s):r()):function u(t,r){return t[r]}(p,d)}function gI(t,r,s,d){return function mI(t,r,s,d,p,_){const w=r+s;return o(t,w,p)?l(t,w+1,_?d.call(_,p):d(p)):ev(t,w+1)}(Rt(),so(),t,r,s,d)}function ev(t,r){const s=t[r];return s===pr?void 0:s}function EI(t,r){const s=or();let d;const p=t+zn;s.firstCreatePass?(d=function Jw(t,r){if(r)for(let s=r.length-1;s>=0;s--){const d=r[s];if(t===d.name)return d}}(r,s.pipeRegistry),s.data[p]=d,d.onDestroy&&(s.destroyHooks??=[]).push(p,d.onDestroy)):d=s.data[p];const _=d.factory||(d.factory=Ta(d.type)),x=Tr(nh);try{const L=Xa(!1),$=_();return Xa(L),function X0(t,r,s,d){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=d}(s,Rt(),p,$),$}finally{Tr(x)}}function II(t,r,s,d){const p=t+zn,_=Rt(),w=Ru(_,p);return function tv(t,r){return t[Xt].data[r].pure}(_,p)?function _I(t,r,s,d,p,_,w){const x=r+s;return c(t,x,p,_)?l(t,x+2,w?d.call(w,p,_):d(p,_)):ev(t,x+2)}(_,so(),r,w.transform,s,d,w):w.transform(s,d)}function rA(){return this._results[Symbol.iterator]()}class y0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Dl)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=y0.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=rA)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const d=this;d.dirty=!1;const p=function Po(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function hu(t,r,s){if(t.length!==r.length)return!1;for(let d=0;d<t.length;d++){let p=t[d],_=r[d];if(s&&(p=s(p),_=s(_)),_!==p)return!1}return!0}(d._results,p,s))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function sA(t,r,s,d=!0){const p=r[Xt];if(function og(t,r,s,d){const p=Li+d,_=s.length;d>0&&(s[p-1][Y]=r),d<_-Li?(r[Y]=s[p],wc(s,Li+d,r)):(s.push(r),r[Y]=null),r[W]=s;const w=r[ti];null!==w&&s!==w&&function ag(t,r){const s=t[mi];r[qn]!==r[W][W][qn]&&(t[sa]=!0),null===s?t[mi]=[r]:s.push(r)}(w,r);const x=r[vr];null!==x&&x.insertView(t),r[Dn]|=128}(p,r,t,s),d){const _=Bc(s,t),w=r[It],x=Fc(w,t[ir]);null!==x&&function sg(t,r,s,d,p,_){d[ei]=p,d[we]=r,Xu(t,d,s,1,p,_)}(p,t[we],w,r,x,_)}}let nv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=lA}return t})();const oA=nv,aA=class extends oA{constructor(r,s,d){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,d){const p=function iA(t,r,s,d){const p=r.tView,x=rh(t,p,s,4096&t[Dn]?4096:16,null,r,null,null,null,d?.injector??null,d?.hydrationInfo??null);x[ti]=t[r.index];const $=t[vr];return null!==$&&(x[vr]=$.createEmbeddedView(p)),kp(p,x,s),x}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:d});return new Lp(p)}};function lA(){return Xv(Ri(),Rt())}function Xv(t,r){return 4&t.type?new aA(r,t,rd(t,r)):null}let tb=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=pA}return t})();function pA(){return xI(Ri(),Rt())}const gA=tb,DI=class extends gA{constructor(r,s,d){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=d}get element(){return rd(this._hostTNode,this._hostLView)}get injector(){return new Pi(this._hostTNode,this._hostLView)}get parentInjector(){const r=pa(this._hostTNode,this._hostLView);if(_l(r)){const s=au(r,this._hostLView),d=su(r);return new Pi(s[Xt].data[d+8],s)}return new Pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=SI(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-Li}createEmbeddedView(r,s,d){let p,_;"number"==typeof d?p=d:null!=d&&(p=d.index,_=d.injector);const x=r.createEmbeddedViewImpl(s||{},_,null);return this.insertImpl(x,p,false),x}createComponent(r,s,d,p,_){const w=r&&!function Hs(t){return"function"==typeof t}(r);let x;if(w)x=s;else{const $t=s||{};x=$t.index,d=$t.injector,p=$t.projectableNodes,_=$t.environmentInjector||$t.ngModuleRef}const L=w?r:new ch(Gn(r)),$=d||this.parentInjector;if(!_&&null==L.ngModule){const pn=(w?$:this.parentInjector).get(wl,null);pn&&(_=pn)}Gn(L.componentType??{});const Ze=L.create($,p,null,_);return this.insertImpl(Ze.hostView,x,false),Ze}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,d){const p=r._lView;if(function ua(t){return Mi(t[W])}(p)){const L=this.indexOf(r);if(-1!==L)this.detach(L);else{const $=p[W],ne=new DI($,$[we],$[W]);ne.detach(ne.indexOf(r))}}const w=this._adjustIndex(s),x=this._lContainer;return sA(x,p,w,!d),r.attachToViewContainerRef(),wc(v0(x),w,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=SI(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),d=Oh(this._lContainer,s);d&&(Ac(v0(this._lContainer),s),lg(d[Xt],d))}detach(r){const s=this._adjustIndex(r,-1),d=Oh(this._lContainer,s);return d&&null!=Ac(v0(this._lContainer),s)?new Lp(d):null}_adjustIndex(r,s=0){return r??this.length+s}};function SI(t){return t[8]}function v0(t){return t[8]||(t[8]=[])}function xI(t,r){let s;const d=r[t.index];return Mi(d)?s=d:(s=ah(d,r,null,t),r[t.index]=s,ts(r,s)),MI(s,r,t,d),new DI(s,t,r)}let MI=function RI(t,r,s,d){if(t[ir])return;let p;p=8&s.type?br(d):function mA(t,r){const s=t[It],d=s.createComment(""),p=Us(r,t);return Lc(s,Fc(s,p),d,function Vc(t,r){return t.nextSibling(r)}(s,p),!1),d}(r,s),t[ir]=p};class b0{constructor(r){this.queryList=r,this.matches=null}clone(){return new b0(this.queryList)}setDirty(){this.queryList.setDirty()}}class E0{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const d=null!==r.contentQueries?r.contentQueries[0]:s.length,p=[];for(let _=0;_<d;_++){const w=s.getByIndex(_);p.push(this.queries[w.indexInDeclarationView].clone())}return new E0(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==UI(r,s).matches&&this.queries[s].setDirty()}}class PI{constructor(r,s,d=null){this.predicate=r,this.flags=s,this.read=d}}class I0{constructor(r=[]){this.queries=r}elementStart(r,s){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let d=0;d<this.length;d++){const p=null!==s?s.length:0,_=this.getByIndex(d).embeddedTView(r,p);_&&(_.indexInDeclarationView=d,null!==s?s.push(_):s=[_])}return null!==s?new I0(s):null}template(r,s){for(let d=0;d<this.queries.length;d++)this.queries[d].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class T0{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new T0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let d=r.parent;for(;null!==d&&8&d.type&&d.index!==s;)d=d.parent;return s===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const _=d[p];this.matchTNodeWithReadOption(r,s,vA(s,_)),this.matchTNodeWithReadOption(r,s,Uu(s,r,_,!1,!1))}else d===nv?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Uu(s,r,d,!1,!1))}matchTNodeWithReadOption(r,s,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===sf||p===tb||p===nv&&4&s.type)this.addMatch(s.index,-2);else{const _=Uu(s,r,p,!1,!1);null!==_&&this.addMatch(s.index,_)}else this.addMatch(s.index,d)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function vA(t,r){const s=t.localNames;if(null!==s)for(let d=0;d<s.length;d+=2)if(s[d]===r)return s[d+1];return null}function EA(t,r,s,d){return-1===s?function bA(t,r){return 11&t.type?rd(t,r):4&t.type?Xv(t,r):null}(r,t):-2===s?function IA(t,r,s){return s===sf?rd(r,t):s===nv?Xv(r,t):s===tb?xI(r,t):void 0}(t,r,d):tl(t,t[Xt],s,r)}function OI(t,r,s,d){const p=r[vr].queries[d];if(null===p.matches){const _=t.data,w=s.matches,x=[];for(let L=0;L<w.length;L+=2){const $=w[L];x.push($<0?null:EA(r,_[$],w[L+1],s.metadata.read))}p.matches=x}return p.matches}function w0(t,r,s,d){const p=t.queries.getByIndex(s),_=p.matches;if(null!==_){const w=OI(t,r,p,s);for(let x=0;x<_.length;x+=2){const L=_[x];if(L>0)d.push(w[x/2]);else{const $=_[x+1],ne=r[-L];for(let ye=Li;ye<ne.length;ye++){const Fe=ne[ye];Fe[ti]===Fe[W]&&w0(Fe[Xt],Fe,$,d)}if(null!==ne[mi]){const ye=ne[mi];for(let Fe=0;Fe<ye.length;Fe++){const Ze=ye[Fe];w0(Ze[Xt],Ze,$,d)}}}}}return d}function NI(t){const r=Rt(),s=or(),d=ve();st(d+1);const p=UI(s,d);if(t.dirty&&function md(t){return 4==(4&t[Dn])}(r)===(2==(2&p.metadata.flags))){if(null===p.matches)t.reset([]);else{const _=p.crossesNgTemplate?w0(s,r,d,[]):OI(s,r,p,d);t.reset(_,pp),t.notifyOnChanges()}return!0}return!1}function kI(t,r,s,d){const p=or();if(p.firstCreatePass){const _=Ri();(function VI(t,r,s){null===t.queries&&(t.queries=new I0),t.queries.track(new T0(r,s))})(p,new PI(r,s,d),_.index),function AA(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(p,t),2==(2&s)&&(p.staticContentQueries=!0)}!function FI(t,r,s){const d=new y0(4==(4&s));(function Jg(t,r,s,d){const p=rm(r);p.push(s),t.firstCreatePass&&lh(t).push(d,p.length-1)})(t,r,d,d.destroy),null===r[vr]&&(r[vr]=new E0),r[vr].queries.push(new b0(d))}(p,Rt(),s)}function LI(){return function wA(t,r){return t[vr].queries[r].queryList}(Rt(),ve())}function UI(t,r){return t.queries.getByIndex(r)}function A0(t){return!!Si(t)}const nT=new Vt("Application Initializer");let M0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,d)=>{this.resolve=s,this.reject=d}),this.appInits=Tt(nT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const p of this.appInits){const _=p();if(F_(_))s.push(_);else if(Rv(_)){const w=new Promise((x,L)=>{_.subscribe({complete:x,error:L})});s.push(w)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{d()}).catch(p=>{this.reject(p)}),0===s.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=ar({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rT=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=ar({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const rb=new Vt("LocaleId",{providedIn:"root",factory:()=>Tt(rb,Jt.Optional|Jt.SkipSelf)||function WA(){return typeof $localize<"u"&&$localize.locale||G}()}),ZA=new Vt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let iT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pe.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=ar({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class YA{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let QA=(()=>{class t{compileModuleSync(s){return new m0(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const d=this.compileModuleSync(s),_=Wl(Si(s).declarations).reduce((w,x)=>{const L=Gn(x);return L&&w.push(new ch(L)),w},[]);return new YA(d,_)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=ar({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const lT=new Vt(""),uT=new Vt("");let O0,vC=(()=>{class t{constructor(s,d,p){this._ngZone=s,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,O0||(function bC(t){O0=t}(p),p.addToWindow(d)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Eo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(s)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,d,p){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),s(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:s,timeoutId:_,updateCb:p})}whenStable(s,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,d,p){return[]}static#e=this.\u0275fac=function(d){return new(d||t)(it(Eo),it(cT),it(uT))};static#t=this.\u0275prov=ar({token:t,factory:t.\u0275fac})}return t})(),cT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,d){this._applications.set(s,d)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,d=!0){return O0?.findTestabilityInTree(this,s,d)??null}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=ar({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Gp=null;const dT=new Vt("AllowMultipleToken"),N0=new Vt("PlatformDestroyListeners"),k0=new Vt("appBootstrapListener");class TC{constructor(r,s){this.name=r,this.token=s}}function pT(t,r,s=[]){const d=`Platform: ${r}`,p=new Vt(d);return(_=[])=>{let w=L0();if(!w||w.injector.get(dT,!1)){const x=[...s,..._,{provide:p,useValue:!0}];t?t(x):function wC(t){if(Gp&&!Gp.get(dT,!1))throw new Pt(400,!1);(function hT(){!function Dt(t){Ie=t}(()=>{throw new Pt(600,!1)})})(),Gp=t;const r=t.get(mT);(function fT(t){t.get(Yc,null)?.forEach(s=>s())})(t)}(function gT(t=[],r){return Va.create({name:r,providers:[{provide:rc,useValue:"platform"},{provide:N0,useValue:new Set([()=>Gp=null])},...t]})}(x,d))}return function CC(t){const r=L0();if(!r)throw new Pt(401,!1);return r}()}}function L0(){return Gp?.get(mT)??null}let mT=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,d){const p=function DC(t="zone.js",r){return"noop"===t?new zg:"zone.js"===t?new Eo(r):t}(d?.ngZone,function _T(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return p.run(()=>{const _=function Nw(t,r,s){return new g0(t,r,s)}(s.moduleType,this.injector,function IT(t){return[{provide:Eo,useFactory:t},{provide:Wc,multi:!0,useFactory:()=>{const r=Tt(xC,{optional:!0});return()=>r.initialize()}},{provide:ET,useFactory:SC},{provide:u_,useFactory:vp}]}(()=>p)),w=_.injector.get(ac,null);return p.runOutsideAngular(()=>{const x=p.onError.subscribe({next:L=>{w.handleError(L)}});_.onDestroy(()=>{sb(this._modules,_),x.unsubscribe()})}),function yT(t,r,s){try{const d=s();return F_(d)?d.catch(p=>{throw r.runOutsideAngular(()=>t.handleError(p)),p}):d}catch(d){throw r.runOutsideAngular(()=>t.handleError(d)),d}}(w,p,()=>{const x=_.injector.get(M0);return x.runInitializers(),x.donePromise.then(()=>(function on(t){Mn(t,"Expected localeId to be defined"),"string"==typeof t&&(nn=t.toLowerCase().replace(/_/g,"-"))}(_.injector.get(rb,G)||G),this._moduleDoBootstrap(_),_))})})}bootstrapModule(s,d=[]){const p=vT({},d);return function EC(t,r,s){const d=new m0(s);return Promise.resolve(d)}(0,0,s).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(s){const d=s.injector.get(W_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!s.instance.ngDoBootstrap)throw new Pt(-403,!1);s.instance.ngDoBootstrap(d)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pt(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const s=this._injector.get(N0,null);s&&(s.forEach(d=>d()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||t)(it(Va))};static#t=this.\u0275prov=ar({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function vT(t,r){return Array.isArray(r)?r.reduce(vT,t):{...t,...r}}let W_=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Tt(ET),this.zoneIsStable=Tt(u_),this.componentTypes=[],this.components=[],this.isStable=Tt(iT).hasPendingTasks.pipe((0,pt.w)(s=>s?(0,me.of)(!1):this.zoneIsStable),function Sn(t,r=Kt.y){return t=t??dn,(0,Se.e)((s,d)=>{let p,_=!0;s.subscribe((0,Gt.x)(d,w=>{const x=r(w);(_||!t(p,x))&&(_=!1,p=x,d.next(w))}))})}(),at()),this._injector=Tt(wl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,d){const p=s instanceof rf;if(!this._injector.get(M0).done)throw!p&&Yi(s),new Pt(405,!1);let w;w=p?s:this._injector.get(hp).resolveComponentFactory(s),this.componentTypes.push(w.componentType);const x=function IC(t){return t.isBoundToModule}(w)?void 0:this._injector.get(vm),$=w.create(Va.NULL,[],d||w.selector,x),ne=$.location.nativeElement,ye=$.injector.get(lT,null);return ye?.registerApplication(ne),$.onDestroy(()=>{this.detachView($.hostView),sb(this.components,$),ye?.unregisterApplication(ne)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new Pt(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const d=s;this._views.push(d),d.attachToAppRef(this)}detachView(s){const d=s;sb(this._views,d),d.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const d=this._injector.get(k0,[]);d.push(...this._bootstrapListeners),d.forEach(p=>p(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>sb(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Pt(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=ar({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sb(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const ET=new Vt("",{providedIn:"root",factory:()=>Tt(ac).handleError.bind(void 0)});function SC(){const t=Tt(Eo),r=Tt(ac);return s=>t.runOutsideAngular(()=>r.handleError(s))}let xC=(()=>{class t{constructor(){this.zone=Tt(Eo),this.applicationRef=Tt(W_)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=ar({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let RC=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=PC}return t})();function PC(t){return function OC(t,r,s){if(Ea(t)&&!s){const d=yo(t.index,r);return new Lp(d,d)}return 47&t.type?new Lp(r[qn],r):null}(Ri(),Rt(),16==(16&t))}class CT{constructor(){}supports(r){return Tf(r)}create(r){return new UC(r)}}const VC=(t,r)=>r;class UC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||VC}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,d=this._removalsHead,p=0,_=null;for(;s||d;){const w=!d||s&&s.currentIndex<ST(d,p,_)?s:d,x=ST(w,p,_),L=w.currentIndex;if(w===d)p--,d=d._nextRemoved;else if(s=s._next,null==w.previousIndex)p++;else{_||(_=[]);const $=x-p,ne=L-p;if($!=ne){for(let Fe=0;Fe<$;Fe++){const Ze=Fe<_.length?_[Fe]:_[Fe]=0,At=Ze+Fe;ne<=At&&At<$&&(_[Fe]=Ze+1)}_[w.previousIndex]=ne-$}}x!==L&&r(w,x,L)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Tf(r))throw new Pt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,_,w,s=this._itHead,d=!1;if(Array.isArray(r)){this.length=r.length;for(let x=0;x<this.length;x++)_=r[x],w=this._trackByFn(x,_),null!==s&&Object.is(s.trackById,w)?(d&&(s=this._verifyReinsertion(s,_,w,x)),Object.is(s.item,_)||this._addIdentityChange(s,_)):(s=this._mismatch(s,_,w,x),d=!0),s=s._next}else p=0,function wf(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let d;for(;!(d=s.next()).done;)r(d.value)}}(r,x=>{w=this._trackByFn(p,x),null!==s&&Object.is(s.trackById,w)?(d&&(s=this._verifyReinsertion(s,x,w,p)),Object.is(s.item,x)||this._addIdentityChange(s,x)):(s=this._mismatch(s,x,w,p),d=!0),s=s._next,p++}),this.length=p;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,d,p){let _;return null===r?_=this._itTail:(_=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,_,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,_,p)):r=this._addAfter(new BC(s,d),_,p),r}_verifyReinsertion(r,s,d,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?r=this._reinsertAfter(_,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,_=r._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(r,s,d),this._addToMoves(r,d),r}_moveAfter(r,s,d){return this._unlink(r),this._insertAfter(r,s,d),this._addToMoves(r,d),r}_addAfter(r,s,d){return this._insertAfter(r,s,d),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,d){const p=null===s?this._itHead:s._next;return r._next=p,r._prev=s,null===p?this._itTail=r:p._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new DT),this._linkedRecords.put(r),r.currentIndex=d,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,d=r._next;return null===s?this._itHead=d:s._next=d,null===d?this._itTail=s:d._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DT),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class BC{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===s||s<=d.currentIndex)&&Object.is(d.trackById,r))return d;return null}remove(r){const s=r._prevDup,d=r._nextDup;return null===s?this._head=d:s._nextDup=d,null===d?this._tail=s:d._prevDup=s,null===this._head}}class DT{constructor(){this.map=new Map}put(r){const s=r.trackById;let d=this.map.get(s);d||(d=new jC,this.map.set(s,d)),d.add(r)}get(r,s){const p=this.map.get(r);return p?p.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ST(t,r,s){const d=t.previousIndex;if(null===d)return d;let p=0;return s&&d<s.length&&(p=s[d]),d+r+p}class xT{constructor(){}supports(r){return r instanceof Map||pm(r)}create(){return new HC}}class HC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||pm(r)))throw new Pt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(d,p)=>{if(s&&s.key===p)this._maybeAddToChanges(s,d),this._appendAfter=s,s=s._next;else{const _=this._getOrCreateRecordForKey(p,d);s=this._insertBeforeOrAppend(s,_)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let d=s;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const d=r._prev;return s._next=r,s._prev=d,r._prev=s,d&&(d._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,s);const _=p._prev,w=p._next;return _&&(_._next=w),w&&(w._prev=_),p._next=null,p._prev=null,p}const d=new zC(r);return this._records.set(r,d),d.currentValue=s,this._addToAdditions(d),d}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(d=>s(r[d],d))}}class zC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function MT(){return new j0([new CT])}let j0=(()=>{class t{static#e=this.\u0275prov=ar({token:t,providedIn:"root",factory:MT});constructor(s){this.factories=s}static create(s,d){if(null!=d){const p=d.factories.slice();s=s.concat(p)}return new t(s)}static extend(s){return{provide:t,useFactory:d=>t.create(s,d||MT()),deps:[[t,new nl,new Js]]}}find(s){const d=this.factories.find(p=>p.supports(s));if(null!=d)return d;throw new Pt(901,!1)}}return t})();function RT(){return new H0([new xT])}let H0=(()=>{class t{static#e=this.\u0275prov=ar({token:t,providedIn:"root",factory:RT});constructor(s){this.factories=s}static create(s,d){if(d){const p=d.factories.slice();s=s.concat(p)}return new t(s)}static extend(s){return{provide:t,useFactory:d=>t.create(s,d||RT()),deps:[[t,new nl,new Js]]}}find(s){const d=this.factories.find(p=>p.supports(s));if(d)return d;throw new Pt(901,!1)}}return t})();const qC=pT(null,"core",[]);let WC=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(d){return new(d||t)(it(W_))};static#t=this.\u0275mod=ra({type:t});static#n=this.\u0275inj=rn({})}return t})();function iD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function oD(t){const r=Gn(t);if(!r)return null;const s=new ch(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},721:(yn,ht,X)=>{X.d(ht,{Ot:()=>z,ZF:()=>Kt,hX:()=>Se,z6:()=>fe});var A=X(3182),E=X(4946),ee=X(4810);class z{constructor(Ct){return Ct}}class fe{constructor(){return(0,A.C6)()}}const St=new E.OlP("angularfire2._apps"),He={provide:z,useFactory:function Ge(nt){return nt&&1===nt.length?nt[0]:new z((0,A.Mq)())},deps:[[new E.FiY,St]]},pe={provide:fe,deps:[[new E.FiY,St]]};function me(nt){return(Ct,qe)=>{const xt=Ct.runOutsideAngular(()=>nt(qe));return new z(xt)}}let $e=(()=>{class nt{constructor(qe){(0,A.KN)("angularfire",ee.q4.full,"core"),(0,A.KN)("angularfire",ee.q4.full,"app"),(0,A.KN)("angular",E.q4F.full,qe.toString())}static \u0275fac=function(xt){return new(xt||nt)(E.LFG(E.Lbi))};static \u0275mod=E.oAB({type:nt});static \u0275inj=E.cJS({providers:[He,pe]})}return nt})();function Se(nt,...Ct){return{ngModule:$e,providers:[{provide:St,useFactory:me(nt),multi:!0,deps:[E.R0b,E.zs3,ee.HU,...Ct]}]}}const Kt=(0,ee.u3)(A.ZF,!0)},1210:(yn,ht,X)=>{X.d(ht,{gx:()=>Mc,dh:()=>Js,Xb:()=>eg,v0:()=>Sh,AR:()=>Vf,e5:()=>kd});var A=X(4810),E=X(4946),ee=X(721),z=X(3182),fe=X(5861),he=X(9058),Ge=X(534),St=X(7879),He=X(7582),pe=X(4537);const Sn=function Kt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dn=new he.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ct=new St.Yd("@firebase/auth");function xt(M,...y){Ct.logLevel<=St.in.ERROR&&Ct.error(`Auth (${Ge.Jn}): ${M}`,...y)}function ut(M,...y){throw Zn(M,...y)}function _t(M,...y){return Zn(M,...y)}function Zn(M,...y){if("string"!=typeof M){const T=y[0],R=[...y.slice(1)];return R[0]&&(R[0].appName=M.name),M._errorFactory.create(T,...R)}return dn.create(M,...y)}function wt(M,y,...T){if(!M)throw Zn(y,...T)}function In(M){const y="INTERNAL ASSERTION FAILED: "+M;throw xt(y),new Error(y)}function Pt(M,y){M||In(y)}function gt(){var M;return typeof self<"u"&&(null===(M=self.location)||void 0===M?void 0:M.href)||""}function tt(){var M;return typeof self<"u"&&(null===(M=self.location)||void 0===M?void 0:M.protocol)||null}class Qe{constructor(y,T){this.shortDelay=y,this.longDelay=T,Pt(T>y,"Short delay should be less than long delay!"),this.isMobile=(0,he.uI)()||(0,he.b$)()}get(){return function Re(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function kt(){return"http:"===tt()||"https:"===tt()}()||(0,he.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xe(M,y){Pt(M.emulator,"Emulator should always be set here");const{url:T}=M.emulator;return y?`${T}${y.startsWith("/")?y.slice(1):y}`:T}class We{static initialize(y,T,R){this.fetchImpl=y,T&&(this.headersImpl=T),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void In("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void In("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void In("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ze={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ct=new Qe(3e4,6e4);function vt(M,y){return M.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:M.tenantId}):y}function Ht(M,y,T,R){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,fe.Z)(function*(M,y,T,R,Q={}){return vn(M,Q,(0,fe.Z)(function*(){let de={},Ue={};R&&("GET"===y?Ue=R:de={body:JSON.stringify(R)});const dt=(0,he.xO)(Object.assign({key:M.config.apiKey},Ue)).slice(1),Ft=yield M._getAdditionalHeaders();return Ft["Content-Type"]="application/json",M.languageCode&&(Ft["X-Firebase-Locale"]=M.languageCode),We.fetch()(Lr(M,M.config.apiHost,T,dt),Object.assign({method:y,headers:Ft,referrerPolicy:"no-referrer"},de))}))})).apply(this,arguments)}function vn(M,y,T){return cr.apply(this,arguments)}function cr(){return(cr=(0,fe.Z)(function*(M,y,T){M._canInitEmulator=!1;const R=Object.assign(Object.assign({},ze),y);try{const Q=new xn(M),de=yield Promise.race([T(),Q.promise]);Q.clearNetworkTimeout();const Ue=yield de.json();if("needConfirmation"in Ue)throw Mn(M,"account-exists-with-different-credential",Ue);if(de.ok&&!("errorMessage"in Ue))return Ue;{const dt=de.ok?Ue.errorMessage:Ue.error.message,[Ft,_n]=dt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ft)throw Mn(M,"credential-already-in-use",Ue);if("EMAIL_EXISTS"===Ft)throw Mn(M,"email-already-in-use",Ue);if("USER_DISABLED"===Ft)throw Mn(M,"user-disabled",Ue);const Vn=R[Ft]||Ft.toLowerCase().replace(/[_\s]+/g,"-");if(_n)throw function ft(M,y,T){const R=Object.assign(Object.assign({},Sn()),{[y]:T});return new he.LL("auth","Firebase",R).create(y,{appName:M.name})}(M,Vn,_n);ut(M,Vn)}}catch(Q){if(Q instanceof he.ZR)throw Q;ut(M,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function $n(M,y,T,R){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,fe.Z)(function*(M,y,T,R,Q={}){const de=yield Ht(M,y,T,R,Q);return"mfaPendingCredential"in de&&ut(M,"multi-factor-auth-required",{_serverResponse:de}),de})).apply(this,arguments)}function Lr(M,y,T,R){const Q=`${y}${T}?${R}`;return M.config.emulator?Xe(M.config,Q):`${M.config.apiScheme}://${Q}`}function yr(M){switch(M){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xn{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((T,R)=>{this.timer=setTimeout(()=>R(_t(this.auth,"network-request-failed")),ct.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mn(M,y,T){const R={appName:M.name};T.email&&(R.email=T.email),T.phoneNumber&&(R.phoneNumber=T.phoneNumber);const Q=_t(M,y,R);return Q.customData._tokenResponse=T,Q}function Kn(M){return void 0!==M&&void 0!==M.enterprise}class cn{constructor(y){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===y.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=y.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=y.recaptchaEnforcementState}getProviderEnforcementState(y){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const T of this.recaptchaEnforcementState)if(T.provider&&T.provider===y)return yr(T.enforcementState);return null}isProviderEnabled(y){return"ENFORCE"===this.getProviderEnforcementState(y)||"AUDIT"===this.getProviderEnforcementState(y)}}function dr(M,y){return rn.apply(this,arguments)}function rn(){return(rn=(0,fe.Z)(function*(M,y){return Ht(M,"GET","/v2/recaptchaConfig",vt(M,y))})).apply(this,arguments)}function Sr(){return(Sr=(0,fe.Z)(function*(M,y){return Ht(M,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function hr(){return(hr=(0,fe.Z)(function*(M,y){return Ht(M,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function wi(M){if(M)try{const y=new Date(Number(M));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function Jt(){return(Jt=(0,fe.Z)(function*(M,y=!1){const T=(0,he.m9)(M),R=yield T.getIdToken(y),Q=Ki(R);wt(Q&&Q.exp&&Q.auth_time&&Q.iat,T.auth,"internal-error");const de="object"==typeof Q.firebase?Q.firebase:void 0,Ue=de?.sign_in_provider;return{claims:Q,token:R,authTime:wi(Is(Q.auth_time)),issuedAtTime:wi(Is(Q.iat)),expirationTime:wi(Is(Q.exp)),signInProvider:Ue||null,signInSecondFactor:de?.sign_in_second_factor||null}})).apply(this,arguments)}function Is(M){return 1e3*Number(M)}function Ki(M){const[y,T,R]=M.split(".");if(void 0===y||void 0===T||void 0===R)return xt("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,he.tV)(T);return Q?JSON.parse(Q):(xt("Failed to decode base64 JWT payload"),null)}catch(Q){return xt("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function Yr(M,y){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,fe.Z)(function*(M,y,T=!1){if(T)return y;try{return yield y}catch(R){throw R instanceof he.ZR&&function sn({code:M}){return"auth/user-disabled"===M||"auth/user-token-expired"===M}(R)&&M.auth.currentUser===M&&(yield M.auth.signOut()),R}})).apply(this,arguments)}class Ni{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var T;if(y){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const Q=(null!==(T=this.user.stsTokenManager.expirationTime)&&void 0!==T?T:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(y=!1){var T=this;if(!this.isRunning)return;const R=this.getInterval(y);this.timerId=setTimeout((0,fe.Z)(function*(){yield T.iteration()}),R)}iteration(){var y=this;return(0,fe.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(T){return void("auth/network-request-failed"===T?.code&&y.schedule(!0))}y.schedule()})()}}class Ai{constructor(y,T){this.createdAt=y,this.lastLoginAt=T,this._initializeTime()}_initializeTime(){this.lastSignInTime=wi(this.lastLoginAt),this.creationTime=wi(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vt(M){return On.apply(this,arguments)}function On(){return On=(0,fe.Z)(function*(M){var y;const T=M.auth,R=yield M.getIdToken(),Q=yield Yr(M,function xr(M,y){return hr.apply(this,arguments)}(T,{idToken:R}));wt(Q?.users.length,T,"internal-error");const de=Q.users[0];M._notifyReloadListener(de);const Ue=null!==(y=de.providerUserInfo)&&void 0!==y&&y.length?function ie(M){return M.map(y=>{var{providerId:T}=y,R=(0,He._T)(y,["providerId"]);return{providerId:T,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}(de.providerUserInfo):[],dt=function De(M,y){return[...M.filter(R=>!y.some(Q=>Q.providerId===R.providerId)),...y]}(M.providerData,Ue),Vn=!!M.isAnonymous&&!(M.email&&de.passwordHash||dt?.length),Ir={uid:de.localId,displayName:de.displayName||null,photoURL:de.photoUrl||null,email:de.email||null,emailVerified:de.emailVerified||!1,phoneNumber:de.phoneNumber||null,tenantId:de.tenantId||null,providerData:dt,metadata:new Ai(de.createdAt,de.lastLoginAt),isAnonymous:Vn};Object.assign(M,Ir)}),On.apply(this,arguments)}function gi(){return(gi=(0,fe.Z)(function*(M){const y=(0,he.m9)(M);yield Vt(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function le(){return(le=(0,fe.Z)(function*(M,y){const T=yield vn(M,{},(0,fe.Z)(function*(){const R=(0,he.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:Q,apiKey:de}=M.config,Ue=Lr(M,Q,"/v1/token",`key=${de}`),dt=yield M._getAdditionalHeaders();return dt["Content-Type"]="application/x-www-form-urlencoded",We.fetch()(Ue,{method:"POST",headers:dt,body:R})}));return{accessToken:T.access_token,expiresIn:T.expires_in,refreshToken:T.refresh_token}})).apply(this,arguments)}class ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){wt(y.idToken,"internal-error"),wt(typeof y.idToken<"u","internal-error"),wt(typeof y.refreshToken<"u","internal-error");const T="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function Tr(M){const y=Ki(M);return wt(y,"internal-error"),wt(typeof y.exp<"u","internal-error"),wt(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,T)}getToken(y,T=!1){var R=this;return(0,fe.Z)(function*(){return wt(!R.accessToken||R.refreshToken,y,"user-token-expired"),T||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(y,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,T){var R=this;return(0,fe.Z)(function*(){const{accessToken:Q,refreshToken:de,expiresIn:Ue}=yield function ae(M,y){return le.apply(this,arguments)}(y,T);R.updateTokensAndExpiration(Q,de,Number(Ue))})()}updateTokensAndExpiration(y,T,R){this.refreshToken=T||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(y,T){const{refreshToken:R,accessToken:Q,expirationTime:de}=T,Ue=new ue;return R&&(wt("string"==typeof R,"internal-error",{appName:y}),Ue.refreshToken=R),Q&&(wt("string"==typeof Q,"internal-error",{appName:y}),Ue.accessToken=Q),de&&(wt("number"==typeof de,"internal-error",{appName:y}),Ue.expirationTime=de),Ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new ue,this.toJSON())}_performRefresh(){return In("not implemented")}}function Le(M,y){wt("string"==typeof M||typeof M>"u","internal-error",{appName:y})}class mt{constructor(y){var{uid:T,auth:R,stsTokenManager:Q}=y,de=(0,He._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ni(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=T,this.auth=R,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=de.displayName||null,this.email=de.email||null,this.emailVerified=de.emailVerified||!1,this.phoneNumber=de.phoneNumber||null,this.photoURL=de.photoURL||null,this.isAnonymous=de.isAnonymous||!1,this.tenantId=de.tenantId||null,this.providerData=de.providerData?[...de.providerData]:[],this.metadata=new Ai(de.createdAt||void 0,de.lastLoginAt||void 0)}getIdToken(y){var T=this;return(0,fe.Z)(function*(){const R=yield Yr(T,T.stsTokenManager.getToken(T.auth,y));return wt(R,T.auth,"internal-error"),T.accessToken!==R&&(T.accessToken=R,yield T.auth._persistUserIfCurrent(T),T.auth._notifyListenersIfCurrent(T)),R})()}getIdTokenResult(y){return function rs(M){return Jt.apply(this,arguments)}(this,y)}reload(){return function ii(M){return gi.apply(this,arguments)}(this)}_assign(y){this!==y&&(wt(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(T=>Object.assign({},T)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const T=new mt(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return T.metadata._copy(this.metadata),T}_onReload(y){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,T=!1){var R=this;return(0,fe.Z)(function*(){let Q=!1;y.idToken&&y.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(y),Q=!0),T&&(yield Vt(R)),yield R.auth._persistUserIfCurrent(R),Q&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var y=this;return(0,fe.Z)(function*(){const T=yield y.getIdToken();return yield Yr(y,function en(M,y){return Sr.apply(this,arguments)}(y.auth,{idToken:T})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,T){var R,Q,de,Ue,dt,Ft,_n,Vn;const Ir=null!==(R=T.displayName)&&void 0!==R?R:void 0,ps=null!==(Q=T.email)&&void 0!==Q?Q:void 0,li=null!==(de=T.phoneNumber)&&void 0!==de?de:void 0,mu=null!==(Ue=T.photoURL)&&void 0!==Ue?Ue:void 0,_u=null!==(dt=T.tenantId)&&void 0!==dt?dt:void 0,yu=null!==(Ft=T._redirectEventId)&&void 0!==Ft?Ft:void 0,Na=null!==(_n=T.createdAt)&&void 0!==_n?_n:void 0,vu=null!==(Vn=T.lastLoginAt)&&void 0!==Vn?Vn:void 0,{uid:Nc,emailVerified:jl,isAnonymous:Hl,providerData:bu,stsTokenManager:Vd}=T;wt(Nc&&Vd,y,"internal-error");const Ph=ue.fromJSON(this.name,Vd);wt("string"==typeof Nc,y,"internal-error"),Le(Ir,y.name),Le(ps,y.name),wt("boolean"==typeof jl,y,"internal-error"),wt("boolean"==typeof Hl,y,"internal-error"),Le(li,y.name),Le(mu,y.name),Le(_u,y.name),Le(yu,y.name),Le(Na,y.name),Le(vu,y.name);const Ku=new mt({uid:Nc,auth:y,email:ps,emailVerified:jl,displayName:Ir,isAnonymous:Hl,photoURL:mu,phoneNumber:li,tenantId:_u,stsTokenManager:Ph,createdAt:Na,lastLoginAt:vu});return bu&&Array.isArray(bu)&&(Ku.providerData=bu.map(kc=>Object.assign({},kc))),yu&&(Ku._redirectEventId=yu),Ku}static _fromIdTokenResponse(y,T,R=!1){return(0,fe.Z)(function*(){const Q=new ue;Q.updateFromServerResponse(T);const de=new mt({uid:T.localId,auth:y,stsTokenManager:Q,isAnonymous:R});return yield Vt(de),de})()}}const qt=new Map;function mn(M){Pt(M instanceof Function,"Expected a class definition");let y=qt.get(M);return y?(Pt(y instanceof M,"Instance stored in cache mismatched with class"),y):(y=new M,qt.set(M,y),y)}const nr=(()=>{class M{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,fe.Z)(function*(){return!0})()}_set(T,R){var Q=this;return(0,fe.Z)(function*(){Q.storage[T]=R})()}_get(T){var R=this;return(0,fe.Z)(function*(){const Q=R.storage[T];return void 0===Q?null:Q})()}_remove(T){var R=this;return(0,fe.Z)(function*(){delete R.storage[T]})()}_addListener(T,R){}_removeListener(T,R){}}return M.type="NONE",M})();function Nn(M,y,T){return`firebase:${M}:${y}:${T}`}class rr{constructor(y,T,R){this.persistence=y,this.auth=T,this.userKey=R;const{config:Q,name:de}=this.auth;this.fullUserKey=Nn(this.userKey,Q.apiKey,de),this.fullPersistenceKey=Nn("persistence",Q.apiKey,de),this.boundEventHandler=T._onStorageEvent.bind(T),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,fe.Z)(function*(){const T=yield y.persistence._get(y.fullUserKey);return T?mt._fromJSON(y.auth,T):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var T=this;return(0,fe.Z)(function*(){if(T.persistence===y)return;const R=yield T.getCurrentUser();return yield T.removeCurrentUser(),T.persistence=y,R?T.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,T,R="authUser"){return(0,fe.Z)(function*(){if(!T.length)return new rr(mn(nr),y,R);const Q=(yield Promise.all(T.map(function(){var _n=(0,fe.Z)(function*(Vn){if(yield Vn._isAvailable())return Vn});return function(Vn){return _n.apply(this,arguments)}}()))).filter(_n=>_n);let de=Q[0]||mn(nr);const Ue=Nn(R,y.config.apiKey,y.name);let dt=null;for(const _n of T)try{const Vn=yield _n._get(Ue);if(Vn){const Ir=mt._fromJSON(y,Vn);_n!==de&&(dt=Ir),de=_n;break}}catch{}const Ft=Q.filter(_n=>_n._shouldAllowMigration);return de._shouldAllowMigration&&Ft.length?(de=Ft[0],dt&&(yield de._set(Ue,dt.toJSON())),yield Promise.all(T.map(function(){var _n=(0,fe.Z)(function*(Vn){if(Vn!==de)try{yield Vn._remove(Ue)}catch{}});return function(Vn){return _n.apply(this,arguments)}}())),new rr(de,y,R)):new rr(de,y,R)})()}}function Be(M){const y=M.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Ee(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(Ae(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(it(y))return"Blackberry";if(Zt(y))return"Webos";if(Pe(y))return"Safari";if((y.includes("chrome/")||Te(y))&&!y.includes("edge/"))return"Chrome";if(je(y))return"Android";{const R=M.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===R?.length)return R[1]}return"Other"}function Ae(M=(0,he.z$)()){return/firefox\//i.test(M)}function Pe(M=(0,he.z$)()){const y=M.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function Te(M=(0,he.z$)()){return/crios\//i.test(M)}function Ee(M=(0,he.z$)()){return/iemobile/i.test(M)}function je(M=(0,he.z$)()){return/android/i.test(M)}function it(M=(0,he.z$)()){return/blackberry/i.test(M)}function Zt(M=(0,he.z$)()){return/webos/i.test(M)}function Tt(M=(0,he.z$)()){return/iphone|ipad|ipod/i.test(M)||/macintosh/i.test(M)&&/mobile/i.test(M)}function ci(M=(0,he.z$)()){return Tt(M)||je(M)||Zt(M)||it(M)||/windows phone/i.test(M)||Ee(M)}function ki(M,y=[]){let T;switch(M){case"Browser":T=Be((0,he.z$)());break;case"Worker":T=`${Be((0,he.z$)())}-${M}`;break;default:T=M}const R=y.length?y.join(","):"FirebaseCore-web";return`${T}/JsCore/${Ge.Jn}/${R}`}class Bn{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,T){const R=de=>new Promise((Ue,dt)=>{try{Ue(y(de))}catch(Ft){dt(Ft)}});R.onAbort=T,this.queue.push(R);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(y){var T=this;return(0,fe.Z)(function*(){if(T.auth.currentUser===y)return;const R=[];try{for(const Q of T.queue)yield Q(y),Q.onAbort&&R.push(Q.onAbort)}catch(Q){R.reverse();for(const de of R)try{de()}catch{}throw T.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}function Qr(){return(Qr=(0,fe.Z)(function*(M,y={}){return Ht(M,"GET","/v2/passwordPolicy",vt(M,y))})).apply(this,arguments)}class Un{constructor(y){var T,R,Q,de;const Ue=y.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(T=Ue.minPasswordLength)&&void 0!==T?T:6,Ue.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ue.maxPasswordLength),void 0!==Ue.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ue.containsLowercaseCharacter),void 0!==Ue.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ue.containsUppercaseCharacter),void 0!==Ue.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ue.containsNumericCharacter),void 0!==Ue.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ue.containsNonAlphanumericCharacter),this.enforcementState=y.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Q=null===(R=y.allowedNonAlphanumericCharacters)||void 0===R?void 0:R.join(""))&&void 0!==Q?Q:"",this.forceUpgradeOnSignin=null!==(de=y.forceUpgradeOnSignin)&&void 0!==de&&de,this.schemaVersion=y.schemaVersion}validatePassword(y){var T,R,Q,de,Ue,dt;const Ft={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(y,Ft),this.validatePasswordCharacterOptions(y,Ft),Ft.isValid&&(Ft.isValid=null===(T=Ft.meetsMinPasswordLength)||void 0===T||T),Ft.isValid&&(Ft.isValid=null===(R=Ft.meetsMaxPasswordLength)||void 0===R||R),Ft.isValid&&(Ft.isValid=null===(Q=Ft.containsLowercaseLetter)||void 0===Q||Q),Ft.isValid&&(Ft.isValid=null===(de=Ft.containsUppercaseLetter)||void 0===de||de),Ft.isValid&&(Ft.isValid=null===(Ue=Ft.containsNumericCharacter)||void 0===Ue||Ue),Ft.isValid&&(Ft.isValid=null===(dt=Ft.containsNonAlphanumericCharacter)||void 0===dt||dt),Ft}validatePasswordLengthOptions(y,T){const R=this.customStrengthOptions.minPasswordLength,Q=this.customStrengthOptions.maxPasswordLength;R&&(T.meetsMinPasswordLength=y.length>=R),Q&&(T.meetsMaxPasswordLength=y.length<=Q)}validatePasswordCharacterOptions(y,T){let R;this.updatePasswordCharacterOptionsStatuses(T,!1,!1,!1,!1);for(let Q=0;Q<y.length;Q++)R=y.charAt(Q),this.updatePasswordCharacterOptionsStatuses(T,R>="a"&&R<="z",R>="A"&&R<="Z",R>="0"&&R<="9",this.allowedNonAlphanumericCharacters.includes(R))}updatePasswordCharacterOptionsStatuses(y,T,R,Q,de){this.customStrengthOptions.containsLowercaseLetter&&(y.containsLowercaseLetter||(y.containsLowercaseLetter=T)),this.customStrengthOptions.containsUppercaseLetter&&(y.containsUppercaseLetter||(y.containsUppercaseLetter=R)),this.customStrengthOptions.containsNumericCharacter&&(y.containsNumericCharacter||(y.containsNumericCharacter=Q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(y.containsNonAlphanumericCharacter||(y.containsNonAlphanumericCharacter=de))}}class Br{constructor(y,T,R,Q){this.app=y,this.heartbeatServiceProvider=T,this.appCheckServiceProvider=R,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jr(this),this.idTokenSubscription=new Jr(this),this.beforeStateQueue=new Bn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(y,T){var R=this;return T&&(this._popupRedirectResolver=mn(T)),this._initializationPromise=this.queue((0,fe.Z)(function*(){var Q,de;if(!R._deleted&&(R.persistenceManager=yield rr.create(R,y),!R._deleted)){if(null!==(Q=R._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(T),R.lastNotifiedUid=(null===(de=R.currentUser)||void 0===de?void 0:de.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,fe.Z)(function*(){if(y._deleted)return;const T=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||T){if(y.currentUser&&T&&y.currentUser.uid===T.uid)return y._currentUser._assign(T),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(T,!0)}})()}initializeCurrentUser(y){var T=this;return(0,fe.Z)(function*(){var R;const Q=yield T.assertedPersistence.getCurrentUser();let de=Q,Ue=!1;if(y&&T.config.authDomain){yield T.getOrInitRedirectPersistenceManager();const dt=null===(R=T.redirectUser)||void 0===R?void 0:R._redirectEventId,Ft=de?._redirectEventId,_n=yield T.tryRedirectSignIn(y);(!dt||dt===Ft)&&_n?.user&&(de=_n.user,Ue=!0)}if(!de)return T.directlySetCurrentUser(null);if(!de._redirectEventId){if(Ue)try{yield T.beforeStateQueue.runMiddleware(de)}catch(dt){de=Q,T._popupRedirectResolver._overrideRedirectResult(T,()=>Promise.reject(dt))}return de?T.reloadAndSetCurrentUserOrClear(de):T.directlySetCurrentUser(null)}return wt(T._popupRedirectResolver,T,"argument-error"),yield T.getOrInitRedirectPersistenceManager(),T.redirectUser&&T.redirectUser._redirectEventId===de._redirectEventId?T.directlySetCurrentUser(de):T.reloadAndSetCurrentUserOrClear(de)})()}tryRedirectSignIn(y){var T=this;return(0,fe.Z)(function*(){let R=null;try{R=yield T._popupRedirectResolver._completeRedirectFn(T,y,!0)}catch{yield T._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(y){var T=this;return(0,fe.Z)(function*(){try{yield Vt(y)}catch(R){if("auth/network-request-failed"!==R?.code)return T.directlySetCurrentUser(null)}return T.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function Ve(){if(typeof navigator>"u")return null;const M=navigator;return M.languages&&M.languages[0]||M.language||null}()}_delete(){var y=this;return(0,fe.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var T=this;return(0,fe.Z)(function*(){const R=y?(0,he.m9)(y):null;return R&&wt(R.auth.config.apiKey===T.config.apiKey,T,"invalid-user-token"),T._updateCurrentUser(R&&R._clone(T))})()}_updateCurrentUser(y,T=!1){var R=this;return(0,fe.Z)(function*(){if(!R._deleted)return y&&wt(R.tenantId===y.tenantId,R,"tenant-id-mismatch"),T||(yield R.beforeStateQueue.runMiddleware(y)),R.queue((0,fe.Z)(function*(){yield R.directlySetCurrentUser(y),R.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,fe.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var T=this;return this.queue((0,fe.Z)(function*(){yield T.assertedPersistence.setPersistence(mn(y))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(y){var T=this;return(0,fe.Z)(function*(){T._getPasswordPolicyInternal()||(yield T._updatePasswordPolicy());const R=T._getPasswordPolicyInternal();return R.schemaVersion!==T.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(T._errorFactory.create("unsupported-password-policy-schema-version",{})):R.validatePassword(y)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var y=this;return(0,fe.Z)(function*(){const T=yield function ur(M){return Qr.apply(this,arguments)}(y),R=new Un(T);null===y.tenantId?y._projectPasswordPolicy=R:y._tenantPasswordPolicies[y.tenantId]=R})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new he.LL("auth","Firebase",y())}onAuthStateChanged(y,T,R){return this.registerStateListener(this.authStateSubscription,y,T,R)}beforeAuthStateChanged(y,T){return this.beforeStateQueue.pushCallback(y,T)}onIdTokenChanged(y,T,R){return this.registerStateListener(this.idTokenSubscription,y,T,R)}authStateReady(){return new Promise((y,T)=>{if(this.currentUser)y();else{const R=this.onAuthStateChanged(()=>{R(),y()},T)}})}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,T){var R=this;return(0,fe.Z)(function*(){const Q=yield R.getOrInitRedirectPersistenceManager(T);return null===y?Q.removeCurrentUser():Q.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var T=this;return(0,fe.Z)(function*(){if(!T.redirectPersistenceManager){const R=y&&mn(y)||T._popupRedirectResolver;wt(R,T,"argument-error"),T.redirectPersistenceManager=yield rr.create(T,[mn(R._redirectPersistence)],"redirectUser"),T.redirectUser=yield T.redirectPersistenceManager.getCurrentUser()}return T.redirectPersistenceManager})()}_redirectUserForId(y){var T=this;return(0,fe.Z)(function*(){var R,Q;return T._isInitialized&&(yield T.queue((0,fe.Z)(function*(){}))),(null===(R=T._currentUser)||void 0===R?void 0:R._redirectEventId)===y?T._currentUser:(null===(Q=T.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===y?T.redirectUser:null})()}_persistUserIfCurrent(y){var T=this;return(0,fe.Z)(function*(){if(y===T.currentUser)return T.queue((0,fe.Z)(function*(){return T.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,T;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(T=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==T?T:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,T,R,Q){if(this._deleted)return()=>{};const de="function"==typeof T?T:T.next.bind(T);let Ue=!1;const dt=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(dt,this,"internal-error"),dt.then(()=>{Ue||de(this.currentUser)}),"function"==typeof T){const Ft=y.addObserver(T,R,Q);return()=>{Ue=!0,Ft()}}{const Ft=y.addObserver(T);return()=>{Ue=!0,Ft()}}}directlySetCurrentUser(y){var T=this;return(0,fe.Z)(function*(){T.currentUser&&T.currentUser!==y&&T._currentUser._stopProactiveRefresh(),y&&T.isProactiveRefreshEnabled&&y._startProactiveRefresh(),T.currentUser=y,y?yield T.assertedPersistence.setCurrentUser(y):yield T.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=ki(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,fe.Z)(function*(){var T;const R={"X-Client-Version":y.clientVersion};y.app.options.appId&&(R["X-Firebase-gmpid"]=y.app.options.appId);const Q=yield null===(T=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===T?void 0:T.getHeartbeatsHeader();Q&&(R["X-Firebase-Client"]=Q);const de=yield y._getAppCheckToken();return de&&(R["X-Firebase-AppCheck"]=de),R})()}_getAppCheckToken(){var y=this;return(0,fe.Z)(function*(){var T;const R=yield null===(T=y.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===T?void 0:T.getToken();return R?.error&&function qe(M,...y){Ct.logLevel<=St.in.WARN&&Ct.warn(`Auth (${Ge.Jn}): ${M}`,...y)}(`Error while retrieving App Check token: ${R.error}`),R?.token})()}}function Rr(M){return(0,he.m9)(M)}class Jr{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,he.ne)(T=>this.observer=T)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gs(M){return new Promise((y,T)=>{const R=document.createElement("script");R.setAttribute("src",M),R.onload=y,R.onerror=Q=>{const de=_t("internal-error");de.customData=Q,T(de)},R.type="text/javascript",R.charset="UTF-8",function Xr(){var M,y;return null!==(y=null===(M=document.getElementsByTagName("head"))||void 0===M?void 0:M[0])&&void 0!==y?y:document}().appendChild(R)})}function zs(M){return`__${M}${Math.floor(1e6*Math.random())}`}class Ao{constructor(y){this.type="recaptcha-enterprise",this.auth=Rr(y)}verify(y="verify",T=!1){var R=this;return(0,fe.Z)(function*(){function de(){return de=(0,fe.Z)(function*(dt){if(!T){if(null==dt.tenantId&&null!=dt._agentRecaptchaConfig)return dt._agentRecaptchaConfig.siteKey;if(null!=dt.tenantId&&void 0!==dt._tenantRecaptchaConfigs[dt.tenantId])return dt._tenantRecaptchaConfigs[dt.tenantId].siteKey}return new Promise(function(){var Ft=(0,fe.Z)(function*(_n,Vn){dr(dt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ir=>{if(void 0!==Ir.recaptchaKey){const ps=new cn(Ir);return null==dt.tenantId?dt._agentRecaptchaConfig=ps:dt._tenantRecaptchaConfigs[dt.tenantId]=ps,_n(ps.siteKey)}Vn(new Error("recaptcha Enterprise site key undefined"))}).catch(Ir=>{Vn(Ir)})});return function(_n,Vn){return Ft.apply(this,arguments)}}())}),de.apply(this,arguments)}function Ue(dt,Ft,_n){const Vn=window.grecaptcha;Kn(Vn)?Vn.enterprise.ready(()=>{Vn.enterprise.execute(dt,{action:y}).then(Ir=>{Ft(Ir)}).catch(()=>{Ft("NO_RECAPTCHA")})}):_n(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((dt,Ft)=>{(function Q(dt){return de.apply(this,arguments)})(R.auth).then(_n=>{if(!T&&Kn(window.grecaptcha))Ue(_n,dt,Ft);else{if(typeof window>"u")return void Ft(new Error("RecaptchaVerifier is only supported in browser"));gs("https://www.google.com/recaptcha/enterprise.js?render="+_n).then(()=>{Ue(_n,dt,Ft)}).catch(Vn=>{Ft(Vn)})}}).catch(_n=>{Ft(_n)})})})()}}function Gs(M,y,T){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,fe.Z)(function*(M,y,T,R=!1){const Q=new Ao(M);let de;try{de=yield Q.verify(T)}catch{de=yield Q.verify(T,!0)}const Ue=Object.assign({},y);return Object.assign(Ue,R?{captchaResp:de}:{captchaResponse:de}),Object.assign(Ue,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ue,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ue})).apply(this,arguments)}function ws(M,y,T,R){return _i.apply(this,arguments)}function _i(){return _i=(0,fe.Z)(function*(M,y,T,R){var Q;if(null!==(Q=M._getRecaptchaConfig())&&void 0!==Q&&Q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const de=yield Gs(M,y,T,"getOobCode"===T);return R(M,de)}return R(M,y).catch(function(){var de=(0,fe.Z)(function*(Ue){if("auth/missing-recaptcha-token"===Ue.code){console.log(`${T} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const dt=yield Gs(M,y,T,"getOobCode"===T);return R(M,dt)}return Promise.reject(Ue)});return function(Ue){return de.apply(this,arguments)}}())}),_i.apply(this,arguments)}function Xo(M){const y=M.indexOf(":");return y<0?"":M.substr(0,y+1)}function ea(M){if(!M)return null;const y=Number(M);return isNaN(y)?null:y}class Ns{constructor(y,T){this.providerId=y,this.signInMethod=T}toJSON(){return In("not implemented")}_getIdTokenResponse(y){return In("not implemented")}_linkToIdToken(y,T){return In("not implemented")}_getReauthenticationResolver(y){return In("not implemented")}}function to(M,y){return ss.apply(this,arguments)}function ss(){return(ss=(0,fe.Z)(function*(M,y){return Ht(M,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Gr(M,y){return ho.apply(this,arguments)}function ho(){return(ho=(0,fe.Z)(function*(M,y){return $n(M,"POST","/v1/accounts:signInWithPassword",vt(M,y))})).apply(this,arguments)}function ia(){return(ia=(0,fe.Z)(function*(M,y){return $n(M,"POST","/v1/accounts:signInWithEmailLink",vt(M,y))})).apply(this,arguments)}function Ws(){return(Ws=(0,fe.Z)(function*(M,y){return $n(M,"POST","/v1/accounts:signInWithEmailLink",vt(M,y))})).apply(this,arguments)}class Ls extends Ns{constructor(y,T,R,Q=null){super("password",R),this._email=y,this._password=T,this._tenantId=Q}static _fromEmailAndPassword(y,T){return new Ls(y,T,"password")}static _fromEmailAndCode(y,T,R=null){return new Ls(y,T,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const T="string"==typeof y?JSON.parse(y):y;if(T?.email&&T?.password){if("password"===T.signInMethod)return this._fromEmailAndPassword(T.email,T.password);if("emailLink"===T.signInMethod)return this._fromEmailAndCode(T.email,T.password,T.tenantId)}return null}_getIdTokenResponse(y){var T=this;return(0,fe.Z)(function*(){switch(T.signInMethod){case"password":return ws(y,{returnSecureToken:!0,email:T._email,password:T._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Gr);case"emailLink":return function Si(M,y){return ia.apply(this,arguments)}(y,{email:T._email,oobCode:T._password});default:ut(y,"internal-error")}})()}_linkToIdToken(y,T){var R=this;return(0,fe.Z)(function*(){switch(R.signInMethod){case"password":return to(y,{idToken:T,returnSecureToken:!0,email:R._email,password:R._password});case"emailLink":return function fo(M,y){return Ws.apply(this,arguments)}(y,{idToken:T,email:R._email,oobCode:R._password});default:ut(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function $i(M,y){return ei.apply(this,arguments)}function ei(){return(ei=(0,fe.Z)(function*(M,y){return $n(M,"POST","/v1/accounts:signInWithIdp",vt(M,y))})).apply(this,arguments)}class qn{constructor(y){var T,R,Q,de,Ue,dt;const Ft=(0,he.zd)((0,he.pd)(y)),_n=null!==(T=Ft.apiKey)&&void 0!==T?T:null,Vn=null!==(R=Ft.oobCode)&&void 0!==R?R:null,Ir=function Qn(M){switch(M){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=Ft.mode)&&void 0!==Q?Q:null);wt(_n&&Vn&&Ir,"argument-error"),this.apiKey=_n,this.operation=Ir,this.code=Vn,this.continueUrl=null!==(de=Ft.continueUrl)&&void 0!==de?de:null,this.languageCode=null!==(Ue=Ft.languageCode)&&void 0!==Ue?Ue:null,this.tenantId=null!==(dt=Ft.tenantId)&&void 0!==dt?dt:null}static parseLink(y){const T=function Or(M){const y=(0,he.zd)((0,he.pd)(M)).link,T=y?(0,he.zd)((0,he.pd)(y)).deep_link_id:null,R=(0,he.zd)((0,he.pd)(M)).deep_link_id;return(R?(0,he.zd)((0,he.pd)(R)).link:null)||R||T||y||M}(y);try{return new qn(T)}catch{return null}}}let Nr=(()=>{class M{constructor(){this.providerId=M.PROVIDER_ID}static credential(T,R){return Ls._fromEmailAndPassword(T,R)}static credentialWithLink(T,R){const Q=qn.parseLink(R);return wt(Q,"argument-error"),Ls._fromEmailAndCode(T,Q.code,Q.tenantId)}}return M.PROVIDER_ID="password",M.EMAIL_PASSWORD_SIGN_IN_METHOD="password",M.EMAIL_LINK_SIGN_IN_METHOD="emailLink",M})();class vr{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class ni extends vr{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}function ir(M,y){return oa.apply(this,arguments)}function oa(){return(oa=(0,fe.Z)(function*(M,y){return $n(M,"POST","/v1/accounts:signUp",vt(M,y))})).apply(this,arguments)}class mi{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,T,R,Q=!1){return(0,fe.Z)(function*(){const de=yield mt._fromIdTokenResponse(y,R,Q),Ue=va(R);return new mi({user:de,providerId:Ue,_tokenResponse:R,operationType:T})})()}static _forOperation(y,T,R){return(0,fe.Z)(function*(){yield y._updateTokensIfNecessary(R,!0);const Q=va(R);return new mi({user:y,providerId:Q,_tokenResponse:R,operationType:T})})()}}function va(M){return M.providerId?M.providerId:"phoneNumber"in M?"phone":null}class xi extends he.ZR{constructor(y,T,R,Q){var de;super(T.code,T.message),this.operationType=R,this.user=Q,Object.setPrototypeOf(this,xi.prototype),this.customData={appName:y.name,tenantId:null!==(de=y.tenantId)&&void 0!==de?de:void 0,_serverResponse:T.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(y,T,R,Q){return new xi(y,T,R,Q)}}function Mi(M,y,T,R){return("reauthenticate"===y?T._getReauthenticationResolver(M):T._getIdTokenResponse(M)).catch(de=>{throw"auth/multi-factor-auth-required"===de.code?xi._fromErrorAndOperation(M,de,y,R):de})}function Ba(){return(Ba=(0,fe.Z)(function*(M,y,T=!1){const R=yield Yr(M,y._linkToIdToken(M.auth,yield M.getIdToken()),T);return mi._forOperation(M,"link",R)})).apply(this,arguments)}function oe(){return(oe=(0,fe.Z)(function*(M,y,T=!1){const{auth:R}=M,Q="reauthenticate";try{const de=yield Yr(M,Mi(R,Q,y,M),T);wt(de.idToken,R,"internal-error");const Ue=Ki(de.idToken);wt(Ue,R,"internal-error");const{sub:dt}=Ue;return wt(M.uid===dt,R,"user-mismatch"),mi._forOperation(M,Q,de)}catch(de){throw"auth/user-not-found"===de?.code&&ut(R,"user-mismatch"),de}})).apply(this,arguments)}function xe(M,y){return un.apply(this,arguments)}function un(){return(un=(0,fe.Z)(function*(M,y,T=!1){const R="signIn",Q=yield Mi(M,R,y),de=yield mi._fromIdTokenResponse(M,R,Q);return T||(yield M._updateCurrentUser(de.user)),de})).apply(this,arguments)}function ls(){return(ls=(0,fe.Z)(function*(M,y){return xe(Rr(M),y)})).apply(this,arguments)}function eu(M){return qo.apply(this,arguments)}function qo(){return(qo=(0,fe.Z)(function*(M){const y=Rr(M);y._getPasswordPolicyInternal()&&(yield y._updatePasswordPolicy())})).apply(this,arguments)}function kr(M,y,T){return ul.apply(this,arguments)}function ul(){return(ul=(0,fe.Z)(function*(M,y,T){const R=Rr(M),Ue=yield ws(R,{returnSecureToken:!0,email:y,password:T,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ir).catch(Ft=>{throw"auth/password-does-not-meet-requirements"===Ft.code&&eu(M),Ft}),dt=yield mi._fromIdTokenResponse(R,"signIn",Ue);return yield R._updateCurrentUser(dt.user),dt})).apply(this,arguments)}function Ha(M,y,T){return function jn(M,y){return ls.apply(this,arguments)}((0,he.m9)(M),Nr.credential(y,T)).catch(function(){var R=(0,fe.Z)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&eu(M),Q});return function(Q){return R.apply(this,arguments)}}())}const yo="__sak";class md{constructor(y,T){this.storageRetriever=y,this.type=T}_isAvailable(){try{return this.storage?(this.storage.setItem(yo,"1"),this.storage.removeItem(yo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,T){return this.storage.setItem(y,JSON.stringify(T)),Promise.resolve()}_get(y){const T=this.storage.getItem(y);return Promise.resolve(T?JSON.parse(T):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const wn=(()=>{class M extends md{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(T,R)=>this.onStorageEvent(T,R),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wn(){const M=(0,he.z$)();return Pe(M)||Tt(M)}()&&function Ps(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ci(),this._shouldAllowMigration=!0}forAllChangedKeys(T){for(const R of Object.keys(this.listeners)){const Q=this.storage.getItem(R),de=this.localCache[R];Q!==de&&T(R,de,Q)}}onStorageEvent(T,R=!1){if(!T.key)return void this.forAllChangedKeys((dt,Ft,_n)=>{this.notifyListeners(dt,_n)});const Q=T.key;if(R?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const dt=this.storage.getItem(Q);if(T.newValue!==dt)null!==T.newValue?this.storage.setItem(Q,T.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===T.newValue&&!R)return}const de=()=>{const dt=this.storage.getItem(Q);!R&&this.localCache[Q]===dt||this.notifyListeners(Q,dt)},Ue=this.storage.getItem(Q);!function Cn(){return(0,he.w1)()&&10===document.documentMode}()||Ue===T.newValue||T.newValue===T.oldValue?de():setTimeout(de,10)}notifyListeners(T,R){this.localCache[T]=R;const Q=this.listeners[T];if(Q)for(const de of Array.from(Q))de(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((T,R,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:T,oldValue:R,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(T,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[T]||(this.listeners[T]=new Set,this.localCache[T]=this.storage.getItem(T)),this.listeners[T].add(R)}_removeListener(T,R){this.listeners[T]&&(this.listeners[T].delete(R),0===this.listeners[T].size&&delete this.listeners[T]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(T,R){var Q=()=>super._set,de=this;return(0,fe.Z)(function*(){yield Q().call(de,T,R),de.localCache[T]=JSON.stringify(R)})()}_get(T){var R=()=>super._get,Q=this;return(0,fe.Z)(function*(){const de=yield R().call(Q,T);return Q.localCache[T]=JSON.stringify(de),de})()}_remove(T){var R=()=>super._remove,Q=this;return(0,fe.Z)(function*(){yield R().call(Q,T),delete Q.localCache[T]})()}}return M.type="LOCAL",M})(),Er=(()=>{class M extends md{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(T,R){}_removeListener(T,R){}}return M.type="SESSION",M})();let Ui=(()=>{class M{constructor(T){this.eventTarget=T,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(T){const R=this.receivers.find(de=>de.isListeningto(T));if(R)return R;const Q=new M(T);return this.receivers.push(Q),Q}isListeningto(T){return this.eventTarget===T}handleEvent(T){var R=this;return(0,fe.Z)(function*(){const Q=T,{eventId:de,eventType:Ue,data:dt}=Q.data,Ft=R.handlersMap[Ue];if(!Ft?.size)return;Q.ports[0].postMessage({status:"ack",eventId:de,eventType:Ue});const _n=Array.from(Ft).map(function(){var Ir=(0,fe.Z)(function*(ps){return ps(Q.origin,dt)});return function(ps){return Ir.apply(this,arguments)}}()),Vn=yield function gh(M){return Promise.all(M.map(function(){var y=(0,fe.Z)(function*(T){try{return{fulfilled:!0,value:yield T}}catch(R){return{fulfilled:!1,reason:R}}});return function(T){return y.apply(this,arguments)}}()))}(_n);Q.ports[0].postMessage({status:"done",eventId:de,eventType:Ue,response:Vn})})()}_subscribe(T,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[T]||(this.handlersMap[T]=new Set),this.handlersMap[T].add(R)}_unsubscribe(T,R){this.handlersMap[T]&&R&&this.handlersMap[T].delete(R),(!R||0===this.handlersMap[T].size)&&delete this.handlersMap[T],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return M.receivers=[],M})();function Et(M="",y=10){let T="";for(let R=0;R<y;R++)T+=Math.floor(10*Math.random());return M+T}class Aa{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,T,R=50){var Q=this;return(0,fe.Z)(function*(){const de=typeof MessageChannel<"u"?new MessageChannel:null;if(!de)throw new Error("connection_unavailable");let Ue,dt;return new Promise((Ft,_n)=>{const Vn=Et("",20);de.port1.start();const Ir=setTimeout(()=>{_n(new Error("unsupported_event"))},R);dt={messageChannel:de,onMessage(ps){const li=ps;if(li.data.eventId===Vn)switch(li.data.status){case"ack":clearTimeout(Ir),Ue=setTimeout(()=>{_n(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ue),Ft(li.data.response);break;default:clearTimeout(Ir),clearTimeout(Ue),_n(new Error("invalid_response"))}}},Q.handlers.add(dt),de.port1.addEventListener("message",dt.onMessage),Q.target.postMessage({eventType:y,eventId:Vn,data:T},[de.port2])}).finally(()=>{dt&&Q.removeMessageHandler(dt)})})()}}function qi(){return window}function pl(){return typeof qi().WorkerGlobalScope<"u"&&"function"==typeof qi().importScripts}function gl(){return(gl=(0,fe.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const yd="firebaseLocalStorageDb",kl="firebaseLocalStorage",Pu="fbase_key";class Rt{constructor(y){this.request=y}toPromise(){return new Promise((y,T)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{T(this.request.error)})})}}function or(M,y){return M.transaction([kl],y?"readwrite":"readonly").objectStore(kl)}function Ke(){const M=indexedDB.open(yd,1);return new Promise((y,T)=>{M.addEventListener("error",()=>{T(M.error)}),M.addEventListener("upgradeneeded",()=>{const R=M.result;try{R.createObjectStore(kl,{keyPath:Pu})}catch(Q){T(Q)}}),M.addEventListener("success",(0,fe.Z)(function*(){const R=M.result;R.objectStoreNames.contains(kl)?y(R):(R.close(),yield function Ou(){const M=indexedDB.deleteDatabase(yd);return new Rt(M).toPromise()}(),y(yield Ke()))}))})}function Ri(M,y,T){return io.apply(this,arguments)}function io(){return(io=(0,fe.Z)(function*(M,y,T){const R=or(M,!0).put({[Pu]:y,value:T});return new Rt(R).toPromise()})).apply(this,arguments)}function Bs(){return(Bs=(0,fe.Z)(function*(M,y){const T=or(M,!1).get(y),R=yield new Rt(T).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function Wo(M,y){const T=or(M,!0).delete(y);return new Rt(T).toPromise()}const vc=(()=>{class M{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var T=this;return(0,fe.Z)(function*(){return T.db||(T.db=yield Ke()),T.db})()}_withRetries(T){var R=this;return(0,fe.Z)(function*(){let Q=0;for(;;)try{const de=yield R._openDb();return yield T(de)}catch(de){if(Q++>3)throw de;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var T=this;return(0,fe.Z)(function*(){return pl()?T.initializeReceiver():T.initializeSender()})()}initializeReceiver(){var T=this;return(0,fe.Z)(function*(){T.receiver=Ui._getInstance(function _d(){return pl()?self:null}()),T.receiver._subscribe("keyChanged",function(){var R=(0,fe.Z)(function*(Q,de){return{keyProcessed:(yield T._poll()).includes(de.key)}});return function(Q,de){return R.apply(this,arguments)}}()),T.receiver._subscribe("ping",function(){var R=(0,fe.Z)(function*(Q,de){return["keyChanged"]});return function(Q,de){return R.apply(this,arguments)}}())})()}initializeSender(){var T=this;return(0,fe.Z)(function*(){var R,Q;if(T.activeServiceWorker=yield function Ga(){return gl.apply(this,arguments)}(),!T.activeServiceWorker)return;T.sender=new Aa(T.activeServiceWorker);const de=yield T.sender._send("ping",{},800);de&&null!==(R=de[0])&&void 0!==R&&R.fulfilled&&null!==(Q=de[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(T.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(T){var R=this;return(0,fe.Z)(function*(){if(R.sender&&R.activeServiceWorker&&function Fo(){var M;return(null===(M=navigator?.serviceWorker)||void 0===M?void 0:M.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:T},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,fe.Z)(function*(){try{if(!indexedDB)return!1;const T=yield Ke();return yield Ri(T,yo,"1"),yield Wo(T,yo),!0}catch{}return!1})()}_withPendingWrite(T){var R=this;return(0,fe.Z)(function*(){R.pendingWrites++;try{yield T()}finally{R.pendingWrites--}})()}_set(T,R){var Q=this;return(0,fe.Z)(function*(){return Q._withPendingWrite((0,fe.Z)(function*(){return yield Q._withRetries(de=>Ri(de,T,R)),Q.localCache[T]=R,Q.notifyServiceWorker(T)}))})()}_get(T){var R=this;return(0,fe.Z)(function*(){const Q=yield R._withRetries(de=>function ds(M,y){return Bs.apply(this,arguments)}(de,T));return R.localCache[T]=Q,Q})()}_remove(T){var R=this;return(0,fe.Z)(function*(){return R._withPendingWrite((0,fe.Z)(function*(){return yield R._withRetries(Q=>Wo(Q,T)),delete R.localCache[T],R.notifyServiceWorker(T)}))})()}_poll(){var T=this;return(0,fe.Z)(function*(){const R=yield T._withRetries(Ue=>{const dt=or(Ue,!1).getAll();return new Rt(dt).toPromise()});if(!R)return[];if(0!==T.pendingWrites)return[];const Q=[],de=new Set;for(const{fbase_key:Ue,value:dt}of R)de.add(Ue),JSON.stringify(T.localCache[Ue])!==JSON.stringify(dt)&&(T.notifyListeners(Ue,dt),Q.push(Ue));for(const Ue of Object.keys(T.localCache))T.localCache[Ue]&&!de.has(Ue)&&(T.notifyListeners(Ue,null),Q.push(Ue));return Q})()}notifyListeners(T,R){this.localCache[T]=R;const Q=this.listeners[T];if(Q)for(const de of Array.from(Q))de(R)}startPolling(){var T=this;this.stopPolling(),this.pollTimer=setInterval((0,fe.Z)(function*(){return T._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(T,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[T]||(this.listeners[T]=new Set,this._get(T)),this.listeners[T].add(R)}_removeListener(T,R){this.listeners[T]&&(this.listeners[T].delete(R),0===this.listeners[T].size&&delete this.listeners[T]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return M.type="LOCAL",M})();zs("rcb"),new Qe(3e4,6e4);class iu extends Ns{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return $i(y,this._buildIdpRequest())}_linkToIdToken(y,T){return $i(y,this._buildIdpRequest(T))}_getReauthenticationResolver(y){return $i(y,this._buildIdpRequest())}_buildIdpRequest(y){const T={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(T.idToken=y),T}}function Ka(M){return xe(M.auth,new iu(M),M.bypassAuthState)}function Ks(M){const{auth:y,user:T}=M;return wt(T,y,"internal-error"),function U(M,y){return oe.apply(this,arguments)}(T,new iu(M),M.bypassAuthState)}function bc(M){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,fe.Z)(function*(M){const{auth:y,user:T}=M;return wt(T,y,"internal-error"),function Qi(M,y){return Ba.apply(this,arguments)}(T,new iu(M),M.bypassAuthState)})).apply(this,arguments)}class Da{constructor(y,T,R,Q,de=!1){this.auth=y,this.resolver=R,this.user=Q,this.bypassAuthState=de,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(T)?T:[T]}execute(){var y=this;return new Promise(function(){var T=(0,fe.Z)(function*(R,Q){y.pendingPromise={resolve:R,reject:Q};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(de){y.reject(de)}});return function(R,Q){return T.apply(this,arguments)}}())}onAuthEvent(y){var T=this;return(0,fe.Z)(function*(){const{urlResponse:R,sessionId:Q,postBody:de,tenantId:Ue,error:dt,type:Ft}=y;if(dt)return void T.reject(dt);const _n={auth:T.auth,requestUri:R,sessionId:Q,tenantId:Ue||void 0,postBody:de||void 0,user:T.user,bypassAuthState:T.bypassAuthState};try{T.resolve(yield T.getIdpTask(Ft)(_n))}catch(Vn){T.reject(Vn)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Ka;case"linkViaPopup":case"linkViaRedirect":return bc;case"reauthViaPopup":case"reauthViaRedirect":return Ks;default:ut(this.auth,"internal-error")}}resolve(y){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Qe(2e3,1e4);const Pf="pendingRedirect",fs=new Map;class qp extends Da{constructor(y,T,R=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],T,void 0,R),this.eventId=null}execute(){var y=()=>super.execute,T=this;return(0,fe.Z)(function*(){let R=fs.get(T.auth._key());if(!R){try{const de=(yield function Ya(M,y){return Xi.apply(this,arguments)}(T.resolver,T.auth))?yield y().call(T):null;R=()=>Promise.resolve(de)}catch(Q){R=()=>Promise.reject(Q)}fs.set(T.auth._key(),R)}return T.bypassAuthState||fs.set(T.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(y){var T=()=>super.onAuthEvent,R=this;return(0,fe.Z)(function*(){if("signInViaRedirect"===y.type)return T().call(R,y);if("unknown"!==y.type){if(y.eventId){const Q=yield R.auth._redirectUserForId(y.eventId);if(Q)return R.user=Q,T().call(R,y);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,fe.Z)(function*(){})()}cleanUp(){}}function Xi(){return(Xi=(0,fe.Z)(function*(M,y){const T=function Ja(M){return Nn(Pf,M.config.apiKey,M.name)}(y),R=function au(M){return mn(M._redirectPersistence)}(M);if(!(yield R._isAvailable()))return!1;const Q="true"===(yield R._get(T));return yield R._remove(T),Q})).apply(this,arguments)}function ou(M,y){fs.set(M._key(),y)}function Lu(M,y){return uu.apply(this,arguments)}function uu(){return(uu=(0,fe.Z)(function*(M,y,T=!1){const R=Rr(M),Q=function Zo(M,y){return y?mn(y):(wt(M._popupRedirectResolver,M,"argument-error"),M._popupRedirectResolver)}(R,y),Ue=yield new qp(R,Q,T).execute();return Ue&&!T&&(delete Ue.user._redirectEventId,yield R._persistUserIfCurrent(Ue.user),yield R._setRedirectUser(null,y)),Ue})).apply(this,arguments)}class cu{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let T=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(y,R)&&(T=!0,this.sendToConsumer(y,R),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function tl(M){switch(M.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uu(M);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,T||(this.queuedRedirectEvent=y,T=!0)),T}sendToConsumer(y,T){var R;if(y.error&&!Uu(y)){const Q=(null===(R=y.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";T.onError(_t(this.auth,Q))}else T.onAuthEvent(y)}isEventForConsumer(y,T){const R=null===T.eventId||!!y.eventId&&y.eventId===T.eventId;return T.filter.includes(y.type)&&R}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vh(y))}saveEventToCache(y){this.cachedEventUids.add(vh(y)),this.lastProcessedEventTime=Date.now()}}function vh(M){return[M.type,M.eventId,M.sessionId,M.tenantId].filter(y=>y).join("-")}function Uu({type:M,error:y}){return"unknown"===M&&"auth/no-auth-event"===y?.code}function Ic(){return(Ic=(0,fe.Z)(function*(M,y={}){return Ht(M,"GET","/v1/projects",y)})).apply(this,arguments)}const Qs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yl=/^https?/;function Pi(){return Pi=(0,fe.Z)(function*(M){if(M.config.emulator)return;const{authorizedDomains:y}=yield function bh(M){return Ic.apply(this,arguments)}(M);for(const T of y)try{if(Eh(T))return}catch{}ut(M,"unauthorized-domain")}),Pi.apply(this,arguments)}function Eh(M){const y=gt(),{protocol:T,hostname:R}=new URL(y);if(M.startsWith("chrome-extension://")){const Ue=new URL(M);return""===Ue.hostname&&""===R?"chrome-extension:"===T&&M.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===T&&Ue.hostname===R}if(!yl.test(T))return!1;if(Qs.test(M))return R===M;const Q=M.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(R)}const Ih=new Qe(3e4,6e4);function Vl(){const M=qi().___jsl;if(M?.H)for(const y of Object.keys(M.H))if(M.H[y].r=M.H[y].r||[],M.H[y].L=M.H[y].L||[],M.H[y].r=[...M.H[y].L],M.CP)for(let T=0;T<M.CP.length;T++)M.CP[T]=null}let Sa=null;const Hr=new Qe(5e3,15e3),xa="__/auth/iframe",Ul="emulator/auth/iframe",Tc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ad=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bl(M){const y=M.config;wt(y.authDomain,M,"auth-domain-config-required");const T=y.emulator?Xe(y,Ul):`https://${M.config.authDomain}/${xa}`,R={apiKey:y.apiKey,appName:M.name,v:Ge.Jn},Q=Ad.get(M.config.apiHost);Q&&(R.eid=Q);const de=M._getFrameworks();return de.length&&(R.fw=de.join(",")),`${T}?${(0,he.xO)(R).slice(1)}`}function Cd(){return Cd=(0,fe.Z)(function*(M){const y=yield function gr(M){return Sa=Sa||function Wp(M){return new Promise((y,T)=>{var R,Q,de;function Ue(){Vl(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Vl(),T(_t(M,"network-request-failed"))},timeout:Ih.get()})}if(null!==(Q=null===(R=qi().gapi)||void 0===R?void 0:R.iframes)&&void 0!==Q&&Q.Iframe)y(gapi.iframes.getContext());else{if(null===(de=qi().gapi)||void 0===de||!de.load){const dt=zs("iframefcb");return qi()[dt]=()=>{gapi.load?Ue():T(_t(M,"network-request-failed"))},gs(`https://apis.google.com/js/api.js?onload=${dt}`).catch(Ft=>T(Ft))}Ue()}}).catch(y=>{throw Sa=null,y})}(M),Sa}(M),T=qi().gapi;return wt(T,M,"internal-error"),y.open({where:document.body,url:Bl(M),messageHandlersFilter:T.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tc,dontclear:!0},R=>new Promise(function(){var Q=(0,fe.Z)(function*(de,Ue){yield R.restyle({setHideOnLeave:!1});const dt=_t(M,"network-request-failed"),Ft=qi().setTimeout(()=>{Ue(dt)},Hr.get());function _n(){qi().clearTimeout(Ft),de(R)}R.ping(_n).then(_n,()=>{Ue(dt)})});return function(de,Ue){return Q.apply(this,arguments)}}()))}),Cd.apply(this,arguments)}const Zp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yp{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const kf="__/auth/handler",js="emulator/auth/handler",Sd=encodeURIComponent("fac");function Hs(M,y,T,R,Q,de){return hu.apply(this,arguments)}function hu(){return(hu=(0,fe.Z)(function*(M,y,T,R,Q,de){wt(M.config.authDomain,M,"auth-domain-config-required"),wt(M.config.apiKey,M,"invalid-api-key");const Ue={apiKey:M.config.apiKey,appName:M.name,authType:T,redirectUrl:R,v:Ge.Jn,eventId:Q};if(y instanceof vr){y.setDefaultLanguage(M.languageCode),Ue.providerId=y.providerId||"",(0,he.xb)(y.getCustomParameters())||(Ue.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Vn,Ir]of Object.entries(de||{}))Ue[Vn]=Ir}if(y instanceof ni){const Vn=y.getScopes().filter(Ir=>""!==Ir);Vn.length>0&&(Ue.scopes=Vn.join(","))}M.tenantId&&(Ue.tid=M.tenantId);const dt=Ue;for(const Vn of Object.keys(dt))void 0===dt[Vn]&&delete dt[Vn];const Ft=yield M._getAppCheckToken(),_n=Ft?`#${Sd}=${encodeURIComponent(Ft)}`:"";return`${function Po({config:M}){return M.emulator?Xe(M,js):`https://${M.authDomain}/${kf}`}(M)}?${(0,he.xO)(dt).slice(1)}${_n}`})).apply(this,arguments)}const Ma="webStorageSupport",Ac=class wc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Er,this._completeRedirectFn=Lu,this._overrideRedirectResult=ou}_openPopup(y,T,R,Q){var de=this;return(0,fe.Z)(function*(){var Ue;Pt(null===(Ue=de.eventManagers[y._key()])||void 0===Ue?void 0:Ue.manager,"_initialize() not called before _openPopup()");const dt=yield Hs(y,T,R,gt(),Q);return function du(M,y,T,R=500,Q=600){const de=Math.max((window.screen.availHeight-Q)/2,0).toString(),Ue=Math.max((window.screen.availWidth-R)/2,0).toString();let dt="";const Ft=Object.assign(Object.assign({},Zp),{width:R.toString(),height:Q.toString(),top:de,left:Ue}),_n=(0,he.z$)().toLowerCase();T&&(dt=Te(_n)?"_blank":T),Ae(_n)&&(y=y||"http://localhost",Ft.scrollbars="yes");const Vn=Object.entries(Ft).reduce((ps,[li,mu])=>`${ps}${li}=${mu},`,"");if(function Fr(M=(0,he.z$)()){var y;return Tt(M)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(_n)&&"_self"!==dt)return function Dd(M,y){const T=document.createElement("a");T.href=M,T.target=y;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),T.dispatchEvent(R)}(y||"",dt),new Yp(null);const Ir=window.open(y||"",dt,Vn);wt(Ir,M,"popup-blocked");try{Ir.focus()}catch{}return new Yp(Ir)}(y,dt,Et())})()}_openRedirect(y,T,R,Q){var de=this;return(0,fe.Z)(function*(){return yield de._originValidation(y),function da(M){qi().location.href=M}(yield Hs(y,T,R,gt(),Q)),new Promise(()=>{})})()}_initialize(y){const T=y._key();if(this.eventManagers[T]){const{manager:Q,promise:de}=this.eventManagers[T];return Q?Promise.resolve(Q):(Pt(de,"If manager is not set, promise should be"),de)}const R=this.initAndGetManager(y);return this.eventManagers[T]={promise:R},R.catch(()=>{delete this.eventManagers[T]}),R}initAndGetManager(y){var T=this;return(0,fe.Z)(function*(){const R=yield function Of(M){return Cd.apply(this,arguments)}(y),Q=new cu(y);return R.register("authEvent",de=>(wt(de?.authEvent,y,"invalid-auth-event"),{status:Q.onEvent(de.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),T.eventManagers[y._key()]={manager:Q},T.iframes[y._key()]=R,Q})()}_isIframeWebStorageSupported(y,T){this.iframes[y._key()].send(Ma,{type:Ma},Q=>{var de;const Ue=null===(de=Q?.[0])||void 0===de?void 0:de[Ma];void 0!==Ue&&T(!!Ue),ut(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const T=y._key();return this.originValidationPromises[T]||(this.originValidationPromises[T]=function ji(M){return Pi.apply(this,arguments)}(y)),this.originValidationPromises[T]}get _shouldInitProactively(){return ci()||Pe()||Tt()}};var vl="@firebase/auth";class Dc{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var T=this;return(0,fe.Z)(function*(){return T.assertAuthConfigured(),yield T.auth._initializationPromise,T.auth.currentUser?{accessToken:yield T.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const T=this.auth.onIdTokenChanged(R=>{y(R?.stsTokenManager.accessToken||null)});this.internalListeners.set(y,T),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const T=this.internalListeners.get(y);T&&(this.internalListeners.delete(y),T(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xc=(0,he.Pz)("authIdTokenMaxAge")||300;let wh=null;const Ff=M=>function(){var y=(0,fe.Z)(function*(T){const R=T&&(yield T.getIdTokenResult()),Q=R&&((new Date).getTime()-Date.parse(R.issuedAtTime))/1e3;if(Q&&Q>xc)return;const de=R?.token;wh!==de&&(wh=de,yield fetch(M,{method:de?"POST":"DELETE",headers:de?{Authorization:`Bearer ${de}`}:{}}))});return function(T){return y.apply(this,arguments)}}();function Ah(M=(0,Ge.Mq)()){const y=(0,Ge.qX)(M,"auth");if(y.isInitialized())return y.getImmediate();const T=function Di(M,y){const T=(0,Ge.qX)(M,"auth");if(T.isInitialized()){const Q=T.getImmediate(),de=T.getOptions();if((0,he.vZ)(de,y??{}))return Q;ut(Q,"already-initialized")}return T.initialize({options:y})}(M,{popupRedirectResolver:Ac,persistence:[vc,wn,Er]}),R=(0,he.Pz)("authTokenSyncURL");if(R){const de=Ff(R);(function ro(M,y,T){(0,he.m9)(M).beforeAuthStateChanged(y,T)})(T,de,()=>de(T.currentUser)),function Vi(M,y,T,R){(0,he.m9)(M).onIdTokenChanged(y,T,R)}(T,Ue=>de(Ue))}const Q=(0,he.q4)("auth");return Q&&function Hi(M,y,T){const R=Rr(M);wt(R._canInitEmulator,R,"emulator-config-failed"),wt(/^https?:\/\//.test(y),R,"invalid-emulator-scheme");const Q=!!T?.disableWarnings,de=Xo(y),{host:Ue,port:dt}=function co(M){const y=Xo(M),T=/(\/\/)?([^?#/]+)/.exec(M.substr(y.length));if(!T)return{host:"",port:null};const R=T[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(R);if(Q){const de=Q[1];return{host:de,port:ea(R.substr(de.length+1))}}{const[de,Ue]=R.split(":");return{host:de,port:ea(Ue)}}}(y);R.config.emulator={url:`${de}//${Ue}${null===dt?"":`:${dt}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:Ue,port:dt,protocol:de.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function ya(){function M(){const y=document.createElement("p"),T=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",T.position="fixed",T.width="100%",T.backgroundColor="#ffffff",T.border=".1em solid #000000",T.color="#b50000",T.bottom="0px",T.left="0px",T.margin="0px",T.zIndex="10000",T.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",M):M())}()}(T,`http://${Q}`),T}!function Lf(M){(0,Ge.Xd)(new pe.wA("auth",(y,{options:T})=>{const R=y.getProvider("app").getImmediate(),Q=y.getProvider("heartbeat"),de=y.getProvider("app-check-internal"),{apiKey:Ue,authDomain:dt}=R.options;wt(Ue&&!Ue.includes(":"),"invalid-api-key",{appName:R.name});const Ft={apiKey:Ue,authDomain:dt,clientPlatform:M,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ki(M)},_n=new Br(R,Q,de,Ft);return function eo(M,y){const T=y?.persistence||[],R=(Array.isArray(T)?T:[T]).map(mn);y?.errorMap&&M._updateErrorMap(y.errorMap),M._initializeWithPersistence(R,y?.popupRedirectResolver)}(_n,T),_n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,T,R)=>{y.getProvider("auth-internal").initialize()})),(0,Ge.Xd)(new pe.wA("auth-internal",y=>{const T=Rr(y.getProvider("auth").getImmediate());return new Dc(T)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ge.KN)(vl,"1.3.2",function Sc(M){switch(M){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(M)),(0,Ge.KN)(vl,"1.3.2","esm2017")}("Browser");class Mc{constructor(y){return y}}class Js{constructor(){return(0,A.vb)("auth")}}const nl=new E.OlP("angularfire2.auth-instances");function Ra(M){return(y,T)=>{const R=y.runOutsideAngular(()=>M(T));return new Mc(R)}}const ju={provide:Js,deps:[[new E.FiY,nl]]},bl={provide:Mc,useFactory:function Md(M,y){const T=(0,A.JM)("auth",M,y);return T&&new Mc(T)},deps:[[new E.FiY,nl],ee.Ot]};let Ch=(()=>{class M{constructor(){(0,z.KN)("angularfire",A.q4.full,"auth")}static \u0275fac=function(R){return new(R||M)};static \u0275mod=E.oAB({type:M});static \u0275inj=E.cJS({providers:[bl,ju]})}return M})();function Vf(M,...y){return{ngModule:Ch,providers:[{provide:nl,useFactory:Ra(M),multi:!0,deps:[E.R0b,E.zs3,A.HU,ee.z6,[new E.FiY,A.Rf],...y]}]}}const eg=(0,A.u3)(kr,!0),Sh=(0,A.u3)(Ah,!0),kd=(0,A.u3)(Ha,!0)},5349:(yn,ht,X)=>{X.d(ht,{gg:()=>_m,ET:()=>fc,hJ:()=>kb,BS:()=>zv,oe:()=>Fb,JU:()=>$_,_1:()=>hc,ad:()=>Kv,Cm:()=>Hp,IO:()=>Kb,r7:()=>l0,ar:()=>$p});var Se,A=X(4810),E=X(4946),ee=X(721),z=X(1210),fe=X(3182),he=X(5861),Ge=X(534),St=X(4537),He=X(7879),pe=X(9058),me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$e={},at=at||{},Je=me||self;function pt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Kt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Sn="closure_uid_"+(1e9*Math.random()>>>0),dn=0;function nt(i,e,n){return i.call.apply(i.bind,arguments)}function Ct(i,e,n){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,a),i.apply(e,h)}}return function(){return i.apply(e,arguments)}}function qe(i,e,n){return(qe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nt:Ct).apply(null,arguments)}function xt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var a=n.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function ut(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(a,h,g){for(var v=Array(arguments.length-2),O=2;O<arguments.length;O++)v[O-2]=arguments[O];return e.prototype[h].apply(a,v)}}function _t(){this.s=this.s,this.o=this.o}_t.prototype.s=!1,_t.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Gt(i){Object.prototype.hasOwnProperty.call(i,Sn)&&i[Sn]||(i[Sn]=++dn)}(this)},_t.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Zn(i){const e=i.length;if(0<e){const n=Array(e);for(let a=0;a<e;a++)n[a]=i[a];return n}return[]}function wt(i,e){for(let n=1;n<arguments.length;n++){const a=arguments[n];if(pt(a)){const h=i.length||0,g=a.length||0;i.length=h+g;for(let v=0;v<g;v++)i[h+v]=a[v]}else i.push(a)}}function In(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}In.prototype.h=function(){this.defaultPrevented=!0};var Pt=function(){if(!Je.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Je.addEventListener("test",()=>{},e),Je.removeEventListener("test",()=>{},e)}catch{}return i}();function gt(i){return/^[\s\xa0]*$/.test(i)}function kt(){var i=Je.navigator;return i&&(i=i.userAgent)?i:""}function tt(i){return-1!=kt().indexOf(i)}function Re(i){return Re[" "](i),i}Re[" "]=function(){};var Bt,i,Qe=tt("Opera"),Xe=tt("Trident")||tt("MSIE"),We=tt("Edge"),ze=We||Xe,ct=tt("Gecko")&&!(-1!=kt().toLowerCase().indexOf("webkit")&&!tt("Edge"))&&!(tt("Trident")||tt("MSIE"))&&!tt("Edge"),vt=-1!=kt().toLowerCase().indexOf("webkit")&&!tt("Edge");function Ht(){var i=Je.document;return i?i.documentMode:void 0}e:{var vn="",cr=(i=kt(),ct?/rv:([^\);]+)(\)|;)/.exec(i):We?/Edge\/([\d\.]+)/.exec(i):Xe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):vt?/WebKit\/(\S+)/.exec(i):Qe?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(cr&&(vn=cr?cr[1]:""),Xe){var $n=Ht();if(null!=$n&&$n>parseFloat(vn)){Bt=String($n);break e}}Bt=vn}var yr=Je.document&&Xe&&(Ht()||parseInt(Bt,10))||void 0;function xn(i,e){if(In.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(ct){e:{try{Re(e.nodeName);var h=!0;break e}catch{}h=!1}h||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Mn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&xn.$.h.call(this)}}ut(xn,In);var Mn={2:"touch",3:"pen",4:"mouse"};xn.prototype.h=function(){xn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),Kn=0;function cn(i,e,n,a,h){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!a,this.la=h,this.key=++Kn,this.fa=this.ia=!1}function bn(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function ar(i,e,n){for(const a in i)e.call(n,i[a],a,i)}function rn(i){const e={};for(const n in i)e[n]=i[n];return e}const en="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sr(i,e){let n,a;for(let h=1;h<arguments.length;h++){for(n in a=arguments[h],a)i[n]=a[n];for(let g=0;g<en.length;g++)n=en[g],Object.prototype.hasOwnProperty.call(a,n)&&(i[n]=a[n])}}function ui(i){this.src=i,this.g={},this.h=0}function pi(i,e){var n=e.type;if(n in i.g){var g,a=i.g[n],h=fn(a,e);(g=0<=h)&&Array.prototype.splice.call(a,h,1),g&&(bn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function xr(i,e,n,a){for(var h=0;h<i.length;++h){var g=i[h];if(!g.fa&&g.listener==e&&g.capture==!!n&&g.la==a)return h}return-1}ui.prototype.add=function(i,e,n,a,h){var g=i.toString();(i=this.g[g])||(i=this.g[g]=[],this.h++);var v=xr(i,e,a,h);return-1<v?(e=i[v],n||(e.ia=!1)):((e=new cn(e,this.src,g,!!a,h)).ia=n,i.push(e)),e};var hr="closure_lm_"+(1e6*Math.random()|0),wi={};function Mr(i,e,n,a,h){if(a&&a.once)return Is(i,e,n,a,h);if(Array.isArray(e)){for(var g=0;g<e.length;g++)Mr(i,e[g],n,a,h);return null}return n=Ai(n),i&&i[zt]?i.O(e,n,Kt(a)?!!a.capture:!!a,h):rs(i,e,n,!1,a,h)}function rs(i,e,n,a,h,g){if(!e)throw Error("Invalid event type");var v=Kt(h)?!!h.capture:!!h,O=sn(i);if(O||(i[hr]=O=new ui(i)),(n=O.add(e,n,a,v,g)).proxy)return n;if(a=function Jt(){const e=Jn;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=a,a.src=i,a.listener=n,i.addEventListener)Pt||(h=v),void 0===h&&(h=!1),i.addEventListener(e.toString(),a,h);else if(i.attachEvent)i.attachEvent(Yr(e.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return n}function Is(i,e,n,a,h){if(Array.isArray(e)){for(var g=0;g<e.length;g++)Is(i,e[g],n,a,h);return null}return n=Ai(n),i&&i[zt]?i.P(e,n,Kt(a)?!!a.capture:!!a,h):rs(i,e,n,!0,a,h)}function Ki(i,e,n,a,h){if(Array.isArray(e))for(var g=0;g<e.length;g++)Ki(i,e[g],n,a,h);else a=Kt(a)?!!a.capture:!!a,n=Ai(n),i&&i[zt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=xr(g=i.g[e],n,a,h))&&(bn(g[n]),Array.prototype.splice.call(g,n,1),0==g.length&&(delete i.g[e],i.h--))):i&&(i=sn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=xr(e,n,a,h)),(n=-1<i?e[i]:null)&&Tr(n))}function Tr(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[zt])pi(e.i,i);else{var n=i.type,a=i.proxy;e.removeEventListener?e.removeEventListener(n,a,i.capture):e.detachEvent?e.detachEvent(Yr(n),a):e.addListener&&e.removeListener&&e.removeListener(a),(n=sn(e))?(pi(n,i),0==n.h&&(n.src=null,e[hr]=null)):bn(i)}}}function Yr(i){return i in wi?wi[i]:wi[i]="on"+i}function Jn(i,e){if(i.fa)i=!0;else{e=new xn(e,this);var n=i.listener,a=i.la||i.src;i.ia&&Tr(i),i=n.call(a,e)}return i}function sn(i){return(i=i[hr])instanceof ui?i:null}var Ni="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ai(i){return"function"==typeof i?i:(i[Ni]||(i[Ni]=function(e){return i.handleEvent(e)}),i[Ni])}function Vt(){_t.call(this),this.i=new ui(this),this.S=this,this.J=null}function On(i,e){var n,a=i.J;if(a)for(n=[];a;a=a.J)n.push(a);if(i=i.S,a=e.type||e,"string"==typeof e)e=new In(e,i);else if(e instanceof In)e.target=e.target||i;else{var h=e;Sr(e=new In(a,i),h)}if(h=!0,n)for(var g=n.length-1;0<=g;g--){var v=e.g=n[g];h=ii(v,a,!0,e)&&h}if(h=ii(v=e.g=i,a,!0,e)&&h,h=ii(v,a,!1,e)&&h,n)for(g=0;g<n.length;g++)h=ii(v=e.g=n[g],a,!1,e)&&h}function ii(i,e,n,a){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,g=0;g<e.length;++g){var v=e[g];if(v&&!v.fa&&v.capture==n){var O=v.listener,V=v.la||v.src;v.ia&&pi(i.i,v),h=!1!==O.call(V,a)&&h}}return h&&!a.defaultPrevented}ut(Vt,_t),Vt.prototype[zt]=!0,Vt.prototype.removeEventListener=function(i,e,n,a){Ki(this,i,e,n,a)},Vt.prototype.N=function(){if(Vt.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],a=0;a<n.length;a++)bn(n[a]);delete i.g[e],i.h--}}this.J=null},Vt.prototype.O=function(i,e,n,a){return this.i.add(String(i),e,!1,n,a)},Vt.prototype.P=function(i,e,n,a){return this.i.add(String(i),e,!0,n,a)};var gi=Je.JSON.stringify;function ie(){var i=Rn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var le=new class De{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ue,i=>i.reset());class ue{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Le(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function mt(i){Je.setTimeout(()=>{throw i},0)}let qt,mn=!1,Rn=new class ae{constructor(){this.h=this.g=null}add(e,n){const a=le.get();a.set(e,n),this.h?this.h.next=a:this.g=a,this.h=a}},nr=()=>{const i=Je.Promise.resolve(void 0);qt=()=>{i.then(Nn)}};var Nn=()=>{for(var i;i=ie();){try{i.h.call(i.g)}catch(n){mt(n)}var e=le;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}mn=!1};function rr(i,e){Vt.call(this),this.h=i||1,this.g=e||Je,this.j=qe(this.qb,this),this.l=Date.now()}function Be(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Ae(i,e,n){if("function"==typeof i)n&&(i=qe(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=qe(i.handleEvent,i)}return 2147483647<Number(e)?-1:Je.setTimeout(i,e||0)}function Pe(i){i.g=Ae(()=>{i.g=null,i.i&&(i.i=!1,Pe(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ut(rr,Vt),(Se=rr.prototype).ga=!1,Se.T=null,Se.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),On(this,"tick"),this.ga&&(Be(this),this.start()))}},Se.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Se.N=function(){rr.$.N.call(this),Be(this),delete this.g};class Te extends _t{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Pe(this)}N(){super.N(),this.g&&(Je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ee(i){_t.call(this),this.h=i,this.g={}}ut(Ee,_t);var je=[];function it(i,e,n,a){Array.isArray(n)||(n&&(je[0]=n.toString()),n=je);for(var h=0;h<n.length;h++){var g=Mr(e,n[h],a||i.handleEvent,!1,i.h||i);if(!g)break;i.g[g.key]=g}}function Zt(i){ar(i.g,function(e,n){this.g.hasOwnProperty(n)&&Tr(e)},i),i.g={}}function Tt(){this.g=!0}function Cn(i,e,n,a){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ps(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var a=n[i];if(!(2>a.length)){var h=a[1];if(Array.isArray(h)&&!(1>h.length)){var g=h[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var v=1;v<h.length;v++)h[v]=""}}}return gi(n)}catch{return e}}(i,n)+(a?" "+a:"")})}Ee.prototype.N=function(){Ee.$.N.call(this),Zt(this)},Ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tt.prototype.Ea=function(){this.g=!1},Tt.prototype.info=function(){};var ki={},Bn=null;function ur(){return Bn=Bn||new Vt}function Qr(i){In.call(this,ki.Ta,i)}function si(i){const e=ur();On(e,new Qr(e))}function Un(i,e){In.call(this,ki.STAT_EVENT,i),this.stat=e}function Br(i){const e=ur();On(e,new Un(e,i))}function Rr(i,e){In.call(this,ki.Ua,i),this.size=e}function Jr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Je.setTimeout(function(){i()},e)}ki.Ta="serverreachability",ut(Qr,In),ki.STAT_EVENT="statevent",ut(Un,In),ki.Ua="timingevent",ut(Rr,In);var Xr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zs(){}function Ts(){}zs.prototype.h=null;var Ci,yi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ao(){In.call(this,"d")}function Gs(){In.call(this,"c")}function ws(){}function _i(i,e,n,a){this.l=i,this.j=e,this.m=n,this.W=a||1,this.U=new Ee(this),this.P=Os,this.V=new rr(i=ze?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $o}function $o(){this.i=null,this.g="",this.h=!1}ut(Ao,In),ut(Gs,In),ut(ws,zs),ws.prototype.g=function(){return new XMLHttpRequest},ws.prototype.i=function(){return{}},Ci=new ws;var Os=45e3,Di={},eo={};function Hi(i,e,n){i.L=1,i.v=Pr(zi(e)),i.s=n,i.S=!0,Xo(i,null)}function Xo(i,e){i.G=Date.now(),Ns(i),i.A=zi(i.v);var n=i.A,a=i.W;Array.isArray(a)||(a=[String(a)]),be(n.i,"t",a),i.C=0,n=i.l.J,i.h=new $o,i.g=Ta(i.l,n?e:null,!i.s),0<i.O&&(i.M=new Te(qe(i.Pa,i,i.g),i.O)),it(i.U,i.g,"readystatechange",i.nb),e=i.I?rn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),si(),function An(i,e,n,a,h,g){i.info(function(){if(i.g)if(g)for(var v="",O=g.split("&"),V=0;V<O.length;V++){var G=O[V].split("=");if(1<G.length){var re=G[0];G=G[1];var _e=re.split("_");v=2<=_e.length&&"type"==_e[1]?v+(re+"=")+G+"&":v+(re+"=redacted&")}}else v=null;else v=g;return"XMLHTTP REQ ("+a+") [attempt "+h+"]: "+e+"\n"+n+"\n"+v})}(i.j,i.u,i.A,i.m,i.W,i.s)}function co(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function ea(i,e,n){let h,a=!0;for(;!i.J&&i.C<n.length;){if(h=ya(i,n),h==eo){4==e&&(i.o=4,Br(14),a=!1),Cn(i.j,i.m,null,"[Incomplete Response]");break}if(h==Di){i.o=4,Br(15),Cn(i.j,i.m,n,"[Invalid Chunk]"),a=!1;break}Cn(i.j,i.m,h,null),na(i,h)}co(i)&&h!=eo&&h!=Di&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Br(16),a=!1),i.i=i.i&&a,a?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hd(e),e.M=!0,Br(11))):(Cn(i.j,i.m,n,"[Invalid Chunked Response]"),ss(i),to(i))}function ya(i,e){var n=i.C,a=e.indexOf("\n",n);return-1==a?eo:(n=Number(e.substring(n,a)),isNaN(n)?Di:(a+=1)+n>e.length?eo:(e=e.slice(a,a+n),i.C=a+n,e))}function Ns(i){i.Y=Date.now()+i.P,ta(i,i.P)}function ta(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Jr(qe(i.lb,i),e)}function is(i){i.B&&(Je.clearTimeout(i.B),i.B=null)}function to(i){0==i.l.H||i.J||ja(i.l,i)}function ss(i){is(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Be(i.V),Zt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function na(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Qn(n.i,i)))if(!i.K&&Qn(n.i,i)&&3==n.H){try{var a=n.Ja.g.parse(e)}catch{a=null}if(Array.isArray(a)&&3==a.length){var h=a;if(0==h[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;po(n),un(n)}Zs(n),Br(18)}}else n.Fa=h[1],0<n.Fa-n.V&&37500>h[2]&&n.G&&0==n.A&&!n.v&&(n.v=Jr(qe(n.ib,n),6e3));if(1>=Ln(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else la(n,11)}else if((i.K||n.g==i)&&po(n),!gt(e))for(h=n.Ja.g.parse(e),e=0;e<h.length;e++){let G=h[e];if(n.V=G[0],G=G[1],2==n.H)if("c"==G[0]){n.K=G[1],n.pa=G[2];const re=G[3];null!=re&&(n.ra=re,n.l.info("VER="+n.ra));const _e=G[4];null!=_e&&(n.Ga=_e,n.l.info("SVER="+n.Ga));const Ne=G[5];null!=Ne&&"number"==typeof Ne&&0<Ne&&(n.L=a=1.5*Ne,n.l.info("backChannelRequestTimeoutMs_="+a)),a=n;const et=i.g;if(et){const Qt=et.g?et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qt){var g=a.i;g.g||-1==Qt.indexOf("spdy")&&-1==Qt.indexOf("quic")&&-1==Qt.indexOf("h2")||(g.j=g.l,g.g=new Set,g.h&&(Or(g,g.h),g.h=null))}if(a.F){const nn=et.g?et.g.getResponseHeader("X-HTTP-Session-Id"):null;nn&&(a.Da=nn,kn(a.I,a.F,nn))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var v=i;if((a=n).wa=qo(a,a.J?a.pa:null,a.Y),v.K){qn(a.i,v);var O=v,V=a.L;V&&O.setTimeout(V),O.B&&(is(O),Ns(O)),a.g=v}else aa(a);0<n.j.length&&ls(n)}else"stop"!=G[0]&&"close"!=G[0]||la(n,7);else 3==n.H&&("stop"==G[0]||"close"==G[0]?"stop"==G[0]?la(n,7):xe(n):"noop"!=G[0]&&n.h&&n.h.Aa(G),n.A=0)}si()}catch{}}function ho(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(pt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Gr(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(pt(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const a in i)e[n++]=a;return e}}}(i),a=function Co(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(pt(i)){for(var e=[],n=i.length,a=0;a<n;a++)e.push(i[a]);return e}for(a in e=[],n=0,i)e[n++]=i[a];return e}(i),h=a.length,g=0;g<h;g++)e.call(void 0,a[g],n&&n[g],i)}(Se=_i.prototype).setTimeout=function(i){this.P=i},Se.nb=function(i){i=i.target;const e=this.M;e&&3==Xn(i)?e.l():this.Pa(i)},Se.Pa=function(i){try{if(i==this.g)e:{const re=Xn(this.g);var e=this.g.Ia();if(this.g.da(),!(3>re)&&(3!=re||ze||this.g&&(this.h.h||this.g.ja()||Qi(this.g)))){this.J||4!=re||7==e||si(),is(this);var n=this.g.da();this.ca=n;t:if(co(this)){var a=Qi(this.g);i="";var h=a.length,g=4==Xn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ss(this),to(this);var v="";break t}this.h.i=new Je.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,i+=this.h.i.decode(a[e],{stream:g&&e==h-1});a.splice(0,h),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ja();if(this.i=200==n,function Fr(i,e,n,a,h,g,v){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+h+"]: "+e+"\n"+n+"\n"+g+" "+v})}(this.j,this.u,this.A,this.m,this.W,re,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var O,V=this.g;if((O=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gt(O)){var G=O;break t}}G=null}if(!(n=G)){this.i=!1,this.o=3,Br(12),ss(this),to(this);break e}Cn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,na(this,n)}this.S?(ea(this,re,v),ze&&this.i&&3==re&&(it(this.U,this.V,"tick",this.mb),this.V.start())):(Cn(this.j,this.m,v,null),na(this,v)),4==re&&ss(this),this.i&&!this.J&&(4==re?ja(this.l,this):(this.i=!1,Ns(this)))}else(function Ba(i){const e={};i=(i.g&&2<=Xn(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let a=0;a<i.length;a++){if(gt(i[a]))continue;var n=Le(i[a]);const h=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const g=e[h]||[];e[h]=g,g.push(n)}!function dr(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(a){return a.join(", ")})})(this.g),400==n&&0<v.indexOf("Unknown SID")?(this.o=3,Br(12)):(this.o=0,Br(13)),ss(this),to(this)}}}catch{}},Se.mb=function(){if(this.g){var i=Xn(this.g),e=this.g.ja();this.C<e.length&&(is(this),ea(this,i,e),this.i&&4!=i&&Ns(this))}},Se.cancel=function(){this.J=!0,ss(this)},Se.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function ci(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(si(),Br(17)),ss(this),this.o=2,to(this)):ta(this,this.Y-i)};var ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function os(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof os){this.h=i.h,qs(this,i.j),this.s=i.s,this.g=i.g,no(this,i.m),this.l=i.l;var e=i.i,n=new Xt;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Gn(this,n),this.o=i.o}else i&&(e=String(i).match(ks))?(this.h=!1,qs(this,e[1]||"",!0),this.s=Yi(e[2]||""),this.g=Yi(e[3]||"",!0),no(this,e[4]),this.l=Yi(e[5]||"",!0),Gn(this,e[6]||"",!0),this.o=Yi(e[7]||"")):(this.h=!1,this.i=new Xt(null,this.h))}function zi(i){return new os(i)}function qs(i,e,n){i.j=n?Yi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function no(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Gn(i,e,n){e instanceof Xt?(i.i=e,function ke(i,e){e&&!i.j&&(Dn(i),i.i=null,i.g.forEach(function(n,a){var h=a.toLowerCase();a!=h&&(W(this,a),be(this,h,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Si(e,$i)),i.i=new Xt(e,i.h))}function kn(i,e,n){i.i.set(e,n)}function Pr(i){return kn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Yi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Si(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ia),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ia(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}os.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Si(e,fo,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Si(e,fo,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Si(n,"/"==n.charAt(0)?Ls:Ws,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Si(n,ei)),i.join("")};var fo=/[#\/\?@]/g,Ws=/[#\?:]/g,Ls=/[#\?]/g,$i=/[#\?@]/g,ei=/#/g;function Xt(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Dn(i){i.g||(i.g=new Map,i.h=0,i.i&&function ra(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var a=i[n].indexOf("="),h=null;if(0<=a){var g=i[n].substring(0,a);h=i[n].substring(a+1)}else g=i[n];e(g,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function W(i,e){Dn(i),e=we(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Y(i,e){return Dn(i),e=we(i,e),i.g.has(e)}function be(i,e,n){W(i,e),0<n.length&&(i.i=null,i.g.set(we(i,e),Zn(n)),i.h+=n.length)}function we(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Ut(i){this.l=i||hn,i=Je.PerformanceNavigationTiming?0<(i=Je.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Je.g&&Je.g.Ka&&Je.g.Ka()&&Je.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Se=Xt.prototype).add=function(i,e){Dn(this),this.i=null,i=we(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Se.forEach=function(i,e){Dn(this),this.g.forEach(function(n,a){n.forEach(function(h){i.call(e,h,a,this)},this)},this)},Se.ta=function(){Dn(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let a=0;a<e.length;a++){const h=i[a];for(let g=0;g<h.length;g++)n.push(e[a])}return n},Se.Z=function(i){Dn(this);let e=[];if("string"==typeof i)Y(this,i)&&(e=e.concat(this.g.get(we(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Se.set=function(i,e){return Dn(this),this.i=null,Y(this,i=we(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Se.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Se.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var a=e[n];const g=encodeURIComponent(String(a)),v=this.Z(a);for(a=0;a<v.length;a++){var h=g;""!==v[a]&&(h+="="+encodeURIComponent(String(v[a]))),i.push(h)}}return this.i=i.join("&")};var hn=10;function It(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ln(i){return i.h?1:i.g?i.g.size:0}function Qn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Or(i,e){i.g?i.g.add(e):i.h=e}function qn(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ti(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Zn(i.i)}Ut.prototype.cancel=function(){if(this.i=ti(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Nr=class{stringify(i){return Je.JSON.stringify(i,void 0)}parse(i){return Je.JSON.parse(i,void 0)}};function vr(){this.g=new Nr}function ni(i,e,n){const a=n||"";try{ho(i,function(h,g){let v=h;Kt(h)&&(v=gi(h)),e.push(a+g+"="+encodeURIComponent(v))})}catch(h){throw e.push(a+"type="+encodeURIComponent("_badmap")),h}}function vi(i,e,n,a,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(a)}catch{}}function qr(i){this.l=i.ec||null,this.j=i.ob||!1}function di(i,e){Vt.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=as,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ut(qr,zs),qr.prototype.g=function(){return new di(this.l,this.j)},qr.prototype.i=function(i){return function(){return i}}({}),ut(di,Vt);var as=0;function zn(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function No(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ms(i)}function ms(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Se=di.prototype).open=function(i,e){if(this.readyState!=as)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ms(this)},Se.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Je).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,No(this)),this.readyState=as},Se.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ms(this)),this.g&&(this.readyState=3,ms(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Je.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zn(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Se.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?No(this):ms(this),3==this.readyState&&zn(this)}},Se.Za=function(i){this.g&&(this.response=this.responseText=i,No(this))},Se.Ya=function(i){this.g&&(this.response=i,No(this))},Se.ka=function(){this.g&&No(this)},Se.setRequestHeader=function(i,e){this.v.append(i,e)},Se.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Se.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(di.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var sa=Je.JSON.parse;function ir(i){Vt.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=oa,this.L=this.M=!1}ut(ir,Vt);var oa="",mi=/^https?$/i,va=["POST","PUT"];function al(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,xi(i),ba(i)}function xi(i){i.F||(i.F=!0,On(i,"complete"),On(i,"error"))}function Mi(i){if(i.h&&typeof at<"u"&&(!i.C[1]||4!=Xn(i)||2!=i.da()))if(i.v&&4==Xn(i))Ae(i.La,0,i);else if(On(i,"readystatechange"),4==Xn(i)){i.h=!1;try{const v=i.da();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var a;if(a=0===v){var h=String(i.I).match(ks)[1]||null;!h&&Je.self&&Je.self.location&&(h=Je.self.location.protocol.slice(0,-1)),a=!mi.test(h?h.toLowerCase():"")}n=a}if(n)On(i,"complete"),On(i,"success");else{i.m=6;try{var g=2<Xn(i)?i.g.statusText:""}catch{g=""}i.j=g+" ["+i.da()+"]",xi(i)}}finally{ba(i)}}}function ba(i,e){if(i.g){Ea(i);const n=i.g,a=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||On(i,"ready");try{n.onreadystatechange=a}catch{}}}function Ea(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Je.clearTimeout(i.A),i.A=null)}function Xn(i){return i.g?i.g.readyState:0}function Qi(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case oa:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function q(i){let e="";return ar(i,function(n,a){e+=a,e+=":",e+=n,e+="\r\n"}),e}function Z(i,e,n){e:{for(a in n){var a=!1;break e}a=!0}a||(n=q(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):kn(i,e,n))}function U(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function oe(i){this.Ga=0,this.j=[],this.l=new Tt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=U("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=U("baseRetryDelayMs",5e3,i),this.hb=U("retryDelaySeedMs",1e4,i),this.eb=U("forwardChannelMaxRetries",2,i),this.xa=U("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Ut(i&&i.concurrentRequestLimit),this.Ja=new vr,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function xe(i){if(jn(i),3==i.H){var e=i.W++,n=zi(i.I);if(kn(n,"SID",i.K),kn(n,"RID",e),kn(n,"TYPE","terminate"),Go(i,n),(e=new _i(i,i.l,e)).L=2,e.v=Pr(zi(n)),n=!1,Je.navigator&&Je.navigator.sendBeacon)try{n=Je.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Je.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ta(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ns(e)}eu(i)}function un(i){i.g&&(hd(i),i.g.cancel(),i.g=null)}function jn(i){un(i),i.u&&(Je.clearTimeout(i.u),i.u=null),po(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Je.clearTimeout(i.m),i.m=null)}function ls(i){if(!It(i.i)&&!i.m){i.m=!0;var e=i.Na;qt||nr(),mn||(qt(),mn=!0),Rn.add(e,i),i.C=0}}function Cs(i,e){var n;n=e?e.m:i.W++;const a=zi(i.I);kn(a,"SID",i.K),kn(a,"RID",n),kn(a,"AID",i.V),Go(i,a),i.o&&i.s&&Z(a,i.o,i.s),n=new _i(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Do(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Or(i.i,n),Hi(n,a,e)}function Go(i,e){i.na&&ar(i.na,function(n,a){kn(e,a,n)}),i.h&&ho({},function(n,a){kn(e,a,n)})}function Do(i,e,n){n=Math.min(i.j.length,n);var a=i.h?qe(i.h.Va,i.h,i):null;e:{var h=i.j;let g=-1;for(;;){const v=["count="+n];-1==g?0<n?(g=h[0].g,v.push("ofs="+g)):g=0:v.push("ofs="+g);let O=!0;for(let V=0;V<n;V++){let G=h[V].g;const re=h[V].map;if(G-=g,0>G)g=Math.max(0,h[V].g-100),O=!1;else try{ni(re,v,"req"+G+"_")}catch{a&&a(re)}}if(O){a=v.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,a}function aa(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;qt||nr(),mn||(qt(),mn=!0),Rn.add(e,i),i.A=0}}function Zs(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Jr(qe(i.Ma,i),Pl(i,i.A)),i.A++,0))}function hd(i){null!=i.B&&(Je.clearTimeout(i.B),i.B=null)}function Xl(i){i.g=new _i(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=zi(i.wa);kn(e,"RID","rpc"),kn(e,"SID",i.K),kn(e,"AID",i.V),kn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&kn(e,"TO",i.qa),kn(e,"TYPE","xmlhttp"),Go(i,e),i.o&&i.s&&Z(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=Pr(zi(e)),n.s=null,n.S=!0,Xo(n,i)}function po(i){null!=i.v&&(Je.clearTimeout(i.v),i.v=null)}function ja(i,e){var n=null;if(i.g==e){po(i),hd(i),i.g=null;var a=2}else{if(!Qn(i.i,e))return;n=e.F,qn(i.i,e),a=1}if(0!=i.H)if(e.i)if(1==a){n=e.s?e.s.length:0,e=Date.now()-e.G;var h=i.C;On(a=ur(),new Rr(a,n)),ls(i)}else aa(i);else if(3==(h=e.o)||0==h&&0<e.ca||!(1==a&&function Ia(i,e){return!(Ln(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Jr(qe(i.Na,i,e),Pl(i,i.C)),i.C++,0)))}(i,e)||2==a&&Zs(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),h){case 1:la(i,5);break;case 4:la(i,10);break;case 3:la(i,6);break;default:la(i,2)}}function Pl(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function la(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var a=qe(i.pb,i);n||(n=new os("//www.google.com/images/cleardot.gif"),Je.location&&"http"==Je.location.protocol||qs(n,"https"),Pr(n)),function As(i,e){const n=new Tt;if(Je.Image){const a=new Image;a.onload=xt(vi,n,a,"TestLoadImage: loaded",!0,e),a.onerror=xt(vi,n,a,"TestLoadImage: error",!1,e),a.onabort=xt(vi,n,a,"TestLoadImage: abort",!1,e),a.ontimeout=xt(vi,n,a,"TestLoadImage: timeout",!1,e),Je.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else e(!1)}(n.toString(),a)}else Br(2);i.H=0,i.h&&i.h.za(e),eu(i),jn(i)}function eu(i){if(i.H=0,i.ma=[],i.h){const e=ti(i.i);(0!=e.length||0!=i.j.length)&&(wt(i.ma,e),wt(i.ma,i.j),i.i.i.length=0,Zn(i.j),i.j.length=0),i.h.ya()}}function qo(i,e,n){var a=n instanceof os?zi(n):new os(n);if(""!=a.g)e&&(a.g=e+"."+a.g),no(a,a.m);else{var h=Je.location;a=h.protocol,e=e?e+"."+h.hostname:h.hostname,h=+h.port;var g=new os(null);a&&qs(g,a),e&&(g.g=e),h&&no(g,h),n&&(g.l=n),a=g}return e=i.Da,(n=i.F)&&e&&kn(a,n,e),kn(a,"VER",i.ra),Go(i,a),a}function Ta(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ir(n&&i.Ha&&!i.va?new qr({ob:!0}):i.va)).Oa(i.J),e}function go(){}function Mu(){if(Xe&&!(10<=Number(yr)))throw Error("Environmental error: no available transport.")}function _s(i,e){Vt.call(this),this.g=new oe(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!gt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new us(this)}function ys(i){Ao.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function mo(){Gs.call(this),this.status=1}function us(i){this.g=i}function So(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ll(i,e,n){n||(n=0);var a=Array(16);if("string"==typeof e)for(var h=0;16>h;++h)a[h]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(h=0;16>h;++h)a[h]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var g=i.g[3],v=(e=i.g[0])+(g^(n=i.g[1])&((h=i.g[2])^g))+a[0]+3614090360&4294967295;v=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=(n=(h=(g=(e=n+(v<<7&4294967295|v>>>25))+((v=g+(h^e&(n^h))+a[1]+3905402710&4294967295)<<12&4294967295|v>>>20))+((v=h+(n^g&(e^n))+a[2]+606105819&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^h&(g^e))+a[3]+3250441966&4294967295)<<22&4294967295|v>>>10))+((v=e+(g^n&(h^g))+a[4]+4118548399&4294967295)<<7&4294967295|v>>>25))+((v=g+(h^e&(n^h))+a[5]+1200080426&4294967295)<<12&4294967295|v>>>20))+((v=h+(n^g&(e^n))+a[6]+2821735955&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^h&(g^e))+a[7]+4249261313&4294967295)<<22&4294967295|v>>>10))+((v=e+(g^n&(h^g))+a[8]+1770035416&4294967295)<<7&4294967295|v>>>25))+((v=g+(h^e&(n^h))+a[9]+2336552879&4294967295)<<12&4294967295|v>>>20))+((v=h+(n^g&(e^n))+a[10]+4294925233&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^h&(g^e))+a[11]+2304563134&4294967295)<<22&4294967295|v>>>10))+((v=e+(g^n&(h^g))+a[12]+1804603682&4294967295)<<7&4294967295|v>>>25))+((v=g+(h^e&(n^h))+a[13]+4254626195&4294967295)<<12&4294967295|v>>>20))+((v=h+(n^g&(e^n))+a[14]+2792965006&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^h&(g^e))+a[15]+1236535329&4294967295)<<22&4294967295|v>>>10))+((v=e+(h^g&(n^h))+a[1]+4129170786&4294967295)<<5&4294967295|v>>>27))+((v=g+(n^h&(e^n))+a[6]+3225465664&4294967295)<<9&4294967295|v>>>23))+((v=h+(e^n&(g^e))+a[11]+643717713&4294967295)<<14&4294967295|v>>>18))+((v=n+(g^e&(h^g))+a[0]+3921069994&4294967295)<<20&4294967295|v>>>12))+((v=e+(h^g&(n^h))+a[5]+3593408605&4294967295)<<5&4294967295|v>>>27))+((v=g+(n^h&(e^n))+a[10]+38016083&4294967295)<<9&4294967295|v>>>23))+((v=h+(e^n&(g^e))+a[15]+3634488961&4294967295)<<14&4294967295|v>>>18))+((v=n+(g^e&(h^g))+a[4]+3889429448&4294967295)<<20&4294967295|v>>>12))+((v=e+(h^g&(n^h))+a[9]+568446438&4294967295)<<5&4294967295|v>>>27))+((v=g+(n^h&(e^n))+a[14]+3275163606&4294967295)<<9&4294967295|v>>>23))+((v=h+(e^n&(g^e))+a[3]+4107603335&4294967295)<<14&4294967295|v>>>18))+((v=n+(g^e&(h^g))+a[8]+1163531501&4294967295)<<20&4294967295|v>>>12))+((v=e+(h^g&(n^h))+a[13]+2850285829&4294967295)<<5&4294967295|v>>>27))+((v=g+(n^h&(e^n))+a[2]+4243563512&4294967295)<<9&4294967295|v>>>23))+((v=h+(e^n&(g^e))+a[7]+1735328473&4294967295)<<14&4294967295|v>>>18))+((v=n+(g^e&(h^g))+a[12]+2368359562&4294967295)<<20&4294967295|v>>>12))+((v=e+(n^h^g)+a[5]+4294588738&4294967295)<<4&4294967295|v>>>28))+((v=g+(e^n^h)+a[8]+2272392833&4294967295)<<11&4294967295|v>>>21))+((v=h+(g^e^n)+a[11]+1839030562&4294967295)<<16&4294967295|v>>>16))+((v=n+(h^g^e)+a[14]+4259657740&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^h^g)+a[1]+2763975236&4294967295)<<4&4294967295|v>>>28))+((v=g+(e^n^h)+a[4]+1272893353&4294967295)<<11&4294967295|v>>>21))+((v=h+(g^e^n)+a[7]+4139469664&4294967295)<<16&4294967295|v>>>16))+((v=n+(h^g^e)+a[10]+3200236656&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^h^g)+a[13]+681279174&4294967295)<<4&4294967295|v>>>28))+((v=g+(e^n^h)+a[0]+3936430074&4294967295)<<11&4294967295|v>>>21))+((v=h+(g^e^n)+a[3]+3572445317&4294967295)<<16&4294967295|v>>>16))+((v=n+(h^g^e)+a[6]+76029189&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^h^g)+a[9]+3654602809&4294967295)<<4&4294967295|v>>>28))+((v=g+(e^n^h)+a[12]+3873151461&4294967295)<<11&4294967295|v>>>21))+((v=h+(g^e^n)+a[15]+530742520&4294967295)<<16&4294967295|v>>>16))+((v=n+(h^g^e)+a[2]+3299628645&4294967295)<<23&4294967295|v>>>9))+((v=e+(h^(n|~g))+a[0]+4096336452&4294967295)<<6&4294967295|v>>>26))+((v=g+(n^(e|~h))+a[7]+1126891415&4294967295)<<10&4294967295|v>>>22))+((v=h+(e^(g|~n))+a[14]+2878612391&4294967295)<<15&4294967295|v>>>17))+((v=n+(g^(h|~e))+a[5]+4237533241&4294967295)<<21&4294967295|v>>>11))+((v=e+(h^(n|~g))+a[12]+1700485571&4294967295)<<6&4294967295|v>>>26))+((v=g+(n^(e|~h))+a[3]+2399980690&4294967295)<<10&4294967295|v>>>22))+((v=h+(e^(g|~n))+a[10]+4293915773&4294967295)<<15&4294967295|v>>>17))+((v=n+(g^(h|~e))+a[1]+2240044497&4294967295)<<21&4294967295|v>>>11))+((v=e+(h^(n|~g))+a[8]+1873313359&4294967295)<<6&4294967295|v>>>26))+((v=g+(n^(e|~h))+a[15]+4264355552&4294967295)<<10&4294967295|v>>>22))+((v=h+(e^(g|~n))+a[6]+2734768916&4294967295)<<15&4294967295|v>>>17))+((v=n+(g^(h|~e))+a[13]+1309151649&4294967295)<<21&4294967295|v>>>11))+((g=(e=n+((v=e+(h^(n|~g))+a[4]+4149444226&4294967295)<<6&4294967295|v>>>26))+((v=g+(n^(e|~h))+a[11]+3174756917&4294967295)<<10&4294967295|v>>>22))^((h=g+((v=h+(e^(g|~n))+a[2]+718787259&4294967295)<<15&4294967295|v>>>17))|~e))+a[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(h+(v<<21&4294967295|v>>>11))&4294967295,i.g[2]=i.g[2]+h&4294967295,i.g[3]=i.g[3]+g&4294967295}function kr(i,e){this.h=e;for(var n=[],a=!0,h=i.length-1;0<=h;h--){var g=0|i[h];a&&g==e||(n[h]=g,a=!1)}this.g=n}(Se=ir.prototype).Oa=function(i){this.M=i},Se.ha=function(i,e,n,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ci.g(),this.C=function $s(i){return i.h||(i.h=i.i())}(this.u?this.u:Ci),this.g.onreadystatechange=qe(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(g){return void al(this,g)}if(i=n||"",n=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var h in a)n.set(h,a[h]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const g of a.keys())n.set(g,a.get(g))}a=Array.from(n.keys()).find(g=>"content-type"==g.toLowerCase()),h=Je.FormData&&i instanceof Je.FormData,!(0<=fn(va,e))||a||h||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[g,v]of n)this.g.setRequestHeader(g,v);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ea(this),0<this.B&&((this.L=function Li(i){return Xe&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qe(this.ua,this)):this.A=Ae(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(g){al(this,g)}},Se.ua=function(){typeof at<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,On(this,"timeout"),this.abort(8))},Se.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,On(this,"complete"),On(this,"abort"),ba(this))},Se.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ba(this,!0)),ir.$.N.call(this)},Se.La=function(){this.s||(this.G||this.v||this.l?Mi(this):this.kb())},Se.kb=function(){Mi(this)},Se.isActive=function(){return!!this.g},Se.da=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},Se.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Se.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),sa(e)}},Se.Ia=function(){return this.m},Se.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Se=oe.prototype).ra=8,Se.H=1,Se.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const h=new _i(this,this.l,i);let g=this.s;if(this.U&&(g?(g=rn(g),Sr(g,this.U)):g=this.U),null!==this.o||this.O||(h.I=g,g=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var a=this.j[n];if(void 0===(a="__data__"in a.map&&"string"==typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Do(this,h,e),kn(n=zi(this.I),"RID",i),kn(n,"CVER",22),this.F&&kn(n,"X-HTTP-Session-Id",this.F),Go(this,n),g&&(this.O?e="headers="+encodeURIComponent(String(q(g)))+"&"+e:this.o&&Z(n,this.o,g)),Or(this.i,h),this.bb&&kn(n,"TYPE","init"),this.P?(kn(n,"$req",e),kn(n,"SID","null"),h.aa=!0,Hi(h,n,null)):Hi(h,n,e),this.H=2}}else 3==this.H&&(i?Cs(this,i):0==this.j.length||It(this.i)||Cs(this))},Se.Ma=function(){if(this.u=null,Xl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Jr(qe(this.jb,this),i)}},Se.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Br(10),un(this),Xl(this))},Se.ib=function(){null!=this.v&&(this.v=null,un(this),Zs(this),Br(19))},Se.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Br(2)):(this.l.info("Failed to ping google.com"),Br(1))},Se.isActive=function(){return!!this.h&&this.h.isActive(this)},(Se=go.prototype).Ba=function(){},Se.Aa=function(){},Se.za=function(){},Se.ya=function(){},Se.isActive=function(){return!0},Se.Va=function(){},Mu.prototype.g=function(i,e){return new _s(i,e)},ut(_s,Vt),_s.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Br(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=qo(i,null,i.Y),ls(i)},_s.prototype.close=function(){xe(this.g)},_s.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=gi(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&ls(e)},_s.prototype.N=function(){this.g.h=null,delete this.j,xe(this.g),delete this.g,_s.$.N.call(this)},ut(ys,Ao),ut(mo,Gs),ut(us,go),us.prototype.Ba=function(){On(this.g,"a")},us.prototype.Aa=function(i){On(this.g,new ys(i))},us.prototype.za=function(i){On(this.g,new mo)},us.prototype.ya=function(){On(this.g,"b")},ut(So,function tu(){this.blockSize=-1}),So.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},So.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,a=this.m,h=this.h,g=0;g<e;){if(0==h)for(;g<=n;)ll(this,i,g),g+=this.blockSize;if("string"==typeof i){for(;g<e;)if(a[h++]=i.charCodeAt(g++),h==this.blockSize){ll(this,a),h=0;break}}else for(;g<e;)if(a[h++]=i[g++],h==this.blockSize){ll(this,a),h=0;break}}this.h=h,this.i+=e},So.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var a=0;32>a;a+=8)i[n++]=this.g[e]>>>a&255;return i};var ul={};function Ha(i){return-128<=i&&128>i?function Ve(i,e){var n=ul;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new kr([0|e],0>e?-1:0)}):new kr([0|i],0>i?-1:0)}function xo(i){if(isNaN(i)||!isFinite(i))return za;if(0>i)return Ji(xo(-i));for(var e=[],n=1,a=0;i>=n;a++)e[a]=i/n|0,n*=ko;return new kr(e,0)}var ko=4294967296,za=Ha(0),dl=Ha(1),wa=Ha(16777216);function Fs(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Vs(i){return-1==i.h}function Ji(i){for(var e=i.g.length,n=[],a=0;a<e;a++)n[a]=~i.g[a];return new kr(n,~i.h).add(dl)}function $a(i,e){return i.add(Ji(e))}function Ol(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function P(i,e){this.g=i,this.h=e}function te(i,e){if(Fs(e))throw Error("division by zero");if(Fs(i))return new P(za,za);if(Vs(i))return e=te(Ji(i),e),new P(Ji(e.g),Ji(e.h));if(Vs(e))return e=te(i,Ji(e)),new P(Ji(e.g),e.h);if(30<i.g.length){if(Vs(i)||Vs(e))throw Error("slowDivide_ only works with positive integers.");for(var n=dl,a=e;0>=a.X(i);)n=B(n),a=B(a);var h=K(n,1),g=K(a,1);for(a=K(a,2),n=K(n,2);!Fs(a);){var v=g.add(a);0>=v.X(i)&&(h=h.add(n),g=v),a=K(a,1),n=K(n,1)}return e=$a(i,h.R(e)),new P(h,e)}for(h=za;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),a=48>=(a=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,a-48),v=(g=xo(n)).R(e);Vs(v)||0<v.X(i);)v=(g=xo(n-=a)).R(e);Fs(g)&&(g=dl),h=h.add(g),i=$a(i,v)}return new P(h,i)}function B(i){for(var e=i.g.length+1,n=[],a=0;a<e;a++)n[a]=i.D(a)<<1|i.D(a-1)>>>31;return new kr(n,i.h)}function K(i,e){var n=e>>5;e%=32;for(var a=i.g.length-n,h=[],g=0;g<a;g++)h[g]=0<e?i.D(g+n)>>>e|i.D(g+n+1)<<32-e:i.D(g+n);return new kr(h,i.h)}(Se=kr.prototype).ea=function(){if(Vs(this))return-Ji(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var a=this.D(n);i+=(0<=a?a:ko+a)*e,e*=ko}return i},Se.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Fs(this))return"0";if(Vs(this))return"-"+Ji(this).toString(i);for(var e=xo(Math.pow(i,6)),n=this,a="";;){var h=te(n,e).g,g=((0<(n=$a(n,h.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(Fs(n=h))return g+a;for(;6>g.length;)g="0"+g;a=g+a}},Se.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Se.X=function(i){return Vs(i=$a(this,i))?-1:Fs(i)?0:1},Se.abs=function(){return Vs(this)?Ji(this):this},Se.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],a=0,h=0;h<=e;h++){var g=a+(65535&this.D(h))+(65535&i.D(h)),v=(g>>>16)+(this.D(h)>>>16)+(i.D(h)>>>16);a=v>>>16,n[h]=(v&=65535)<<16|(g&=65535)}return new kr(n,-2147483648&n[n.length-1]?-1:0)},Se.R=function(i){if(Fs(this)||Fs(i))return za;if(Vs(this))return Vs(i)?Ji(this).R(Ji(i)):Ji(Ji(this).R(i));if(Vs(i))return Ji(this.R(Ji(i)));if(0>this.X(wa)&&0>i.X(wa))return xo(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],a=0;a<2*e;a++)n[a]=0;for(a=0;a<this.g.length;a++)for(var h=0;h<i.g.length;h++){var g=this.D(a)>>>16,v=65535&this.D(a),O=i.D(h)>>>16,V=65535&i.D(h);n[2*a+2*h]+=v*V,Ol(n,2*a+2*h),n[2*a+2*h+1]+=g*V,Ol(n,2*a+2*h+1),n[2*a+2*h+1]+=v*O,Ol(n,2*a+2*h+1),n[2*a+2*h+2]+=g*O,Ol(n,2*a+2*h+2)}for(a=0;a<e;a++)n[a]=n[2*a+1]<<16|n[2*a];for(a=e;a<2*e;a++)n[a]=0;return new kr(n,0)},Se.gb=function(i){return te(this,i).h},Se.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],a=0;a<e;a++)n[a]=this.D(a)&i.D(a);return new kr(n,this.h&i.h)},Se.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],a=0;a<e;a++)n[a]=this.D(a)|i.D(a);return new kr(n,this.h|i.h)},Se.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],a=0;a<e;a++)n[a]=this.D(a)^i.D(a);return new kr(n,this.h^i.h)},Mu.prototype.createWebChannel=Mu.prototype.g,_s.prototype.send=_s.prototype.u,_s.prototype.open=_s.prototype.m,_s.prototype.close=_s.prototype.close,Xr.NO_ERROR=0,Xr.TIMEOUT=8,Xr.HTTP_ERROR=6,gs.COMPLETE="complete",Ts.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",Vt.prototype.listen=Vt.prototype.O,ir.prototype.listenOnce=ir.prototype.P,ir.prototype.getLastError=ir.prototype.Sa,ir.prototype.getLastErrorCode=ir.prototype.Ia,ir.prototype.getStatus=ir.prototype.da,ir.prototype.getResponseJson=ir.prototype.Wa,ir.prototype.getResponseText=ir.prototype.ja,ir.prototype.send=ir.prototype.ha,ir.prototype.setWithCredentials=ir.prototype.Oa,So.prototype.digest=So.prototype.l,So.prototype.reset=So.prototype.reset,So.prototype.update=So.prototype.j,kr.prototype.add=kr.prototype.add,kr.prototype.multiply=kr.prototype.R,kr.prototype.modulo=kr.prototype.gb,kr.prototype.compare=kr.prototype.X,kr.prototype.toNumber=kr.prototype.ea,kr.prototype.toString=kr.prototype.toString,kr.prototype.getBits=kr.prototype.D,kr.fromNumber=xo,kr.fromString=function cl(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Ji(cl(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=xo(Math.pow(e,8)),a=za,h=0;h<i.length;h+=8){var g=Math.min(8,i.length-h),v=parseInt(i.substring(h,h+g),e);8>g?(g=xo(Math.pow(e,g)),a=a.R(g).add(xo(v))):a=(a=a.R(n)).add(xo(v))}return a};var Ie=$e.createWebChannelTransport=function(){return new Mu},ot=$e.getStatEventTarget=function(){return ur()},Dt=$e.ErrorCode=Xr,Tn=$e.EventType=gs,ri=$e.Event=ki,jr=$e.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vr=$e.FetchXmlHttpFactory=qr,er=$e.WebChannel=Ts,bi=$e.XhrIo=ir,wr=$e.Md5=So,oi=$e.Integer=kr;const Lo="@firebase/firestore";class hi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hi.UNAUTHENTICATED=new hi(null),hi.GOOGLE_CREDENTIALS=new hi("google-credentials-uid"),hi.FIRST_PARTY=new hi("first-party-uid"),hi.MOCK_USER=new hi("mock-user");let cs="10.5.2";const Fi=new He.Yd("@firebase/firestore");function _o(){return Fi.logLevel}function Mt(i,...e){if(Fi.logLevel<=He.in.DEBUG){const n=e.map(_c);Fi.debug(`Firestore (${cs}): ${i}`,...n)}}function Vi(i,...e){if(Fi.logLevel<=He.in.ERROR){const n=e.map(_c);Fi.error(`Firestore (${cs}): ${i}`,...n)}}function ro(i,...e){if(Fi.logLevel<=He.in.WARN){const n=e.map(_c);Fi.warn(`Firestore (${cs}): ${i}`,...n)}}function _c(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function gn(i="Unexpected state"){const e=`FIRESTORE (${cs}) INTERNAL ASSERTION FAILED: `+i;throw Vi(e),new Error(e)}function Pn(i,e){i||gn()}function tn(i,e){return i}const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ot extends pe.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class fd{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hi.UNAUTHENTICATED))}shutdown(){}}class br{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gd{constructor(e){this.t=e,this.currentUser=hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var a=this;let h=this.i;const g=G=>this.i!==h?(h=this.i,n(G)):Promise.resolve();let v=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new Wr,e.enqueueRetryable(()=>g(this.currentUser))};const O=()=>{const G=v;e.enqueueRetryable((0,he.Z)(function*(){yield G.promise,yield g(a.currentUser)}))},V=G=>{Mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=G,this.auth.addAuthTokenListener(this.o),O()};this.t.onInit(G=>V(G)),setTimeout(()=>{if(!this.auth){const G=this.t.getImmediate({optional:!0});G?V(G):(Mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new Wr)}},0),O()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(Mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Pn("string"==typeof a.accessToken),new fd(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pn(null===e||"string"==typeof e),new hi(e)}}class fl{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=hi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Us{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new fl(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yc{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const a=g=>{null!=g.error&&Mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const v=g.token!==this.R;return this.R=g.token,Mt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?n(g.token):Promise.resolve()};this.o=g=>{e.enqueueRetryable(()=>a(g))};const h=g=>{Mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.A.onInit(g=>h(g)),setTimeout(()=>{if(!this.appCheck){const g=this.A.getImmediate({optional:!0});g?h(g):Mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pn("string"==typeof n.token),this.R=n.token,new Nl(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function yo(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}class md{static newId(){const n=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=yo(40);for(let g=0;g<h.length;++g)a.length<20&&h[g]<n&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[g]%62))}return a}}function Wn(i,e){return i<e?-1:i>e?1:0}function ua(i,e,n){return i.length===e.length&&i.every((a,h)=>n(a,e[h]))}class Gi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ot(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ot(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ot(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ot(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gi.fromMillis(Date.now())}static fromDate(e){return Gi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*n));return new Gi(n,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wn(this.nanoseconds,e.nanoseconds):Wn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wn(e)}static min(){return new wn(new Gi(0,0))}static max(){return new wn(new Gi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Mo{constructor(e,n,a){void 0===n?n=0:n>e.length&&gn(),void 0===a?a=e.length-n:a>e.length-n&&gn(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return 0===Mo.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mo?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let h=0;h<a;h++){const g=e.get(h),v=n.get(h);if(g<v)return-1;if(g>v)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Er extends Mo{construct(e,n,a){return new Er(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ot(lt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(h=>h.length>0))}return new Er(n)}static emptyPath(){return new Er([])}}const gh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ui extends Mo{construct(e,n,a){return new Ui(e,n,a)}static isValidIdentifier(e){return gh.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ui.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ui(["__name__"])}static fromServerFormat(e){const n=[];let a="",h=0;const g=()=>{if(0===a.length)throw new Ot(lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let v=!1;for(;h<e.length;){const O=e[h];if("\\"===O){if(h+1===e.length)throw new Ot(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[h+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new Ot(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=V,h+=2}else"`"===O?(v=!v,h++):"."!==O||v?(a+=O,h++):(g(),h++)}if(g(),v)throw new Ot(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ui(n)}static emptyPath(){return new Ui([])}}class Et{constructor(e){this.path=e}static fromPath(e){return new Et(Er.fromString(e))}static fromName(e){return new Et(Er.fromString(e).popFirst(5))}static empty(){return new Et(Er.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Er.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Er.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Et(new Er(e.slice()))}}function yd(i){return new Vo(i.readTime,i.key,-1)}class Vo{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Vo(wn.min(),Et.empty(),-1)}static max(){return new Vo(wn.max(),Et.empty(),-1)}}function kl(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Et.comparator(i.documentKey,e.documentKey),0!==n?n:Wn(i.largestBatchId,e.largestBatchId))}const Pu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function or(i){return Ou.apply(this,arguments)}function Ou(){return Ou=(0,he.Z)(function*(i){if(i.code!==lt.FAILED_PRECONDITION||i.message!==Pu)throw i;Mt("LocalStore","Unexpectedly lost primary lease")}),Ou.apply(this,arguments)}class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&gn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ke((a,h)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(a,h)},this.catchCallback=g=>{this.wrapFailure(n,g).next(a,h)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ke?n:Ke.resolve(n)}catch(n){return Ke.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ke.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ke.reject(n)}static resolve(e){return new Ke((n,a)=>{n(e)})}static reject(e){return new Ke((n,a)=>{a(e)})}static waitFor(e){return new Ke((n,a)=>{let h=0,g=0,v=!1;e.forEach(O=>{++h,O.next(()=>{++g,v&&g===h&&n()},V=>a(V))}),v=!0,g===h&&n()})}static or(e){let n=Ke.resolve(!1);for(const a of e)n=n.next(h=>h?Ke.resolve(h):a());return n}static forEach(e,n){const a=[];return e.forEach((h,g)=>{a.push(n.call(this,h,g))}),this.waitFor(a)}static mapArray(e,n){return new Ke((a,h)=>{const g=e.length,v=new Array(g);let O=0;for(let V=0;V<g;V++){const G=V;n(e[G]).next(re=>{v[G]=re,++O,O===g&&a(v)},re=>h(re))}})}static doWhile(e,n){return new Ke((a,h)=>{const g=()=>{!0===e()?n().next(()=>{g()},h):a()};g()})}}function Wo(i){return"IndexedDbTransactionError"===i.name}let Ro=(()=>{class i{constructor(n,a){this.previousValue=n,a&&(a.sequenceNumberHandler=h=>this.se(h),this.oe=h=>a.writeSequenceNumber(h))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function Ca(i){return null==i}function oo(i){return 0===i&&1/i==-1/0}function bc(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ko(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Da(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class fi{constructor(e,n){this.comparator=e,this.root=n||Ds.EMPTY}insert(e,n){return new fi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ds.BLACK,null,null))}remove(e){return new fi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ds.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(0===a)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return n+a.left.size;h<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,n,a,h){this.isReverse=h,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=n?a(e.key,n):1,n&&h&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ds{constructor(e,n,a,h,g){this.key=e,this.value=n,this.color=a??Ds.RED,this.left=h??Ds.EMPTY,this.right=g??Ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,h,g){return new Ds(e??this.key,n??this.value,a??this.color,h??this.left,g??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let h=this;const g=a(e,h.key);return h=g<0?h.copy(null,null,null,h.left.insert(e,n,a),null):0===g?h.copy(null,n,null,null,null):h.copy(null,null,null,null,h.right.insert(e,n,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Ds.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,h=this;if(n(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,n),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===n(e,h.key)){if(h.right.isEmpty())return Ds.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,n))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gn();const e=this.left.check();if(e!==this.right.check())throw gn();return e+(this.isRed()?0:1)}}Ds.EMPTY=null,Ds.RED=!0,Ds.BLACK=!1,Ds.EMPTY=new class{constructor(){this.size=0}get key(){throw gn()}get value(){throw gn()}get color(){throw gn()}get left(){throw gn()}get right(){throw gn()}copy(e,n,a,h,g){return this}insert(e,n,a){return new Ds(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ei{constructor(e){this.comparator=e,this.data=new fi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;n(h.key)}}forEachWhile(e,n){let a;for(a=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ml(this.data.getIterator())}getIteratorFrom(e){return new ml(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Ei)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const h=n.getNext().key,g=a.getNext().key;if(0!==this.comparator(h,g))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ei(this.comparator);return n.data=e,n}}class ml{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vo{constructor(e){this.fields=e,e.sort(Ui.comparator)}static empty(){return new vo([])}unionWith(e){let n=new Ei(Ui.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new vo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ua(this.fields,e.fields,(n,a)=>n.isEqual(a))}}class yh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(h){try{return atob(h)}catch(g){throw typeof DOMException<"u"&&g instanceof DOMException?new yh("Invalid base64 string: "+g):g}}(e);return new fs(n)}static fromUint8Array(e){const n=function(h){let g="";for(let v=0;v<h.length;++v)g+=String.fromCharCode(h[v]);return g}(e);return new fs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let h=0;h<n.length;h++)a[h]=n.charCodeAt(h);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fs.EMPTY_BYTE_STRING=new fs("");const qp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ya(i){if(Pn(!!i),"string"==typeof i){let e=0;const n=qp.exec(i);if(Pn(!!n),n[1]){let h=n[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Xi(i.seconds),nanos:Xi(i.nanos)}}function Xi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Qa(i){return"string"==typeof i?fs.fromBase64String(i):fs.fromUint8Array(i)}function _l(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function su(i){const e=i.mapValue.fields.__previous_value__;return _l(e)?su(e):e}function ou(i){const e=Ya(i.mapValue.fields.__local_write_time__.timestampValue);return new Gi(e.seconds,e.nanos)}class au{constructor(e,n,a,h,g,v,O,V,G){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=h,this.ssl=g,this.forceLongPolling=v,this.autoDetectLongPolling=O,this.longPollingOptions=V,this.useFetchStreams=G}}class Ja{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ja("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ja&&e.projectId===this.projectId&&e.database===this.database}}const Xa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?_l(i)?4:vh(i)?9007199254740991:10:gn()}function el(i,e){if(i===e)return!0;const n=fa(i);if(n!==fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ou(i).isEqual(ou(e));case 3:return function(h,g){if("string"==typeof h.timestampValue&&"string"==typeof g.timestampValue&&h.timestampValue.length===g.timestampValue.length)return h.timestampValue===g.timestampValue;const v=Ya(h.timestampValue),O=Ya(g.timestampValue);return v.seconds===O.seconds&&v.nanos===O.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return g=e,Qa(i.bytesValue).isEqual(Qa(g.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(h,g){return Xi(h.geoPointValue.latitude)===Xi(g.geoPointValue.latitude)&&Xi(h.geoPointValue.longitude)===Xi(g.geoPointValue.longitude)}(i,e);case 2:return function(h,g){if("integerValue"in h&&"integerValue"in g)return Xi(h.integerValue)===Xi(g.integerValue);if("doubleValue"in h&&"doubleValue"in g){const v=Xi(h.doubleValue),O=Xi(g.doubleValue);return v===O?oo(v)===oo(O):isNaN(v)&&isNaN(O)}return!1}(i,e);case 9:return ua(i.arrayValue.values||[],e.arrayValue.values||[],el);case 10:return function(h,g){const v=h.mapValue.fields||{},O=g.mapValue.fields||{};if(bc(v)!==bc(O))return!1;for(const V in v)if(v.hasOwnProperty(V)&&(void 0===O[V]||!el(v[V],O[V])))return!1;return!0}(i,e);default:return gn()}var g}function ku(i,e){return void 0!==(i.values||[]).find(n=>el(n,e))}function Ss(i,e){if(i===e)return 0;const n=fa(i),a=fa(e);if(n!==a)return Wn(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Wn(i.booleanValue,e.booleanValue);case 2:return function(g,v){const O=Xi(g.integerValue||g.doubleValue),V=Xi(v.integerValue||v.doubleValue);return O<V?-1:O>V?1:O===V?0:isNaN(O)?isNaN(V)?0:-1:1}(i,e);case 3:return Td(i.timestampValue,e.timestampValue);case 4:return Td(ou(i),ou(e));case 5:return Wn(i.stringValue,e.stringValue);case 6:return function(g,v){const O=Qa(g),V=Qa(v);return O.compareTo(V)}(i.bytesValue,e.bytesValue);case 7:return function(g,v){const O=g.split("/"),V=v.split("/");for(let G=0;G<O.length&&G<V.length;G++){const re=Wn(O[G],V[G]);if(0!==re)return re}return Wn(O.length,V.length)}(i.referenceValue,e.referenceValue);case 8:return function(g,v){const O=Wn(Xi(g.latitude),Xi(v.latitude));return 0!==O?O:Wn(Xi(g.longitude),Xi(v.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(g,v){const O=g.values||[],V=v.values||[];for(let G=0;G<O.length&&G<V.length;++G){const re=Ss(O[G],V[G]);if(re)return re}return Wn(O.length,V.length)}(i.arrayValue,e.arrayValue);case 10:return function(g,v){if(g===Xa.mapValue&&v===Xa.mapValue)return 0;if(g===Xa.mapValue)return 1;if(v===Xa.mapValue)return-1;const O=g.fields||{},V=Object.keys(O),G=v.fields||{},re=Object.keys(G);V.sort(),re.sort();for(let _e=0;_e<V.length&&_e<re.length;++_e){const Ne=Wn(V[_e],re[_e]);if(0!==Ne)return Ne;const et=Ss(O[V[_e]],G[re[_e]]);if(0!==et)return et}return Wn(V.length,re.length)}(i.mapValue,e.mapValue);default:throw gn()}}function Td(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Wn(i,e);const n=Ya(i),a=Ya(e),h=Wn(n.seconds,a.seconds);return 0!==h?h:Wn(n.nanos,a.nanos)}function Yo(i){return lu(i)}function lu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=Ya(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Qa(i.bytesValue).toBase64():"referenceValue"in i?Et.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",h=!0;for(const g of n.values||[])h?h=!1:a+=",",a+=lu(g);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let h="{",g=!0;for(const v of a)g?g=!1:h+=",",h+=`${v}:${lu(n.fields[v])}`;return h+"}"}(i.mapValue):gn()}function pa(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Lu(i){return!!i&&"integerValue"in i}function uu(i){return!!i&&"arrayValue"in i}function wd(i){return!!i&&"nullValue"in i}function Fu(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Vu(i){return!!i&&"mapValue"in i}function cu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ko(i.mapValue.fields,(n,a)=>e.mapValue.fields[n]=cu(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(i.arrayValue.values[n]);return e}return Object.assign({},i)}function vh(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Qs{constructor(e){this.value=e}static empty(){return new Qs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Vu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=Ui.emptyPath(),a={},h=[];e.forEach((v,O)=>{if(!n.isImmediateParentOf(O)){const V=this.getFieldsMap(n);this.applyChanges(V,a,h),a={},h=[],n=O.popLast()}v?a[O.lastSegment()]=cu(v):h.push(O.lastSegment())});const g=this.getFieldsMap(n);this.applyChanges(g,a,h)}delete(e){const n=this.field(e.popLast());Vu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return el(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=n.mapValue.fields[e.get(a)];Vu(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=h),n=h}return n.mapValue.fields}applyChanges(e,n,a){Ko(n,(h,g)=>e[h]=g);for(const h of a)delete e[h]}clone(){return new Qs(cu(this.value))}}function yl(i){const e=[];return Ko(i.fields,(n,a)=>{const h=new Ui([n]);if(Vu(a)){const g=yl(a.mapValue).fields;if(0===g.length)e.push(h);else for(const v of g)e.push(h.child(v))}else e.push(h)}),new vo(e)}class ji{constructor(e,n,a,h,g,v,O){this.key=e,this.documentType=n,this.version=a,this.readTime=h,this.createTime=g,this.data=v,this.documentState=O}static newInvalidDocument(e){return new ji(e,0,wn.min(),wn.min(),wn.min(),Qs.empty(),0)}static newFoundDocument(e,n,a,h){return new ji(e,1,n,wn.min(),a,h,0)}static newNoDocument(e,n){return new ji(e,2,n,wn.min(),wn.min(),Qs.empty(),0)}static newUnknownDocument(e,n){return new ji(e,3,n,wn.min(),wn.min(),Qs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(wn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ji&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ji(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pi{constructor(e,n){this.position=e,this.inclusive=n}}function Eh(i,e,n){let a=0;for(let h=0;h<i.position.length;h++){const g=e[h],v=i.position[h];if(a=g.field.isKeyField()?Et.comparator(Et.fromName(v.referenceValue),n.key):Ss(v,n.data.field(g.field)),"desc"===g.dir&&(a*=-1),0!==a)break}return a}function Ih(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!el(i.position[n],e.position[n]))return!1;return!0}class Vl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wp(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Sa{}class gr extends Sa{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,a):new Nf(e,n,a):"array-contains"===n?new Yp(e,a):"in"===n?new du(e,a):"not-in"===n?new Dd(e,a):"array-contains-any"===n?new kf(e,a):new gr(e,n,a)}static createKeyFieldInFilter(e,n,a){return"in"===n?new Em(e,a):new Im(e,a)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ss(n,this.value)):null!==n&&fa(this.value)===fa(n)&&this.matchesComparison(Ss(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends Sa{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Hr(e,n)}matches(e){return xa(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function xa(i){return"and"===i.op}function Tc(i){return function Ad(i){for(const e of i.filters)if(e instanceof Hr)return!1;return!0}(i)&&xa(i)}function Bl(i){if(i instanceof gr)return i.field.canonicalString()+i.op.toString()+Yo(i.value);if(Tc(i))return i.filters.map(e=>Bl(e)).join(",");{const e=i.filters.map(n=>Bl(n)).join(",");return`${i.op}(${e})`}}function Of(i,e){return i instanceof gr?(a=i,(h=e)instanceof gr&&a.op===h.op&&a.field.isEqual(h.field)&&el(a.value,h.value)):i instanceof Hr?function(a,h){return h instanceof Hr&&a.op===h.op&&a.filters.length===h.filters.length&&a.filters.reduce((g,v,O)=>g&&Of(v,h.filters[O]),!0)}(i,e):void gn();var a,h}function Zp(i){return i instanceof gr?`${(n=i).field.canonicalString()} ${n.op} ${Yo(n.value)}`:i instanceof Hr?function(n){return n.op.toString()+" {"+n.getFilters().map(Zp).join(" ,")+"}"}(i):"Filter";var n}class Nf extends gr{constructor(e,n,a){super(e,n,a),this.key=Et.fromName(a.referenceValue)}matches(e){const n=Et.comparator(e.key,this.key);return this.matchesComparison(n)}}class Em extends gr{constructor(e,n){super(e,"in",n),this.keys=Kp(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Im extends gr{constructor(e,n){super(e,"not-in",n),this.keys=Kp(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Kp(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(a=>Et.fromName(a.referenceValue))}class Yp extends gr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uu(n)&&ku(n.arrayValue,this.value)}}class du extends gr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ku(this.value.arrayValue,n)}}class Dd extends gr{constructor(e,n){super(e,"not-in",n)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ku(this.value.arrayValue,n)}}class kf extends gr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>ku(this.value.arrayValue,a))}}class js{constructor(e,n=null,a=[],h=[],g=null,v=null,O=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=h,this.limit=g,this.startAt=v,this.endAt=O,this.ce=null}}function Sd(i,e=null,n=[],a=[],h=null,g=null,v=null){return new js(i,e,n,a,h,g,v)}function Hs(i){const e=tn(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Bl(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>{return(g=a).field.canonicalString()+g.dir;var g}).join(","),Ca(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Yo(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Yo(a)).join(",")),e.ce=n}return e.ce}function hu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Wp(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Of(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ih(i.startAt,e.startAt)&&Ih(i.endAt,e.endAt)}function Po(i){return Et.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class ga{constructor(e,n=null,a=[],h=[],g=null,v="F",O=null,V=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=h,this.limit=g,this.limitType=v,this.startAt=O,this.endAt=V,this.le=null,this.he=null,this.Pe=null}}function xd(i){return new ga(i)}function Qp(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Bu(i){return null!==i.collectionGroup}function xs(i){const e=tn(i);if(null===e.le){e.le=[];const n=new Set;for(const g of e.explicitOrderBy)e.le.push(g),n.add(g.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(v){let O=new Ei(Ui.comparator);return v.filters.forEach(V=>{V.getFlattenedFilters().forEach(G=>{G.isInequality()&&(O=O.add(G.field))})}),O})(e).forEach(g=>{n.has(g.canonicalString())||g.isKeyField()||e.le.push(new Vl(g,a))}),n.has(Ui.keyField().canonicalString())||e.le.push(new Vl(Ui.keyField(),a))}return e.le}function vs(i){const e=tn(i);return e.he||(e.he=function vl(i,e){if("F"===i.limitType)return Sd(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(h=>new Vl(h.field,"desc"===h.dir?"asc":"desc"));const n=i.endAt?new Pi(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Pi(i.startAt.position,i.startAt.inclusive):null;return Sd(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}(e,xs(i))),e.he}function Th(i,e){const n=i.filters.concat([e]);return new ga(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Dc(i,e,n){return new ga(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Sc(i,e){return hu(vs(i),vs(e))&&i.limitType===e.limitType}function Lf(i){return`${Hs(vs(i))}|lt:${i.limitType}`}function fu(i){return`Query(target=${function(n){let a=n.path.canonicalString();return null!==n.collectionGroup&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(h=>Zp(h)).join(", ")}]`),Ca(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(h=>{return`${(v=h).field.canonicalString()} (${v.dir})`;var v}).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(h=>Yo(h)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(h=>Yo(h)).join(",")),`Target(${a})`}(vs(i))}; limitType=${i.limitType})`}function xc(i,e){return e.isFoundDocument()&&function(a,h){const g=h.key.path;return null!==a.collectionGroup?h.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(g):Et.isDocumentKey(a.path)?a.path.isEqual(g):a.path.isImmediateParentOf(g)}(i,e)&&function(a,h){for(const g of xs(a))if(!g.field.isKeyField()&&null===h.data.field(g.field))return!1;return!0}(i,e)&&function(a,h){for(const g of a.filters)if(!g.matches(h))return!1;return!0}(i,e)&&(h=e,!((a=i).startAt&&!function(v,O,V){const G=Eh(v,O,V);return v.inclusive?G<=0:G<0}(a.startAt,xs(a),h)||a.endAt&&!function(v,O,V){const G=Eh(v,O,V);return v.inclusive?G>=0:G>0}(a.endAt,xs(a),h)));var a,h}function Ff(i){return(e,n)=>{let a=!1;for(const h of xs(i)){const g=Ah(h,e,n);if(0!==g)return g;a=a||h.field.isKeyField()}return 0}}function Ah(i,e,n){const a=i.field.isKeyField()?Et.comparator(e.key,n.key):function(g,v,O){const V=v.data.field(g),G=O.data.field(g);return null!==V&&null!==G?Ss(V,G):gn()}(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return gn()}}class Uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(void 0!==a)for(const[h,g]of a)if(this.equalsFn(h,e))return g}has(e){return void 0!==this.get(e)}set(e,n){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,n]],void this.innerSize++;for(let g=0;g<h.length;g++)if(this.equalsFn(h[g][0],e))return void(h[g]=[e,n]);h.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[n]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,(n,a)=>{for(const[h,g]of a)e(h,g)})}isEmpty(){return Da(this.inner)}size(){return this.innerSize}}const Mc=new fi(Et.comparator);function Js(){return Mc}const Jp=new fi(Et.comparator);function nl(...i){let e=Jp;for(const n of i)e=e.insert(n.key,n);return e}function Md(i){let e=Jp;return i.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Ra(){return bl()}function ju(){return bl()}function bl(){return new Uo(i=>i.toString(),(i,e)=>i.isEqual(e))}const Ch=new fi(Et.comparator),Vf=new Ei(Et.comparator);function mr(...i){let e=Vf;for(const n of i)e=e.add(n);return e}const Rc=new Ei(Wn);function Xp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oo(e)?"-0":e}}function Tm(i){return{integerValue:""+i}}function Uf(i,e){return function S(i){return"number"==typeof i&&Number.isInteger(i)&&!oo(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Tm(e):Xp(i,e)}class Dh{constructor(){this._=void 0}}function K_(i,e,n){return i instanceof zu?function(h,g){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return g&&_l(g)&&(g=su(g)),g&&(v.fields.__previous_value__=g),{mapValue:v}}(n,e):i instanceof El?Sh(i,e):i instanceof $u?Bf(i,e):function(h,g){const v=tg(h,g),O=Pd(v)+Pd(h.Ie);return Lu(v)&&Lu(h.Ie)?Tm(O):Xp(h.serializer,O)}(i,e)}function eg(i,e,n){return i instanceof El?Sh(i,e):i instanceof $u?Bf(i,e):n}function tg(i,e){return i instanceof Rd?Lu(a=e)||(g=a)&&"doubleValue"in g?e:{integerValue:0}:null;var a,g}class zu extends Dh{}class El extends Dh{constructor(e){super(),this.elements=e}}function Sh(i,e){const n=wm(e);for(const a of i.elements)n.some(h=>el(h,a))||n.push(a);return{arrayValue:{values:n}}}class $u extends Dh{constructor(e){super(),this.elements=e}}function Bf(i,e){let n=wm(e);for(const a of i.elements)n=n.filter(h=>!el(h,a));return{arrayValue:{values:n}}}class Rd extends Dh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Pd(i){return Xi(i.integerValue||i.doubleValue)}function wm(i){return uu(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class jf{constructor(e,n){this.version=e,this.transformResults=n}}class es{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hf(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Gu{}function Am(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Wu(i.key,es.none()):new qu(i.key,i.data,es.none());{const n=i.data,a=Qs.empty();let h=new Ei(Ui.comparator);for(let g of e.fields)if(!h.has(g)){let v=n.field(g);null===v&&g.length>1&&(g=g.popLast(),v=n.field(g)),null===v?a.delete(g):a.set(g,v),h=h.add(g)}return new Pa(i.key,a,new vo(h.toArray()),es.none())}}function Cm(i,e,n){i instanceof qu?function(h,g,v){const O=h.value.clone(),V=Nd(h.fieldTransforms,g,v.transformResults);O.setAll(V),g.convertToFoundDocument(v.version,O).setHasCommittedMutations()}(i,e,n):i instanceof Pa?function(h,g,v){if(!Hf(h.precondition,g))return void g.convertToUnknownDocument(v.version);const O=Nd(h.fieldTransforms,g,v.transformResults),V=g.data;V.setAll(Od(h)),V.setAll(O),g.convertToFoundDocument(v.version,V).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function xh(i,e,n,a){return i instanceof qu?function(g,v,O,V){if(!Hf(g.precondition,v))return O;const G=g.value.clone(),re=zf(g.fieldTransforms,V,v);return G.setAll(re),v.convertToFoundDocument(v.version,G).setHasLocalMutations(),null}(i,e,n,a):i instanceof Pa?function(g,v,O,V){if(!Hf(g.precondition,v))return O;const G=zf(g.fieldTransforms,V,v),re=v.data;return re.setAll(Od(g)),re.setAll(G),v.convertToFoundDocument(v.version,re).setHasLocalMutations(),null===O?null:O.unionWith(g.fieldMask.fields).unionWith(g.fieldTransforms.map(_e=>_e.field))}(i,e,n,a):(O=n,Hf(i.precondition,v=e)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):O);var v,O}function Y_(i,e){let n=null;for(const a of i.fieldTransforms){const h=e.data.field(a.field),g=tg(a.transform,h||null);null!=g&&(null===n&&(n=Qs.empty()),n.set(a.field,g))}return n||null}function Dm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(a=i.fieldTransforms)&&void 0===h||a&&h&&ua(a,h,(g,v)=>function ng(i,e){return i.field.isEqual(e.field)&&(h=e.transform,(a=i.transform)instanceof El&&h instanceof El||a instanceof $u&&h instanceof $u?ua(a.elements,h.elements,el):a instanceof Rd&&h instanceof Rd?el(a.Ie,h.Ie):a instanceof zu&&h instanceof zu);var a,h}(g,v))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var a,h}class qu extends Gu{constructor(e,n,a,h=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class Pa extends Gu{constructor(e,n,a,h,g=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=h,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function Od(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}}),e}function Nd(i,e,n){const a=new Map;Pn(i.length===n.length);for(let h=0;h<n.length;h++){const g=i[h],v=g.transform,O=e.data.field(g.field);a.set(g.field,eg(v,O,n[h]))}return a}function zf(i,e,n){const a=new Map;for(const h of i){const g=h.transform,v=n.data.field(h.field);a.set(h.field,K_(g,v,e))}return a}class Wu extends Gu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rl extends Gu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Mh{constructor(e,n,a,h){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let h=0;h<this.mutations.length;h++){const g=this.mutations[h];g.key.isEqual(e.key)&&Cm(g,e,a[h])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=xh(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=xh(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=ju();return this.mutations.forEach(h=>{const g=e.get(h.key),v=g.overlayedDocument;let O=this.applyToLocalView(v,g.mutatedFields);O=n.has(h.key)?null:O;const V=Am(v,O);null!==V&&a.set(h.key,V),v.isValidDocument()||v.convertToNoDocument(wn.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),mr())}isEqual(e){return this.batchId===e.batchId&&ua(this.mutations,e.mutations,(n,a)=>Dm(n,a))&&ua(this.baseMutations,e.baseMutations,(n,a)=>Dm(n,a))}}class pu{constructor(e,n,a,h){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=h}static from(e,n,a){Pn(e.mutations.length===a.length);let h=Ch;const g=e.mutations;for(let v=0;v<g.length;v++)h=h.insert(g[v].key,a[v].version);return new pu(e,n,a,h)}}class Bo{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kd{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ms,Zr;function $f(i){if(void 0===i)return Vi("GRPC error has no .code"),lt.UNKNOWN;switch(i){case Ms.OK:return lt.OK;case Ms.CANCELLED:return lt.CANCELLED;case Ms.UNKNOWN:return lt.UNKNOWN;case Ms.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case Ms.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case Ms.INTERNAL:return lt.INTERNAL;case Ms.UNAVAILABLE:return lt.UNAVAILABLE;case Ms.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case Ms.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case Ms.NOT_FOUND:return lt.NOT_FOUND;case Ms.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case Ms.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case Ms.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case Ms.ABORTED:return lt.ABORTED;case Ms.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case Ms.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case Ms.DATA_LOSS:return lt.DATA_LOSS;default:return gn()}}(Zr=Ms||(Ms={}))[Zr.OK=0]="OK",Zr[Zr.CANCELLED=1]="CANCELLED",Zr[Zr.UNKNOWN=2]="UNKNOWN",Zr[Zr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zr[Zr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zr[Zr.NOT_FOUND=5]="NOT_FOUND",Zr[Zr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zr[Zr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zr[Zr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zr[Zr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zr[Zr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zr[Zr.ABORTED=10]="ABORTED",Zr[Zr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zr[Zr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zr[Zr.INTERNAL=13]="INTERNAL",Zr[Zr.UNAVAILABLE=14]="UNAVAILABLE",Zr[Zr.DATA_LOSS=15]="DATA_LOSS";const Sm=new oi([4294967295,4294967295],0);function Gf(i){const e=function ig(){return new TextEncoder}().encode(i),n=new wr;return n.update(e),new Uint8Array(n.digest())}function Oc(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),h=e.getUint32(8,!0),g=e.getUint32(12,!0);return[new oi([n,a],0),new oi([h,g],0)]}class Rh{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Ld(`Invalid padding: ${n}`);if(a<0)throw new Ld(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new Ld(`Invalid hash count: ${a}`);if(0===e.length&&0!==n)throw new Ld(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=oi.fromNumber(this.Te)}de(e,n,a){let h=e.add(n.multiply(oi.fromNumber(a)));return 1===h.compare(Sm)&&(h=new oi([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Gf(e),[a,h]=Oc(n);for(let g=0;g<this.hashCount;g++){const v=this.de(a,h,g);if(!this.Ae(v))return!1}return!0}static create(e,n,a){const h=e%8==0?0:8-e%8,g=new Uint8Array(Math.ceil(e/8)),v=new Rh(g,h,n);return a.forEach(O=>v.insert(O)),v}insert(e){if(0===this.Te)return;const n=Gf(e),[a,h]=Oc(n);for(let g=0;g<this.hashCount;g++){const v=this.de(a,h,g);this.Re(v)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Ld extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xs{constructor(e,n,a,h,g){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const h=new Map;return h.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Xs(wn.min(),h,new fi(Wn),Js(),mr())}}class gu{constructor(e,n,a,h,g){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new gu(a,n,mr(),mr(),mr())}}class ao{constructor(e,n,a,h){this.Ve=e,this.removedTargetIds=n,this.key=a,this.me=h}}class Fd{constructor(e,n){this.targetId=e,this.fe=n}}class M{constructor(e,n,a=fs.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=h}}class y{constructor(){this.ge=0,this.pe=Q(),this.ye=fs.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=mr(),n=mr(),a=mr();return this.pe.forEach((h,g)=>{switch(g){case 0:e=e.add(h);break;case 2:n=n.add(h);break;case 1:a=a.add(h);break;default:gn()}}),new gu(this.ye,this.we,e,n,a)}Fe(){this.Se=!1,this.pe=Q()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class T{constructor(e){this.Le=e,this.ke=new Map,this.qe=Js(),this.Qe=R(),this.Ke=new fi(Wn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const a=this.ze(n);switch(e.state){case 0:this.je(n)&&a.Ce(e.resumeToken);break;case 1:a.Ne(),a.be||a.Fe(),a.Ce(e.resumeToken);break;case 2:a.Ne(),a.be||this.removeTarget(n);break;case 3:this.je(n)&&(a.Be(),a.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),a.Ce(e.resumeToken));break;default:gn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((a,h)=>{this.je(h)&&n(h)})}Je(e){const n=e.targetId,a=e.fe.count,h=this.Ye(n);if(h){const g=h.target;if(Po(g))if(0===a){const v=new Et(g.path);this.We(n,v,ji.newNoDocument(v,wn.min()))}else Pn(1===a);else{const v=this.Ze(n);if(v!==a){const O=this.Xe(e),V=O?this.et(O,e,v):1;0!==V&&(this.He(n),this.Ke=this.Ke.insert(n,2===V?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:h=0},hashCount:g=0}=n;let v,O;try{v=Qa(a).toUint8Array()}catch(V){if(V instanceof yh)return ro("Decoding the base64 bloom filter in existence filter failed ("+V.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw V}try{O=new Rh(v,h,g)}catch(V){return ro(V instanceof Ld?"BloomFilter error: ":"Applying bloom filter failed: ",V),null}return 0===O.Te?null:O}et(e,n,a){return n.fe.count===a-this.rt(e,n.targetId)?0:2}rt(e,n){const a=this.Le.getRemoteKeysForTarget(n);let h=0;return a.forEach(g=>{const v=this.Le.nt(),O=`projects/${v.projectId}/databases/${v.database}/documents/${g.path.canonicalString()}`;e.mightContain(O)||(this.We(n,g,null),h++)}),h}it(e){const n=new Map;this.ke.forEach((g,v)=>{const O=this.Ye(v);if(O){if(g.current&&Po(O.target)){const V=new Et(O.target.path);null!==this.qe.get(V)||this.st(v,V)||this.We(v,V,ji.newNoDocument(V,e))}g.De&&(n.set(v,g.ve()),g.Fe())}});let a=mr();this.Qe.forEach((g,v)=>{let O=!0;v.forEachWhile(V=>{const G=this.Ye(V);return!G||"TargetPurposeLimboResolution"===G.purpose||(O=!1,!1)}),O&&(a=a.add(g))}),this.qe.forEach((g,v)=>v.setReadTime(e));const h=new Xs(e,n,this.Ke,this.qe,a);return this.qe=Js(),this.Qe=R(),this.Ke=new fi(Wn),h}Ue(e,n){if(!this.je(e))return;const a=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,a),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,a){if(!this.je(e))return;const h=this.ze(e);this.st(e,n)?h.Me(n,1):h.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),a&&(this.qe=this.qe.insert(n,a))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new y,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ei(Wn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||Mt("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new y),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function R(){return new fi(Et.comparator)}function Q(){return new fi(Et.comparator)}const de={asc:"ASCENDING",desc:"DESCENDING"},Ue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dt={and:"AND",or:"OR"};class Ft{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _n(i,e){return i.useProto3Json||Ca(e)?e:{value:e}}function Vn(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ir(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ps(i,e){return Vn(i,e.toTimestamp())}function li(i){return Pn(!!i),wn.fromTimestamp(function(n){const a=Ya(n);return new Gi(a.seconds,a.nanos)}(i))}function mu(i,e){return(a=i,new Er(["projects",a.projectId,"databases",a.database])).child("documents").child(e).canonicalString();var a}function _u(i){const e=Er.fromString(i);return Pn(ug(e)),e}function yu(i,e){return mu(i.databaseId,e.path)}function Na(i,e){const n=_u(e);if(n.get(1)!==i.databaseId.projectId)throw new Ot(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ot(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Et(Hl(n))}function vu(i,e){return mu(i.databaseId,e)}function jl(i){return new Er(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Hl(i){return Pn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function bu(i,e,n){return{name:yu(i,e),fields:n.value.mapValue.fields}}function xm(i,e){return{documents:[vu(i,e.path)]}}function og(i,e){const n={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(n.parent=vu(i,a),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vu(i,a.popLast()),n.structuredQuery.from=[{collectionId:a.lastSegment()}]);const h=function(V){if(0!==V.length)return qf(Hr.create(V,"and"))}(e.filters);h&&(n.structuredQuery.where=h);const g=function(V){if(0!==V.length)return V.map(G=>{return{field:Eu((_e=G).field),direction:lg(_e.dir)};var _e})}(e.orderBy);g&&(n.structuredQuery.orderBy=g);const v=_n(i,e.limit);return null!==v&&(n.structuredQuery.limit=v),e.startAt&&(n.structuredQuery.startAt={before:(V=e.startAt).inclusive,values:V.position}),e.endAt&&(n.structuredQuery.endAt=function(V){return{before:!V.inclusive,values:V.position}}(e.endAt)),n;var V}function ag(i){let e=function Nc(i){const e=_u(i);return 4===e.length?Er.emptyPath():Hl(e)}(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let h=null;if(a>0){Pn(1===a);const re=n.from[0];re.allDescendants?h=re.collectionId:e=e.child(re.collectionId)}let g=[];n.where&&(g=function(_e){const Ne=Oh(_e);return Ne instanceof Hr&&Tc(Ne)?Ne.getFilters():[Ne]}(n.where));let v=[];n.orderBy&&(v=n.orderBy.map(Ne=>{return new Vl(Iu((Qt=Ne).field),function(on){switch(on){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Qt.direction));var Qt}));let O=null;n.limit&&(O=function(_e){let Ne;return Ne="object"==typeof _e?_e.value:_e,Ca(Ne)?null:Ne}(n.limit));let V=null;var _e;n.startAt&&(V=new Pi((_e=n.startAt).values||[],!!_e.before));let G=null;return n.endAt&&(G=function(_e){return new Pi(_e.values||[],!_e.before)}(n.endAt)),function Cc(i,e,n,a,h,g,v,O){return new ga(i,e,n,a,h,g,v,O)}(e,h,v,g,O,"F",V,G)}function Oh(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Iu(n.unaryFilter.field);return gr.create(a,"==",{doubleValue:NaN});case"IS_NULL":const h=Iu(n.unaryFilter.field);return gr.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const g=Iu(n.unaryFilter.field);return gr.create(g,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=Iu(n.unaryFilter.field);return gr.create(v,"!=",{nullValue:"NULL_VALUE"});default:return gn()}}(i):void 0!==i.fieldFilter?gr.create(Iu((n=i).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gn()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return Hr.create(n.compositeFilter.filters.map(a=>Oh(a)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return gn()}}(n.compositeFilter.op))}(i):gn();var n}function lg(i){return de[i]}function Ud(i){return Ue[i]}function ma(i){return dt[i]}function Eu(i){return{fieldPath:i.canonicalString()}}function Iu(i){return Ui.fromServerFormat(i.fieldPath)}function qf(i){return i instanceof gr?function(n){if("=="===n.op){if(Fu(n.value))return{unaryFilter:{field:Eu(n.field),op:"IS_NAN"}};if(wd(n.value))return{unaryFilter:{field:Eu(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Fu(n.value))return{unaryFilter:{field:Eu(n.field),op:"IS_NOT_NAN"}};if(wd(n.value))return{unaryFilter:{field:Eu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eu(n.field),op:Ud(n.op),value:n.value}}}(i):i instanceof Hr?function(n){const a=n.getFilters().map(h=>qf(h));return 1===a.length?a[0]:{compositeFilter:{op:ma(n.op),filters:a}}}(i):gn()}function Lc(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ug(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Il{constructor(e,n,a,h,g=wn.min(),v=wn.min(),O=fs.EMPTY_BYTE_STRING,V=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=O,this.expectedCount=V}withSequenceNumber(e){return new Il(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Rm{constructor(e){this.ut=e}}function Bd(i){const e=ag({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Dc(e,e.limit,"L"):e}class ec{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Xi(e.integerValue));else if("doubleValue"in e){const a=Xi(e.doubleValue);isNaN(a)?this.Tt(n,13):(this.Tt(n,15),oo(a)?n.Et(0):n.Et(a))}else if("timestampValue"in e){const a=e.timestampValue;this.Tt(n,20),"string"==typeof a?n.dt(a):(n.dt(`${a.seconds||""}`),n.Et(a.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Qa(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const a=e.geoPointValue;this.Tt(n,45),n.Et(a.latitude||0),n.Et(a.longitude||0)}else"mapValue"in e?vh(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):gn()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const a=e.fields||{};this.Tt(n,55);for(const h of Object.keys(a))this.At(h,n),this.Pt(a[h],n)}yt(e,n){const a=e.values||[];this.Tt(n,50);for(const h of a)this.Pt(h,n)}ft(e,n){this.Tt(n,37),Et.fromName(e).path.forEach(a=>{this.Tt(n,60),this.wt(a,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}ec.St=new ec;class Lm{constructor(){this.on=new $c}addToCollectionParentIndex(e,n){return this.on.add(n),Ke.resolve()}getCollectionParents(e,n){return Ke.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Ke.resolve()}deleteFieldIndex(e,n){return Ke.resolve()}deleteAllFieldIndexes(e){return Ke.resolve()}createTargetIndexes(e,n){return Ke.resolve()}getDocumentsMatchingTarget(e,n){return Ke.resolve(null)}getIndexType(e,n){return Ke.resolve(0)}getFieldIndexes(e,n){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,n){return Ke.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,n){return Ke.resolve(Vo.min())}updateCollectionGroup(e,n,a){return Ke.resolve()}updateIndexEntries(e,n){return Ke.resolve()}}class $c{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),h=this.index[n]||new Ei(Er.comparator),g=!h.has(a);return this.index[n]=h.add(a),g}has(e){const n=e.lastSegment(),a=e.popLast(),h=this.index[n];return h&&h.has(a)}getEntries(e){return(this.index[e]||new Ei(Er.comparator)).toArray()}}new Uint8Array(0);class Qo{constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Qo(e,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Qo.DEFAULT_COLLECTION_PERCENTILE=10,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qo.DEFAULT=new Qo(41943040,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qo.DISABLED=new Qo(-1,0,0);class Fa{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Fa(0)}static Nn(){return new Fa(-1)}}class vg{constructor(){this.changes=new Uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ji.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return void 0!==a?Ke.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yf{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class qm{constructor(e,n,a,h){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,n))).next(h=>(null!==a&&xh(a.mutation,h,vo.empty(),Gi.now()),h))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,mr()).next(()=>a))}getLocalViewOfDocuments(e,n,a=mr()){const h=Ra();return this.populateOverlays(e,h,n).next(()=>this.computeViews(e,n,h,a).next(g=>{let v=nl();return g.forEach((O,V)=>{v=v.insert(O,V.overlayedDocument)}),v}))}getOverlayedDocuments(e,n){const a=Ra();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,mr()))}populateOverlays(e,n,a){const h=[];return a.forEach(g=>{n.has(g)||h.push(g)}),this.documentOverlayCache.getOverlays(e,h).next(g=>{g.forEach((v,O)=>{n.set(v,O)})})}computeViews(e,n,a,h){let g=Js();const v=bl(),O=bl();return n.forEach((V,G)=>{const re=a.get(G.key);h.has(G.key)&&(void 0===re||re.mutation instanceof Pa)?g=g.insert(G.key,G):void 0!==re?(v.set(G.key,re.mutation.getFieldMask()),xh(re.mutation,G,re.mutation.getFieldMask(),Gi.now())):v.set(G.key,vo.empty())}),this.recalculateAndSaveOverlays(e,g).next(V=>(V.forEach((G,re)=>v.set(G,re)),n.forEach((G,re)=>{var _e;return O.set(G,new Yf(re,null!==(_e=v.get(G))&&void 0!==_e?_e:null))}),O))}recalculateAndSaveOverlays(e,n){const a=bl();let h=new fi((v,O)=>v-O),g=mr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(v=>{for(const O of v)O.keys().forEach(V=>{const G=n.get(V);if(null===G)return;let re=a.get(V)||vo.empty();re=O.applyToLocalView(G,re),a.set(V,re);const _e=(h.get(O.batchId)||mr()).add(V);h=h.insert(O.batchId,_e)})}).next(()=>{const v=[],O=h.getReverseIterator();for(;O.hasNext();){const V=O.getNext(),G=V.key,re=V.value,_e=ju();re.forEach(Ne=>{if(!g.has(Ne)){const et=Am(n.get(Ne),a.get(Ne));null!==et&&_e.set(Ne,et),g=g.add(Ne)}}),v.push(this.documentOverlayCache.saveOverlays(e,G,_e))}return Ke.waitFor(v)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,h){return Et.isDocumentKey((v=n).path)&&null===v.collectionGroup&&0===v.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Bu(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,h):this.getDocumentsMatchingCollectionQuery(e,n,a,h);var v}getNextDocuments(e,n,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,h).next(g=>{const v=h-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,h-g.size):Ke.resolve(Ra());let O=-1,V=g;return v.next(G=>Ke.forEach(G,(re,_e)=>(O<_e.largestBatchId&&(O=_e.largestBatchId),g.get(re)?Ke.resolve():this.remoteDocumentCache.getEntry(e,re).next(Ne=>{V=V.insert(re,Ne)}))).next(()=>this.populateOverlays(e,G,g)).next(()=>this.computeViews(e,V,G,mr())).next(re=>({batchId:O,changes:Md(re)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Et(n)).next(a=>{let h=nl();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,n,a,h){const g=n.collectionGroup;let v=nl();return this.indexManager.getCollectionParents(e,g).next(O=>Ke.forEach(O,V=>{const G=(_e=n,Ne=V.child(g),new ga(Ne,null,_e.explicitOrderBy.slice(),_e.filters.slice(),_e.limit,_e.limitType,_e.startAt,_e.endAt));var _e,Ne;return this.getDocumentsMatchingCollectionQuery(e,G,a,h).next(re=>{re.forEach((_e,Ne)=>{v=v.insert(_e,Ne)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(e,n,a,h){let g;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(v=>(g=v,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,g,h))).next(v=>{g.forEach((V,G)=>{const re=G.getKey();null===v.get(re)&&(v=v.insert(re,ji.newInvalidDocument(re)))});let O=nl();return v.forEach((V,G)=>{const re=g.get(V);void 0!==re&&xh(re.mutation,G,vo.empty(),Gi.now()),xc(n,G)&&(O=O.insert(V,G))}),O})}}class Eg{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Ke.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(h=n).id,version:h.version,createTime:li(h.createTime)}),Ke.resolve();var h}getNamedQuery(e,n){return Ke.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(h=n).name,query:Bd(h.bundledQuery),readTime:li(h.readTime)}),Ke.resolve();var h}}class ay{constructor(){this.overlays=new fi(Et.comparator),this.lr=new Map}getOverlay(e,n){return Ke.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ra();return Ke.forEach(n,h=>this.getOverlay(e,h).next(g=>{null!==g&&a.set(h,g)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((h,g)=>{this.lt(e,n,g)}),Ke.resolve()}removeOverlaysForBatchId(e,n,a){const h=this.lr.get(a);return void 0!==h&&(h.forEach(g=>this.overlays=this.overlays.remove(g)),this.lr.delete(a)),Ke.resolve()}getOverlaysForCollection(e,n,a){const h=Ra(),g=n.length+1,v=new Et(n.child("")),O=this.overlays.getIteratorFrom(v);for(;O.hasNext();){const V=O.getNext().value,G=V.getKey();if(!n.isPrefixOf(G.path))break;G.path.length===g&&V.largestBatchId>a&&h.set(V.getKey(),V)}return Ke.resolve(h)}getOverlaysForCollectionGroup(e,n,a,h){let g=new fi((G,re)=>G-re);const v=this.overlays.getIterator();for(;v.hasNext();){const G=v.getNext().value;if(G.getKey().getCollectionGroup()===n&&G.largestBatchId>a){let re=g.get(G.largestBatchId);null===re&&(re=Ra(),g=g.insert(G.largestBatchId,re)),re.set(G.getKey(),G)}}const O=Ra(),V=g.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((G,re)=>O.set(G,re)),!(O.size()>=h)););return Ke.resolve(O)}lt(e,n,a){const h=this.overlays.get(a.key);if(null!==h){const v=this.lr.get(h.largestBatchId).delete(a.key);this.lr.set(h.largestBatchId,v)}this.overlays=this.overlays.insert(a.key,new Bo(n,a));let g=this.lr.get(n);void 0===g&&(g=mr(),this.lr.set(n,g)),this.lr.set(n,g.add(a.key))}}class nc{constructor(){this.hr=new Ei(bo.Pr),this.Ir=new Ei(bo.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const a=new bo(e,n);this.hr=this.hr.add(a),this.Ir=this.Ir.add(a)}Er(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.dr(new bo(e,n))}Ar(e,n){e.forEach(a=>this.removeReference(a,n))}Rr(e){const n=new Et(new Er([])),a=new bo(n,e),h=new bo(n,e+1),g=[];return this.Ir.forEachInRange([a,h],v=>{this.dr(v),g.push(v.key)}),g}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Et(new Er([])),a=new bo(n,e),h=new bo(n,e+1);let g=mr();return this.Ir.forEachInRange([a,h],v=>{g=g.add(v.key)}),g}containsKey(e){const n=new bo(e,0),a=this.hr.firstAfterOrEqual(n);return null!==a&&e.isEqual(a.key)}}class bo{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Et.comparator(e.key,n.key)||Wn(e.gr,n.gr)}static Tr(e,n){return Wn(e.gr,n.gr)||Et.comparator(e.key,n.key)}}class ly{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ei(bo.Pr)}checkEmpty(e){return Ke.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,a,h){const g=this.pr;this.pr++;const v=new Mh(g,n,a,h);this.mutationQueue.push(v);for(const O of h)this.yr=this.yr.add(new bo(O.key,g)),this.indexManager.addToCollectionParentIndex(e,O.key.path.popLast());return Ke.resolve(v)}lookupMutationBatch(e,n){return Ke.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const h=this.Sr(n+1),g=h<0?0:h;return Ke.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new bo(n,0),h=new bo(n,Number.POSITIVE_INFINITY),g=[];return this.yr.forEachInRange([a,h],v=>{const O=this.wr(v.gr);g.push(O)}),Ke.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Ei(Wn);return n.forEach(h=>{const g=new bo(h,0),v=new bo(h,Number.POSITIVE_INFINITY);this.yr.forEachInRange([g,v],O=>{a=a.add(O.gr)})}),Ke.resolve(this.br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,h=a.length+1;let g=a;Et.isDocumentKey(g)||(g=g.child(""));const v=new bo(new Et(g),0);let O=new Ei(Wn);return this.yr.forEachWhile(V=>{const G=V.key.path;return!!a.isPrefixOf(G)&&(G.length===h&&(O=O.add(V.gr)),!0)},v),Ke.resolve(this.br(O))}br(e){const n=[];return e.forEach(a=>{const h=this.wr(a);null!==h&&n.push(h)}),n}removeMutationBatch(e,n){Pn(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let a=this.yr;return Ke.forEach(n.mutations,h=>{const g=new bo(h.key,n.batchId);return a=a.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.yr=a})}Fn(e){}containsKey(e,n){const a=new bo(n,0),h=this.yr.firstAfterOrEqual(a);return Ke.resolve(n.isEqual(h&&h.key))}performConsistencyCheck(e){return Ke.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Qf{constructor(e){this.Cr=e,this.docs=new fi(Et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,h=this.docs.get(a),g=h?h.size:0,v=this.Cr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:v}),this.size+=v-g,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return Ke.resolve(a?a.document.mutableCopy():ji.newInvalidDocument(n))}getEntries(e,n){let a=Js();return n.forEach(h=>{const g=this.docs.get(h);a=a.insert(h,g?g.document.mutableCopy():ji.newInvalidDocument(h))}),Ke.resolve(a)}getDocumentsMatchingQuery(e,n,a,h){let g=Js();const v=n.path,O=new Et(v.child("")),V=this.docs.getIteratorFrom(O);for(;V.hasNext();){const{key:G,value:{document:re}}=V.getNext();if(!v.isPrefixOf(G.path))break;G.path.length>v.length+1||kl(yd(re),a)<=0||(h.has(re.key)||xc(n,re))&&(g=g.insert(re.key,re.mutableCopy()))}return Ke.resolve(g)}getAllFromCollectionGroup(e,n,a,h){gn()}vr(e,n){return Ke.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new Wm(this)}getSize(e){return Ke.resolve(this.size)}}class Wm extends vg{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?n.push(this._r.addEntry(e,h)):this._r.removeEntry(a)}),Ke.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Zm{constructor(e){this.persistence=e,this.Fr=new Uo(n=>Hs(n),hu),this.lastRemoteSnapshotVersion=wn.min(),this.highestTargetId=0,this.Mr=0,this.Or=new nc,this.targetCount=0,this.Nr=Fa.On()}forEachTarget(e,n){return this.Fr.forEach((a,h)=>n(h)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.Mr&&(this.Mr=n),Ke.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Fa(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Ke.resolve()}updateTargetData(e,n){return this.kn(n),Ke.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,n,a){let h=0;const g=[];return this.Fr.forEach((v,O)=>{O.sequenceNumber<=n&&null===a.get(O.targetId)&&(this.Fr.delete(v),g.push(this.removeMatchingKeysForTargetId(e,O.targetId)),h++)}),Ke.waitFor(g).next(()=>h)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,n){const a=this.Fr.get(n)||null;return Ke.resolve(a)}addMatchingKeys(e,n,a){return this.Or.Er(n,a),Ke.resolve()}removeMatchingKeys(e,n,a){this.Or.Ar(n,a);const h=this.persistence.referenceDelegate,g=[];return h&&n.forEach(v=>{g.push(h.markPotentiallyOrphaned(e,v))}),Ke.waitFor(g)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Ke.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Or.mr(n);return Ke.resolve(a)}containsKey(e,n){return Ke.resolve(this.Or.containsKey(n))}}class Ig{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Ro(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Zm(this),this.indexManager=new Lm,this.remoteDocumentCache=new Qf(a=>this.referenceDelegate.Qr(a)),this.serializer=new Rm(n),this.Kr=new Eg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ay,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Br[e.toKey()];return a||(a=new ly(n,this.referenceDelegate),this.Br[e.toKey()]=a),a}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,a){Mt("MemoryPersistence","Starting transaction:",e);const h=new Bh(this.Lr.next());return this.referenceDelegate.$r(),a(h).next(g=>this.referenceDelegate.Ur(h).next(()=>g)).toPromise().then(g=>(h.raiseOnCommittedEvent(),g))}Wr(e,n){return Ke.or(Object.values(this.Br).map(a=>()=>a.containsKey(e,n)))}}class Bh extends Rt{constructor(e){super(),this.currentSequenceNumber=e}}class Jf{constructor(e){this.persistence=e,this.Gr=new nc,this.zr=null}static jr(e){return new Jf(e)}get Hr(){if(this.zr)return this.zr;throw gn()}addReference(e,n,a){return this.Gr.addReference(a,n),this.Hr.delete(a.toString()),Ke.resolve()}removeReference(e,n,a){return this.Gr.removeReference(a,n),this.Hr.add(a.toString()),Ke.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Ke.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(h=>this.Hr.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(h=>{h.forEach(g=>this.Hr.add(g.toString()))}).next(()=>a.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.Hr,a=>{const h=Et.fromPath(a);return this.Jr(e,h).next(g=>{g||n.removeEntry(h,wn.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(a=>{a?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Ke.or([()=>Ke.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class $h{constructor(e,n,a,h){this.targetId=e,this.fromCache=n,this.ki=a,this.qi=h}static Qi(e,n){let a=mr(),h=mr();for(const g of n.docChanges)switch(g.type){case 0:a=a.add(g.doc.key);break;case 1:h=h.add(g.doc.key)}return new $h(e,n.fromCache,a,h)}}class cy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Tg{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,a,h){const g={result:null};return this.zi(e,n).next(v=>{g.result=v}).next(()=>{if(!g.result)return this.ji(e,n,h,a).next(v=>{g.result=v})}).next(()=>{if(g.result)return;const v=new cy;return this.Hi(e,n,v).next(O=>{if(g.result=O,this.$i)return this.Ji(e,n,v,O.size)})}).next(()=>g.result)}Ji(e,n,a,h){return a.documentReadCount<this.Ui?(_o()<=He.in.DEBUG&&Mt("QueryEngine","SDK will not create cache indexes for query:",fu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Ke.resolve()):(_o()<=He.in.DEBUG&&Mt("QueryEngine","Query:",fu(n),"scans",a.documentReadCount,"local documents and returns",h,"documents as results."),a.documentReadCount>this.Wi*h?(_o()<=He.in.DEBUG&&Mt("QueryEngine","The SDK decides to create cache indexes for query:",fu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vs(n))):Ke.resolve())}zi(e,n){if(Qp(n))return Ke.resolve(null);let a=vs(n);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==n.limit&&1===h&&(n=Dc(n,null,"F"),a=vs(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(g=>{const v=mr(...g);return this.Gi.getDocuments(e,v).next(O=>this.indexManager.getMinOffset(e,a).next(V=>{const G=this.Yi(n,O);return this.Zi(n,G,v,V.readTime)?this.zi(e,Dc(n,null,"F")):this.Xi(e,G,n,V)}))})))}ji(e,n,a,h){return Qp(n)||h.isEqual(wn.min())?Ke.resolve(null):this.Gi.getDocuments(e,a).next(g=>{const v=this.Yi(n,g);return this.Zi(n,v,a,h)?Ke.resolve(null):(_o()<=He.in.DEBUG&&Mt("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),fu(n)),this.Xi(e,v,n,function _d(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,h=wn.fromTimestamp(1e9===a?new Gi(n+1,0):new Gi(n,a));return new Vo(h,Et.empty(),e)}(h,-1)).next(O=>O))})}Yi(e,n){let a=new Ei(Ff(e));return n.forEach((h,g)=>{xc(e,g)&&(a=a.add(g))}),a}Zi(e,n,a,h){if(null===e.limit)return!1;if(a.size!==n.size)return!0;const g="F"===e.limitType?n.last():n.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(h)>0)}Hi(e,n,a){return _o()<=He.in.DEBUG&&Mt("QueryEngine","Using full collection scan to execute query:",fu(n)),this.Gi.getDocumentsMatchingQuery(e,n,Vo.min(),a)}Xi(e,n,a,h){return this.Gi.getDocumentsMatchingQuery(e,a,h).next(g=>(n.forEach(v=>{g=g.insert(v.key,v)}),g))}}class Km{constructor(e,n,a,h){this.persistence=e,this.es=n,this.serializer=h,this.ts=new fi(Wn),this.ns=new Uo(g=>Hs(g),hu),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(a)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qm(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function dy(i,e){return qh.apply(this,arguments)}function qh(){return qh=(0,he.Z)(function*(i,e){const n=tn(i);return yield n.persistence.runTransaction("Handle user change","readonly",a=>{let h;return n.mutationQueue.getAllMutationBatches(a).next(g=>(h=g,n.os(e),n.mutationQueue.getAllMutationBatches(a))).next(g=>{const v=[],O=[];let V=mr();for(const G of h){v.push(G.batchId);for(const re of G.mutations)V=V.add(re.key)}for(const G of g){O.push(G.batchId);for(const re of G.mutations)V=V.add(re.key)}return n.localDocuments.getDocuments(a,V).next(G=>({_s:G,removedBatchIds:v,addedBatchIds:O}))})})}),qh.apply(this,arguments)}function Wh(i){const e=tn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Zc(i,e){const n=tn(i);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function rc(i,e,n){return Cu.apply(this,arguments)}function Cu(){return Cu=(0,he.Z)(function*(i,e,n){const a=tn(i),h=a.ts.get(e),g=n?"readwrite":"readwrite-primary";try{n||(yield a.persistence.runTransaction("Release target",g,v=>a.persistence.referenceDelegate.removeTarget(v,h)))}catch(v){if(!Wo(v))throw v;Mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}a.ts=a.ts.remove(e),a.ns.delete(h.target)}),Cu.apply(this,arguments)}function Xf(i,e,n){const a=tn(i);let h=wn.min(),g=mr();return a.persistence.runTransaction("Execute query","readwrite",v=>function(V,G,re){const _e=tn(V),Ne=_e.ns.get(re);return void 0!==Ne?Ke.resolve(_e.ts.get(Ne)):_e.qr.getTargetData(G,re)}(a,v,vs(e)).next(O=>{if(O)return h=O.lastLimboFreeSnapshotVersion,a.qr.getMatchingKeysForTargetId(v,O.targetId).next(V=>{g=V})}).next(()=>a.es.getDocumentsMatchingQuery(v,e,n?h:wn.min(),n?g:mr())).next(O=>(function wl(i,e,n){let a=i.rs.get(e)||wn.min();n.forEach((h,g)=>{g.readTime.compareTo(a)>0&&(a=g.readTime)}),i.rs.set(e,a)}(a,function wh(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),O),{documents:O,ls:g})))}class Dg{constructor(){this.activeTargetIds=function Hu(){return Rc}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rp{constructor(){this.eo=new Dg,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,a){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Dg,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qm{ro(e){}shutdown(){}}class fy{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Wd=null;function Sg(){return null===Wd?Wd=268435456+Math.round(2147483648*Math.random()):Wd++,"0x"+Wd.toString(16)}const ub={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lv{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const lo="WebChannelConnection";class Jm extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),g=encodeURIComponent(this.databaseId.database);this.mo=a+"://"+n.host,this.fo=`projects/${h}/databases/${g}`,this.po="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${g}`}get yo(){return!1}wo(n,a,h,g,v){const O=Sg(),V=this.So(n,a);Mt("RestConnection",`Sending RPC '${n}' ${O}:`,V,h);const G={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(G,g,v),this.Do(n,V,G,h).then(re=>(Mt("RestConnection",`Received RPC '${n}' ${O}: `,re),re),re=>{throw ro("RestConnection",`RPC '${n}' ${O} failed with error: `,re,"url: ",V,"request:",h),re})}Co(n,a,h,g,v,O){return this.wo(n,a,h,g,v)}bo(n,a,h){n["X-Goog-Api-Client"]="gl-js/ fire/"+cs,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((g,v)=>n[v]=g),h&&h.headers.forEach((g,v)=>n[v]=g)}So(n,a){return`${this.mo}/v1/${a}:${ub[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,a,h){const g=Sg();return new Promise((v,O)=>{const V=new bi;V.setWithCredentials(!0),V.listenOnce(Tn.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case Dt.NO_ERROR:const re=V.getResponseJson();Mt(lo,`XHR for RPC '${e}' ${g} received:`,JSON.stringify(re)),v(re);break;case Dt.TIMEOUT:Mt(lo,`RPC '${e}' ${g} timed out`),O(new Ot(lt.DEADLINE_EXCEEDED,"Request time out"));break;case Dt.HTTP_ERROR:const _e=V.getStatus();if(Mt(lo,`RPC '${e}' ${g} failed with status:`,_e,"response text:",V.getResponseText()),_e>0){let Ne=V.getResponseJson();Array.isArray(Ne)&&(Ne=Ne[0]);const et=Ne?.error;if(et&&et.status&&et.message){const Qt=function(on){const tr=on.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(tr)>=0?tr:lt.UNKNOWN}(et.status);O(new Ot(Qt,et.message))}else O(new Ot(lt.UNKNOWN,"Server responded with status "+V.getStatus()))}else O(new Ot(lt.UNAVAILABLE,"Connection failed."));break;default:gn()}}finally{Mt(lo,`RPC '${e}' ${g} completed.`)}});const G=JSON.stringify(h);Mt(lo,`RPC '${e}' ${g} sending request:`,h),V.send(n,"POST",G,a,15)})}vo(e,n,a){const h=Sg(),g=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],v=Ie(),O=ot(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},G=this.longPollingOptions.timeoutSeconds;void 0!==G&&(V.longPollingTimeout=Math.round(1e3*G)),this.useFetchStreams&&(V.xmlHttpFactory=new Vr({})),this.bo(V.initMessageHeaders,n,a),V.encodeInitMessageHeaders=!0;const re=g.join("");Mt(lo,`Creating RPC '${e}' stream ${h}: ${re}`,V);const _e=v.createWebChannel(re,V);let Ne=!1,et=!1;const Qt=new lv({co:on=>{et?Mt(lo,`Not sending because RPC '${e}' stream ${h} is closed:`,on):(Ne||(Mt(lo,`Opening RPC '${e}' stream ${h} transport.`),_e.open(),Ne=!0),Mt(lo,`RPC '${e}' stream ${h} sending:`,on),_e.send(on))},lo:()=>_e.close()}),nn=(on,tr,lr)=>{on.listen(tr,sr=>{try{lr(sr)}catch(Kr){setTimeout(()=>{throw Kr},0)}})};return nn(_e,er.EventType.OPEN,()=>{et||Mt(lo,`RPC '${e}' stream ${h} transport opened.`)}),nn(_e,er.EventType.CLOSE,()=>{et||(et=!0,Mt(lo,`RPC '${e}' stream ${h} transport closed`),Qt.Ro())}),nn(_e,er.EventType.ERROR,on=>{et||(et=!0,ro(lo,`RPC '${e}' stream ${h} transport errored:`,on),Qt.Ro(new Ot(lt.UNAVAILABLE,"The operation could not be completed")))}),nn(_e,er.EventType.MESSAGE,on=>{var tr;if(!et){const lr=on.data[0];Pn(!!lr);const Kr=lr.error||(null===(tr=lr[0])||void 0===tr?void 0:tr.error);if(Kr){Mt(lo,`RPC '${e}' stream ${h} received error:`,Kr);const Zi=Kr.status;let Oi=function(ym){const Yv=Ms[ym];if(void 0!==Yv)return $f(Yv)}(Zi),zo=Kr.message;void 0===Oi&&(Oi=lt.INTERNAL,zo="Unknown error status: "+Zi+" with message "+Kr.message),et=!0,Qt.Ro(new Ot(Oi,zo)),_e.close()}else Mt(lo,`RPC '${e}' stream ${h} received:`,lr),Qt.Vo(lr)}}),nn(O,ri.STAT_EVENT,on=>{on.stat===jr.PROXY?Mt(lo,`RPC '${e}' stream ${h} detected buffering proxy`):on.stat===jr.NOPROXY&&Mt(lo,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Qt.Ao()},0),Qt}}function Zd(){return typeof document<"u"?document:null}function Cl(i){return new Ft(i,!0)}class Kd{constructor(e,n,a=1e3,h=1.5,g=6e4){this.si=e,this.timerId=n,this.Fo=a,this.Mo=h,this.xo=g,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),a=Math.max(0,Date.now()-this.Bo),h=Math.max(0,n-a);h>0&&Mt("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,h,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class ip{constructor(e,n,a,h,g,v,O,V){this.si=e,this.Ko=a,this.$o=h,this.connection=g,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=O,this.listener=V,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Kd(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,he.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,he.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var a=this;return(0,he.Z)(function*(){a.t_(),a.n_(),a.zo.cancel(),a.Uo++,4!==e?a.zo.reset():n&&n.code===lt.RESOURCE_EXHAUSTED?(Vi(n.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),a.zo.Lo()):n&&n.code===lt.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.r_(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Uo===n&&this.s_(a,h)},a=>{e(()=>{const h=new Ot(lt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.o_(h)})})}s_(e,n){const a=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{a(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(h=>{a(()=>this.o_(h))}),this.stream.onMessage(h=>{a(()=>this.onMessage(h))})}Jo(){var e=this;this.state=5,this.zo.ko((0,he.Z)(function*(){e.state=0,e.start()}))}o_(e){return Mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jh extends ip{constructor(e,n,a,h,g,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,h,v),this.serializer=g}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Ku(i,e){let n;if("targetChange"in e){const a="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:gn(),h=e.targetChange.targetIds||[],g=function(G,re){return G.useProto3Json?(Pn(void 0===re||"string"==typeof re),fs.fromBase64String(re||"")):(Pn(void 0===re||re instanceof Uint8Array),fs.fromUint8Array(re||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,O=v&&function(G){const re=void 0===G.code?lt.UNKNOWN:$f(G.code);return new Ot(re,G.message||"")}(v);n=new M(a,h,g,O||null)}else if("documentChange"in e){const a=e.documentChange,h=Na(i,a.document.name),g=li(a.document.updateTime),v=a.document.createTime?li(a.document.createTime):wn.min(),O=new Qs({mapValue:{fields:a.document.fields}}),V=ji.newFoundDocument(h,g,v,O);n=new ao(a.targetIds||[],a.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const a=e.documentDelete,h=Na(i,a.document),g=a.readTime?li(a.readTime):wn.min(),v=ji.newNoDocument(h,g);n=new ao([],a.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const a=e.documentRemove,h=Na(i,a.document);n=new ao([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return gn();{const a=e.filter,{count:h=0,unchangedNames:g}=a,v=new kd(h,g);n=new Fd(a.targetId,v)}}var G;return n}(this.serializer,e),a=function(g){if(!("targetChange"in g))return wn.min();const v=g.targetChange;return v.targetIds&&v.targetIds.length?wn.min():v.readTime?li(v.readTime):wn.min()}(e);return this.listener.a_(n,a)}u_(e){const n={};n.database=jl(this.serializer),n.addTarget=function(g,v){let O;const V=v.target;if(O=Po(V)?{documents:xm(g,V)}:{query:og(g,V)},O.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){O.resumeToken=Ir(g,v.resumeToken);const G=_n(g,v.expectedCount);null!==G&&(O.expectedCount=G)}else if(v.snapshotVersion.compareTo(wn.min())>0){O.readTime=Vn(g,v.snapshotVersion.toTimestamp());const G=_n(g,v.expectedCount);null!==G&&(O.expectedCount=G)}return O}(this.serializer,e);const a=function Mm(i,e){const n=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gn()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);a&&(n.labels=a),this.e_(n)}c_(e){const n={};n.database=jl(this.serializer),n.removeTarget=e,this.e_(n)}}class sp extends ip{constructor(e,n,a,h,g,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,h,v),this.serializer=g,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Pn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Q_(i,e){return i&&i.length>0?(Pn(void 0!==e),i.map(n=>function(h,g){let v=li(h.updateTime?h.updateTime:g);return v.isEqual(wn.min())&&(v=li(g)),new jf(v,h.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),a=li(e.commitTime);return this.listener.I_(a,n)}return Pn(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=jl(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>function kc(i,e){let n;if(e instanceof qu)n={update:bu(i,e.key,e.value)};else if(e instanceof Wu)n={delete:yu(i,e.key)};else if(e instanceof Pa)n={update:bu(i,e.key,e.data),updateMask:Lc(e.fieldMask)};else{if(!(e instanceof rl))return gn();n={verify:yu(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(g,v){const O=v.transform;if(O instanceof zu)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(O instanceof El)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:O.elements}};if(O instanceof $u)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:O.elements}};if(O instanceof Rd)return{fieldPath:v.field.canonicalString(),increment:O.Ie};throw gn()}(0,a))),e.precondition.isNone||(n.currentDocument=void 0!==(g=e.precondition).updateTime?{updateTime:ps(i,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:gn()),n;var g}(this.serializer,a))};this.e_(n)}}class Qc extends class{}{constructor(e,n,a,h){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=h,this.d_=!1}A_(){if(this.d_)throw new Ot(lt.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,a){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.wo(e,n,a,h,g)).catch(h=>{throw"FirebaseError"===h.name?(h.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ot(lt.UNKNOWN,h.toString())})}Co(e,n,a,h){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,v])=>this.connection.Co(e,n,a,g,v,h)).catch(g=>{throw"FirebaseError"===g.name?(g.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Ot(lt.UNKNOWN,g.toString())})}terminate(){this.d_=!0}}class op{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Vi(n),this.f_=!1):Mt("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class uv{constructor(e,n,a,h,g){var v=this;this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=g,this.F_.ro(O=>{a.enqueueAndForget((0,he.Z)(function*(){var V;td(v)&&(Mt("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,he.Z)(function*(re){const _e=tn(re);_e.C_.add(4),yield ed(_e),_e.M_.set("Unknown"),_e.C_.delete(4),yield Jc(_e)}),function G(re){return V.apply(this,arguments)})(v))}))}),this.M_=new op(a,h)}}function Jc(i){return Xc.apply(this,arguments)}function Xc(){return Xc=(0,he.Z)(function*(i){if(td(i))for(const e of i.v_)yield e(!0)}),Xc.apply(this,arguments)}function ed(i){return ap.apply(this,arguments)}function ap(){return ap=(0,he.Z)(function*(i){for(const e of i.v_)yield e(!1)}),ap.apply(this,arguments)}function lp(i,e){const n=tn(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Rg(n)?cp(n):Qd(n).Ho()&&up(n,e))}function ef(i,e){const n=tn(i),a=Qd(n);n.D_.delete(e),a.Ho()&&Mg(n,e),0===n.D_.size&&(a.Ho()?a.Zo():td(n)&&n.M_.set("Unknown"))}function up(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qd(i).u_(e)}function Mg(i,e){i.x_.Oe(e),Qd(i).c_(e)}function cp(i){i.x_=new T({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Qd(i).start(),i.M_.g_()}function Rg(i){return td(i)&&!Qd(i).jo()&&i.D_.size>0}function td(i){return 0===tn(i).C_.size}function Pg(i){i.x_=void 0}function dp(i){return tf.apply(this,arguments)}function tf(){return tf=(0,he.Z)(function*(i){i.D_.forEach((e,n)=>{up(i,e)})}),tf.apply(this,arguments)}function py(i,e){return sc.apply(this,arguments)}function sc(){return sc=(0,he.Z)(function*(i,e){Pg(i),Rg(i)?(i.M_.w_(e),cp(i)):i.M_.set("Unknown")}),sc.apply(this,arguments)}function Og(i,e,n){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,he.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof M&&2===e.state&&e.cause)try{yield(a=(0,he.Z)(function*(g,v){const O=v.cause;for(const V of v.targetIds)g.D_.has(V)&&(yield g.remoteSyncer.rejectListen(V,O),g.D_.delete(V),g.x_.removeTarget(V))}),function h(g,v){return a.apply(this,arguments)})(i,e)}catch(a){Mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield nf(i,a)}else if(e instanceof ao?i.x_.$e(e):e instanceof Fd?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(wn.min()))try{const a=yield Wh(i.localStore);n.compareTo(a)>=0&&(yield function(g,v){const O=g.x_.it(v);return O.targetChanges.forEach((V,G)=>{if(V.resumeToken.approximateByteSize()>0){const re=g.D_.get(G);re&&g.D_.set(G,re.withResumeToken(V.resumeToken,v))}}),O.targetMismatches.forEach((V,G)=>{const re=g.D_.get(V);if(!re)return;g.D_.set(V,re.withResumeToken(fs.EMPTY_BYTE_STRING,re.snapshotVersion)),Mg(g,V);const _e=new Il(re.target,V,G,re.sequenceNumber);up(g,_e)}),g.remoteSyncer.applyRemoteEvent(O)}(i,n))}catch(a){Mt("RemoteStore","Failed to raise snapshot:",a),yield nf(i,a)}var a}),Yd.apply(this,arguments)}function nf(i,e,n){return rf.apply(this,arguments)}function rf(){return rf=(0,he.Z)(function*(i,e,n){if(!Wo(e))throw e;i.C_.add(1),yield ed(i),i.M_.set("Offline"),n||(n=()=>Wh(i.localStore)),i.asyncQueue.enqueueRetryable((0,he.Z)(function*(){Mt("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield Jc(i)}))}),rf.apply(this,arguments)}function Xm(i,e){return e().catch(n=>nf(i,n,e))}function nd(i){return e_.apply(this,arguments)}function e_(){return e_=(0,he.Z)(function*(i){const e=tn(i),n=oc(e);let a=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Ng(e);)try{const h=yield Zc(e.localStore,a);if(null===h){0===e.b_.length&&n.Zo();break}a=h.batchId,hp(e,h)}catch(h){yield nf(e,h)}fp(e)&&rd(e)}),e_.apply(this,arguments)}function Ng(i){return td(i)&&i.b_.length<10}function hp(i,e){i.b_.push(e);const n=oc(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function fp(i){return td(i)&&!oc(i).jo()&&i.b_.length>0}function rd(i){oc(i).start()}function sf(i){return pp.apply(this,arguments)}function pp(){return pp=(0,he.Z)(function*(i){oc(i).E_()}),pp.apply(this,arguments)}function t_(i){return af.apply(this,arguments)}function af(){return af=(0,he.Z)(function*(i){const e=oc(i);for(const n of i.b_)e.P_(n.mutations)}),af.apply(this,arguments)}function gy(i,e,n){return kg.apply(this,arguments)}function kg(){return kg=(0,he.Z)(function*(i,e,n){const a=i.b_.shift(),h=pu.from(a,e,n);yield Xm(i,()=>i.remoteSyncer.applySuccessfulWrite(h)),yield nd(i)}),kg.apply(this,arguments)}function n_(i,e){return gp.apply(this,arguments)}function gp(){return gp=(0,he.Z)(function*(i,e){var n;e&&oc(i).h_&&(yield(n=(0,he.Z)(function*(h,g){if(function rg(i){switch(i){default:return gn();case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0}}(O=g.code)&&O!==lt.ABORTED){const v=h.b_.shift();oc(h).Yo(),yield Xm(h,()=>h.remoteSyncer.rejectFailedWrite(v.batchId,g)),yield nd(h)}var O}),function a(h,g){return n.apply(this,arguments)})(i,e)),fp(i)&&rd(i)}),gp.apply(this,arguments)}function lf(i,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,he.Z)(function*(i,e){const n=tn(i);n.asyncQueue.verifyOperationInProgress(),Mt("RemoteStore","RemoteStore received new credentials");const a=td(n);n.C_.add(3),yield ed(n),a&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Jc(n)}),Lg.apply(this,arguments)}function cf(){return cf=(0,he.Z)(function*(i,e){const n=tn(i);e?(n.C_.delete(2),yield Jc(n)):e||(n.C_.add(2),yield ed(n),n.M_.set("Unknown"))}),cf.apply(this,arguments)}function Qd(i){return i.O_||(i.O_=function(n,a,h){const g=tn(n);return g.A_(),new Jh(a,g.connection,g.authCredentials,g.appCheckCredentials,g.serializer,h)}(i.datastore,i.asyncQueue,{ho:dp.bind(null,i),Io:py.bind(null,i),a_:Og.bind(null,i)}),i.v_.push(function(){var e=(0,he.Z)(function*(n){n?(i.O_.Yo(),Rg(i)?cp(i):i.M_.set("Unknown")):(yield i.O_.stop(),Pg(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function oc(i){return i.N_||(i.N_=function(n,a,h){const g=tn(n);return g.A_(),new sp(a,g.connection,g.authCredentials,g.appCheckCredentials,g.serializer,h)}(i.datastore,i.asyncQueue,{ho:sf.bind(null,i),Io:n_.bind(null,i),T_:t_.bind(null,i),I_:gy.bind(null,i)}),i.v_.push(function(){var e=(0,he.Z)(function*(n){n?(i.N_.Yo(),yield nd(i)):(yield i.N_.stop(),i.b_.length>0&&(Mt("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class df{constructor(e,n,a,h,g){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=h,this.removalCallback=g,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,h,g){const v=Date.now()+a,O=new df(e,n,v,h,g);return O.start(a),O}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ot(lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jd(i,e){if(Vi("AsyncQueue",`${e}: ${i}`),Wo(i))return new Ot(lt.UNAVAILABLE,`${e}: ${i}`);throw i}class id{constructor(e){this.comparator=e?(n,a)=>e(n,a)||Et.comparator(n.key,a.key):(n,a)=>Et.comparator(n.key,a.key),this.keyedMap=nl(),this.sortedSet=new fi(this.comparator)}static emptySet(e){return new id(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof id)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const h=n.getNext().key,g=a.getNext().key;if(!h.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const a=new id;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class r_{constructor(){this.B_=new fi(Et.comparator)}track(e){const n=e.doc.key,a=this.B_.get(n);a?0!==e.type&&3===a.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==a.type?this.B_=this.B_.insert(n,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.B_=this.B_.remove(n):1===e.type&&2===a.type?this.B_=this.B_.insert(n,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):gn():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,a)=>{e.push(a)}),e}}class sd{constructor(e,n,a,h,g,v,O,V,G){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=g,this.fromCache=v,this.syncStateChanged=O,this.excludesMetadataChanges=V,this.hasCachedResults=G}static fromInitialDocuments(e,n,a,h,g){const v=[];return n.forEach(O=>{v.push({type:0,doc:O})}),new sd(e,n,id.emptySet(n),v,a,h,!0,!1,g)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let h=0;h<n.length;h++)if(n[h].type!==a[h].type||!n[h].doc.isEqual(a[h].doc))return!1;return!0}}class cv{constructor(){this.k_=void 0,this.listeners=[]}}class i_{constructor(){this.queries=new Uo(e=>Lf(e),Sc),this.onlineState="Unknown",this.q_=new Set}}function Va(){return Va=(0,he.Z)(function*(i,e){const n=tn(i),a=e.query;let h=!1,g=n.queries.get(a);if(g||(h=!0,g=new cv),h)try{g.k_=yield n.onListen(a)}catch(v){const O=Jd(v,`Initialization of query '${fu(e.query)}' failed`);return void e.onError(O)}n.queries.set(a,g),g.listeners.push(e),e.Q_(n.onlineState),g.k_&&e.K_(g.k_)&&hf(n)}),Va.apply(this,arguments)}function s_(){return s_=(0,he.Z)(function*(i,e){const n=tn(i),a=e.query;let h=!1;const g=n.queries.get(a);if(g){const v=g.listeners.indexOf(e);v>=0&&(g.listeners.splice(v,1),h=0===g.listeners.length)}if(h)return n.queries.delete(a),n.onUnlisten(a)}),s_.apply(this,arguments)}function Fg(i,e){const n=tn(i);let a=!1;for(const h of e){const v=n.queries.get(h.query);if(v){for(const O of v.listeners)O.K_(h)&&(a=!0);v.k_=h}}a&&hf(n)}function ac(i,e,n){const a=tn(i),h=a.queries.get(e);if(h)for(const g of h.listeners)g.onError(n);a.queries.delete(e)}function hf(i){i.q_.forEach(e=>{e.next()})}class Vg{constructor(e,n,a){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=a||{}}K_(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new sd(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=sd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Bg{constructor(e){this.key=e}}class a_{constructor(e){this.key=e}}class my{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=mr(),this.mutatedKeys=mr(),this._a=Ff(e),this.aa=new id(this._a)}get ua(){return this.ia}ca(e,n){const a=n?n.la:new r_,h=n?n.aa:this.aa;let g=n?n.mutatedKeys:this.mutatedKeys,v=h,O=!1;const V="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,G="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((re,_e)=>{const Ne=h.get(re),et=xc(this.query,_e)?_e:null,Qt=!!Ne&&this.mutatedKeys.has(Ne.key),nn=!!et&&(et.hasLocalMutations||this.mutatedKeys.has(et.key)&&et.hasCommittedMutations);let on=!1;Ne&&et?Ne.data.isEqual(et.data)?Qt!==nn&&(a.track({type:3,doc:et}),on=!0):this.ha(Ne,et)||(a.track({type:2,doc:et}),on=!0,(V&&this._a(et,V)>0||G&&this._a(et,G)<0)&&(O=!0)):!Ne&&et?(a.track({type:0,doc:et}),on=!0):Ne&&!et&&(a.track({type:1,doc:Ne}),on=!0,(V||G)&&(O=!0)),on&&(et?(v=v.add(et),g=nn?g.add(re):g.delete(re)):(v=v.delete(re),g=g.delete(re)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const re="F"===this.query.limitType?v.last():v.first();v=v.delete(re.key),g=g.delete(re.key),a.track({type:1,doc:re})}return{aa:v,la:a,Zi:O,mutatedKeys:g}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a){const h=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const g=e.la.L_();g.sort((G,re)=>function(Ne,et){const Qt=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gn()}};return Qt(Ne)-Qt(et)}(G.type,re.type)||this._a(G.doc,re.doc)),this.Pa(a);const v=n?this.Ia():[],O=0===this.oa.size&&this.current?1:0,V=O!==this.sa;return this.sa=O,0!==g.length||V?{snapshot:new sd(this.query,e.aa,h,g,e.mutatedKeys,0===O,V,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ta:v}:{Ta:v}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new r_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=mr(),this.aa.forEach(a=>{this.Ea(a.key)&&(this.oa=this.oa.add(a.key))});const n=[];return e.forEach(a=>{this.oa.has(a)||n.push(new a_(a))}),this.oa.forEach(a=>{e.has(a)||n.push(new Bg(a))}),n}da(e){this.ia=e.ls,this.oa=mr();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return sd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Eo{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class _y{constructor(e){this.key=e,this.Ra=!1}}class jg{constructor(e,n,a,h,g,v){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=h,this.currentUser=g,this.maxConcurrentLimboResolutions=v,this.Va={},this.ma=new Uo(O=>Lf(O),Sc),this.fa=new Map,this.ga=new Set,this.pa=new fi(Et.comparator),this.ya=new Map,this.wa=new nc,this.Sa={},this.ba=new Map,this.Da=Fa.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function yy(i,e){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,he.Z)(function*(i,e){const n=function Ap(i){const e=tn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wi.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ey.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d_.bind(null,e),e.Va.a_=Fg.bind(null,e.eventManager),e.Va.Fa=ac.bind(null,e.eventManager),e}(i);let a,h;const g=n.ma.get(e);if(g)a=g.targetId,n.sharedClientState.addLocalQueryTarget(a),h=g.view.Aa();else{const v=yield function Gd(i,e){const n=tn(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return n.qr.getTargetData(a,e).next(g=>g?(h=g,Ke.resolve(h)):n.qr.allocateTargetId(a).next(v=>(h=new Il(e,v,"TargetPurposeListen",a.currentSequenceNumber),n.qr.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=n.ts.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(n.ts=n.ts.insert(a.targetId,a),n.ns.set(e,a.targetId)),a})}(n.localStore,vs(e)),O=n.sharedClientState.addLocalQueryTarget(v.targetId);a=v.targetId,h=yield function ff(i,e,n,a,h){return yp.apply(this,arguments)}(n,e,a,"current"===O,v.resumeToken),n.isPrimaryClient&&lp(n.remoteStore,v)}return h}),Hg.apply(this,arguments)}function yp(){return yp=(0,he.Z)(function*(i,e,n,a,h){i.va=(_e,Ne,et)=>{return(Qt=(0,he.Z)(function*(on,tr,lr,sr){let Kr=tr.view.ca(lr);Kr.Zi&&(Kr=yield Xf(on.localStore,tr.query,!1).then(({documents:zo})=>tr.view.ca(zo,Kr)));const Zi=sr&&sr.targetChanges.get(tr.targetId),Oi=tr.view.applyChanges(Kr,on.isPrimaryClient,Zi);return eh(on,tr.targetId,Oi.Ta),Oi.snapshot}),function nn(on,tr,lr,sr){return Qt.apply(this,arguments)})(i,_e,Ne,et);var Qt};const g=yield Xf(i.localStore,e,!0),v=new my(e,g.ls),O=v.ca(g.documents),V=gu.createSynthesizedTargetChangeForCurrentChange(n,a&&"Offline"!==i.onlineState,h),G=v.applyChanges(O,i.isPrimaryClient,V);eh(i,n,G.Ta);const re=new Eo(e,n,v);return i.ma.set(e,re),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),G.snapshot}),yp.apply(this,arguments)}function l_(i,e){return zg.apply(this,arguments)}function zg(){return zg=(0,he.Z)(function*(i,e){const n=tn(i),a=n.ma.get(e),h=n.fa.get(a.targetId);if(h.length>1)return n.fa.set(a.targetId,h.filter(g=>!Sc(g,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||(yield rc(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),ef(n.remoteStore,a.targetId),Zl(n,a.targetId)}).catch(or))):(Zl(n,a.targetId),yield rc(n.localStore,a.targetId,!0))}),zg.apply(this,arguments)}function vp(){return vp=(0,he.Z)(function*(i,e,n){const a=function rh(i){const e=tn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vy.bind(null,e),e}(i);try{const h=yield function(v,O){const V=tn(v),G=Gi.now(),re=O.reduce((et,Qt)=>et.add(Qt.key),mr());let _e,Ne;return V.persistence.runTransaction("Locally write mutations","readwrite",et=>{let Qt=Js(),nn=mr();return V.ss.getEntries(et,re).next(on=>{Qt=on,Qt.forEach((tr,lr)=>{lr.isValidDocument()||(nn=nn.add(tr))})}).next(()=>V.localDocuments.getOverlayedDocuments(et,Qt)).next(on=>{_e=on;const tr=[];for(const lr of O){const sr=Y_(lr,_e.get(lr.key).overlayedDocument);null!=sr&&tr.push(new Pa(lr.key,sr,yl(sr.value.mapValue),es.exists(!0)))}return V.mutationQueue.addMutationBatch(et,G,tr,O)}).next(on=>{Ne=on;const tr=on.applyToLocalDocumentSet(_e,nn);return V.documentOverlayCache.saveOverlays(et,on.batchId,tr)})}).then(()=>({batchId:Ne.batchId,changes:Md(_e)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(v,O,V){let G=v.Sa[v.currentUser.toKey()];G||(G=new fi(Wn)),G=G.insert(O,V),v.Sa[v.currentUser.toKey()]=G}(a,h.batchId,n),yield Du(a,h.changes),yield nd(a.remoteStore)}catch(h){const g=Jd(h,"Failed to persist write");n.reject(g)}}),vp.apply(this,arguments)}function Wi(i,e){return $g.apply(this,arguments)}function $g(){return $g=(0,he.Z)(function*(i,e){const n=tn(i);try{const a=yield function Ym(i,e){const n=tn(i),a=e.snapshotVersion;let h=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const v=n.ss.newChangeBuffer({trackRemovals:!0});h=n.ts;const O=[];e.targetChanges.forEach((re,_e)=>{const Ne=h.get(_e);if(!Ne)return;O.push(n.qr.removeMatchingKeys(g,re.removedDocuments,_e).next(()=>n.qr.addMatchingKeys(g,re.addedDocuments,_e)));let et=Ne.withSequenceNumber(g.currentSequenceNumber);var nn,on,tr;null!==e.targetMismatches.get(_e)?et=et.withResumeToken(fs.EMPTY_BYTE_STRING,wn.min()).withLastLimboFreeSnapshotVersion(wn.min()):re.resumeToken.approximateByteSize()>0&&(et=et.withResumeToken(re.resumeToken,a)),h=h.insert(_e,et),on=et,tr=re,(0===(nn=Ne).resumeToken.approximateByteSize()||on.snapshotVersion.toMicroseconds()-nn.snapshotVersion.toMicroseconds()>=3e8||tr.addedDocuments.size+tr.modifiedDocuments.size+tr.removedDocuments.size>0)&&O.push(n.qr.updateTargetData(g,et))});let V=Js(),G=mr();if(e.documentUpdates.forEach(re=>{e.resolvedLimboDocuments.has(re)&&O.push(n.persistence.referenceDelegate.updateLimboDocument(g,re))}),O.push(function wg(i,e,n){let a=mr(),h=mr();return n.forEach(g=>a=a.add(g)),e.getEntries(i,a).next(g=>{let v=Js();return n.forEach((O,V)=>{const G=g.get(O);V.isFoundDocument()!==G.isFoundDocument()&&(h=h.add(O)),V.isNoDocument()&&V.version.isEqual(wn.min())?(e.removeEntry(O,V.readTime),v=v.insert(O,V)):!G.isValidDocument()||V.version.compareTo(G.version)>0||0===V.version.compareTo(G.version)&&G.hasPendingWrites?(e.addEntry(V),v=v.insert(O,V)):Mt("LocalStore","Ignoring outdated watch update for ",O,". Current version:",G.version," Watch version:",V.version)}),{us:v,cs:h}})}(g,v,e.documentUpdates).next(re=>{V=re.us,G=re.cs})),!a.isEqual(wn.min())){const re=n.qr.getLastRemoteSnapshotVersion(g).next(_e=>n.qr.setTargetsMetadata(g,g.currentSequenceNumber,a));O.push(re)}return Ke.waitFor(O).next(()=>v.apply(g)).next(()=>n.localDocuments.getLocalViewOfDocuments(g,V,G)).next(()=>V)}).then(g=>(n.ts=h,g))}(n.localStore,e);e.targetChanges.forEach((h,g)=>{const v=n.ya.get(g);v&&(Pn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?v.Ra=!0:h.modifiedDocuments.size>0?Pn(v.Ra):h.removedDocuments.size>0&&(Pn(v.Ra),v.Ra=!1))}),yield Du(n,a,e)}catch(a){yield or(a)}}),$g.apply(this,arguments)}function c_(i,e,n){const a=tn(i);if(a.isPrimaryClient&&0===n||!a.isPrimaryClient&&1===n){const h=[];a.ma.forEach((g,v)=>{const O=v.view.Q_(e);O.snapshot&&h.push(O.snapshot)}),function(v,O){const V=tn(v);V.onlineState=O;let G=!1;V.queries.forEach((re,_e)=>{for(const Ne of _e.listeners)Ne.Q_(O)&&(G=!0)}),G&&hf(V)}(a.eventManager,e),h.length&&a.Va.a_(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function d_(i,e,n){return lc.apply(this,arguments)}function lc(){return lc=(0,he.Z)(function*(i,e,n){const a=tn(i);a.sharedClientState.updateQueryState(e,"rejected",n);const h=a.ya.get(e),g=h&&h.key;if(g){let v=new fi(Et.comparator);v=v.insert(g,ji.newNoDocument(g,wn.min()));const O=mr().add(g),V=new Xs(wn.min(),new Map,new fi(Wn),v,O);yield Wi(a,V),a.pa=a.pa.remove(g),a.ya.delete(e),qg(a)}else yield rc(a.localStore,e,!1).then(()=>Zl(a,e,n)).catch(or)}),lc.apply(this,arguments)}function Wl(i,e){return sl.apply(this,arguments)}function sl(){return sl=(0,he.Z)(function*(i,e){const n=tn(i),a=e.batch.batchId;try{const h=yield function $d(i,e){const n=tn(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),g=n.ss.newChangeBuffer({trackRemovals:!0});return function(O,V,G,re){const _e=G.batch,Ne=_e.keys();let et=Ke.resolve();return Ne.forEach(Qt=>{et=et.next(()=>re.getEntry(V,Qt)).next(nn=>{const on=G.docVersions.get(Qt);Pn(null!==on),nn.version.compareTo(on)<0&&(_e.applyToRemoteDocument(nn,G),nn.isValidDocument()&&(nn.setReadTime(G.commitVersion),re.addEntry(nn)))})}),et.next(()=>O.mutationQueue.removeMutationBatch(V,_e))}(n,a,e,g).next(()=>g.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(O){let V=mr();for(let G=0;G<O.mutationResults.length;++G)O.mutationResults[G].transformResults.length>0&&(V=V.add(O.batch.mutations[G].key));return V}(e))).next(()=>n.localDocuments.getDocuments(a,h))})}(n.localStore,e);od(n,a,null),Xd(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),yield Du(n,h)}catch(h){yield or(h)}}),sl.apply(this,arguments)}function vy(i,e,n){return pf.apply(this,arguments)}function pf(){return pf=(0,he.Z)(function*(i,e,n){const a=tn(i);try{const h=yield function(v,O){const V=tn(v);return V.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let re;return V.mutationQueue.lookupMutationBatch(G,O).next(_e=>(Pn(null!==_e),re=_e.keys(),V.mutationQueue.removeMutationBatch(G,_e))).next(()=>V.mutationQueue.performConsistencyCheck(G)).next(()=>V.documentOverlayCache.removeOverlaysForBatchId(G,re,O)).next(()=>V.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,re)).next(()=>V.localDocuments.getDocuments(G,re))})}(a.localStore,e);od(a,e,n),Xd(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),yield Du(a,h)}catch(h){yield or(h)}}),pf.apply(this,arguments)}function Xd(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function od(i,e,n){const a=tn(i);let h=a.Sa[a.currentUser.toKey()];if(h){const g=h.get(e);g&&(n?g.reject(n):g.resolve(),h=h.remove(e)),a.Sa[a.currentUser.toKey()]=h}}function Zl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.fa.get(e))i.ma.delete(a),n&&i.Va.Fa(a,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(a=>{i.wa.containsKey(a)||Gg(i,a)})}function Gg(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(ef(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),qg(i))}function eh(i,e,n){for(const a of n)a instanceof Bg?(i.wa.addReference(a.key,e),by(i,a)):a instanceof a_?(Mt("SyncEngine","Document no longer in limbo: "+a.key),i.wa.removeReference(a.key,e),i.wa.containsKey(a.key)||Gg(i,a.key)):gn()}function by(i,e){const n=e.key,a=n.path.canonicalString();i.pa.get(n)||i.ga.has(a)||(Mt("SyncEngine","New document in limbo: "+n),i.ga.add(a),qg(i))}function qg(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new Et(Er.fromString(e)),a=i.Da.next();i.ya.set(a,new _y(n)),i.pa=i.pa.insert(n,a),lp(i.remoteStore,new Il(vs(xd(n.path)),a,"TargetPurposeLimboResolution",Ro._e))}}function Du(i,e,n){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,he.Z)(function*(i,e,n){const a=tn(i),h=[],g=[],v=[];var O;a.ma.isEmpty()||(a.ma.forEach((O,V)=>{v.push(a.va(V,e,n).then(G=>{if((G||n)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(V.targetId,G?.fromCache?"not-current":"current"),G){h.push(G);const re=$h.Qi(V.targetId,G);g.push(re)}}))}),yield Promise.all(v),a.Va.a_(h),yield(O=(0,he.Z)(function*(G,re){const _e=tn(G);try{yield _e.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ne=>Ke.forEach(re,et=>Ke.forEach(et.ki,Qt=>_e.persistence.referenceDelegate.addReference(Ne,et.targetId,Qt)).next(()=>Ke.forEach(et.qi,Qt=>_e.persistence.referenceDelegate.removeReference(Ne,et.targetId,Qt)))))}catch(Ne){if(!Wo(Ne))throw Ne;Mt("LocalStore","Failed to update sequence numbers: "+Ne)}for(const Ne of re){const et=Ne.targetId;if(!Ne.fromCache){const Qt=_e.ts.get(et),on=Qt.withLastLimboFreeSnapshotVersion(Qt.snapshotVersion);_e.ts=_e.ts.insert(et,on)}}}),function V(G,re){return O.apply(this,arguments)})(a.localStore,g))}),Wg.apply(this,arguments)}function f_(i,e){return p_.apply(this,arguments)}function p_(){return p_=(0,he.Z)(function*(i,e){const n=tn(i);if(!n.currentUser.isEqual(e)){Mt("SyncEngine","User change. New user:",e.toKey());const a=yield dy(n.localStore,e);n.currentUser=e,(g=n).ba.forEach(O=>{O.forEach(V=>{V.reject(new Ot(lt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.ba.clear(),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Du(n,a._s)}var g}),p_.apply(this,arguments)}function Ey(i,e){const n=tn(i),a=n.ya.get(e);if(a&&a.Ra)return mr().add(a.key);{let h=mr();const g=n.fa.get(e);if(!g)return h;for(const v of g){const O=n.ma.get(v);h=h.unionWith(O.view.ua)}return h}}class sh{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,he.Z)(function*(){n.serializer=Cl(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Gh(i,e,n,a){return new Km(i,e,n,a)}(this.persistence,new Tg,e.initialUser,this.serializer)}createPersistence(e){return new Ig(Jf.jr,this.serializer)}createSharedClientState(e){return new rp}terminate(){var e=this;return(0,he.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class uc{initialize(e,n){var a=this;return(0,he.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(n),a.remoteStore=a.createRemoteStore(n),a.eventManager=a.createEventManager(n),a.syncEngine=a.createSyncEngine(n,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=h=>c_(a.syncEngine,h,1),a.remoteStore.remoteSyncer.handleCredentialChange=f_.bind(null,a.syncEngine),yield function uf(i,e){return cf.apply(this,arguments)}(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new i_}createDatastore(e){const n=Cl(e.databaseInfo.databaseId),a=new Jm(e.databaseInfo);return new Qc(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return a=this.localStore,h=this.datastore,g=e.asyncQueue,v=n=>c_(this.syncEngine,n,0),O=fy.D()?new fy:new Qm,new uv(a,h,g,v,O);var a,h,g,v,O}createSyncEngine(e,n){return function(h,g,v,O,V,G,re){const _e=new jg(h,g,v,O,V,G);return re&&(_e.Ca=!0),_e}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,he.Z)(function*(a){const h=tn(a);Mt("RemoteStore","RemoteStore shutting down."),h.C_.add(5),yield ed(h),h.F_.shutdown(),h.M_.set("Unknown")}),function n(a){return e.apply(this,arguments)})(this.remoteStore);var e}}class yf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class wy{constructor(e,n,a,h){var g=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=h,this.user=hi.UNAUTHENTICATED,this.clientId=md.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var v=(0,he.Z)(function*(O){Mt("FirestoreClient","Received user=",O.uid),yield g.authCredentialListener(O),g.user=O});return function(O){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(a,v=>(Mt("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,he.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ot(lt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(a){const h=Jd(a,"Failed to shutdown persistence");n.reject(h)}})),n.promise}}function vf(i,e){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,he.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Mt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(function(){var h=(0,he.Z)(function*(g){a.isEqual(g)||(yield dy(e.localStore,g),a=g)});return function(g){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Yg.apply(this,arguments)}function Qg(i,e){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,he.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Sp(i){return xp.apply(this,arguments)}(i);Mt("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield e.initialize(n,a),i.setCredentialChangeListener(h=>lf(e.remoteStore,h)),i.setAppCheckTokenChangeListener((h,g)=>lf(e.remoteStore,g)),i._onlineComponents=e}),Jg.apply(this,arguments)}function xp(){return xp=(0,he.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield vf(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function E_(i){return"FirebaseError"===i.name?i.code===lt.FAILED_PRECONDITION||i.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),yield vf(i,new sh)}}else Mt("FirestoreClient","Using default OfflineComponentProvider"),yield vf(i,new sh);return i._offlineComponents}),xp.apply(this,arguments)}function Mp(i){return I_.apply(this,arguments)}function I_(){return I_=(0,he.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Qg(i,i._uninitializedComponentsProvider._online)):(Mt("FirestoreClient","Using default OnlineComponentProvider"),yield Qg(i,new uc))),i._onlineComponents}),I_.apply(this,arguments)}function ad(i){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,he.Z)(function*(i){const e=yield Mp(i),n=e.eventManager;return n.onListen=yy.bind(null,e.syncEngine),n.onUnlisten=l_.bind(null,e.syncEngine),n}),Xg.apply(this,arguments)}function Op(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const tm=new Map;function ld(i,e,n){if(!n)throw new Ot(lt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ah(i){if(!Et.isDocumentKey(i))throw new Ot(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function nm(i){if(Et.isDocumentKey(i))throw new Ot(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ts(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(a=i).constructor?a.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var a;return"function"==typeof i?"a function":gn()}function Ur(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ot(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ts(i);throw new Ot(lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class rm{constructor(e){var n,a;if(void 0===e.host){if(void 0!==e.ssl)throw new Ot(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ot(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Np(i,e,n,a){if(!0===e&&!0===a)throw new Ot(lt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Op(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(g){if(void 0!==g.timeoutSeconds){if(isNaN(g.timeoutSeconds))throw new Ot(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (must not be NaN)`);if(g.timeoutSeconds<5)throw new Ot(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (minimum allowed value is 5)`);if(g.timeoutSeconds>30)throw new Ot(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lh{constructor(e,n,a,h){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ot(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ot(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rm(e),void 0!==e.credentials&&(this._authCredentials=function(a){if(!a)return new pd;switch(a.type){case"firstParty":return new Us(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ot(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=tm.get(n);a&&(Mt("ComponentProvider","Removing Datastore"),tm.delete(n),a.terminate())}(this),Promise.resolve()}}class Io{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class bs{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bs(this.firestore,e,this._key)}}class To extends Io{constructor(e,n,a){super(e,n,xd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bs(this.firestore,null,new Et(e))}withConverter(e){return new To(this.firestore,e,this._path)}}function My(i,e,...n){if(i=(0,pe.m9)(i),ld("collection","path",e),i instanceof lh){const a=Er.fromString(e,...n);return nm(a),new To(i,null,a)}{if(!(i instanceof bs||i instanceof To))throw new Ot(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Er.fromString(e,...n));return nm(a),new To(i.firestore,null,a)}}function kp(i,e,...n){if(i=(0,pe.m9)(i),1===arguments.length&&(e=md.newId()),ld("doc","path",e),i instanceof lh){const a=Er.fromString(e,...n);return ah(a),new bs(i,null,new Et(a))}{if(!(i instanceof bs||i instanceof To))throw new Ot(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Er.fromString(e,...n));return ah(a),new bs(i.firestore,i instanceof To?i.converter:null,new Et(a))}}class sm{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Kd(this,"async_queue_retry"),this.iu=()=>{const n=Zd();n&&Mt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Zd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Zd();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Wr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,he.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Wo(n))throw n;Mt("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(a=>{throw this.eu=a,this.tu=!1,Vi("INTERNAL UNHANDLED ERROR: ",function(v){let O=v.message||"";return v.stack&&(O=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),O}(a)),a}).then(a=>(this.tu=!1,a))));return this.Ja=n,n}enqueueAfterDelay(e,n,a){this.su(),this.ru.indexOf(e)>-1&&(n=0);const h=df.createAndSchedule(this,e,n,a,g=>this.au(g));return this.Xa.push(h),h}su(){this.eu&&gn()}verifyOperationInProgress(){}uu(){var e=this;return(0,he.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function uh(i){return function(n,a){if("object"!=typeof n||null===n)return!1;const h=n;for(const g of["next","error","complete"])if(g in h&&"function"==typeof h[g])return!0;return!1}(i)}class Ii extends lh{constructor(e,n,a,h){super(e,n,a,h),this.type="firestore",this._queue=new sm,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||om(this),this._firestoreClient.terminate()}}function Py(i,e){const n="object"==typeof i?i:(0,Ge.Mq)(),a="string"==typeof i?i:e||"(default)",h=(0,Ge.qX)(n,"firestore").getImmediate({identifier:a});if(!h._initialized){const g=(0,pe.P0)("firestore");g&&function C_(i,e,n,a={}){var h;const g=(i=Ur(i,lh))._getSettings(),v=`${e}:${n}`;if("firestore.googleapis.com"!==g.host&&g.host!==v&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},g),{host:v,ssl:!1})),a.mockUserToken){let O,V;if("string"==typeof a.mockUserToken)O=a.mockUserToken,V=hi.MOCK_USER;else{O=(0,pe.Sg)(a.mockUserToken,null===(h=i._app)||void 0===h?void 0:h.options.projectId);const G=a.mockUserToken.sub||a.mockUserToken.user_id;if(!G)throw new Ot(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new hi(G)}i._authCredentials=new br(new fd(O,V))}}(h,...g)}return h}function Rs(i){return i._firestoreClient||om(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function om(i){var e,n,a;const h=i._freezeSettings(),g=(V=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new au(i._databaseId,V,i._persistenceKey,(re=h).host,re.ssl,re.experimentalForceLongPolling,re.experimentalAutoDetectLongPolling,Op(re.experimentalLongPollingOptions),re.useFetchStreams));var V,re;i._firestoreClient=new wy(i._authCredentials,i._appCheckCredentials,i._queue,g),null!==(n=h.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(a=h.localCache)&&void 0!==a&&a._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:h.localCache.kind,_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider})}class cd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cd(fs.fromBase64String(e))}catch(n){throw new Ot(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new cd(fs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dh{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Ot(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ui(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lm{constructor(e){this._methodName=e}}class um{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ot(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ot(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wn(this._lat,e._lat)||Wn(this._long,e._long)}}const ky=/^__.*__$/;class D_{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return null!==this.fieldMask?new Pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new qu(e,this.data,n,this.fieldTransforms)}}class Vp{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Pa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function S_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gn()}}class dd{constructor(e,n,a,h,g,v){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===g&&this.Pu(),this.fieldTransforms=g||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new dd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const a=null===(n=this.path)||void 0===n?void 0:n.child(e),h=this.Tu({path:a,du:!1});return h.Au(e),h}Ru(e){var n;const a=null===(n=this.path)||void 0===n?void 0:n.child(e),h=this.Tu({path:a,du:!1});return h.Pu(),h}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return l(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(S_(this.Iu)&&ky.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class If{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Cl(e)}pu(e,n,a,h=!1){return new dd({Iu:e,methodName:n,gu:a,path:Ui.emptyPath(),du:!1,fu:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hh(i){const e=i._freezeSettings(),n=Cl(i._databaseId);return new If(i._databaseId,!!e.ignoreUndefinedProperties,n)}function cm(i,e,n,a,h,g={}){const v=i.pu(g.merge||g.mergeFields?2:0,e,n,h);fm("Data must be an object, but it was:",v,a);const O=Vy(a,v);let V,G;if(g.merge)V=new vo(v.fieldMask),G=v.fieldTransforms;else if(g.mergeFields){const re=[];for(const _e of g.mergeFields){const Ne=wf(e,_e,n);if(!v.contains(Ne))throw new Ot(lt.INVALID_ARGUMENT,`Field '${Ne}' is specified in your field mask but missing from your input data.`);u(re,Ne)||re.push(Ne)}V=new vo(re),G=v.fieldTransforms.filter(_e=>V.covers(_e.field))}else V=null,G=v.fieldTransforms;return new D_(new Qs(O),V,G)}class fh extends lm{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fh}}function Su(i,e){if(Tf(i=(0,pe.m9)(i)))return fm("Unsupported field value:",e,i),Vy(i,e);if(i instanceof lm)return function(a,h){if(!S_(h.Iu))throw h.mu(`${a._methodName}() can only be used with update() and set()`);if(!h.path)throw h.mu(`${a._methodName}() is not currently supported inside arrays`);const g=a._toFieldTransform(h);g&&h.fieldTransforms.push(g)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(a,h){const g=[];let v=0;for(const O of a){let V=Su(O,h.Vu(v));null==V&&(V={nullValue:"NULL_VALUE"}),g.push(V),v++}return{arrayValue:{values:g}}}(i,e)}return function(a,h){if(null===(a=(0,pe.m9)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return Uf(h.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const g=Gi.fromDate(a);return{timestampValue:Vn(h.serializer,g)}}if(a instanceof Gi){const g=new Gi(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Vn(h.serializer,g)}}if(a instanceof um)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof cd)return{bytesValue:Ir(h.serializer,a._byteString)};if(a instanceof bs){const g=h.databaseId,v=a.firestore._databaseId;if(!v.isEqual(g))throw h.mu(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${g.projectId}/${g.database}`);return{referenceValue:mu(a.firestore._databaseId||h.databaseId,a._key.path)}}throw h.mu(`Unsupported field value: ${ts(a)}`)}(i,e)}function Vy(i,e){const n={};return Da(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(i,(a,h)=>{const g=Su(h,e.Eu(a));null!=g&&(n[a]=g)}),{mapValue:{fields:n}}}function Tf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Gi||i instanceof um||i instanceof cd||i instanceof bs||i instanceof lm)}function fm(i,e,n){if(!Tf(n)||"object"!=typeof(h=n)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const a=ts(n);throw e.mu("an object"===a?i+" a custom object":i+" "+a)}var h}function wf(i,e,n){if((e=(0,pe.m9)(e))instanceof dh)return e._internalPath;if("string"==typeof e)return Up(i,e);throw l("Field path arguments must be of type string or ",i,!1,void 0,n)}const pm=new RegExp("[~\\*/\\[\\]]");function Up(i,e,n){if(e.search(pm)>=0)throw l(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new dh(...e.split("."))._internalPath}catch{throw l(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function l(i,e,n,a,h){const g=a&&!a.isEmpty(),v=void 0!==h;let O=`Function ${e}() called with invalid data`;n&&(O+=" (via `toFirestore()`)"),O+=". ";let V="";return(g||v)&&(V+=" (found",g&&(V+=` in field ${a}`),v&&(V+=` in document ${h}`),V+=")"),new Ot(lt.INVALID_ARGUMENT,O+i+V)}function u(i,e){return i.some(n=>n.isEqual(e))}class o{constructor(e,n,a,h,g){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=h,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new bs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new c(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(f("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class c extends o{data(){return super.data()}}function f(i,e){return"string"==typeof e?Up(i,e):e instanceof dh?e._internalPath:e._delegate._internalPath}class b{}class I extends b{}function C(i,e,...n){let a=[];e instanceof b&&a.push(e),a=a.concat(n),function(g){const v=g.filter(V=>V instanceof J).length,O=g.filter(V=>V instanceof N).length;if(v>1||v>0&&O>0)throw new Ot(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)i=h._apply(i);return i}class N extends I{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new N(e,n,a)}_apply(e){const n=this._parse(e);return zr(e._query,n),new Io(e.firestore,e.converter,Th(e._query,n))}_parse(e){const n=hh(e.firestore);return function(g,v,O,V,G,re,_e){let Ne;if(G.isKeyField()){if("array-contains"===re||"array-contains-any"===re)throw new Ot(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${re}' queries on documentId().`);if("in"===re||"not-in"===re){Cr(_e,re);const et=[];for(const Qt of _e)et.push(Ar(V,g,Qt));Ne={arrayValue:{values:et}}}else Ne=Ar(V,g,_e)}else"in"!==re&&"not-in"!==re&&"array-contains-any"!==re||Cr(_e,re),Ne=function hm(i,e,n,a=!1){return Su(n,i.pu(a?4:3,e))}(O,"where",_e,"in"===re||"not-in"===re);return gr.create(G,re,Ne)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function j(i,e,n){const a=e,h=f("where",i);return N._create(h,a,n)}class J extends b{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new J(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===n.length?n[0]:Hr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(h,g){let v=h;const O=g.getFlattenedFilters();for(const V of O)zr(v,V),v=Th(v,V)}(e._query,n),new Io(e.firestore,e.converter,Th(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Ar(i,e,n){if("string"==typeof(n=(0,pe.m9)(n))){if(""===n)throw new Ot(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bu(e)&&-1!==n.indexOf("/"))throw new Ot(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(Er.fromString(n));if(!Et.isDocumentKey(a))throw new Ot(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return pa(i,new Et(a))}if(n instanceof bs)return pa(i,n._key);throw new Ot(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ts(n)}.`)}function Cr(i,e){if(!Array.isArray(i)||0===i.length)throw new Ot(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zr(i,e){const n=function(h,g){for(const v of h)for(const O of v.getFlattenedFilters())if(g.indexOf(O.op)>=0)return O.op;return null}(i.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Ot(lt.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ua{convertValue(e,n="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw gn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Ko(e,(h,g)=>{a[h]=this.convertValue(g,n)}),a}convertGeoPoint(e){return new um(Xi(e.latitude),Xi(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=su(e);return null==a?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=Ya(e);return new Gi(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Er.fromString(e);Pn(ug(a));const h=new Ja(a.get(1),a.get(3)),g=new Et(a.popFirst(5));return h.isEqual(n)||Vi(`Document ${g} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),g}}class Ho{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ol extends o{constructor(e,n,a,h,g,v){super(e,n,a,h,v),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(f("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class xl extends ol{data(e={}){return super.data(e)}}class Ml{constructor(e,n,a,h){this._firestore=e,this._userDataWriter=n,this._snapshot=h,this.metadata=new Ho(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new xl(this._firestore,this._userDataWriter,a.key,a,new Ho(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ot(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(h,g){if(h._snapshot.oldDocs.isEmpty()){let v=0;return h._snapshot.docChanges.map(O=>({type:"added",doc:new xl(h._firestore,h._userDataWriter,O.doc.key,O.doc,new Ho(h._snapshot.mutatedKeys.has(O.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:v++}))}{let v=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(O=>g||3!==O.type).map(O=>{const V=new xl(h._firestore,h._userDataWriter,O.doc.key,O.doc,new Ho(h._snapshot.mutatedKeys.has(O.doc.key),h._snapshot.fromCache),h.query.converter);let G=-1,re=-1;return 0!==O.type&&(G=v.indexOf(O.doc.key),v=v.delete(O.doc.key)),1!==O.type&&(v=v.add(O.doc),re=v.indexOf(O.doc.key)),{type:xu(O.type),doc:V,oldIndex:G,newIndex:re}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xu(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gn()}}class Yl extends Ua{constructor(e){super(),this.firestore=e}convertBytes(e){return new cd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bs(this.firestore,null,n)}}function O_(i,e,n,...a){i=Ur(i,bs);const h=Ur(i.firestore,Ii),g=hh(h);let v;return v="string"==typeof(e=(0,pe.m9)(e))||e instanceof dh?function Fy(i,e,n,a,h,g){const v=i.pu(1,e,n),O=[wf(e,a,n)],V=[h];if(g.length%2!=0)throw new Ot(lt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ne=0;Ne<g.length;Ne+=2)O.push(wf(e,g[Ne])),V.push(g[Ne+1]);const G=[],re=Qs.empty();for(let Ne=O.length-1;Ne>=0;--Ne)if(!u(G,O[Ne])){const et=O[Ne];let Qt=V[Ne];Qt=(0,pe.m9)(Qt);const nn=v.Ru(et);if(Qt instanceof fh)G.push(et);else{const on=Su(Qt,nn);null!=on&&(G.push(et),re.set(et,on))}}const _e=new vo(G);return new Vp(re,_e,v.fieldTransforms)}(g,"updateDoc",i._key,e,n,a):function P_(i,e,n,a){const h=i.pu(1,e,n);fm("Data must be an object, but it was:",h,a);const g=[],v=Qs.empty();Ko(a,(V,G)=>{const re=Up(e,V,n);G=(0,pe.m9)(G);const _e=h.Ru(re);if(G instanceof fh)g.push(re);else{const Ne=Su(G,_e);null!=Ne&&(g.push(re),v.set(re,Ne))}});const O=new vo(g);return new Vp(v,O,h.fieldTransforms)}(g,"updateDoc",i._key,e),gm(h,[v.toMutation(i._key,es.exists(!0))])}function Y0(i){return gm(Ur(i.firestore,Ii),[new Wu(i._key,es.none())])}function hb(i,e){const n=Ur(i.firestore,Ii),a=kp(i),h=function Ti(i,e,n){let a;return a=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,a}(i.converter,e);return gm(n,[cm(hh(i.firestore),"addDoc",a._key,h,null!==i.converter,{}).toMutation(a._key,es.exists(!1))]).then(()=>a)}function gm(i,e){return function(a,h){const g=new Wr;return a.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function u_(i,e,n){return vp.apply(this,arguments)}(yield function w_(i){return Mp(i).then(e=>e.syncEngine)}(a),h,g)})),g.promise}(Rs(i),e)}!function(e,n=!0){cs=Ge.Jn,(0,Ge.Xd)(new St.wA("firestore",(a,{instanceIdentifier:h,options:g})=>{const v=a.getProvider("app").getImmediate(),O=new Ii(new gd(a.getProvider("auth-internal")),new yc(a.getProvider("app-check-internal")),function(G,re){if(!Object.prototype.hasOwnProperty.apply(G.options,["projectId"]))throw new Ot(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ja(G.options.projectId,re)}(v,h),v);return g=Object.assign({useFetchStreams:n},g),O._setSettings(g),O},"PUBLIC").setMultipleInstances(!0)),(0,Ge.KN)(Lo,"4.3.2",e),(0,Ge.KN)(Lo,"4.3.2","esm2017")}();var Ab=X(5592),U_=X(7398),Bp=function(){return Bp=Object.assign||function(e){for(var n,a=1,h=arguments.length;a<h;a++)for(var g in n=arguments[a])Object.prototype.hasOwnProperty.call(n,g)&&(e[g]=n[g]);return e},Bp.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Ov={includeMetadataChanges:!1};function j_(i,e){return void 0===e&&(e=Ov),new Ab.y(function(n){var a=function fb(i,...e){var n,a,h;i=(0,pe.m9)(i);let g={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||uh(e[v])||(g=e[v],v++);const O={includeMetadataChanges:g.includeMetadataChanges};if(uh(e[v])){const _e=e[v];e[v]=null===(n=_e.next)||void 0===n?void 0:n.bind(_e),e[v+1]=null===(a=_e.error)||void 0===a?void 0:a.bind(_e),e[v+2]=null===(h=_e.complete)||void 0===h?void 0:h.bind(_e)}let V,G,re;if(i instanceof bs)G=Ur(i.firestore,Ii),re=xd(i._key.path),V={next:_e=>{e[v]&&e[v](function N_(i,e,n){const a=n.docs.get(e._key),h=new Yl(i);return new ol(i,h,e._key,a,new Ho(n.hasPendingWrites,n.fromCache),e.converter)}(G,i,_e))},error:e[v+1],complete:e[v+2]};else{const _e=Ur(i,Io);G=Ur(_e.firestore,Ii),re=_e._query;const Ne=new Yl(G);V={next:et=>{e[v]&&e[v](new Ml(G,Ne,_e,et))},error:e[v+1],complete:e[v+2]},function m(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Ot(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(Ne,et,Qt,nn){const on=new yf(nn),tr=new Vg(et,on,Qt);return Ne.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function mp(i,e){return Va.apply(this,arguments)}(yield ad(Ne),tr)})),()=>{on.Na(),Ne.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function _p(i,e){return s_.apply(this,arguments)}(yield ad(Ne),tr)}))}}(Rs(G),re,O,V)}(i,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:a}})}function kv(i,e){return void 0===e&&(e={}),function Nv(i){return j_(i,{includeMetadataChanges:!0})}(i).pipe((0,U_.U)(function(n){return qy(n,e)}))}function qy(i,e){var n;void 0===e&&(e={});var a=i.data(e);return i.exists()&&"object"==typeof a&&null!==a&&e.idField?Bp(Bp({},a),((n={})[e.idField]=i.id,n)):a}function iE(i,e){return void 0===e&&(e={}),function Db(i){return j_(i,{includeMetadataChanges:!0}).pipe((0,U_.U)(function(e){return e.docs}))}(i).pipe((0,U_.U)(function(n){return n.map(function(a){return qy(a,e)})}))}class _m{constructor(e){return e}}const Uv="firestore",Zy=new E.OlP("angularfire2.firestore-instances");function Bv(i){return(e,n)=>{const a=e.runOutsideAngular(()=>i(n));return new _m(a)}}const Rb={provide:class Oo{constructor(){return(0,A.vb)(Uv)}},deps:[[new E.FiY,Zy]]},jv={provide:_m,useFactory:function Mb(i,e){const n=(0,A.JM)(Uv,i,e);return n&&new _m(n)},deps:[[new E.FiY,Zy],ee.Ot]};let Hv=(()=>{class i{constructor(){(0,fe.KN)("angularfire",A.q4.full,"fst")}static \u0275fac=function(a){return new(a||i)};static \u0275mod=E.oAB({type:i});static \u0275inj=E.cJS({providers:[jv,Rb]})}return i})();function Hp(i,...e){return{ngModule:Hv,providers:[{provide:Zy,useFactory:Bv(i),multi:!0,deps:[E.R0b,E.zs3,A.HU,ee.z6,[new E.FiY,z.dh],[new E.FiY,A.Rf],...e]}]}}const zv=(0,A.u3)(iE,!0),hc=(0,A.u3)(kv,!0),fc=(0,A.u3)(hb,!0),kb=(0,A.u3)(My,!0),Fb=(0,A.u3)(Y0,!0),$_=(0,A.u3)(kp,!0),Kv=(0,A.u3)(Py,!0),Kb=(0,A.u3)(C,!0),l0=(0,A.u3)(O_,!0),$p=(0,A.u3)(j,!0)},5816:(yn,ht,X)=>{X.d(ht,{B0:()=>gt,Jt:()=>xt,Ke:()=>Ge,Vq:()=>Kt,iH:()=>wt});var A=X(4810),E=X(4946),ee=X(721),z=X(1210),fe=X(3182),he=X(8243);class Ge{constructor(Re){return Re}}const St="storage",me=new E.OlP("angularfire2.storage-instances");function Se(tt){return(Re,Ve)=>{const Qe=Re.runOutsideAngular(()=>tt(Ve));return new Ge(Qe)}}const at={provide:class He{constructor(){return(0,A.vb)(St)}},deps:[[new E.FiY,me]]},Je={provide:Ge,useFactory:function $e(tt,Re){const Ve=(0,A.JM)(St,tt,Re);return Ve&&new Ge(Ve)},deps:[[new E.FiY,me],ee.Ot]};let pt=(()=>{class tt{constructor(){(0,fe.KN)("angularfire",A.q4.full,"gcs")}static \u0275fac=function(Qe){return new(Qe||tt)};static \u0275mod=E.oAB({type:tt});static \u0275inj=E.cJS({providers:[Je,at]})}return tt})();function Kt(tt,...Re){return{ngModule:pt,providers:[{provide:me,useFactory:Se(tt),multi:!0,deps:[E.R0b,E.zs3,A.HU,ee.z6,[new E.FiY,z.dh],[new E.FiY,A.Rf],...Re]}]}}const xt=(0,A.u3)(he.Jt,!0),wt=(0,A.u3)(he.iH,!0),gt=(0,A.u3)(he.B0,!0)},4810:(yn,ht,X)=>{X.d(ht,{q4:()=>nt,HU:()=>wt,Rf:()=>ut,vb:()=>xt,JM:()=>qe,u3:()=>Xe});var A=X(4946),E=X(3182),ee=X(7394);class z extends ee.w0{constructor(ze,ct){super()}schedule(ze,ct=0){return this}}const fe={setInterval(We,ze,...ct){const{delegate:vt}=fe;return vt?.setInterval?vt.setInterval(We,ze,...ct):setInterval(We,ze,...ct)},clearInterval(We){const{delegate:ze}=fe;return(ze?.clearInterval||clearInterval)(We)},delegate:void 0};var he=X(9039);class Ge extends z{constructor(ze,ct){super(ze,ct),this.scheduler=ze,this.work=ct,this.pending=!1}schedule(ze,ct=0){var vt;if(this.closed)return this;this.state=ze;const Ht=this.id,Bt=this.scheduler;return null!=Ht&&(this.id=this.recycleAsyncId(Bt,Ht,ct)),this.pending=!0,this.delay=ct,this.id=null!==(vt=this.id)&&void 0!==vt?vt:this.requestAsyncId(Bt,this.id,ct),this}requestAsyncId(ze,ct,vt=0){return fe.setInterval(ze.flush.bind(ze,this),vt)}recycleAsyncId(ze,ct,vt=0){if(null!=vt&&this.delay===vt&&!1===this.pending)return ct;null!=ct&&fe.clearInterval(ct)}execute(ze,ct){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const vt=this._execute(ze,ct);if(vt)return vt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ze,ct){let Ht,vt=!1;try{this.work(ze)}catch(Bt){vt=!0,Ht=Bt||new Error("Scheduled action threw falsy error")}if(vt)return this.unsubscribe(),Ht}unsubscribe(){if(!this.closed){const{id:ze,scheduler:ct}=this,{actions:vt}=ct;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(vt,this),null!=ze&&(this.id=this.recycleAsyncId(ct,ze,null)),this.delay=null,super.unsubscribe()}}}const He={now:()=>(He.delegate||Date).now(),delegate:void 0};class pe{constructor(ze,ct=pe.now){this.schedulerActionCtor=ze,this.now=ct}schedule(ze,ct=0,vt){return new this.schedulerActionCtor(this,ze).schedule(vt,ct)}}pe.now=He.now;class me extends pe{constructor(ze,ct=pe.now){super(ze,ct),this.actions=[],this._active=!1}flush(ze){const{actions:ct}=this;if(this._active)return void ct.push(ze);let vt;this._active=!0;do{if(vt=ze.execute(ze.state,ze.delay))break}while(ze=ct.shift());if(this._active=!1,vt){for(;ze=ct.shift();)ze.unsubscribe();throw vt}}}const Se=new class $e extends me{}(class St extends Ge{constructor(ze,ct){super(ze,ct),this.scheduler=ze,this.work=ct}schedule(ze,ct=0){return ct>0?super.schedule(ze,ct):(this.delay=ct,this.state=ze,this.scheduler.flush(this),this)}execute(ze,ct){return ct>0||this.closed?super.execute(ze,ct):this._execute(ze,ct)}requestAsyncId(ze,ct,vt=0){return null!=vt&&vt>0||null==vt&&this.delay>0?super.requestAsyncId(ze,ct,vt):(ze.flush(this),0)}}),Je=new me(Ge);var Kt=X(5592),Gt=X(9397),Sn=X(5137),dn=X(3093);const nt=new A.GfV("ANGULARFIRE2_VERSION");function qe(We,ze,ct){if(ze){if(1===ze.length)return ze[0];const Bt=ze.filter(vn=>vn.app===ct);if(1===Bt.length)return Bt[0]}return ct.container.getProvider(We).getImmediate({optional:!0})}const xt=(We,ze)=>{const ct=ze?[ze]:(0,E.C6)(),vt=[];return ct.forEach(Ht=>{Ht.container.getProvider(We).instances.forEach(vn=>{vt.includes(vn)||vt.push(vn)})}),vt};class ut{constructor(){return xt(_t)}}const _t="app-check";function ft(){}class fn{zone;delegate;constructor(ze,ct=Se){this.zone=ze,this.delegate=ct}now(){return this.delegate.now()}schedule(ze,ct,vt){const Ht=this.zone;return this.delegate.schedule(function(vn){Ht.runGuarded(()=>{ze.apply(this,[vn])})},ct,vt)}}class Zn{zone;task=null;constructor(ze){this.zone=ze}call(ze,ct){const vt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ft,{},ft,ft)),ct.pipe((0,Gt.b)({next:vt,complete:vt,error:vt})).subscribe(ze).add(vt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wt=(()=>{class We{ngZone;outsideAngular;insideAngular;constructor(ct){this.ngZone=ct,this.outsideAngular=ct.runOutsideAngular(()=>new fn(Zone.current)),this.insideAngular=ct.run(()=>new fn(Zone.current,Je)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(vt){return new(vt||We)(A.LFG(A.R0b))};static \u0275prov=A.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})();function In(){const We=globalThis.\u0275AngularFireScheduler;if(!We)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return We}function gt(We){return In().ngZone.run(()=>We())}function Re(We){return function Ve(We){return function(ct){return(ct=ct.lift(new Zn(We.ngZone))).pipe((0,Sn.R)(We.outsideAngular),(0,dn.Q)(We.insideAngular))}}(In())(We)}const Qe=(We,ze)=>function(){const vt=arguments;return ze&&setTimeout(()=>{"scheduled"===ze.state&&ze.invoke()},10),gt(()=>We.apply(void 0,vt))},Xe=(We,ze)=>function(){let ct;const vt=arguments;for(let Bt=0;Bt<arguments.length;Bt++)"function"==typeof vt[Bt]&&(ze&&(ct||=gt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ft,{},ft,ft))),vt[Bt]=Qe(vt[Bt],ct));const Ht=function Pt(We){return In().ngZone.runOutsideAngular(()=>We())}(()=>We.apply(this,vt));if(!ze){if(Ht instanceof Kt.y){const Bt=In();return Ht.pipe((0,Sn.R)(Bt.outsideAngular),(0,dn.Q)(Bt.insideAngular))}return gt(()=>Ht)}return Ht instanceof Kt.y?Ht.pipe(Re):Ht instanceof Promise?gt(()=>new Promise((Bt,vn)=>Ht.then(cr=>gt(()=>Bt(cr)),cr=>gt(()=>vn(cr))))):"function"==typeof Ht&&ct?function(){return setTimeout(()=>{ct&&"scheduled"===ct.state&&ct.invoke()},10),Ht.apply(this,arguments)}:gt(()=>Ht)}},95:(yn,ht,X)=>{X.d(ht,{Wl:()=>Kt,Fj:()=>nt,qu:()=>Mi,u:()=>Ws,sg:()=>Gn,u5:()=>Qi,JJ:()=>rn,JL:()=>en,F:()=>yi,On:()=>Ns,YN:()=>Dn,UX:()=>Ba,Q7:()=>vr,EJ:()=>Xt,kI:()=>ft,_Y:()=>ta,Kr:()=>Ye});var A=X(4946),E=X(6814),ee=X(2459),z=X(5592),fe=X(7453),he=X(4829),Ge=X(4564),St=X(8251),He=X(7400),pe=X(2714),$e=X(7398);let Se=(()=>{class q{constructor(U,oe){this._renderer=U,this._elementRef=oe,this.onChange=xe=>{},this.onTouched=()=>{}}setProperty(U,oe){this._renderer.setProperty(this._elementRef.nativeElement,U,oe)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}static#e=this.\u0275fac=function(oe){return new(oe||q)(A.Y36(A.Qsj),A.Y36(A.SBq))};static#t=this.\u0275dir=A.lG2({type:q})}return q})(),at=(()=>{class q extends Se{static#e=this.\u0275fac=function(){let U;return function(xe){return(U||(U=A.n5z(q)))(xe||q)}}();static#t=this.\u0275dir=A.lG2({type:q,features:[A.qOj]})}return q})();const Je=new A.OlP("NgValueAccessor"),pt={provide:Je,useExisting:(0,A.Gpc)(()=>Kt),multi:!0};let Kt=(()=>{class q extends at{writeValue(U){this.setProperty("checked",U)}static#e=this.\u0275fac=function(){let U;return function(xe){return(U||(U=A.n5z(q)))(xe||q)}}();static#t=this.\u0275dir=A.lG2({type:q,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(oe,xe){1&oe&&A.NdJ("change",function(jn){return xe.onChange(jn.target.checked)})("blur",function(){return xe.onTouched()})},features:[A._Bn([pt]),A.qOj]})}return q})();const Gt={provide:Je,useExisting:(0,A.Gpc)(()=>nt),multi:!0},dn=new A.OlP("CompositionEventMode");let nt=(()=>{class q extends Se{constructor(U,oe,xe){super(U,oe),this._compositionMode=xe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Sn(){const q=(0,E.q)()?(0,E.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}static#e=this.\u0275fac=function(oe){return new(oe||q)(A.Y36(A.Qsj),A.Y36(A.SBq),A.Y36(dn,8))};static#t=this.\u0275dir=A.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(oe,xe){1&oe&&A.NdJ("input",function(jn){return xe._handleInput(jn.target.value)})("blur",function(){return xe.onTouched()})("compositionstart",function(){return xe._compositionStart()})("compositionend",function(jn){return xe._compositionEnd(jn.target.value)})},features:[A._Bn([Gt]),A.qOj]})}return q})();function Ct(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function qe(q){return null!=q&&"number"==typeof q.length}const xt=new A.OlP("NgValidators"),ut=new A.OlP("NgAsyncValidators"),_t=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ft{static min(Z){return function fn(q){return Z=>{if(Ct(Z.value)||Ct(q))return null;const U=parseFloat(Z.value);return!isNaN(U)&&U<q?{min:{min:q,actual:Z.value}}:null}}(Z)}static max(Z){return function Zn(q){return Z=>{if(Ct(Z.value)||Ct(q))return null;const U=parseFloat(Z.value);return!isNaN(U)&&U>q?{max:{max:q,actual:Z.value}}:null}}(Z)}static required(Z){return wt(Z)}static requiredTrue(Z){return function In(q){return!0===q.value?null:{required:!0}}(Z)}static email(Z){return function Pt(q){return Ct(q.value)||_t.test(q.value)?null:{email:!0}}(Z)}static minLength(Z){return function gt(q){return Z=>Ct(Z.value)||!qe(Z.value)?null:Z.value.length<q?{minlength:{requiredLength:q,actualLength:Z.value.length}}:null}(Z)}static maxLength(Z){return function kt(q){return Z=>qe(Z.value)&&Z.value.length>q?{maxlength:{requiredLength:q,actualLength:Z.value.length}}:null}(Z)}static pattern(Z){return function tt(q){if(!q)return Re;let Z,U;return"string"==typeof q?(U="","^"!==q.charAt(0)&&(U+="^"),U+=q,"$"!==q.charAt(q.length-1)&&(U+="$"),Z=new RegExp(U)):(U=q.toString(),Z=q),oe=>{if(Ct(oe.value))return null;const xe=oe.value;return Z.test(xe)?null:{pattern:{requiredPattern:U,actualValue:xe}}}}(Z)}static nullValidator(Z){return null}static compose(Z){return vt(Z)}static composeAsync(Z){return Bt(Z)}}function wt(q){return Ct(q.value)?{required:!0}:null}function Re(q){return null}function Ve(q){return null!=q}function Qe(q){return(0,A.QGY)(q)?(0,ee.D)(q):q}function Xe(q){let Z={};return q.forEach(U=>{Z=null!=U?{...Z,...U}:Z}),0===Object.keys(Z).length?null:Z}function We(q,Z){return Z.map(U=>U(q))}function ct(q){return q.map(Z=>function ze(q){return!q.validate}(Z)?Z:U=>Z.validate(U))}function vt(q){if(!q)return null;const Z=q.filter(Ve);return 0==Z.length?null:function(U){return Xe(We(U,Z))}}function Ht(q){return null!=q?vt(ct(q)):null}function Bt(q){if(!q)return null;const Z=q.filter(Ve);return 0==Z.length?null:function(U){return function me(...q){const Z=(0,Ge.jO)(q),{args:U,keys:oe}=(0,fe.D)(q),xe=new z.y(un=>{const{length:jn}=U;if(!jn)return void un.complete();const ls=new Array(jn);let Ia=jn,Cs=jn;for(let Go=0;Go<jn;Go++){let Do=!1;(0,he.Xf)(U[Go]).subscribe((0,St.x)(un,aa=>{Do||(Do=!0,Cs--),ls[Go]=aa},()=>Ia--,void 0,()=>{(!Ia||!Do)&&(Cs||un.next(oe?(0,pe.n)(oe,ls):ls),un.complete())}))}});return Z?xe.pipe((0,He.Z)(Z)):xe}(We(U,Z).map(Qe)).pipe((0,$e.U)(Xe))}}function vn(q){return null!=q?Bt(ct(q)):null}function cr(q,Z){return null===q?[Z]:Array.isArray(q)?[...q,Z]:[q,Z]}function $n(q){return q._rawValidators}function Dr(q){return q._rawAsyncValidators}function Lr(q){return q?Array.isArray(q)?q:[q]:[]}function yr(q,Z){return Array.isArray(q)?q.includes(Z):q===Z}function xn(q,Z){const U=Lr(Z);return Lr(q).forEach(xe=>{yr(U,xe)||U.push(xe)}),U}function Mn(q,Z){return Lr(Z).filter(U=>!yr(q,U))}class zt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Z){this._rawValidators=Z||[],this._composedValidatorFn=Ht(this._rawValidators)}_setAsyncValidators(Z){this._rawAsyncValidators=Z||[],this._composedAsyncValidatorFn=vn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Z){this._onDestroyCallbacks.push(Z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Z=>Z()),this._onDestroyCallbacks=[]}reset(Z=void 0){this.control&&this.control.reset(Z)}hasError(Z,U){return!!this.control&&this.control.hasError(Z,U)}getError(Z,U){return this.control?this.control.getError(Z,U):null}}class Kn extends zt{get formDirective(){return null}get path(){return null}}class cn extends zt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bn{constructor(Z){this._cd=Z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rn=(()=>{class q extends bn{constructor(U){super(U)}static#e=this.\u0275fac=function(oe){return new(oe||q)(A.Y36(cn,2))};static#t=this.\u0275dir=A.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(oe,xe){2&oe&&A.ekj("ng-untouched",xe.isUntouched)("ng-touched",xe.isTouched)("ng-pristine",xe.isPristine)("ng-dirty",xe.isDirty)("ng-valid",xe.isValid)("ng-invalid",xe.isInvalid)("ng-pending",xe.isPending)},features:[A.qOj]})}return q})(),en=(()=>{class q extends bn{constructor(U){super(U)}static#e=this.\u0275fac=function(oe){return new(oe||q)(A.Y36(Kn,10))};static#t=this.\u0275dir=A.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(oe,xe){2&oe&&A.ekj("ng-untouched",xe.isUntouched)("ng-touched",xe.isTouched)("ng-pristine",xe.isPristine)("ng-dirty",xe.isDirty)("ng-valid",xe.isValid)("ng-invalid",xe.isInvalid)("ng-pending",xe.isPending)("ng-submitted",xe.isSubmitted)},features:[A.qOj]})}return q})();const Vt="VALID",On="INVALID",ii="PENDING",gi="DISABLED";function De(q){return(ue(q)?q.validators:q)||null}function ae(q,Z){return(ue(Z)?Z.asyncValidators:q)||null}function ue(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function Le(q,Z,U){const oe=q.controls;if(!(Z?Object.keys(oe):oe).length)throw new A.vHH(1e3,"");if(!oe[U])throw new A.vHH(1001,"")}function mt(q,Z,U){q._forEachChild((oe,xe)=>{if(void 0===U[xe])throw new A.vHH(1002,"")})}class qt{constructor(Z,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Z),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(Z){this._rawValidators=this._composedValidatorFn=Z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Z){this._rawAsyncValidators=this._composedAsyncValidatorFn=Z}get parent(){return this._parent}get valid(){return this.status===Vt}get invalid(){return this.status===On}get pending(){return this.status==ii}get disabled(){return this.status===gi}get enabled(){return this.status!==gi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Z){this._assignValidators(Z)}setAsyncValidators(Z){this._assignAsyncValidators(Z)}addValidators(Z){this.setValidators(xn(Z,this._rawValidators))}addAsyncValidators(Z){this.setAsyncValidators(xn(Z,this._rawAsyncValidators))}removeValidators(Z){this.setValidators(Mn(Z,this._rawValidators))}removeAsyncValidators(Z){this.setAsyncValidators(Mn(Z,this._rawAsyncValidators))}hasValidator(Z){return yr(this._rawValidators,Z)}hasAsyncValidator(Z){return yr(this._rawAsyncValidators,Z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Z={}){this.touched=!0,this._parent&&!Z.onlySelf&&this._parent.markAsTouched(Z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Z=>Z.markAllAsTouched())}markAsUntouched(Z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}markAsDirty(Z={}){this.pristine=!1,this._parent&&!Z.onlySelf&&this._parent.markAsDirty(Z)}markAsPristine(Z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}markAsPending(Z={}){this.status=ii,!1!==Z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Z.onlySelf&&this._parent.markAsPending(Z)}disable(Z={}){const U=this._parentMarkedDirty(Z.onlySelf);this.status=gi,this.errors=null,this._forEachChild(oe=>{oe.disable({...Z,onlySelf:!0})}),this._updateValue(),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Z,skipPristineCheck:U}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(Z={}){const U=this._parentMarkedDirty(Z.onlySelf);this.status=Vt,this._forEachChild(oe=>{oe.enable({...Z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent}),this._updateAncestors({...Z,skipPristineCheck:U}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(Z){this._parent&&!Z.onlySelf&&(this._parent.updateValueAndValidity(Z),Z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Z){this._parent=Z}getRawValue(){return this.value}updateValueAndValidity(Z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vt||this.status===ii)&&this._runAsyncValidator(Z.emitEvent)),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Z.onlySelf&&this._parent.updateValueAndValidity(Z)}_updateTreeValidity(Z={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(Z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gi:Vt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Z){if(this.asyncValidator){this.status=ii,this._hasOwnPendingAsyncValidator=!0;const U=Qe(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:Z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Z,U={}){this.errors=Z,this._updateControlsErrors(!1!==U.emitEvent)}get(Z){let U=Z;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((oe,xe)=>oe&&oe._find(xe),this)}getError(Z,U){const oe=U?this.get(U):this;return oe&&oe.errors?oe.errors[Z]:null}hasError(Z,U){return!!this.getError(Z,U)}get root(){let Z=this;for(;Z._parent;)Z=Z._parent;return Z}_updateControlsErrors(Z){this.status=this._calculateStatus(),Z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Z)}_initObservables(){this.valueChanges=new A.vpe,this.statusChanges=new A.vpe}_calculateStatus(){return this._allControlsDisabled()?gi:this.errors?On:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ii)?ii:this._anyControlsHaveStatus(On)?On:Vt}_anyControlsHaveStatus(Z){return this._anyControls(U=>U.status===Z)}_anyControlsDirty(){return this._anyControls(Z=>Z.dirty)}_anyControlsTouched(){return this._anyControls(Z=>Z.touched)}_updatePristine(Z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}_updateTouched(Z={}){this.touched=this._anyControlsTouched(),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}_registerOnCollectionChange(Z){this._onCollectionChange=Z}_setUpdateStrategy(Z){ue(Z)&&null!=Z.updateOn&&(this._updateOn=Z.updateOn)}_parentMarkedDirty(Z){return!Z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Z){return null}_assignValidators(Z){this._rawValidators=Array.isArray(Z)?Z.slice():Z,this._composedValidatorFn=function ie(q){return Array.isArray(q)?Ht(q):q||null}(this._rawValidators)}_assignAsyncValidators(Z){this._rawAsyncValidators=Array.isArray(Z)?Z.slice():Z,this._composedAsyncValidatorFn=function le(q){return Array.isArray(q)?vn(q):q||null}(this._rawAsyncValidators)}}class mn extends qt{constructor(Z,U,oe){super(De(U),ae(oe,U)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Z,U){return this.controls[Z]?this.controls[Z]:(this.controls[Z]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(Z,U,oe={}){this.registerControl(Z,U),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(Z,U={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(Z,U,oe={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],U&&this.registerControl(Z,U),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(Z){return this.controls.hasOwnProperty(Z)&&this.controls[Z].enabled}setValue(Z,U={}){mt(this,0,Z),Object.keys(Z).forEach(oe=>{Le(this,!0,oe),this.controls[oe].setValue(Z[oe],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(Z,U={}){null!=Z&&(Object.keys(Z).forEach(oe=>{const xe=this.controls[oe];xe&&xe.patchValue(Z[oe],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(Z={},U={}){this._forEachChild((oe,xe)=>{oe.reset(Z?Z[xe]:null,{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(Z,U,oe)=>(Z[oe]=U.getRawValue(),Z))}_syncPendingControls(){let Z=this._reduceChildren(!1,(U,oe)=>!!oe._syncPendingControls()||U);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){Object.keys(this.controls).forEach(U=>{const oe=this.controls[U];oe&&Z(oe,U)})}_setUpControls(){this._forEachChild(Z=>{Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Z){for(const[U,oe]of Object.entries(this.controls))if(this.contains(U)&&Z(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,oe,xe)=>((oe.enabled||this.disabled)&&(U[xe]=oe.value),U))}_reduceChildren(Z,U){let oe=Z;return this._forEachChild((xe,un)=>{oe=U(oe,xe,un)}),oe}_allControlsDisabled(){for(const Z of Object.keys(this.controls))if(this.controls[Z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Z){return this.controls.hasOwnProperty(Z)?this.controls[Z]:null}}class Nn extends mn{}const Be=new A.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ae}),Ae="always";function Pe(q,Z){return[...Z.path,q]}function Te(q,Z,U=Ae){Zt(q,Z),Z.valueAccessor.writeValue(q.value),(q.disabled||"always"===U)&&Z.valueAccessor.setDisabledState?.(q.disabled),function An(q,Z){Z.valueAccessor.registerOnChange(U=>{q._pendingValue=U,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&Cn(q,Z)})}(q,Z),function ci(q,Z){const U=(oe,xe)=>{Z.valueAccessor.writeValue(oe),xe&&Z.viewToModelUpdate(oe)};q.registerOnChange(U),Z._registerOnDestroy(()=>{q._unregisterOnChange(U)})}(q,Z),function Fr(q,Z){Z.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&Cn(q,Z),"submit"!==q.updateOn&&q.markAsTouched()})}(q,Z),function it(q,Z){if(Z.valueAccessor.setDisabledState){const U=oe=>{Z.valueAccessor.setDisabledState(oe)};q.registerOnDisabledChange(U),Z._registerOnDestroy(()=>{q._unregisterOnDisabledChange(U)})}}(q,Z)}function Ee(q,Z,U=!0){const oe=()=>{};Z.valueAccessor&&(Z.valueAccessor.registerOnChange(oe),Z.valueAccessor.registerOnTouched(oe)),Tt(q,Z),q&&(Z._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function je(q,Z){q.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(Z)})}function Zt(q,Z){const U=$n(q);null!==Z.validator?q.setValidators(cr(U,Z.validator)):"function"==typeof U&&q.setValidators([U]);const oe=Dr(q);null!==Z.asyncValidator?q.setAsyncValidators(cr(oe,Z.asyncValidator)):"function"==typeof oe&&q.setAsyncValidators([oe]);const xe=()=>q.updateValueAndValidity();je(Z._rawValidators,xe),je(Z._rawAsyncValidators,xe)}function Tt(q,Z){let U=!1;if(null!==q){if(null!==Z.validator){const xe=$n(q);if(Array.isArray(xe)&&xe.length>0){const un=xe.filter(jn=>jn!==Z.validator);un.length!==xe.length&&(U=!0,q.setValidators(un))}}if(null!==Z.asyncValidator){const xe=Dr(q);if(Array.isArray(xe)&&xe.length>0){const un=xe.filter(jn=>jn!==Z.asyncValidator);un.length!==xe.length&&(U=!0,q.setAsyncValidators(un))}}}const oe=()=>{};return je(Z._rawValidators,oe),je(Z._rawAsyncValidators,oe),U}function Cn(q,Z){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),Z.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function Ps(q,Z){Zt(q,Z)}function Br(q,Z){if(!q.hasOwnProperty("model"))return!1;const U=q.model;return!!U.isFirstChange()||!Object.is(Z,U.currentValue)}function Jr(q,Z){q._syncPendingControls(),Z.forEach(U=>{const oe=U.control;"submit"===oe.updateOn&&oe._pendingChange&&(U.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}function Xr(q,Z){if(!Z)return null;let U,oe,xe;return Array.isArray(Z),Z.forEach(un=>{un.constructor===nt?U=un:function Rr(q){return Object.getPrototypeOf(q.constructor)===at}(un)?oe=un:xe=un}),xe||oe||U||null}const $s={provide:Kn,useExisting:(0,A.Gpc)(()=>yi)},Ts=(()=>Promise.resolve())();let yi=(()=>{class q extends Kn{constructor(U,oe,xe){super(),this.callSetDisabledState=xe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new A.vpe,this.form=new mn({},Ht(U),vn(oe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){Ts.then(()=>{const oe=this._findContainer(U.path);U.control=oe.registerControl(U.name,U.control),Te(U.control,U,this.callSetDisabledState),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){Ts.then(()=>{const oe=this._findContainer(U.path);oe&&oe.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){Ts.then(()=>{const oe=this._findContainer(U.path),xe=new mn({});Ps(xe,U),oe.registerControl(U.name,xe),xe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){Ts.then(()=>{const oe=this._findContainer(U.path);oe&&oe.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,oe){Ts.then(()=>{this.form.get(U.path).setValue(oe)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,Jr(this.form,this._directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}static#e=this.\u0275fac=function(oe){return new(oe||q)(A.Y36(xt,10),A.Y36(ut,10),A.Y36(Be,8))};static#t=this.\u0275dir=A.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(oe,xe){1&oe&&A.NdJ("submit",function(jn){return xe.onSubmit(jn)})("reset",function(){return xe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[A._Bn([$s]),A.qOj]})}return q})();function Ao(q,Z){const U=q.indexOf(Z);U>-1&&q.splice(U,1)}function Gs(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const Ci=class extends qt{constructor(Z=null,U,oe){super(De(U),ae(oe,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Z),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ue(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=Gs(Z)?Z.value:Z)}setValue(Z,U={}){this.value=this._pendingValue=Z,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(Z,U={}){this.setValue(Z,U)}reset(Z=this.defaultValue,U={}){this._applyFormState(Z),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(Z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Z){this._onChange.push(Z)}_unregisterOnChange(Z){Ao(this._onChange,Z)}registerOnDisabledChange(Z){this._onDisabledChange.push(Z)}_unregisterOnDisabledChange(Z){Ao(this._onDisabledChange,Z)}_forEachChild(Z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Z){Gs(Z)?(this.value=this._pendingValue=Z.value,Z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Z}},ea={provide:cn,useExisting:(0,A.Gpc)(()=>Ns)},ya=(()=>Promise.resolve())();let Ns=(()=>{class q extends cn{constructor(U,oe,xe,un,jn,ls){super(),this._changeDetectorRef=jn,this.callSetDisabledState=ls,this.control=new Ci,this._registered=!1,this.name="",this.update=new A.vpe,this._parent=U,this._setValidators(oe),this._setAsyncValidators(xe),this.valueAccessor=Xr(0,un)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const oe=U.name.previousValue;this.formDirective.removeControl({name:oe,path:this._getPath(oe)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),Br(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Te(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){ya.then(()=>{this.control.setValue(U,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(U){const oe=U.isDisabled.currentValue,xe=0!==oe&&(0,A.VuI)(oe);ya.then(()=>{xe&&!this.control.disabled?this.control.disable():!xe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(U){return this._parent?Pe(U,this._parent):[U]}static#e=this.\u0275fac=function(oe){return new(oe||q)(A.Y36(Kn,9),A.Y36(xt,10),A.Y36(ut,10),A.Y36(Je,10),A.Y36(A.sBO,8),A.Y36(Be,8))};static#t=this.\u0275dir=A.lG2({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[A._Bn([ea]),A.qOj,A.TTD]})}return q})(),ta=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275dir=A.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return q})(),Co=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=A.oAB({type:q});static#n=this.\u0275inj=A.cJS({})}return q})();const os=new A.OlP("NgModelWithFormControlWarning"),no={provide:Kn,useExisting:(0,A.Gpc)(()=>Gn)};let Gn=(()=>{class q extends Kn{constructor(U,oe,xe){super(),this.callSetDisabledState=xe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new A.vpe,this._setValidators(U),this._setAsyncValidators(oe)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Tt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const oe=this.form.get(U.path);return Te(oe,U,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),oe}getControl(U){return this.form.get(U.path)}removeControl(U){Ee(U.control||null,U,!1),function gs(q,Z){const U=q.indexOf(Z);U>-1&&q.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,oe){this.form.get(U.path).setValue(oe)}onSubmit(U){return this.submitted=!0,Jr(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const oe=U.control,xe=this.form.get(U.path);oe!==xe&&(Ee(oe||null,U),(q=>q instanceof Ci)(xe)&&(Te(xe,U,this.callSetDisabledState),U.control=xe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const oe=this.form.get(U.path);Ps(oe,U),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const oe=this.form.get(U.path);oe&&function ki(q,Z){return Tt(q,Z)}(oe,U)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zt(this.form,this),this._oldForm&&Tt(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(oe){return new(oe||q)(A.Y36(xt,10),A.Y36(ut,10),A.Y36(Be,8))};static#t=this.\u0275dir=A.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function(oe,xe){1&oe&&A.NdJ("submit",function(jn){return xe.onSubmit(jn)})("reset",function(){return xe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[A._Bn([no]),A.qOj,A.TTD]})}return q})();const fo={provide:cn,useExisting:(0,A.Gpc)(()=>Ws)};let Ws=(()=>{class q extends cn{set isDisabled(U){}static#e=this._ngModelWarningSentOnce=!1;constructor(U,oe,xe,un,jn){super(),this._ngModelWarningConfig=jn,this._added=!1,this.name=null,this.update=new A.vpe,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(oe),this._setAsyncValidators(xe),this.valueAccessor=Xr(0,un)}ngOnChanges(U){this._added||this._setUpControl(),Br(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return Pe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(oe){return new(oe||q)(A.Y36(Kn,13),A.Y36(xt,10),A.Y36(ut,10),A.Y36(Je,10),A.Y36(os,8))};static#n=this.\u0275dir=A.lG2({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[A._Bn([fo]),A.qOj,A.TTD]})}return q})();const Ls={provide:Je,useExisting:(0,A.Gpc)(()=>Xt),multi:!0};function $i(q,Z){return null==q?`${Z}`:(Z&&"object"==typeof Z&&(Z="Object"),`${q}: ${Z}`.slice(0,50))}let Xt=(()=>{class q extends at{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const xe=$i(this._getOptionId(U),U);this.setProperty("value",xe)}registerOnChange(U){this.onChange=oe=>{this.value=this._getOptionValue(oe),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe),U))return oe;return null}_getOptionValue(U){const oe=function ei(q){return q.split(":")[0]}(U);return this._optionMap.has(oe)?this._optionMap.get(oe):U}static#e=this.\u0275fac=function(){let U;return function(xe){return(U||(U=A.n5z(q)))(xe||q)}}();static#t=this.\u0275dir=A.lG2({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(oe,xe){1&oe&&A.NdJ("change",function(jn){return xe.onChange(jn.target.value)})("blur",function(){return xe.onTouched()})},inputs:{compareWith:"compareWith"},features:[A._Bn([Ls]),A.qOj]})}return q})(),Dn=(()=>{class q{constructor(U,oe,xe){this._element=U,this._renderer=oe,this._select=xe,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue($i(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||q)(A.Y36(A.SBq),A.Y36(A.Qsj),A.Y36(Xt,9))};static#t=this.\u0275dir=A.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})();const W={provide:Je,useExisting:(0,A.Gpc)(()=>ke),multi:!0};function Y(q,Z){return null==q?`${Z}`:("string"==typeof Z&&(Z=`'${Z}'`),Z&&"object"==typeof Z&&(Z="Object"),`${q}: ${Z}`.slice(0,50))}let ke=(()=>{class q extends at{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let oe;if(this.value=U,Array.isArray(U)){const xe=U.map(un=>this._getOptionId(un));oe=(un,jn)=>{un._setSelected(xe.indexOf(jn.toString())>-1)}}else oe=(xe,un)=>{xe._setSelected(!1)};this._optionMap.forEach(oe)}registerOnChange(U){this.onChange=oe=>{const xe=[],un=oe.selectedOptions;if(void 0!==un){const jn=un;for(let ls=0;ls<jn.length;ls++){const Cs=this._getOptionValue(jn[ls].value);xe.push(Cs)}}else{const jn=oe.options;for(let ls=0;ls<jn.length;ls++){const Ia=jn[ls];if(Ia.selected){const Cs=this._getOptionValue(Ia.value);xe.push(Cs)}}}this.value=xe,U(xe)}}_registerOption(U){const oe=(this._idCounter++).toString();return this._optionMap.set(oe,U),oe}_getOptionId(U){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe)._value,U))return oe;return null}_getOptionValue(U){const oe=function be(q){return q.split(":")[0]}(U);return this._optionMap.has(oe)?this._optionMap.get(oe)._value:U}static#e=this.\u0275fac=function(){let U;return function(xe){return(U||(U=A.n5z(q)))(xe||q)}}();static#t=this.\u0275dir=A.lG2({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(oe,xe){1&oe&&A.NdJ("change",function(jn){return xe.onChange(jn.target)})("blur",function(){return xe.onTouched()})},inputs:{compareWith:"compareWith"},features:[A._Bn([W]),A.qOj]})}return q})(),Ye=(()=>{class q{constructor(U,oe,xe){this._element=U,this._renderer=oe,this._select=xe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(Y(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(Y(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||q)(A.Y36(A.SBq),A.Y36(A.Qsj),A.Y36(ke,9))};static#t=this.\u0275dir=A.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})(),It=(()=>{class q{constructor(){this._validator=Re}ngOnChanges(U){if(this.inputName in U){const oe=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(oe),this._validator=this._enabled?this.createValidator(oe):Re,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275dir=A.lG2({type:q,features:[A.TTD]})}return q})();const ti={provide:xt,useExisting:(0,A.Gpc)(()=>vr),multi:!0};let vr=(()=>{class q extends It{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=A.VuI,this.createValidator=U=>wt}enabled(U){return U}static#e=this.\u0275fac=function(){let U;return function(xe){return(U||(U=A.n5z(q)))(xe||q)}}();static#t=this.\u0275dir=A.lG2({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(oe,xe){2&oe&&A.uIk("required",xe._enabled?"":null)},inputs:{required:"required"},features:[A._Bn([ti]),A.qOj]})}return q})(),mi=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=A.oAB({type:q});static#n=this.\u0275inj=A.cJS({imports:[Co]})}return q})();class va extends qt{constructor(Z,U,oe){super(De(U),ae(oe,U)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Z){return this.controls[this._adjustIndex(Z)]}push(Z,U={}){this.controls.push(Z),this._registerControl(Z),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert(Z,U,oe={}){this.controls.splice(Z,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(Z,U={}){let oe=this._adjustIndex(Z);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl(Z,U,oe={}){let xe=this._adjustIndex(Z);xe<0&&(xe=0),this.controls[xe]&&this.controls[xe]._registerOnCollectionChange(()=>{}),this.controls.splice(xe,1),U&&(this.controls.splice(xe,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Z,U={}){mt(this,0,Z),Z.forEach((oe,xe)=>{Le(this,!1,xe),this.at(xe).setValue(oe,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(Z,U={}){null!=Z&&(Z.forEach((oe,xe)=>{this.at(xe)&&this.at(xe).patchValue(oe,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(Z=[],U={}){this._forEachChild((oe,xe)=>{oe.reset(Z[xe],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map(Z=>Z.getRawValue())}clear(Z={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Z.emitEvent}))}_adjustIndex(Z){return Z<0?Z+this.length:Z}_syncPendingControls(){let Z=this.controls.reduce((U,oe)=>!!oe._syncPendingControls()||U,!1);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){this.controls.forEach((U,oe)=>{Z(U,oe)})}_updateValue(){this.value=this.controls.filter(Z=>Z.enabled||this.disabled).map(Z=>Z.value)}_anyControls(Z){return this.controls.some(U=>U.enabled&&Z(U))}_setUpControls(){this._forEachChild(Z=>this._registerControl(Z))}_allControlsDisabled(){for(const Z of this.controls)if(Z.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Z){Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)}_find(Z){return this.at(Z)??null}}function xi(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let Mi=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const U=new q;return U.useNonNullable=!0,U}group(U,oe=null){const xe=this._reduceControls(U);let un={};return xi(oe)?un=oe:null!==oe&&(un.validators=oe.validator,un.asyncValidators=oe.asyncValidator),new mn(xe,un)}record(U,oe=null){const xe=this._reduceControls(U);return new Nn(xe,oe)}control(U,oe,xe){let un={};return this.useNonNullable?(xi(oe)?un=oe:(un.validators=oe,un.asyncValidators=xe),new Ci(U,{...un,nonNullable:!0})):new Ci(U,oe,xe)}array(U,oe,xe){const un=U.map(jn=>this._createControl(jn));return new va(un,oe,xe)}_reduceControls(U){const oe={};return Object.keys(U).forEach(xe=>{oe[xe]=this._createControl(U[xe])}),oe}_createControl(U){return U instanceof Ci||U instanceof qt?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275prov=A.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})(),Qi=(()=>{class q{static withConfig(U){return{ngModule:q,providers:[{provide:Be,useValue:U.callSetDisabledState??Ae}]}}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=A.oAB({type:q});static#n=this.\u0275inj=A.cJS({imports:[mi]})}return q})(),Ba=(()=>{class q{static withConfig(U){return{ngModule:q,providers:[{provide:os,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:Be,useValue:U.callSetDisabledState??Ae}]}}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=A.oAB({type:q});static#n=this.\u0275inj=A.cJS({imports:[mi]})}return q})()},6593:(yn,ht,X)=>{X.d(ht,{Dx:()=>cn,b2:()=>yr,q6:()=>cr});var A=X(4946),E=X(6814);class ee extends E.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class z extends ee{static makeCurrent(){(0,E.HT)(new z)}onAndCancel(ae,le,ue){return ae.addEventListener(le,ue),()=>{ae.removeEventListener(le,ue)}}dispatchEvent(ae,le){ae.dispatchEvent(le)}remove(ae){ae.parentNode&&ae.parentNode.removeChild(ae)}createElement(ae,le){return(le=le||this.getDefaultDocument()).createElement(ae)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ae){return ae.nodeType===Node.ELEMENT_NODE}isShadowRoot(ae){return ae instanceof DocumentFragment}getGlobalEventTarget(ae,le){return"window"===le?window:"document"===le?ae:"body"===le?ae.body:null}getBaseHref(ae){const le=function he(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==le?null:function St(ie){Ge=Ge||document.createElement("a"),Ge.setAttribute("href",ie);const ae=Ge.pathname;return"/"===ae.charAt(0)?ae:`/${ae}`}(le)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(ae){return(0,E.Mx)(document.cookie,ae)}}let Ge,fe=null,pe=(()=>{class ie{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(ue){return new(ue||ie)};static#t=this.\u0275prov=A.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();const me=new A.OlP("EventManagerPlugins");let $e=(()=>{class ie{constructor(le,ue){this._zone=ue,this._eventNameToPlugin=new Map,le.forEach(Le=>{Le.manager=this}),this._plugins=le.slice().reverse()}addEventListener(le,ue,Le){return this._findPluginFor(ue).addEventListener(le,ue,Le)}getZone(){return this._zone}_findPluginFor(le){let ue=this._eventNameToPlugin.get(le);if(ue)return ue;if(ue=this._plugins.find(mt=>mt.supports(le)),!ue)throw new A.vHH(5101,!1);return this._eventNameToPlugin.set(le,ue),ue}static#e=this.\u0275fac=function(ue){return new(ue||ie)(A.LFG(me),A.LFG(A.R0b))};static#t=this.\u0275prov=A.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();class Se{constructor(ae){this._doc=ae}}const at="ng-app-id";let Je=(()=>{class ie{constructor(le,ue,Le,mt={}){this.doc=le,this.appId=ue,this.nonce=Le,this.platformId=mt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,E.PM)(mt),this.resetHostNodes()}addStyles(le){for(const ue of le)1===this.changeUsageCount(ue,1)&&this.onStyleAdded(ue)}removeStyles(le){for(const ue of le)this.changeUsageCount(ue,-1)<=0&&this.onStyleRemoved(ue)}ngOnDestroy(){const le=this.styleNodesInDOM;le&&(le.forEach(ue=>ue.remove()),le.clear());for(const ue of this.getAllStyles())this.onStyleRemoved(ue);this.resetHostNodes()}addHost(le){this.hostNodes.add(le);for(const ue of this.getAllStyles())this.addStyleToHost(le,ue)}removeHost(le){this.hostNodes.delete(le)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(le){for(const ue of this.hostNodes)this.addStyleToHost(ue,le)}onStyleRemoved(le){const ue=this.styleRef;ue.get(le)?.elements?.forEach(Le=>Le.remove()),ue.delete(le)}collectServerRenderedStyles(){const le=this.doc.head?.querySelectorAll(`style[${at}="${this.appId}"]`);if(le?.length){const ue=new Map;return le.forEach(Le=>{null!=Le.textContent&&ue.set(Le.textContent,Le)}),ue}return null}changeUsageCount(le,ue){const Le=this.styleRef;if(Le.has(le)){const mt=Le.get(le);return mt.usage+=ue,mt.usage}return Le.set(le,{usage:ue,elements:[]}),ue}getStyleElement(le,ue){const Le=this.styleNodesInDOM,mt=Le?.get(ue);if(mt?.parentNode===le)return Le.delete(ue),mt.removeAttribute(at),mt;{const qt=this.doc.createElement("style");return this.nonce&&qt.setAttribute("nonce",this.nonce),qt.textContent=ue,this.platformIsServer&&qt.setAttribute(at,this.appId),qt}}addStyleToHost(le,ue){const Le=this.getStyleElement(le,ue);le.appendChild(Le);const mt=this.styleRef,qt=mt.get(ue)?.elements;qt?qt.push(Le):mt.set(ue,{elements:[Le],usage:1})}resetHostNodes(){const le=this.hostNodes;le.clear(),le.add(this.doc.head)}static#e=this.\u0275fac=function(ue){return new(ue||ie)(A.LFG(E.K0),A.LFG(A.AFp),A.LFG(A.Ojb,8),A.LFG(A.Lbi))};static#t=this.\u0275prov=A.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Kt=/%COMP%/g,Ct=new A.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ut(ie,ae){return ae.map(le=>le.replace(Kt,ie))}let _t=(()=>{class ie{constructor(le,ue,Le,mt,qt,mn,Rn,nr=null){this.eventManager=le,this.sharedStylesHost=ue,this.appId=Le,this.removeStylesOnCompDestroy=mt,this.doc=qt,this.platformId=mn,this.ngZone=Rn,this.nonce=nr,this.rendererByCompId=new Map,this.platformIsServer=(0,E.PM)(mn),this.defaultRenderer=new ft(le,qt,Rn,this.platformIsServer)}createRenderer(le,ue){if(!le||!ue)return this.defaultRenderer;this.platformIsServer&&ue.encapsulation===A.ifc.ShadowDom&&(ue={...ue,encapsulation:A.ifc.Emulated});const Le=this.getOrCreateRenderer(le,ue);return Le instanceof gt?Le.applyToHost(le):Le instanceof Pt&&Le.applyStyles(),Le}getOrCreateRenderer(le,ue){const Le=this.rendererByCompId;let mt=Le.get(ue.id);if(!mt){const qt=this.doc,mn=this.ngZone,Rn=this.eventManager,nr=this.sharedStylesHost,Nn=this.removeStylesOnCompDestroy,rr=this.platformIsServer;switch(ue.encapsulation){case A.ifc.Emulated:mt=new gt(Rn,nr,ue,this.appId,Nn,qt,mn,rr);break;case A.ifc.ShadowDom:return new In(Rn,nr,le,ue,qt,mn,this.nonce,rr);default:mt=new Pt(Rn,nr,ue,Nn,qt,mn,rr)}Le.set(ue.id,mt)}return mt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(ue){return new(ue||ie)(A.LFG($e),A.LFG(Je),A.LFG(A.AFp),A.LFG(Ct),A.LFG(E.K0),A.LFG(A.Lbi),A.LFG(A.R0b),A.LFG(A.Ojb))};static#t=this.\u0275prov=A.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();class ft{constructor(ae,le,ue,Le){this.eventManager=ae,this.doc=le,this.ngZone=ue,this.platformIsServer=Le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ae,le){return le?this.doc.createElementNS(pt[le]||le,ae):this.doc.createElement(ae)}createComment(ae){return this.doc.createComment(ae)}createText(ae){return this.doc.createTextNode(ae)}appendChild(ae,le){(wt(ae)?ae.content:ae).appendChild(le)}insertBefore(ae,le,ue){ae&&(wt(ae)?ae.content:ae).insertBefore(le,ue)}removeChild(ae,le){ae&&ae.removeChild(le)}selectRootElement(ae,le){let ue="string"==typeof ae?this.doc.querySelector(ae):ae;if(!ue)throw new A.vHH(-5104,!1);return le||(ue.textContent=""),ue}parentNode(ae){return ae.parentNode}nextSibling(ae){return ae.nextSibling}setAttribute(ae,le,ue,Le){if(Le){le=Le+":"+le;const mt=pt[Le];mt?ae.setAttributeNS(mt,le,ue):ae.setAttribute(le,ue)}else ae.setAttribute(le,ue)}removeAttribute(ae,le,ue){if(ue){const Le=pt[ue];Le?ae.removeAttributeNS(Le,le):ae.removeAttribute(`${ue}:${le}`)}else ae.removeAttribute(le)}addClass(ae,le){ae.classList.add(le)}removeClass(ae,le){ae.classList.remove(le)}setStyle(ae,le,ue,Le){Le&(A.JOm.DashCase|A.JOm.Important)?ae.style.setProperty(le,ue,Le&A.JOm.Important?"important":""):ae.style[le]=ue}removeStyle(ae,le,ue){ue&A.JOm.DashCase?ae.style.removeProperty(le):ae.style[le]=""}setProperty(ae,le,ue){ae[le]=ue}setValue(ae,le){ae.nodeValue=le}listen(ae,le,ue){if("string"==typeof ae&&!(ae=(0,E.q)().getGlobalEventTarget(this.doc,ae)))throw new Error(`Unsupported event target ${ae} for event ${le}`);return this.eventManager.addEventListener(ae,le,this.decoratePreventDefault(ue))}decoratePreventDefault(ae){return le=>{if("__ngUnwrap__"===le)return ae;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ae(le)):ae(le))&&le.preventDefault()}}}function wt(ie){return"TEMPLATE"===ie.tagName&&void 0!==ie.content}class In extends ft{constructor(ae,le,ue,Le,mt,qt,mn,Rn){super(ae,mt,qt,Rn),this.sharedStylesHost=le,this.hostEl=ue,this.shadowRoot=ue.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const nr=ut(Le.id,Le.styles);for(const Nn of nr){const rr=document.createElement("style");mn&&rr.setAttribute("nonce",mn),rr.textContent=Nn,this.shadowRoot.appendChild(rr)}}nodeOrShadowRoot(ae){return ae===this.hostEl?this.shadowRoot:ae}appendChild(ae,le){return super.appendChild(this.nodeOrShadowRoot(ae),le)}insertBefore(ae,le,ue){return super.insertBefore(this.nodeOrShadowRoot(ae),le,ue)}removeChild(ae,le){return super.removeChild(this.nodeOrShadowRoot(ae),le)}parentNode(ae){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ae)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Pt extends ft{constructor(ae,le,ue,Le,mt,qt,mn,Rn){super(ae,mt,qt,mn),this.sharedStylesHost=le,this.removeStylesOnCompDestroy=Le,this.styles=Rn?ut(Rn,ue.styles):ue.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gt extends Pt{constructor(ae,le,ue,Le,mt,qt,mn,Rn){const nr=Le+"-"+ue.id;super(ae,le,ue,mt,qt,mn,Rn,nr),this.contentAttr=function qe(ie){return"_ngcontent-%COMP%".replace(Kt,ie)}(nr),this.hostAttr=function xt(ie){return"_nghost-%COMP%".replace(Kt,ie)}(nr)}applyToHost(ae){this.applyStyles(),this.setAttribute(ae,this.hostAttr,"")}createElement(ae,le){const ue=super.createElement(ae,le);return super.setAttribute(ue,this.contentAttr,""),ue}}let kt=(()=>{class ie extends Se{constructor(le){super(le)}supports(le){return!0}addEventListener(le,ue,Le){return le.addEventListener(ue,Le,!1),()=>this.removeEventListener(le,ue,Le)}removeEventListener(le,ue,Le){return le.removeEventListener(ue,Le)}static#e=this.\u0275fac=function(ue){return new(ue||ie)(A.LFG(E.K0))};static#t=this.\u0275prov=A.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();const tt=["alt","control","meta","shift"],Re={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ve={alt:ie=>ie.altKey,control:ie=>ie.ctrlKey,meta:ie=>ie.metaKey,shift:ie=>ie.shiftKey};let Qe=(()=>{class ie extends Se{constructor(le){super(le)}supports(le){return null!=ie.parseEventName(le)}addEventListener(le,ue,Le){const mt=ie.parseEventName(ue),qt=ie.eventCallback(mt.fullKey,Le,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.q)().onAndCancel(le,mt.domEventName,qt))}static parseEventName(le){const ue=le.toLowerCase().split("."),Le=ue.shift();if(0===ue.length||"keydown"!==Le&&"keyup"!==Le)return null;const mt=ie._normalizeKey(ue.pop());let qt="",mn=ue.indexOf("code");if(mn>-1&&(ue.splice(mn,1),qt="code."),tt.forEach(nr=>{const Nn=ue.indexOf(nr);Nn>-1&&(ue.splice(Nn,1),qt+=nr+".")}),qt+=mt,0!=ue.length||0===mt.length)return null;const Rn={};return Rn.domEventName=Le,Rn.fullKey=qt,Rn}static matchEventFullKeyCode(le,ue){let Le=Re[le.key]||le.key,mt="";return ue.indexOf("code.")>-1&&(Le=le.code,mt="code."),!(null==Le||!Le)&&(Le=Le.toLowerCase()," "===Le?Le="space":"."===Le&&(Le="dot"),tt.forEach(qt=>{qt!==Le&&(0,Ve[qt])(le)&&(mt+=qt+".")}),mt+=Le,mt===ue)}static eventCallback(le,ue,Le){return mt=>{ie.matchEventFullKeyCode(mt,le)&&Le.runGuarded(()=>ue(mt))}}static _normalizeKey(le){return"esc"===le?"escape":le}static#e=this.\u0275fac=function(ue){return new(ue||ie)(A.LFG(E.K0))};static#t=this.\u0275prov=A.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();const cr=(0,A.eFA)(A._c5,"browser",[{provide:A.Lbi,useValue:E.bD},{provide:A.g9A,useValue:function vt(){z.makeCurrent()},multi:!0},{provide:E.K0,useFactory:function Bt(){return(0,A.RDi)(document),document},deps:[]}]),$n=new A.OlP(""),Dr=[{provide:A.rWj,useClass:class He{addToWindow(ae){A.dqk.getAngularTestability=(ue,Le=!0)=>{const mt=ae.findTestabilityInTree(ue,Le);if(null==mt)throw new A.vHH(5103,!1);return mt},A.dqk.getAllAngularTestabilities=()=>ae.getAllTestabilities(),A.dqk.getAllAngularRootElements=()=>ae.getAllRootElements(),A.dqk.frameworkStabilizers||(A.dqk.frameworkStabilizers=[]),A.dqk.frameworkStabilizers.push(ue=>{const Le=A.dqk.getAllAngularTestabilities();let mt=Le.length,qt=!1;const mn=function(Rn){qt=qt||Rn,mt--,0==mt&&ue(qt)};Le.forEach(Rn=>{Rn.whenStable(mn)})})}findTestabilityInTree(ae,le,ue){return null==le?null:ae.getTestability(le)??(ue?(0,E.q)().isShadowRoot(le)?this.findTestabilityInTree(ae,le.host,!0):this.findTestabilityInTree(ae,le.parentElement,!0):null)}},deps:[]},{provide:A.lri,useClass:A.dDg,deps:[A.R0b,A.eoX,A.rWj]},{provide:A.dDg,useClass:A.dDg,deps:[A.R0b,A.eoX,A.rWj]}],Lr=[{provide:A.zSh,useValue:"root"},{provide:A.qLn,useFactory:function Ht(){return new A.qLn},deps:[]},{provide:me,useClass:kt,multi:!0,deps:[E.K0,A.R0b,A.Lbi]},{provide:me,useClass:Qe,multi:!0,deps:[E.K0]},_t,Je,$e,{provide:A.FYo,useExisting:_t},{provide:E.JF,useClass:pe,deps:[]},[]];let yr=(()=>{class ie{constructor(le){}static withServerTransition(le){return{ngModule:ie,providers:[{provide:A.AFp,useValue:le.appId}]}}static#e=this.\u0275fac=function(ue){return new(ue||ie)(A.LFG($n,12))};static#t=this.\u0275mod=A.oAB({type:ie});static#n=this.\u0275inj=A.cJS({providers:[...Lr,...Dr],imports:[E.ez,A.hGG]})}return ie})(),cn=(()=>{class ie{constructor(le){this._doc=le}getTitle(){return this._doc.title}setTitle(le){this._doc.title=le||""}static#e=this.\u0275fac=function(ue){return new(ue||ie)(A.LFG(E.K0))};static#t=this.\u0275prov=A.Yz7({token:ie,factory:function(ue){let Le=null;return Le=ue?new ue:function Kn(){return new cn((0,A.LFG)(E.K0))}(),Le},providedIn:"root"})}return ie})();typeof window<"u"&&window},8589:(yn,ht,X)=>{X.d(ht,{gz:()=>fo,m2:()=>Os,F0:()=>br,rH:()=>Us,Od:()=>Nl,Bz:()=>Ri,lC:()=>be});var A=X(4946),E=X(5592),ee=X(4674),fe=X(2459),he=X(2096),Ge=X(5619),St=X(7453),He=X(2737),pe=X(7400),me=X(4564),$e=X(2714),Se=X(8251),at=X(7103);function Je(...S){const k=(0,me.yG)(S),D=(0,me.jO)(S),{args:F,keys:H}=(0,St.D)(S);if(0===F.length)return(0,fe.D)([],k);const se=new E.y(function pt(S,k,D=He.y){return F=>{Kt(k,()=>{const{length:H}=S,se=new Array(H);let ve=H,st=H;for(let rt=0;rt<H;rt++)Kt(k,()=>{const ln=(0,fe.D)(S[rt],k);let Yn=!1;ln.subscribe((0,Se.x)(F,ai=>{se[rt]=ai,Yn||(Yn=!0,st--),st||F.next(D(se.slice()))},()=>{--ve||F.complete()}))},F)},F)}}(F,k,H?ve=>(0,$e.n)(H,ve):He.y));return D?se.pipe((0,pe.Z)(D)):se}function Kt(S,k,D){S?(0,at.f)(D,S,k):k()}const Sn=(0,X(2306).d)(S=>function(){S(this),this.name="EmptyError",this.message="no elements in sequence"});var dn=X(7537);function Ct(...S){return function nt(){return(0,dn.J)(1)}()((0,fe.D)(S,(0,me.yG)(S)))}var qe=X(4829);function xt(S){return new E.y(k=>{(0,qe.Xf)(S()).subscribe(k)})}var ut=X(8407);function _t(S,k){const D=(0,ee.m)(S)?S:()=>S,F=H=>H.error(D());return new E.y(k?H=>k.schedule(F,0,H):F)}var ft=X(6232),fn=X(7394),Zn=X(9360);function wt(){return(0,Zn.e)((S,k)=>{let D=null;S._refCount++;const F=(0,Se.x)(k,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(D=null);const H=S._connection,se=D;D=null,H&&(!se||H===se)&&H.unsubscribe(),k.unsubscribe()});S.subscribe(F),F.closed||(D=S.connect())})}class In extends E.y{constructor(k,D){super(),this.source=k,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,Zn.A)(k)&&(this.lift=k.lift)}_subscribe(k){return this.getSubject().subscribe(k)}getSubject(){const k=this._subject;return(!k||k.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:k}=this;this._subject=this._connection=null,k?.unsubscribe()}connect(){let k=this._connection;if(!k){k=this._connection=new fn.w0;const D=this.getSubject();k.add(this.source.subscribe((0,Se.x)(D,void 0,()=>{this._teardown(),D.complete()},F=>{this._teardown(),D.error(F)},()=>this._teardown()))),k.closed&&(this._connection=null,k=fn.w0.EMPTY)}return k}refCount(){return wt()(this)}}var Pt=X(8645),gt=X(6814),kt=X(7398),tt=X(4664);function Re(S){return S<=0?()=>ft.E:(0,Zn.e)((k,D)=>{let F=0;k.subscribe((0,Se.x)(D,H=>{++F<=S&&(D.next(H),S<=F&&D.complete())}))})}var Qe=X(2181),Xe=X(1631);function We(S){return(0,Zn.e)((k,D)=>{let F=!1;k.subscribe((0,Se.x)(D,H=>{F=!0,D.next(H)},()=>{F||D.next(S),D.complete()}))})}function ze(S=ct){return(0,Zn.e)((k,D)=>{let F=!1;k.subscribe((0,Se.x)(D,H=>{F=!0,D.next(H)},()=>F?D.complete():D.error(S())))})}function ct(){return new Sn}function vt(S,k){const D=arguments.length>=2;return F=>F.pipe(S?(0,Qe.h)((H,se)=>S(H,se,F)):He.y,Re(1),D?We(k):ze(()=>new Sn))}var Ht=X(6328),Bt=X(9397);function vn(S){return(0,Zn.e)((k,D)=>{let se,F=null,H=!1;F=k.subscribe((0,Se.x)(D,void 0,void 0,ve=>{se=(0,qe.Xf)(S(ve,vn(S)(k))),F?(F.unsubscribe(),F=null,se.subscribe(D)):H=!0})),H&&(F.unsubscribe(),F=null,se.subscribe(D))})}function Dr(S){return S<=0?()=>ft.E:(0,Zn.e)((k,D)=>{let F=[];k.subscribe((0,Se.x)(D,H=>{F.push(H),S<F.length&&F.shift()},()=>{for(const H of F)D.next(H);D.complete()},void 0,()=>{F=null}))})}var xn=X(4716),Mn=X(2420),Kn=X(6593);const cn="primary",bn=Symbol("RouteTitle");class ar{constructor(k){this.params=k||{}}has(k){return Object.prototype.hasOwnProperty.call(this.params,k)}get(k){if(this.has(k)){const D=this.params[k];return Array.isArray(D)?D[0]:D}return null}getAll(k){if(this.has(k)){const D=this.params[k];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function dr(S){return new ar(S)}function rn(S,k,D){const F=D.path.split("/");if(F.length>S.length||"full"===D.pathMatch&&(k.hasChildren()||F.length<S.length))return null;const H={};for(let se=0;se<F.length;se++){const ve=F[se],st=S[se];if(ve.startsWith(":"))H[ve.substring(1)]=st;else if(ve!==st.path)return null}return{consumed:S.slice(0,F.length),posParams:H}}function Sr(S,k){const D=S?Object.keys(S):void 0,F=k?Object.keys(k):void 0;if(!D||!F||D.length!=F.length)return!1;let H;for(let se=0;se<D.length;se++)if(H=D[se],!ui(S[H],k[H]))return!1;return!0}function ui(S,k){if(Array.isArray(S)&&Array.isArray(k)){if(S.length!==k.length)return!1;const D=[...S].sort(),F=[...k].sort();return D.every((H,se)=>F[se]===H)}return S===k}function pi(S){return S.length>0?S[S.length-1]:null}function xr(S){return function z(S){return!!S&&(S instanceof E.y||(0,ee.m)(S.lift)&&(0,ee.m)(S.subscribe))}(S)?S:(0,A.QGY)(S)?(0,fe.D)(Promise.resolve(S)):(0,he.of)(S)}const hr={exact:function Jt(S,k,D){if(!Vt(S.segments,k.segments)||!Yr(S.segments,k.segments,D)||S.numberOfChildren!==k.numberOfChildren)return!1;for(const F in k.children)if(!S.children[F]||!Jt(S.children[F],k.children[F],D))return!1;return!0},subset:Ki},wi={exact:function rs(S,k){return Sr(S,k)},subset:function Is(S,k){return Object.keys(k).length<=Object.keys(S).length&&Object.keys(k).every(D=>ui(S[D],k[D]))},ignored:()=>!0};function Mr(S,k,D){return hr[D.paths](S.root,k.root,D.matrixParams)&&wi[D.queryParams](S.queryParams,k.queryParams)&&!("exact"===D.fragment&&S.fragment!==k.fragment)}function Ki(S,k,D){return Tr(S,k,k.segments,D)}function Tr(S,k,D,F){if(S.segments.length>D.length){const H=S.segments.slice(0,D.length);return!(!Vt(H,D)||k.hasChildren()||!Yr(H,D,F))}if(S.segments.length===D.length){if(!Vt(S.segments,D)||!Yr(S.segments,D,F))return!1;for(const H in k.children)if(!S.children[H]||!Ki(S.children[H],k.children[H],F))return!1;return!0}{const H=D.slice(0,S.segments.length),se=D.slice(S.segments.length);return!!(Vt(S.segments,H)&&Yr(S.segments,H,F)&&S.children[cn])&&Tr(S.children[cn],k,se,F)}}function Yr(S,k,D){return k.every((F,H)=>wi[D](S[H].parameters,F.parameters))}class Jn{constructor(k=new sn([],{}),D={},F=null){this.root=k,this.queryParams=D,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dr(this.queryParams)),this._queryParamMap}toString(){return De.serialize(this)}}class sn{constructor(k,D){this.segments=k,this.children=D,this.parent=null,Object.values(D).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ie(this)}}class Ni{constructor(k,D){this.path=k,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=dr(this.parameters)),this._parameterMap}toString(){return Rn(this)}}function Vt(S,k){return S.length===k.length&&S.every((D,F)=>D.path===k[F].path)}let ii=(()=>{class S{static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:function(){return new gi},providedIn:"root"})}return S})();class gi{parse(k){const D=new Zt(k);return new Jn(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(k){const D=`/${ae(k.root,!0)}`,F=function Nn(S){const k=Object.keys(S).map(D=>{const F=S[D];return Array.isArray(F)?F.map(H=>`${ue(D)}=${ue(H)}`).join("&"):`${ue(D)}=${ue(F)}`}).filter(D=>!!D);return k.length?`?${k.join("&")}`:""}(k.queryParams);return`${D}${F}${"string"==typeof k.fragment?`#${function Le(S){return encodeURI(S)}(k.fragment)}`:""}`}}const De=new gi;function ie(S){return S.segments.map(k=>Rn(k)).join("/")}function ae(S,k){if(!S.hasChildren())return ie(S);if(k){const D=S.children[cn]?ae(S.children[cn],!1):"",F=[];return Object.entries(S.children).forEach(([H,se])=>{H!==cn&&F.push(`${H}:${ae(se,!1)}`)}),F.length>0?`${D}(${F.join("//")})`:D}{const D=function On(S,k){let D=[];return Object.entries(S.children).forEach(([F,H])=>{F===cn&&(D=D.concat(k(H,F)))}),Object.entries(S.children).forEach(([F,H])=>{F!==cn&&(D=D.concat(k(H,F)))}),D}(S,(F,H)=>H===cn?[ae(S.children[cn],!1)]:[`${H}:${ae(F,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[cn]?`${ie(S)}/${D[0]}`:`${ie(S)}/(${D.join("//")})`}}function le(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ue(S){return le(S).replace(/%3B/gi,";")}function mt(S){return le(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qt(S){return decodeURIComponent(S)}function mn(S){return qt(S.replace(/\+/g,"%20"))}function Rn(S){return`${mt(S.path)}${function nr(S){return Object.keys(S).map(k=>`;${mt(k)}=${mt(S[k])}`).join("")}(S.parameters)}`}const rr=/^[^\/()?;#]+/;function Be(S){const k=S.match(rr);return k?k[0]:""}const Ae=/^[^\/()?;=#]+/,Te=/^[^=?&#]+/,je=/^[^&#]+/;class Zt{constructor(k){this.url=k,this.remaining=k}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const k={};if(this.consumeOptional("?"))do{this.parseQueryParam(k)}while(this.consumeOptional("&"));return k}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const k=[];for(this.peekStartsWith("(")||k.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),k.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(k.length>0||Object.keys(D).length>0)&&(F[cn]=new sn(k,D)),F}parseSegment(){const k=Be(this.remaining);if(""===k&&this.peekStartsWith(";"))throw new A.vHH(4009,!1);return this.capture(k),new Ni(qt(k),this.parseMatrixParams())}parseMatrixParams(){const k={};for(;this.consumeOptional(";");)this.parseParam(k);return k}parseParam(k){const D=function Pe(S){const k=S.match(Ae);return k?k[0]:""}(this.remaining);if(!D)return;this.capture(D);let F="";if(this.consumeOptional("=")){const H=Be(this.remaining);H&&(F=H,this.capture(F))}k[qt(D)]=qt(F)}parseQueryParam(k){const D=function Ee(S){const k=S.match(Te);return k?k[0]:""}(this.remaining);if(!D)return;this.capture(D);let F="";if(this.consumeOptional("=")){const ve=function it(S){const k=S.match(je);return k?k[0]:""}(this.remaining);ve&&(F=ve,this.capture(F))}const H=mn(D),se=mn(F);if(k.hasOwnProperty(H)){let ve=k[H];Array.isArray(ve)||(ve=[ve],k[H]=ve),ve.push(se)}else k[H]=se}parseParens(k){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=Be(this.remaining),H=this.remaining[F.length];if("/"!==H&&")"!==H&&";"!==H)throw new A.vHH(4010,!1);let se;F.indexOf(":")>-1?(se=F.slice(0,F.indexOf(":")),this.capture(se),this.capture(":")):k&&(se=cn);const ve=this.parseChildren();D[se]=1===Object.keys(ve).length?ve[cn]:new sn([],ve),this.consumeOptional("//")}return D}peekStartsWith(k){return this.remaining.startsWith(k)}consumeOptional(k){return!!this.peekStartsWith(k)&&(this.remaining=this.remaining.substring(k.length),!0)}capture(k){if(!this.consumeOptional(k))throw new A.vHH(4011,!1)}}function Tt(S){return S.segments.length>0?new sn([],{[cn]:S}):S}function An(S){const k={};for(const F of Object.keys(S.children)){const se=An(S.children[F]);if(F===cn&&0===se.segments.length&&se.hasChildren())for(const[ve,st]of Object.entries(se.children))k[ve]=st;else(se.segments.length>0||se.hasChildren())&&(k[F]=se)}return function Fr(S){if(1===S.numberOfChildren&&S.children[cn]){const k=S.children[cn];return new sn(S.segments.concat(k.segments),k.children)}return S}(new sn(S.segments,k))}function Cn(S){return S instanceof Jn}function Ps(S){let k;const H=Tt(function D(se){const ve={};for(const rt of se.children){const ln=D(rt);ve[rt.outlet]=ln}const st=new sn(se.url,ve);return se===S&&(k=st),st}(S.root));return k??H}function ki(S,k,D,F){let H=S;for(;H.parent;)H=H.parent;if(0===k.length)return Qr(H,H,H,D,F);const se=function Br(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Un(!0,0,S);let k=0,D=!1;const F=S.reduce((H,se,ve)=>{if("object"==typeof se&&null!=se){if(se.outlets){const st={};return Object.entries(se.outlets).forEach(([rt,ln])=>{st[rt]="string"==typeof ln?ln.split("/"):ln}),[...H,{outlets:st}]}if(se.segmentPath)return[...H,se.segmentPath]}return"string"!=typeof se?[...H,se]:0===ve?(se.split("/").forEach((st,rt)=>{0==rt&&"."===st||(0==rt&&""===st?D=!0:".."===st?k++:""!=st&&H.push(st))}),H):[...H,se]},[]);return new Un(D,k,F)}(k);if(se.toRoot())return Qr(H,H,new sn([],{}),D,F);const ve=function Jr(S,k,D){if(S.isAbsolute)return new Rr(k,!0,0);if(!D)return new Rr(k,!1,NaN);if(null===D.parent)return new Rr(D,!0,0);const F=Bn(S.commands[0])?0:1;return function Xr(S,k,D){let F=S,H=k,se=D;for(;se>H;){if(se-=H,F=F.parent,!F)throw new A.vHH(4005,!1);H=F.segments.length}return new Rr(F,!1,H-se)}(D,D.segments.length-1+F,S.numberOfDoubleDots)}(se,H,S),st=ve.processChildren?$s(ve.segmentGroup,ve.index,se.commands):zs(ve.segmentGroup,ve.index,se.commands);return Qr(H,ve.segmentGroup,st,D,F)}function Bn(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function ur(S){return"object"==typeof S&&null!=S&&S.outlets}function Qr(S,k,D,F,H){let ve,se={};F&&Object.entries(F).forEach(([rt,ln])=>{se[rt]=Array.isArray(ln)?ln.map(Yn=>`${Yn}`):`${ln}`}),ve=S===k?D:si(S,k,D);const st=Tt(An(ve));return new Jn(st,se,H)}function si(S,k,D){const F={};return Object.entries(S.children).forEach(([H,se])=>{F[H]=se===k?D:si(se,k,D)}),new sn(S.segments,F)}class Un{constructor(k,D,F){if(this.isAbsolute=k,this.numberOfDoubleDots=D,this.commands=F,k&&F.length>0&&Bn(F[0]))throw new A.vHH(4003,!1);const H=F.find(ur);if(H&&H!==pi(F))throw new A.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rr{constructor(k,D,F){this.segmentGroup=k,this.processChildren=D,this.index=F}}function zs(S,k,D){if(S||(S=new sn([],{})),0===S.segments.length&&S.hasChildren())return $s(S,k,D);const F=function Ts(S,k,D){let F=0,H=k;const se={match:!1,pathIndex:0,commandIndex:0};for(;H<S.segments.length;){if(F>=D.length)return se;const ve=S.segments[H],st=D[F];if(ur(st))break;const rt=`${st}`,ln=F<D.length-1?D[F+1]:null;if(H>0&&void 0===rt)break;if(rt&&ln&&"object"==typeof ln&&void 0===ln.outlets){if(!Ci(rt,ln,ve))return se;F+=2}else{if(!Ci(rt,{},ve))return se;F++}H++}return{match:!0,pathIndex:H,commandIndex:F}}(S,k,D),H=D.slice(F.commandIndex);if(F.match&&F.pathIndex<S.segments.length){const se=new sn(S.segments.slice(0,F.pathIndex),{});return se.children[cn]=new sn(S.segments.slice(F.pathIndex),S.children),$s(se,0,H)}return F.match&&0===H.length?new sn(S.segments,{}):F.match&&!S.hasChildren()?yi(S,k,D):F.match?$s(S,0,H):yi(S,k,D)}function $s(S,k,D){if(0===D.length)return new sn(S.segments,{});{const F=function gs(S){return ur(S[0])?S[0].outlets:{[cn]:S}}(D),H={};if(Object.keys(F).some(se=>se!==cn)&&S.children[cn]&&1===S.numberOfChildren&&0===S.children[cn].segments.length){const se=$s(S.children[cn],k,D);return new sn(S.segments,se.children)}return Object.entries(F).forEach(([se,ve])=>{"string"==typeof ve&&(ve=[ve]),null!==ve&&(H[se]=zs(S.children[se],k,ve))}),Object.entries(S.children).forEach(([se,ve])=>{void 0===F[se]&&(H[se]=ve)}),new sn(S.segments,H)}}function yi(S,k,D){const F=S.segments.slice(0,k);let H=0;for(;H<D.length;){const se=D[H];if(ur(se)){const rt=Ao(se.outlets);return new sn(F,rt)}if(0===H&&Bn(D[0])){F.push(new Ni(S.segments[k].path,Gs(D[0]))),H++;continue}const ve=ur(se)?se.outlets[cn]:`${se}`,st=H<D.length-1?D[H+1]:null;ve&&st&&Bn(st)?(F.push(new Ni(ve,Gs(st))),H+=2):(F.push(new Ni(ve,{})),H++)}return new sn(F,{})}function Ao(S){const k={};return Object.entries(S).forEach(([D,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(k[D]=yi(new sn([],{}),0,F))}),k}function Gs(S){const k={};return Object.entries(S).forEach(([D,F])=>k[D]=`${F}`),k}function Ci(S,k,D){return S==D.path&&Sr(k,D.parameters)}const ws="imperative";class _i{constructor(k,D){this.id=k,this.url=D}}class $o extends _i{constructor(k,D,F="imperative",H=null){super(k,D),this.type=0,this.navigationTrigger=F,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Os extends _i{constructor(k,D,F){super(k,D),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Di extends _i{constructor(k,D,F,H){super(k,D),this.reason=F,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class eo extends _i{constructor(k,D,F,H){super(k,D),this.reason=F,this.code=H,this.type=16}}class Hi extends _i{constructor(k,D,F,H){super(k,D),this.error=F,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xo extends _i{constructor(k,D,F,H){super(k,D),this.urlAfterRedirects=F,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class co extends _i{constructor(k,D,F,H){super(k,D),this.urlAfterRedirects=F,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ea extends _i{constructor(k,D,F,H,se){super(k,D),this.urlAfterRedirects=F,this.state=H,this.shouldActivate=se,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ya extends _i{constructor(k,D,F,H){super(k,D),this.urlAfterRedirects=F,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ns extends _i{constructor(k,D,F,H){super(k,D),this.urlAfterRedirects=F,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ta{constructor(k){this.route=k,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class is{constructor(k){this.route=k,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class to{constructor(k){this.snapshot=k,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ss{constructor(k){this.snapshot=k,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class na{constructor(k){this.snapshot=k,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Co{constructor(k){this.snapshot=k,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gr{constructor(k,D,F){this.routerEvent=k,this.position=D,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ho{}class ks{constructor(k){this.url=k}}class os{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zi,this.attachRef=null}}let zi=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(D,F){const H=this.getOrCreateContext(D);H.outlet=F,this.contexts.set(D,H)}onChildOutletDestroyed(D){const F=this.getContext(D);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let F=this.getContext(D);return F||(F=new os,this.contexts.set(D,F)),F}getContext(D){return this.contexts.get(D)||null}static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class qs{constructor(k){this._root=k}get root(){return this._root.value}parent(k){const D=this.pathFromRoot(k);return D.length>1?D[D.length-2]:null}children(k){const D=no(k,this._root);return D?D.children.map(F=>F.value):[]}firstChild(k){const D=no(k,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(k){const D=Gn(k,this._root);return D.length<2?[]:D[D.length-2].children.map(H=>H.value).filter(H=>H!==k)}pathFromRoot(k){return Gn(k,this._root).map(D=>D.value)}}function no(S,k){if(S===k.value)return k;for(const D of k.children){const F=no(S,D);if(F)return F}return null}function Gn(S,k){if(S===k.value)return[k];for(const D of k.children){const F=Gn(S,D);if(F.length)return F.unshift(k),F}return[]}class kn{constructor(k,D){this.value=k,this.children=D}toString(){return`TreeNode(${this.value})`}}function Pr(S){const k={};return S&&S.children.forEach(D=>k[D.value.outlet]=D),k}class Yi extends qs{constructor(k,D){super(k),this.snapshot=D,Xt(this,k)}toString(){return this.snapshot.toString()}}function Si(S,k){const D=function ia(S,k){const ve=new $i([],{},{},"",{},cn,k,null,{});return new ei("",new kn(ve,[]))}(0,k),F=new Ge.X([new Ni("",{})]),H=new Ge.X({}),se=new Ge.X({}),ve=new Ge.X({}),st=new Ge.X(""),rt=new fo(F,H,ve,st,se,cn,k,D.root);return rt.snapshot=D.root,new Yi(new kn(rt,[]),D)}class fo{constructor(k,D,F,H,se,ve,st,rt){this.urlSubject=k,this.paramsSubject=D,this.queryParamsSubject=F,this.fragmentSubject=H,this.dataSubject=se,this.outlet=ve,this.component=st,this._futureSnapshot=rt,this.title=this.dataSubject?.pipe((0,kt.U)(ln=>ln[bn]))??(0,he.of)(void 0),this.url=k,this.params=D,this.queryParams=F,this.fragment=H,this.data=se}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,kt.U)(k=>dr(k)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,kt.U)(k=>dr(k)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ws(S,k="emptyOnly"){const D=S.pathFromRoot;let F=0;if("always"!==k)for(F=D.length-1;F>=1;){const H=D[F],se=D[F-1];if(H.routeConfig&&""===H.routeConfig.path)F--;else{if(se.component)break;F--}}return function Ls(S){return S.reduce((k,D)=>({params:{...k.params,...D.params},data:{...k.data,...D.data},resolve:{...D.data,...k.resolve,...D.routeConfig?.data,...D._resolvedData}}),{params:{},data:{},resolve:{}})}(D.slice(F))}class $i{get title(){return this.data?.[bn]}constructor(k,D,F,H,se,ve,st,rt,ln){this.url=k,this.params=D,this.queryParams=F,this.fragment=H,this.data=se,this.outlet=ve,this.component=st,this.routeConfig=rt,this._resolve=ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ei extends qs{constructor(k,D){super(D),this.url=k,Xt(this,D)}toString(){return Dn(this._root)}}function Xt(S,k){k.value._routerState=S,k.children.forEach(D=>Xt(S,D))}function Dn(S){const k=S.children.length>0?` { ${S.children.map(Dn).join(", ")} } `:"";return`${S.value}${k}`}function W(S){if(S.snapshot){const k=S.snapshot,D=S._futureSnapshot;S.snapshot=D,Sr(k.queryParams,D.queryParams)||S.queryParamsSubject.next(D.queryParams),k.fragment!==D.fragment&&S.fragmentSubject.next(D.fragment),Sr(k.params,D.params)||S.paramsSubject.next(D.params),function en(S,k){if(S.length!==k.length)return!1;for(let D=0;D<S.length;++D)if(!Sr(S[D],k[D]))return!1;return!0}(k.url,D.url)||S.urlSubject.next(D.url),Sr(k.data,D.data)||S.dataSubject.next(D.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function Y(S,k){const D=Sr(S.params,k.params)&&function Ai(S,k){return Vt(S,k)&&S.every((D,F)=>Sr(D.parameters,k[F].parameters))}(S.url,k.url);return D&&!(!S.parent!=!k.parent)&&(!S.parent||Y(S.parent,k.parent))}let be=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=cn,this.activateEvents=new A.vpe,this.deactivateEvents=new A.vpe,this.attachEvents=new A.vpe,this.detachEvents=new A.vpe,this.parentContexts=(0,A.f3M)(zi),this.location=(0,A.f3M)(A.s_b),this.changeDetector=(0,A.f3M)(A.sBO),this.environmentInjector=(0,A.f3M)(A.lqb),this.inputBinder=(0,A.f3M)(ke,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:F,previousValue:H}=D.name;if(F)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){return this.parentContexts.getContext(D)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);D?.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,F){this.activated=D,this._activatedRoute=F,this.location.insert(D.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,F){if(this.isActivated)throw new A.vHH(4013,!1);this._activatedRoute=D;const H=this.location,ve=D.snapshot.component,st=this.parentContexts.getOrCreateContext(this.name).children,rt=new we(D,st,H.injector);this.activated=H.createComponent(ve,{index:H.length,injector:rt,environmentInjector:F??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275dir=A.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[A.TTD]})}return S})();class we{constructor(k,D,F){this.route=k,this.childContexts=D,this.parent=F}get(k,D){return k===fo?this.route:k===zi?this.childContexts:this.parent.get(k,D)}}const ke=new A.OlP("");let Ye=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){this.outletDataSubscriptions.get(D)?.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:F}=D,H=Je([F.queryParams,F.params,F.data]).pipe((0,tt.w)(([se,ve,st],rt)=>(st={...se,...ve,...st},0===rt?(0,he.of)(st):Promise.resolve(st)))).subscribe(se=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(D);const ve=(0,A.qFp)(F.component);if(ve)for(const{templateName:st}of ve.inputs)D.activatedComponentRef.setInput(st,se[st]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,H)}static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac})}return S})();function hn(S,k,D){if(D&&S.shouldReuseRoute(k.value,D.value.snapshot)){const F=D.value;F._futureSnapshot=k.value;const H=function It(S,k,D){return k.children.map(F=>{for(const H of D.children)if(S.shouldReuseRoute(F.value,H.value.snapshot))return hn(S,F,H);return hn(S,F)})}(S,k,D);return new kn(F,H)}{if(S.shouldAttach(k.value)){const se=S.retrieve(k.value);if(null!==se){const ve=se.route;return ve.value._futureSnapshot=k.value,ve.children=k.children.map(st=>hn(S,st)),ve}}const F=function Ln(S){return new fo(new Ge.X(S.url),new Ge.X(S.params),new Ge.X(S.queryParams),new Ge.X(S.fragment),new Ge.X(S.data),S.outlet,S.component,S)}(k.value),H=k.children.map(se=>hn(S,se));return new kn(F,H)}}const Qn="ngNavigationCancelingError";function Or(S,k){const{redirectTo:D,navigationBehaviorOptions:F}=Cn(k)?{redirectTo:k,navigationBehaviorOptions:void 0}:k,H=qn(!1,0,k);return H.url=D,H.navigationBehaviorOptions=F,H}function qn(S,k,D){const F=new Error("NavigationCancelingError: "+(S||""));return F[Qn]=!0,F.cancellationCode=k,D&&(F.url=D),F}function Nr(S){return S&&S[Qn]}let vr=(()=>{class S{static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275cmp=A.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[A.jDz],decls:1,vars:0,template:function(F,H){1&F&&A._UZ(0,"router-outlet")},dependencies:[be],encapsulation:2})}return S})();function sa(S){const k=S.children&&S.children.map(sa),D=k?{...S,children:k}:{...S};return!D.component&&!D.loadComponent&&(k||D.loadChildren)&&D.outlet&&D.outlet!==cn&&(D.component=vr),D}function ir(S){return S.outlet||cn}function mi(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let k=S.parent;k;k=k.parent){const D=k.routeConfig;if(D?._loadedInjector)return D._loadedInjector;if(D?._injector)return D._injector}return null}class al{constructor(k,D,F,H,se){this.routeReuseStrategy=k,this.futureState=D,this.currState=F,this.forwardEvent=H,this.inputBindingEnabled=se}activate(k){const D=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,F,k),W(this.futureState.root),this.activateChildRoutes(D,F,k)}deactivateChildRoutes(k,D,F){const H=Pr(D);k.children.forEach(se=>{const ve=se.value.outlet;this.deactivateRoutes(se,H[ve],F),delete H[ve]}),Object.values(H).forEach(se=>{this.deactivateRouteAndItsChildren(se,F)})}deactivateRoutes(k,D,F){const H=k.value,se=D?D.value:null;if(H===se)if(H.component){const ve=F.getContext(H.outlet);ve&&this.deactivateChildRoutes(k,D,ve.children)}else this.deactivateChildRoutes(k,D,F);else se&&this.deactivateRouteAndItsChildren(D,F)}deactivateRouteAndItsChildren(k,D){k.value.component&&this.routeReuseStrategy.shouldDetach(k.value.snapshot)?this.detachAndStoreRouteSubtree(k,D):this.deactivateRouteAndOutlet(k,D)}detachAndStoreRouteSubtree(k,D){const F=D.getContext(k.value.outlet),H=F&&k.value.component?F.children:D,se=Pr(k);for(const ve of Object.keys(se))this.deactivateRouteAndItsChildren(se[ve],H);if(F&&F.outlet){const ve=F.outlet.detach(),st=F.children.onOutletDeactivated();this.routeReuseStrategy.store(k.value.snapshot,{componentRef:ve,route:k,contexts:st})}}deactivateRouteAndOutlet(k,D){const F=D.getContext(k.value.outlet),H=F&&k.value.component?F.children:D,se=Pr(k);for(const ve of Object.keys(se))this.deactivateRouteAndItsChildren(se[ve],H);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(k,D,F){const H=Pr(D);k.children.forEach(se=>{this.activateRoutes(se,H[se.value.outlet],F),this.forwardEvent(new Co(se.value.snapshot))}),k.children.length&&this.forwardEvent(new ss(k.value.snapshot))}activateRoutes(k,D,F){const H=k.value,se=D?D.value:null;if(W(H),H===se)if(H.component){const ve=F.getOrCreateContext(H.outlet);this.activateChildRoutes(k,D,ve.children)}else this.activateChildRoutes(k,D,F);else if(H.component){const ve=F.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const st=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),ve.children.onOutletReAttached(st.contexts),ve.attachRef=st.componentRef,ve.route=st.route.value,ve.outlet&&ve.outlet.attach(st.componentRef,st.route.value),W(st.route.value),this.activateChildRoutes(k,null,ve.children)}else{const st=mi(H.snapshot);ve.attachRef=null,ve.route=H,ve.injector=st,ve.outlet&&ve.outlet.activateWith(H,ve.injector),this.activateChildRoutes(k,null,ve.children)}}else this.activateChildRoutes(k,null,F)}}class xi{constructor(k){this.path=k,this.route=this.path[this.path.length-1]}}class Mi{constructor(k,D){this.component=k,this.route=D}}function ba(S,k,D){const F=S._root;return Qi(F,k?k._root:null,D,[F.value])}function Xn(S,k){const D=Symbol(),F=k.get(S,D);return F===D?"function"!=typeof S||(0,A.Z0I)(S)?k.get(S):S:F}function Qi(S,k,D,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const se=Pr(k);return S.children.forEach(ve=>{(function Ba(S,k,D,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const se=S.value,ve=k?k.value:null,st=D?D.getContext(S.value.outlet):null;if(ve&&se.routeConfig===ve.routeConfig){const rt=function q(S,k,D){if("function"==typeof D)return D(S,k);switch(D){case"pathParamsChange":return!Vt(S.url,k.url);case"pathParamsOrQueryParamsChange":return!Vt(S.url,k.url)||!Sr(S.queryParams,k.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Y(S,k)||!Sr(S.queryParams,k.queryParams);default:return!Y(S,k)}}(ve,se,se.routeConfig.runGuardsAndResolvers);rt?H.canActivateChecks.push(new xi(F)):(se.data=ve.data,se._resolvedData=ve._resolvedData),Qi(S,k,se.component?st?st.children:null:D,F,H),rt&&st&&st.outlet&&st.outlet.isActivated&&H.canDeactivateChecks.push(new Mi(st.outlet.component,ve))}else ve&&Z(k,st,H),H.canActivateChecks.push(new xi(F)),Qi(S,null,se.component?st?st.children:null:D,F,H)})(ve,se[ve.value.outlet],D,F.concat([ve.value]),H),delete se[ve.value.outlet]}),Object.entries(se).forEach(([ve,st])=>Z(st,D.getContext(ve),H)),H}function Z(S,k,D){const F=Pr(S),H=S.value;Object.entries(F).forEach(([se,ve])=>{Z(ve,H.component?k?k.children.getContext(se):null:k,D)}),D.canDeactivateChecks.push(new Mi(H.component&&k&&k.outlet&&k.outlet.isActivated?k.outlet.component:null,H))}function U(S){return"function"==typeof S}function Do(S){return S instanceof Sn||"EmptyError"===S?.name}const aa=Symbol("INITIAL_VALUE");function Zs(){return(0,tt.w)(S=>Je(S.map(k=>k.pipe(Re(1),function Ve(...S){const k=(0,me.yG)(S);return(0,Zn.e)((D,F)=>{(k?Ct(S,D,k):Ct(S,D)).subscribe(F)})}(aa)))).pipe((0,kt.U)(k=>{for(const D of k)if(!0!==D){if(D===aa)return aa;if(!1===D||D instanceof Jn)return D}return!0}),(0,Qe.h)(k=>k!==aa),Re(1)))}function go(S){return(0,ut.z)((0,Bt.b)(k=>{if(Cn(k))throw Or(0,k)}),(0,kt.U)(k=>!0===k))}class _s{constructor(k){this.segmentGroup=k||null}}class ys{constructor(k){this.urlTree=k}}function mo(S){return _t(new _s(S))}function us(S){return _t(new ys(S))}class ll{constructor(k,D){this.urlSerializer=k,this.urlTree=D}noMatchError(k){return new A.vHH(4002,!1)}lineralizeSegments(k,D){let F=[],H=D.root;for(;;){if(F=F.concat(H.segments),0===H.numberOfChildren)return(0,he.of)(F);if(H.numberOfChildren>1||!H.children[cn])return _t(new A.vHH(4e3,!1));H=H.children[cn]}}applyRedirectCommands(k,D,F){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),k,F)}applyRedirectCreateUrlTree(k,D,F,H){const se=this.createSegmentGroup(k,D.root,F,H);return new Jn(se,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(k,D){const F={};return Object.entries(k).forEach(([H,se])=>{if("string"==typeof se&&se.startsWith(":")){const st=se.substring(1);F[H]=D[st]}else F[H]=se}),F}createSegmentGroup(k,D,F,H){const se=this.createSegments(k,D.segments,F,H);let ve={};return Object.entries(D.children).forEach(([st,rt])=>{ve[st]=this.createSegmentGroup(k,rt,F,H)}),new sn(se,ve)}createSegments(k,D,F,H){return D.map(se=>se.path.startsWith(":")?this.findPosParam(k,se,H):this.findOrReturn(se,F))}findPosParam(k,D,F){const H=F[D.path.substring(1)];if(!H)throw new A.vHH(4001,!1);return H}findOrReturn(k,D){let F=0;for(const H of D){if(H.path===k.path)return D.splice(F),H;F++}return k}}const kr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ul(S,k,D,F,H){const se=Ha(S,k,D);return se.matched?(F=function ni(S,k){return S.providers&&!S._injector&&(S._injector=(0,A.MMx)(S.providers,k,`Route: ${S.path}`)),S._injector??k}(k,F),function Mu(S,k,D,F){const H=k.canMatch;if(!H||0===H.length)return(0,he.of)(!0);const se=H.map(ve=>{const st=Xn(ve,S);return xr(function Ia(S){return S&&U(S.canMatch)}(st)?st.canMatch(k,D):S.runInContext(()=>st(k,D)))});return(0,he.of)(se).pipe(Zs(),go())}(F,k,D).pipe((0,kt.U)(ve=>!0===ve?se:{...kr}))):(0,he.of)(se)}function Ha(S,k,D){if(""===k.path)return"full"===k.pathMatch&&(S.hasChildren()||D.length>0)?{...kr}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const H=(k.matcher||rn)(D,S,k);if(!H)return{...kr};const se={};Object.entries(H.posParams??{}).forEach(([st,rt])=>{se[st]=rt.path});const ve=H.consumed.length>0?{...se,...H.consumed[H.consumed.length-1].parameters}:se;return{matched:!0,consumedSegments:H.consumed,remainingSegments:D.slice(H.consumed.length),parameters:ve,positionalParamSegments:H.posParams??{}}}function xo(S,k,D,F){return D.length>0&&function za(S,k,D){return D.some(F=>wa(S,k,F)&&ir(F)!==cn)}(S,D,F)?{segmentGroup:new sn(k,ko(F,new sn(D,S.children))),slicedSegments:[]}:0===D.length&&function dl(S,k,D){return D.some(F=>wa(S,k,F))}(S,D,F)?{segmentGroup:new sn(S.segments,cl(S,0,D,F,S.children)),slicedSegments:D}:{segmentGroup:new sn(S.segments,S.children),slicedSegments:D}}function cl(S,k,D,F,H){const se={};for(const ve of F)if(wa(S,D,ve)&&!H[ir(ve)]){const st=new sn([],{});se[ir(ve)]=st}return{...H,...se}}function ko(S,k){const D={};D[cn]=k;for(const F of S)if(""===F.path&&ir(F)!==cn){const H=new sn([],{});D[ir(F)]=H}return D}function wa(S,k,D){return(!(S.hasChildren()||k.length>0)||"full"!==D.pathMatch)&&""===D.path}class $a{constructor(k,D,F,H,se,ve,st){this.injector=k,this.configLoader=D,this.rootComponentType=F,this.config=H,this.urlTree=se,this.paramsInheritanceStrategy=ve,this.urlSerializer=st,this.allowRedirects=!0,this.applyRedirects=new ll(this.urlSerializer,this.urlTree)}noMatchError(k){return new A.vHH(4002,!1)}recognize(){const k=xo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,k,cn).pipe(vn(D=>{if(D instanceof ys)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof _s?this.noMatchError(D):D}),(0,kt.U)(D=>{const F=new $i([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cn,this.rootComponentType,null,{}),H=new kn(F,D),se=new ei("",H),ve=function ci(S,k,D=null,F=null){return ki(Ps(S),k,D,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return ve.queryParams=this.urlTree.queryParams,se.url=this.urlSerializer.serialize(ve),this.inheritParamsAndData(se._root),{state:se,tree:ve}}))}match(k){return this.processSegmentGroup(this.injector,this.config,k.root,cn).pipe(vn(F=>{throw F instanceof _s?this.noMatchError(F):F}))}inheritParamsAndData(k){const D=k.value,F=Ws(D,this.paramsInheritanceStrategy);D.params=Object.freeze(F.params),D.data=Object.freeze(F.data),k.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(k,D,F,H){return 0===F.segments.length&&F.hasChildren()?this.processChildren(k,D,F):this.processSegment(k,D,F,F.segments,H,!0)}processChildren(k,D,F){const H=[];for(const se of Object.keys(F.children))"primary"===se?H.unshift(se):H.push(se);return(0,fe.D)(H).pipe((0,Ht.b)(se=>{const ve=F.children[se],st=function oa(S,k){const D=S.filter(F=>ir(F)===k);return D.push(...S.filter(F=>ir(F)!==k)),D}(D,se);return this.processSegmentGroup(k,st,ve,se)}),function $n(S,k){return(0,Zn.e)(function cr(S,k,D,F,H){return(se,ve)=>{let st=D,rt=k,ln=0;se.subscribe((0,Se.x)(ve,Yn=>{const ai=ln++;rt=st?S(rt,Yn,ai):(st=!0,Yn),F&&ve.next(rt)},H&&(()=>{st&&ve.next(rt),ve.complete()})))}}(S,k,arguments.length>=2,!0))}((se,ve)=>(se.push(...ve),se)),We(null),function Lr(S,k){const D=arguments.length>=2;return F=>F.pipe(S?(0,Qe.h)((H,se)=>S(H,se,F)):He.y,Dr(1),D?We(k):ze(()=>new Sn))}(),(0,Xe.z)(se=>{if(null===se)return mo(F);const ve=te(se);return function Ol(S){S.sort((k,D)=>k.value.outlet===cn?-1:D.value.outlet===cn?1:k.value.outlet.localeCompare(D.value.outlet))}(ve),(0,he.of)(ve)}))}processSegment(k,D,F,H,se,ve){return(0,fe.D)(D).pipe((0,Ht.b)(st=>this.processSegmentAgainstRoute(st._injector??k,D,st,F,H,se,ve).pipe(vn(rt=>{if(rt instanceof _s)return(0,he.of)(null);throw rt}))),vt(st=>!!st),vn(st=>{if(Do(st))return function Vs(S,k,D){return 0===k.length&&!S.children[D]}(F,H,se)?(0,he.of)([]):mo(F);throw st}))}processSegmentAgainstRoute(k,D,F,H,se,ve,st){return function Fs(S,k,D,F){return!!(ir(S)===F||F!==cn&&wa(k,D,S))&&("**"===S.path||Ha(k,S,D).matched)}(F,H,se,ve)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(k,H,F,se,ve,st):st&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(k,H,D,F,se,ve):mo(H):mo(H)}expandSegmentAgainstRouteUsingRedirect(k,D,F,H,se,ve){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(k,F,H,ve):this.expandRegularSegmentAgainstRouteUsingRedirect(k,D,F,H,se,ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(k,D,F,H){const se=this.applyRedirects.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?us(se):this.applyRedirects.lineralizeSegments(F,se).pipe((0,Xe.z)(ve=>{const st=new sn(ve,{});return this.processSegment(k,D,st,ve,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(k,D,F,H,se,ve){const{matched:st,consumedSegments:rt,remainingSegments:ln,positionalParamSegments:Yn}=Ha(D,H,se);if(!st)return mo(D);const ai=this.applyRedirects.applyRedirectCommands(rt,H.redirectTo,Yn);return H.redirectTo.startsWith("/")?us(ai):this.applyRedirects.lineralizeSegments(H,ai).pipe((0,Xe.z)(fr=>this.processSegment(k,F,D,fr.concat(ln),ve,!1)))}matchSegmentAgainstRoute(k,D,F,H,se,ve){let st;if("**"===F.path){const rt=H.length>0?pi(H).parameters:{},ln=new $i(H,rt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,K(F),ir(F),F.component??F._loadedComponent??null,F,Ie(F));st=(0,he.of)({snapshot:ln,consumedSegments:[],remainingSegments:[]}),D.children={}}else st=ul(D,F,H,k).pipe((0,kt.U)(({matched:rt,consumedSegments:ln,remainingSegments:Yn,parameters:ai})=>rt?{snapshot:new $i(ln,ai,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,K(F),ir(F),F.component??F._loadedComponent??null,F,Ie(F)),consumedSegments:ln,remainingSegments:Yn}:null));return st.pipe((0,tt.w)(rt=>null===rt?mo(D):this.getChildConfig(k=F._injector??k,F,H).pipe((0,tt.w)(({routes:ln})=>{const Yn=F._loadedInjector??k,{snapshot:ai,consumedSegments:fr,remainingSegments:ha}=rt,{segmentGroup:Za,slicedSegments:Fl}=xo(D,fr,ha,ln);if(0===Fl.length&&Za.hasChildren())return this.processChildren(Yn,ln,Za).pipe((0,kt.U)(ru=>null===ru?null:[new kn(ai,ru)]));if(0===ln.length&&0===Fl.length)return(0,he.of)([new kn(ai,[])]);const nu=ir(F)===se;return this.processSegment(Yn,ln,Za,Fl,nu?cn:se,!0).pipe((0,kt.U)(ru=>[new kn(ai,ru)]))}))))}getChildConfig(k,D,F){return D.children?(0,he.of)({routes:D.children,injector:k}):D.loadChildren?void 0!==D._loadedRoutes?(0,he.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Ta(S,k,D,F){const H=k.canLoad;if(void 0===H||0===H.length)return(0,he.of)(!0);const se=H.map(ve=>{const st=Xn(ve,S);return xr(function xe(S){return S&&U(S.canLoad)}(st)?st.canLoad(k,D):S.runInContext(()=>st(k,D)))});return(0,he.of)(se).pipe(Zs(),go())}(k,D,F).pipe((0,Xe.z)(H=>H?this.configLoader.loadChildren(k,D).pipe((0,Bt.b)(se=>{D._loadedRoutes=se.routes,D._loadedInjector=se.injector})):function So(S){return _t(qn(!1,3))}())):(0,he.of)({routes:[],injector:k})}}function P(S){const k=S.value.routeConfig;return k&&""===k.path}function te(S){const k=[],D=new Set;for(const F of S){if(!P(F)){k.push(F);continue}const H=k.find(se=>F.value.routeConfig===se.value.routeConfig);void 0!==H?(H.children.push(...F.children),D.add(H)):k.push(F)}for(const F of D){const H=te(F.children);k.push(new kn(F.value,H))}return k.filter(F=>!D.has(F))}function K(S){return S.data||{}}function Ie(S){return S.resolve||{}}function er(S){return"string"==typeof S.title||null===S.title}function bi(S){return(0,tt.w)(k=>{const D=S(k);return D?(0,fe.D)(D).pipe((0,kt.U)(()=>k)):(0,he.of)(k)})}const wr=new A.OlP("ROUTES");let oi=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,A.f3M)(A.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,he.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const F=xr(D.loadComponent()).pipe((0,kt.U)(cs),(0,Bt.b)(se=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=se}),(0,xn.x)(()=>{this.componentLoaders.delete(D)})),H=new In(F,()=>new Pt.x).pipe(wt());return this.componentLoaders.set(D,H),H}loadChildren(D,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,he.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const se=function Lo(S,k,D,F){return xr(S.loadChildren()).pipe((0,kt.U)(cs),(0,Xe.z)(H=>H instanceof A.YKP||Array.isArray(H)?(0,he.of)(H):(0,fe.D)(k.compileModuleAsync(H))),(0,kt.U)(H=>{F&&F(S);let se,ve,st=!1;return Array.isArray(H)?(ve=H,!0):(se=H.create(D).injector,ve=se.get(wr,[],{optional:!0,self:!0}).flat()),{routes:ve.map(sa),injector:se}}))}(F,this.compiler,D,this.onLoadEndListener).pipe((0,xn.x)(()=>{this.childrenLoaders.delete(F)})),ve=new In(se,()=>new Pt.x).pipe(wt());return this.childrenLoaders.set(F,ve),ve}static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function cs(S){return function hi(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Fi=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pt.x,this.transitionAbortSubject=new Pt.x,this.configLoader=(0,A.f3M)(oi),this.environmentInjector=(0,A.f3M)(A.lqb),this.urlSerializer=(0,A.f3M)(ii),this.rootContexts=(0,A.f3M)(zi),this.inputBindingEnabled=null!==(0,A.f3M)(ke,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,he.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new is(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new ta(H))}complete(){this.transitions?.complete()}handleNavigationRequest(D){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...D,id:F})}setupNavigations(D,F,H){return this.transitions=new Ge.X({id:0,currentUrlTree:F,currentRawUrl:F,currentBrowserUrl:F,extractedUrl:D.urlHandlingStrategy.extract(F),urlAfterRedirects:D.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ws,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Qe.h)(se=>0!==se.id),(0,kt.U)(se=>({...se,extractedUrl:D.urlHandlingStrategy.extract(se.rawUrl)})),(0,tt.w)(se=>{this.currentTransition=se;let ve=!1,st=!1;return(0,he.of)(se).pipe((0,Bt.b)(rt=>{this.currentNavigation={id:rt.id,initialUrl:rt.rawUrl,extractedUrl:rt.extractedUrl,trigger:rt.source,extras:rt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,tt.w)(rt=>{const ln=rt.currentBrowserUrl.toString(),Yn=!D.navigated||rt.extractedUrl.toString()!==ln||ln!==rt.currentUrlTree.toString();if(!Yn&&"reload"!==(rt.extras.onSameUrlNavigation??D.onSameUrlNavigation)){const fr="";return this.events.next(new eo(rt.id,this.urlSerializer.serialize(rt.rawUrl),fr,0)),rt.resolve(null),ft.E}if(D.urlHandlingStrategy.shouldProcessUrl(rt.rawUrl))return(0,he.of)(rt).pipe((0,tt.w)(fr=>{const ha=this.transitions?.getValue();return this.events.next(new $o(fr.id,this.urlSerializer.serialize(fr.extractedUrl),fr.source,fr.restoredState)),ha!==this.transitions?.getValue()?ft.E:Promise.resolve(fr)}),function ot(S,k,D,F,H,se){return(0,Xe.z)(ve=>function Ji(S,k,D,F,H,se,ve="emptyOnly"){return new $a(S,k,D,F,H,ve,se).recognize()}(S,k,D,F,ve.extractedUrl,H,se).pipe((0,kt.U)(({state:st,tree:rt})=>({...ve,targetSnapshot:st,urlAfterRedirects:rt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,Bt.b)(fr=>{se.targetSnapshot=fr.targetSnapshot,se.urlAfterRedirects=fr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:fr.urlAfterRedirects};const ha=new Xo(fr.id,this.urlSerializer.serialize(fr.extractedUrl),this.urlSerializer.serialize(fr.urlAfterRedirects),fr.targetSnapshot);this.events.next(ha)}));if(Yn&&D.urlHandlingStrategy.shouldProcessUrl(rt.currentRawUrl)){const{id:fr,extractedUrl:ha,source:Za,restoredState:Fl,extras:nu}=rt,ru=new $o(fr,this.urlSerializer.serialize(ha),Za,Fl);this.events.next(ru);const hs=Si(0,this.rootComponentType).snapshot;return this.currentTransition=se={...rt,targetSnapshot:hs,urlAfterRedirects:ha,extras:{...nu,skipLocationChange:!1,replaceUrl:!1}},(0,he.of)(se)}{const fr="";return this.events.next(new eo(rt.id,this.urlSerializer.serialize(rt.extractedUrl),fr,1)),rt.resolve(null),ft.E}}),(0,Bt.b)(rt=>{const ln=new co(rt.id,this.urlSerializer.serialize(rt.extractedUrl),this.urlSerializer.serialize(rt.urlAfterRedirects),rt.targetSnapshot);this.events.next(ln)}),(0,kt.U)(rt=>(this.currentTransition=se={...rt,guards:ba(rt.targetSnapshot,rt.currentSnapshot,this.rootContexts)},se)),function hd(S,k){return(0,Xe.z)(D=>{const{targetSnapshot:F,currentSnapshot:H,guards:{canActivateChecks:se,canDeactivateChecks:ve}}=D;return 0===ve.length&&0===se.length?(0,he.of)({...D,guardsResult:!0}):function Xl(S,k,D,F){return(0,fe.D)(S).pipe((0,Xe.z)(H=>function qo(S,k,D,F,H){const se=k&&k.routeConfig?k.routeConfig.canDeactivate:null;if(!se||0===se.length)return(0,he.of)(!0);const ve=se.map(st=>{const rt=mi(k)??H,ln=Xn(st,rt);return xr(function ls(S){return S&&U(S.canDeactivate)}(ln)?ln.canDeactivate(S,k,D,F):rt.runInContext(()=>ln(S,k,D,F))).pipe(vt())});return(0,he.of)(ve).pipe(Zs())}(H.component,H.route,D,k,F)),vt(H=>!0!==H,!0))}(ve,F,H,S).pipe((0,Xe.z)(st=>st&&function oe(S){return"boolean"==typeof S}(st)?function po(S,k,D,F){return(0,fe.D)(k).pipe((0,Ht.b)(H=>Ct(function Pl(S,k){return null!==S&&k&&k(new to(S)),(0,he.of)(!0)}(H.route.parent,F),function ja(S,k){return null!==S&&k&&k(new na(S)),(0,he.of)(!0)}(H.route,F),function eu(S,k,D){const F=k[k.length-1],se=k.slice(0,k.length-1).reverse().map(ve=>function Ea(S){const k=S.routeConfig?S.routeConfig.canActivateChild:null;return k&&0!==k.length?{node:S,guards:k}:null}(ve)).filter(ve=>null!==ve).map(ve=>xt(()=>{const st=ve.guards.map(rt=>{const ln=mi(ve.node)??D,Yn=Xn(rt,ln);return xr(function jn(S){return S&&U(S.canActivateChild)}(Yn)?Yn.canActivateChild(F,S):ln.runInContext(()=>Yn(F,S))).pipe(vt())});return(0,he.of)(st).pipe(Zs())}));return(0,he.of)(se).pipe(Zs())}(S,H.path,D),function la(S,k,D){const F=k.routeConfig?k.routeConfig.canActivate:null;if(!F||0===F.length)return(0,he.of)(!0);const H=F.map(se=>xt(()=>{const ve=mi(k)??D,st=Xn(se,ve);return xr(function un(S){return S&&U(S.canActivate)}(st)?st.canActivate(k,S):ve.runInContext(()=>st(k,S))).pipe(vt())}));return(0,he.of)(H).pipe(Zs())}(S,H.route,D))),vt(H=>!0!==H,!0))}(F,se,S,k):(0,he.of)(st)),(0,kt.U)(st=>({...D,guardsResult:st})))})}(this.environmentInjector,rt=>this.events.next(rt)),(0,Bt.b)(rt=>{if(se.guardsResult=rt.guardsResult,Cn(rt.guardsResult))throw Or(0,rt.guardsResult);const ln=new ea(rt.id,this.urlSerializer.serialize(rt.extractedUrl),this.urlSerializer.serialize(rt.urlAfterRedirects),rt.targetSnapshot,!!rt.guardsResult);this.events.next(ln)}),(0,Qe.h)(rt=>!!rt.guardsResult||(this.cancelNavigationTransition(rt,"",3),!1)),bi(rt=>{if(rt.guards.canActivateChecks.length)return(0,he.of)(rt).pipe((0,Bt.b)(ln=>{const Yn=new ya(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(Yn)}),(0,tt.w)(ln=>{let Yn=!1;return(0,he.of)(ln).pipe(function Dt(S,k){return(0,Xe.z)(D=>{const{targetSnapshot:F,guards:{canActivateChecks:H}}=D;if(!H.length)return(0,he.of)(D);let se=0;return(0,fe.D)(H).pipe((0,Ht.b)(ve=>function Tn(S,k,D,F){const H=S.routeConfig,se=S._resolve;return void 0!==H?.title&&!er(H)&&(se[bn]=H.title),function ri(S,k,D,F){const H=function jr(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===H.length)return(0,he.of)({});const se={};return(0,fe.D)(H).pipe((0,Xe.z)(ve=>function Vr(S,k,D,F){const H=mi(k)??F,se=Xn(S,H);return xr(se.resolve?se.resolve(k,D):H.runInContext(()=>se(k,D)))}(S[ve],k,D,F).pipe(vt(),(0,Bt.b)(st=>{se[ve]=st}))),Dr(1),function yr(S){return(0,kt.U)(()=>S)}(se),vn(ve=>Do(ve)?ft.E:_t(ve)))}(se,S,k,F).pipe((0,kt.U)(ve=>(S._resolvedData=ve,S.data=Ws(S,D).resolve,H&&er(H)&&(S.data[bn]=H.title),null)))}(ve.route,F,S,k)),(0,Bt.b)(()=>se++),Dr(1),(0,Xe.z)(ve=>se===H.length?(0,he.of)(D):ft.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,Bt.b)({next:()=>Yn=!0,complete:()=>{Yn||this.cancelNavigationTransition(ln,"",2)}}))}),(0,Bt.b)(ln=>{const Yn=new Ns(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(Yn)}))}),bi(rt=>{const ln=Yn=>{const ai=[];Yn.routeConfig?.loadComponent&&!Yn.routeConfig._loadedComponent&&ai.push(this.configLoader.loadComponent(Yn.routeConfig).pipe((0,Bt.b)(fr=>{Yn.component=fr}),(0,kt.U)(()=>{})));for(const fr of Yn.children)ai.push(...ln(fr));return ai};return Je(ln(rt.targetSnapshot.root)).pipe(We(),Re(1))}),bi(()=>this.afterPreactivation()),(0,kt.U)(rt=>{const ln=function Ut(S,k,D){const F=hn(S,k._root,D?D._root:void 0);return new Yi(F,k)}(D.routeReuseStrategy,rt.targetSnapshot,rt.currentRouterState);return this.currentTransition=se={...rt,targetRouterState:ln},se}),(0,Bt.b)(()=>{this.events.next(new ho)}),((S,k,D,F)=>(0,kt.U)(H=>(new al(k,H.targetRouterState,H.currentRouterState,D,F).activate(S),H)))(this.rootContexts,D.routeReuseStrategy,rt=>this.events.next(rt),this.inputBindingEnabled),Re(1),(0,Bt.b)({next:rt=>{ve=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Os(rt.id,this.urlSerializer.serialize(rt.extractedUrl),this.urlSerializer.serialize(rt.urlAfterRedirects))),D.titleStrategy?.updateTitle(rt.targetRouterState.snapshot),rt.resolve(!0)},complete:()=>{ve=!0}}),function zt(S){return(0,Zn.e)((k,D)=>{(0,qe.Xf)(S).subscribe((0,Se.x)(D,()=>D.complete(),Mn.Z)),!D.closed&&k.subscribe(D)})}(this.transitionAbortSubject.pipe((0,Bt.b)(rt=>{throw rt}))),(0,xn.x)(()=>{ve||st||this.cancelNavigationTransition(se,"",1),this.currentNavigation?.id===se.id&&(this.currentNavigation=null)}),vn(rt=>{if(st=!0,Nr(rt))this.events.next(new Di(se.id,this.urlSerializer.serialize(se.extractedUrl),rt.message,rt.cancellationCode)),function ti(S){return Nr(S)&&Cn(S.url)}(rt)?this.events.next(new ks(rt.url)):se.resolve(!1);else{this.events.next(new Hi(se.id,this.urlSerializer.serialize(se.extractedUrl),rt,se.targetSnapshot??void 0));try{se.resolve(D.errorHandler(rt))}catch(ln){se.reject(ln)}}return ft.E}))}))}cancelNavigationTransition(D,F,H){const se=new Di(D.id,this.urlSerializer.serialize(D.extractedUrl),F,H);this.events.next(se),D.resolve(!1)}static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function _o(S){return S!==ws}let hl=(()=>{class S{buildTitle(D){let F,H=D.root;for(;void 0!==H;)F=this.getResolvedTitleForRoute(H)??F,H=H.children.find(se=>se.outlet===cn);return F}getResolvedTitleForRoute(D){return D.data[bn]}static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:function(){return(0,A.f3M)(Mt)},providedIn:"root"})}return S})(),Mt=(()=>{class S extends hl{constructor(D){super(),this.title=D}updateTitle(D){const F=this.buildTitle(D);void 0!==F&&this.title.setTitle(F)}static#e=this.\u0275fac=function(F){return new(F||S)(A.LFG(Kn.Dx))};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),Vi=(()=>{class S{static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:function(){return(0,A.f3M)(_c)},providedIn:"root"})}return S})();class ro{shouldDetach(k){return!1}store(k,D){}shouldAttach(k){return!1}retrieve(k){return null}shouldReuseRoute(k,D){return k.routeConfig===D.routeConfig}}let _c=(()=>{class S extends ro{static#e=this.\u0275fac=function(){let D;return function(H){return(D||(D=A.n5z(S)))(H||S)}}();static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const gn=new A.OlP("",{providedIn:"root",factory:()=>({})});let Pn=(()=>{class S{static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:function(){return(0,A.f3M)(xf)},providedIn:"root"})}return S})(),xf=(()=>{class S{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,F){return D}static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var tn=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(tn||{});function lt(S,k){S.events.pipe((0,Qe.h)(D=>D instanceof Os||D instanceof Di||D instanceof Hi||D instanceof eo),(0,kt.U)(D=>D instanceof Os||D instanceof eo?tn.COMPLETE:D instanceof Di&&(0===D.code||1===D.code)?tn.REDIRECTING:tn.FAILED),(0,Qe.h)(D=>D!==tn.REDIRECTING),Re(1)).subscribe(()=>{k()})}function Ot(S){throw S}function Wr(S,k,D){return k.parse("/")}const fd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let br=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,A.f3M)(A.c2e),this.isNgZoneEnabled=!1,this._events=new Pt.x,this.options=(0,A.f3M)(gn,{optional:!0})||{},this.pendingTasks=(0,A.f3M)(A.HDt),this.errorHandler=this.options.errorHandler||Ot,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Wr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,A.f3M)(Pn),this.routeReuseStrategy=(0,A.f3M)(Vi),this.titleStrategy=(0,A.f3M)(hl),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,A.f3M)(wr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,A.f3M)(Fi),this.urlSerializer=(0,A.f3M)(ii),this.location=(0,A.f3M)(gt.Ye),this.componentInputBindingEnabled=!!(0,A.f3M)(ke,{optional:!0}),this.eventsSubscription=new fn.w0,this.isNgZoneEnabled=(0,A.f3M)(A.R0b)instanceof A.R0b&&A.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Jn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Si(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(D=>{this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(F=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(fl(F)&&this._events.next(F));if(F instanceof $o)_o(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(F instanceof eo)this.rawUrlTree=H.rawUrl;else if(F instanceof Xo){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const se=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(se,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(F instanceof ho)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(F instanceof Di)0!==F.code&&1!==F.code&&(this.navigated=!0),(3===F.code||2===F.code)&&this.restoreHistory(H);else if(F instanceof ks){const se=this.urlHandlingStrategy.merge(F.url,H.currentRawUrl),ve={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_o(H.source)};this.scheduleNavigation(se,ws,null,ve,{resolve:H.resolve,reject:H.reject,promise:H.promise})}F instanceof Hi&&this.restoreHistory(H,!0),F instanceof Os&&(this.navigated=!0),fl(F)&&this._events.next(F)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ws,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const F="popstate"===D.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,F,D.state)},0)}))}navigateToSyncWithBrowser(D,F,H){const se={replaceUrl:!0},ve=H?.navigationId?H:null;if(H){const rt={...H};delete rt.navigationId,delete rt.\u0275routerPageId,0!==Object.keys(rt).length&&(se.state=rt)}const st=this.parseUrl(D);this.scheduleNavigation(st,F,ve,se)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(sa),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,F={}){const{relativeTo:H,queryParams:se,fragment:ve,queryParamsHandling:st,preserveFragment:rt}=F,ln=rt?this.currentUrlTree.fragment:ve;let ai,Yn=null;switch(st){case"merge":Yn={...this.currentUrlTree.queryParams,...se};break;case"preserve":Yn=this.currentUrlTree.queryParams;break;default:Yn=se||null}null!==Yn&&(Yn=this.removeEmptyProps(Yn));try{ai=Ps(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),ai=this.currentUrlTree.root}return ki(ai,D,Yn,ln??null)}navigateByUrl(D,F={skipLocationChange:!1}){const H=Cn(D)?D:this.parseUrl(D),se=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(se,ws,null,F)}navigate(D,F={skipLocationChange:!1}){return function gd(S){for(let k=0;k<S.length;k++)if(null==S[k])throw new A.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,F),F)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let F;try{F=this.urlSerializer.parse(D)}catch(H){F=this.malformedUriErrorHandler(H,this.urlSerializer,D)}return F}isActive(D,F){let H;if(H=!0===F?{...fd}:!1===F?{...pd}:F,Cn(D))return Mr(this.currentUrlTree,D,H);const se=this.parseUrl(D);return Mr(this.currentUrlTree,se,H)}removeEmptyProps(D){return Object.keys(D).reduce((F,H)=>{const se=D[H];return null!=se&&(F[H]=se),F},{})}scheduleNavigation(D,F,H,se,ve){if(this.disposed)return Promise.resolve(!1);let st,rt,ln;ve?(st=ve.resolve,rt=ve.reject,ln=ve.promise):ln=new Promise((ai,fr)=>{st=ai,rt=fr});const Yn=this.pendingTasks.add();return lt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Yn))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:D,extras:se,resolve:st,reject:rt,promise:ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ln.catch(ai=>Promise.reject(ai))}setBrowserUrl(D,F){const H=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(H)||F.extras.replaceUrl){const ve={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(H,"",ve)}else{const se={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(H,"",se)}}restoreHistory(D,F=!1){if("computed"===this.canceledNavigationResolution){const se=this.currentPageId-this.browserPageId;0!==se?this.location.historyGo(se):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===se&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,F){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:F}:{navigationId:D}}static#e=this.\u0275fac=function(F){return new(F||S)};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function fl(S){return!(S instanceof ho||S instanceof ks)}let Us=(()=>{class S{constructor(D,F,H,se,ve,st){this.router=D,this.route=F,this.tabIndexAttribute=H,this.renderer=se,this.el=ve,this.locationStrategy=st,this.href=null,this.commands=null,this.onChanges=new Pt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const rt=ve.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===rt||"area"===rt,this.isAnchorElement?this.subscription=D.events.subscribe(ln=>{ln instanceof Os&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,F,H,se,ve){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||F||H||se||ve||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const D=null===this.href?null:(0,A.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",D)}applyAttributeValue(D,F){const H=this.renderer,se=this.el.nativeElement;null!==F?H.setAttribute(se,D,F):H.removeAttribute(se,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(F){return new(F||S)(A.Y36(br),A.Y36(fo),A.$8M("tabindex"),A.Y36(A.Qsj),A.Y36(A.SBq),A.Y36(gt.S$))};static#t=this.\u0275dir=A.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(F,H){1&F&&A.NdJ("click",function(ve){return H.onClick(ve.button,ve.ctrlKey,ve.shiftKey,ve.altKey,ve.metaKey)}),2&F&&A.uIk("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",A.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",A.VuI],replaceUrl:["replaceUrl","replaceUrl",A.VuI],routerLink:"routerLink"},standalone:!0,features:[A.Xq5,A.TTD]})}return S})(),Nl=(()=>{class S{get isActive(){return this._isActive}constructor(D,F,H,se,ve){this.router=D,this.element=F,this.renderer=H,this.cdr=se,this.link=ve,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new A.vpe,this.routerEventsSubscription=D.events.subscribe(st=>{st instanceof Os&&this.update()})}ngAfterContentInit(){(0,he.of)(this.links.changes,(0,he.of)(null)).pipe((0,dn.J)()).subscribe(D=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const D=[...this.links.toArray(),this.link].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,fe.D)(D).pipe((0,dn.J)()).subscribe(F=>{this._isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(D){const F=Array.isArray(D)?D:D.split(" ");this.classes=F.filter(H=>!!H)}ngOnChanges(D){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const D=this.hasActiveLinks();this._isActive!==D&&(this._isActive=D,this.cdr.markForCheck(),this.classes.forEach(F=>{D?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),D&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(D))})}isLinkActive(D){const F=function yc(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return H=>!!H.urlTree&&D.isActive(H.urlTree,F)}hasActiveLinks(){const D=this.isLinkActive(this.router);return this.link&&D(this.link)||this.links.some(D)}static#e=this.\u0275fac=function(F){return new(F||S)(A.Y36(br),A.Y36(A.SBq),A.Y36(A.Qsj),A.Y36(A.sBO),A.Y36(Us,8))};static#t=this.\u0275dir=A.lG2({type:S,selectors:[["","routerLinkActive",""]],contentQueries:function(F,H,se){if(1&F&&A.Suo(se,Us,5),2&F){let ve;A.iGM(ve=A.CRH())&&(H.links=ve)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[A.TTD]})}return S})();class Ru{}let Wn=(()=>{class S{constructor(D,F,H,se,ve){this.router=D,this.injector=H,this.preloadingStrategy=se,this.loader=ve}setUpPreloading(){this.subscription=this.router.events.pipe((0,Qe.h)(D=>D instanceof Os),(0,Ht.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,F){const H=[];for(const se of F){se.providers&&!se._injector&&(se._injector=(0,A.MMx)(se.providers,D,`Route: ${se.path}`));const ve=se._injector??D,st=se._loadedInjector??ve;(se.loadChildren&&!se._loadedRoutes&&void 0===se.canLoad||se.loadComponent&&!se._loadedComponent)&&H.push(this.preloadConfig(ve,se)),(se.children||se._loadedRoutes)&&H.push(this.processRoutes(st,se.children??se._loadedRoutes))}return(0,fe.D)(H).pipe((0,dn.J)())}preloadConfig(D,F){return this.preloadingStrategy.preload(F,()=>{let H;H=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(D,F):(0,he.of)(null);const se=H.pipe((0,Xe.z)(ve=>null===ve?(0,he.of)(void 0):(F._loadedRoutes=ve.routes,F._loadedInjector=ve.injector,this.processRoutes(ve.injector??D,ve.routes))));if(F.loadComponent&&!F._loadedComponent){const ve=this.loader.loadComponent(F);return(0,fe.D)([se,ve]).pipe((0,dn.J)())}return se})}static#e=this.\u0275fac=function(F){return new(F||S)(A.LFG(br),A.LFG(A.Sil),A.LFG(A.lqb),A.LFG(Ru),A.LFG(oi))};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const ua=new A.OlP("");let ca=(()=>{class S{constructor(D,F,H,se,ve={}){this.urlSerializer=D,this.transitions=F,this.viewportScroller=H,this.zone=se,this.options=ve,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ve.scrollPositionRestoration=ve.scrollPositionRestoration||"disabled",ve.anchorScrolling=ve.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof $o?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof Os?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof eo&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Gr&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gr(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(F){A.$Z()};static#t=this.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac})}return S})();function Mo(S,k){return{\u0275kind:S,\u0275providers:k}}function Aa(){const S=(0,A.f3M)(A.zs3);return k=>{const D=S.get(A.z2F);if(k!==D.components[0])return;const F=S.get(br),H=S.get(qi);1===S.get(da)&&F.initialNavigation(),S.get(Fo,null,A.XFs.Optional)?.setUpPreloading(),S.get(ua,null,A.XFs.Optional)?.init(),F.resetRootComponentType(D.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const qi=new A.OlP("",{factory:()=>new Pt.x}),da=new A.OlP("",{providedIn:"root",factory:()=>1}),Fo=new A.OlP("");function _d(S){return Mo(0,[{provide:Fo,useExisting:Wn},{provide:Ru,useExisting:S}])}const or=new A.OlP("ROUTER_FORROOT_GUARD"),Ou=[gt.Ye,{provide:ii,useClass:gi},br,zi,{provide:fo,useFactory:function wn(S){return S.routerState.root},deps:[br]},oi,[]];function Ke(){return new A.PXZ("Router",br)}let Ri=(()=>{class S{constructor(D){}static forRoot(D,F){return{ngModule:S,providers:[Ou,[],{provide:wr,multi:!0,useValue:D},{provide:or,useFactory:Wo,deps:[[br,new A.FiY,new A.tp0]]},{provide:gn,useValue:F||{}},F?.useHash?{provide:gt.S$,useClass:gt.Do}:{provide:gt.S$,useClass:gt.b0},{provide:ua,useFactory:()=>{const S=(0,A.f3M)(gt.EM),k=(0,A.f3M)(A.R0b),D=(0,A.f3M)(gn),F=(0,A.f3M)(Fi),H=(0,A.f3M)(ii);return D.scrollOffset&&S.setOffset(D.scrollOffset),new ca(H,F,S,k,D)}},F?.preloadingStrategy?_d(F.preloadingStrategy).\u0275providers:[],{provide:A.PXZ,multi:!0,useFactory:Ke},F?.initialNavigation?Ll(F):[],F?.bindToComponentInputs?Mo(8,[Ye,{provide:ke,useExisting:Ye}]).\u0275providers:[],[{provide:qa,useFactory:Aa},{provide:A.tb,multi:!0,useExisting:qa}]]}}static forChild(D){return{ngModule:S,providers:[{provide:wr,multi:!0,useValue:D}]}}static#e=this.\u0275fac=function(F){return new(F||S)(A.LFG(or,8))};static#t=this.\u0275mod=A.oAB({type:S});static#n=this.\u0275inj=A.cJS({})}return S})();function Wo(S){return"guarded"}function Ll(S){return["disabled"===S.initialNavigation?Mo(3,[{provide:A.ip1,multi:!0,useFactory:()=>{const k=(0,A.f3M)(br);return()=>{k.setUpLocationChangeListener()}}},{provide:da,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?Mo(2,[{provide:da,useValue:0},{provide:A.ip1,multi:!0,deps:[A.zs3],useFactory:k=>{const D=k.get(gt.V_,Promise.resolve());return()=>D.then(()=>new Promise(F=>{const H=k.get(br),se=k.get(qi);lt(H,()=>{F(!0)}),k.get(Fi).afterPreactivation=()=>(F(!0),se.closed?(0,he.of)(void 0):se),H.initialNavigation()}))}}]).\u0275providers:[]]}const qa=new A.OlP("")},534:(yn,ht,X)=>{X.d(ht,{Jn:()=>Ki,qX:()=>hr,Xd:()=>xr,Mq:()=>Yr,C6:()=>Jn,ZF:()=>Tr,KN:()=>Ai});var A=X(5861),E=X(4537),ee=X(7879),z=X(9058);const fe=(Te,Ee)=>Ee.some(je=>Te instanceof je);let he,Ge;const pe=new WeakMap,me=new WeakMap,$e=new WeakMap,Se=new WeakMap,at=new WeakMap;let Kt={get(Te,Ee,je){if(Te instanceof IDBTransaction){if("done"===Ee)return me.get(Te);if("objectStoreNames"===Ee)return Te.objectStoreNames||$e.get(Te);if("store"===Ee)return je.objectStoreNames[1]?void 0:je.objectStore(je.objectStoreNames[0])}return nt(Te[Ee])},set:(Te,Ee,je)=>(Te[Ee]=je,!0),has:(Te,Ee)=>Te instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in Te};function dn(Te){return"function"==typeof Te?function Sn(Te){return Te!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function He(){return Ge||(Ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Te)?function(...Ee){return Te.apply(Ct(this),Ee),nt(pe.get(this))}:function(...Ee){return nt(Te.apply(Ct(this),Ee))}:function(Ee,...je){const it=Te.call(Ct(this),Ee,...je);return $e.set(it,Ee.sort?Ee.sort():[Ee]),nt(it)}}(Te):(Te instanceof IDBTransaction&&function pt(Te){if(me.has(Te))return;const Ee=new Promise((je,it)=>{const Zt=()=>{Te.removeEventListener("complete",Tt),Te.removeEventListener("error",An),Te.removeEventListener("abort",An)},Tt=()=>{je(),Zt()},An=()=>{it(Te.error||new DOMException("AbortError","AbortError")),Zt()};Te.addEventListener("complete",Tt),Te.addEventListener("error",An),Te.addEventListener("abort",An)});me.set(Te,Ee)}(Te),fe(Te,function St(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Te,Kt):Te)}function nt(Te){if(Te instanceof IDBRequest)return function Je(Te){const Ee=new Promise((je,it)=>{const Zt=()=>{Te.removeEventListener("success",Tt),Te.removeEventListener("error",An)},Tt=()=>{je(nt(Te.result)),Zt()},An=()=>{it(Te.error),Zt()};Te.addEventListener("success",Tt),Te.addEventListener("error",An)});return Ee.then(je=>{je instanceof IDBCursor&&pe.set(je,Te)}).catch(()=>{}),at.set(Ee,Te),Ee}(Te);if(Se.has(Te))return Se.get(Te);const Ee=dn(Te);return Ee!==Te&&(Se.set(Te,Ee),at.set(Ee,Te)),Ee}const Ct=Te=>at.get(Te),ut=["get","getKey","getAll","getAllKeys","count"],_t=["put","add","delete","clear"],ft=new Map;function fn(Te,Ee){if(!(Te instanceof IDBDatabase)||Ee in Te||"string"!=typeof Ee)return;if(ft.get(Ee))return ft.get(Ee);const je=Ee.replace(/FromIndex$/,""),it=Ee!==je,Zt=_t.includes(je);if(!(je in(it?IDBIndex:IDBObjectStore).prototype)||!Zt&&!ut.includes(je))return;const Tt=function(){var An=(0,A.Z)(function*(Fr,...Cn){const ci=this.transaction(Fr,Zt?"readwrite":"readonly");let Ps=ci.store;return it&&(Ps=Ps.index(Cn.shift())),(yield Promise.all([Ps[je](...Cn),Zt&&ci.done]))[0]});return function(Cn){return An.apply(this,arguments)}}();return ft.set(Ee,Tt),Tt}!function Gt(Te){Kt=Te(Kt)}(Te=>({...Te,get:(Ee,je,it)=>fn(Ee,je)||Te.get(Ee,je,it),has:(Ee,je)=>!!fn(Ee,je)||Te.has(Ee,je)}));class Zn{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(je=>{if(function wt(Te){const Ee=Te.getComponent();return"VERSION"===Ee?.type}(je)){const it=je.getImmediate();return`${it.library}/${it.version}`}return null}).filter(je=>je).join(" ")}}const In="@firebase/app",gt=new ee.Yd("@firebase/app"),dr="[DEFAULT]",rn={[In]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},en=new Map,Sr=new Map;function ui(Te,Ee){try{Te.container.addComponent(Ee)}catch(je){gt.debug(`Component ${Ee.name} failed to register with FirebaseApp ${Te.name}`,je)}}function xr(Te){const Ee=Te.name;if(Sr.has(Ee))return gt.debug(`There were multiple attempts to register component ${Ee}.`),!1;Sr.set(Ee,Te);for(const je of en.values())ui(je,Te);return!0}function hr(Te,Ee){const je=Te.container.getProvider("heartbeat").getImmediate({optional:!0});return je&&je.triggerHeartbeat(),Te.container.getProvider(Ee)}const Jt=new z.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Is{constructor(Ee,je,it){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},je),this._name=je.name,this._automaticDataCollectionEnabled=je.automaticDataCollectionEnabled,this._container=it,this.container.addComponent(new E.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw Jt.create("app-deleted",{appName:this._name})}}const Ki="10.5.2";function Tr(Te,Ee={}){let je=Te;"object"!=typeof Ee&&(Ee={name:Ee});const it=Object.assign({name:dr,automaticDataCollectionEnabled:!1},Ee),Zt=it.name;if("string"!=typeof Zt||!Zt)throw Jt.create("bad-app-name",{appName:String(Zt)});if(je||(je=(0,z.aH)()),!je)throw Jt.create("no-options");const Tt=en.get(Zt);if(Tt){if((0,z.vZ)(je,Tt.options)&&(0,z.vZ)(it,Tt.config))return Tt;throw Jt.create("duplicate-app",{appName:Zt})}const An=new E.H0(Zt);for(const Cn of Sr.values())An.addComponent(Cn);const Fr=new Is(je,it,An);return en.set(Zt,Fr),Fr}function Yr(Te=dr){const Ee=en.get(Te);if(!Ee&&Te===dr&&(0,z.aH)())return Tr();if(!Ee)throw Jt.create("no-app",{appName:Te});return Ee}function Jn(){return Array.from(en.values())}function Ai(Te,Ee,je){var it;let Zt=null!==(it=rn[Te])&&void 0!==it?it:Te;je&&(Zt+=`-${je}`);const Tt=Zt.match(/\s|\//),An=Ee.match(/\s|\//);if(Tt||An){const Fr=[`Unable to register library "${Zt}" with version "${Ee}":`];return Tt&&Fr.push(`library name "${Zt}" contains illegal characters (whitespace or "/")`),Tt&&An&&Fr.push("and"),An&&Fr.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void gt.warn(Fr.join(" "))}xr(new E.wA(`${Zt}-version`,()=>({library:Zt,version:Ee}),"VERSION"))}const ii="firebase-heartbeat-database",gi=1,De="firebase-heartbeat-store";let ie=null;function ae(){return ie||(ie=function qe(Te,Ee,{blocked:je,upgrade:it,blocking:Zt,terminated:Tt}={}){const An=indexedDB.open(Te,Ee),Fr=nt(An);return it&&An.addEventListener("upgradeneeded",Cn=>{it(nt(An.result),Cn.oldVersion,Cn.newVersion,nt(An.transaction),Cn)}),je&&An.addEventListener("blocked",Cn=>je(Cn.oldVersion,Cn.newVersion,Cn)),Fr.then(Cn=>{Tt&&Cn.addEventListener("close",()=>Tt()),Zt&&Cn.addEventListener("versionchange",ci=>Zt(ci.oldVersion,ci.newVersion,ci))}).catch(()=>{}),Fr}(ii,gi,{upgrade:(Te,Ee)=>{0===Ee&&Te.createObjectStore(De)}}).catch(Te=>{throw Jt.create("idb-open",{originalErrorMessage:Te.message})})),ie}function ue(){return(ue=(0,A.Z)(function*(Te){try{return yield(yield ae()).transaction(De).objectStore(De).get(qt(Te))}catch(Ee){if(Ee instanceof z.ZR)gt.warn(Ee.message);else{const je=Jt.create("idb-get",{originalErrorMessage:Ee?.message});gt.warn(je.message)}}})).apply(this,arguments)}function Le(Te,Ee){return mt.apply(this,arguments)}function mt(){return(mt=(0,A.Z)(function*(Te,Ee){try{const it=(yield ae()).transaction(De,"readwrite");yield it.objectStore(De).put(Ee,qt(Te)),yield it.done}catch(je){if(je instanceof z.ZR)gt.warn(je.message);else{const it=Jt.create("idb-set",{originalErrorMessage:je?.message});gt.warn(it.message)}}})).apply(this,arguments)}function qt(Te){return`${Te.name}!${Te.options.appId}`}class nr{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const je=this.container.getProvider("app").getImmediate();this._storage=new Be(je),this._heartbeatsCachePromise=this._storage.read().then(it=>(this._heartbeatsCache=it,it))}triggerHeartbeat(){var Ee=this;return(0,A.Z)(function*(){const it=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Zt=Nn();if(null===Ee._heartbeatsCache&&(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise),Ee._heartbeatsCache.lastSentHeartbeatDate!==Zt&&!Ee._heartbeatsCache.heartbeats.some(Tt=>Tt.date===Zt))return Ee._heartbeatsCache.heartbeats.push({date:Zt,agent:it}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(Tt=>{const An=new Date(Tt.date).valueOf();return Date.now()-An<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache)})()}getHeartbeatsHeader(){var Ee=this;return(0,A.Z)(function*(){if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null===Ee._heartbeatsCache||0===Ee._heartbeatsCache.heartbeats.length)return"";const je=Nn(),{heartbeatsToSend:it,unsentEntries:Zt}=function rr(Te,Ee=1024){const je=[];let it=Te.slice();for(const Zt of Te){const Tt=je.find(An=>An.agent===Zt.agent);if(Tt){if(Tt.dates.push(Zt.date),Ae(je)>Ee){Tt.dates.pop();break}}else if(je.push({agent:Zt.agent,dates:[Zt.date]}),Ae(je)>Ee){je.pop();break}it=it.slice(1)}return{heartbeatsToSend:je,unsentEntries:it}}(Ee._heartbeatsCache.heartbeats),Tt=(0,z.L)(JSON.stringify({version:2,heartbeats:it}));return Ee._heartbeatsCache.lastSentHeartbeatDate=je,Zt.length>0?(Ee._heartbeatsCache.heartbeats=Zt,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),Tt})()}}function Nn(){return(new Date).toISOString().substring(0,10)}class Be{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,A.Z)(function*(){return!!(0,z.hl)()&&(0,z.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,A.Z)(function*(){return(yield Ee._canUseIndexedDBPromise)&&(yield function le(Te){return ue.apply(this,arguments)}(Ee.app))||{heartbeats:[]}})()}overwrite(Ee){var je=this;return(0,A.Z)(function*(){var it;if(yield je._canUseIndexedDBPromise){const Tt=yield je.read();return Le(je.app,{lastSentHeartbeatDate:null!==(it=Ee.lastSentHeartbeatDate)&&void 0!==it?it:Tt.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var je=this;return(0,A.Z)(function*(){var it;if(yield je._canUseIndexedDBPromise){const Tt=yield je.read();return Le(je.app,{lastSentHeartbeatDate:null!==(it=Ee.lastSentHeartbeatDate)&&void 0!==it?it:Tt.lastSentHeartbeatDate,heartbeats:[...Tt.heartbeats,...Ee.heartbeats]})}})()}}function Ae(Te){return(0,z.L)(JSON.stringify({version:2,heartbeats:Te})).length}!function Pe(Te){xr(new E.wA("platform-logger",Ee=>new Zn(Ee),"PRIVATE")),xr(new E.wA("heartbeat",Ee=>new nr(Ee),"PRIVATE")),Ai(In,"0.9.22",Te),Ai(In,"0.9.22","esm2017"),Ai("fire-js","")}("")},4537:(yn,ht,X)=>{X.d(ht,{H0:()=>St,wA:()=>ee});var A=X(5861),E=X(9058);class ee{constructor(pe,me,$e){this.name=pe,this.instanceFactory=me,this.type=$e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(pe){return this.instantiationMode=pe,this}setMultipleInstances(pe){return this.multipleInstances=pe,this}setServiceProps(pe){return this.serviceProps=pe,this}setInstanceCreatedCallback(pe){return this.onInstanceCreated=pe,this}}const z="[DEFAULT]";class fe{constructor(pe,me){this.name=pe,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(pe){const me=this.normalizeInstanceIdentifier(pe);if(!this.instancesDeferred.has(me)){const $e=new E.BH;if(this.instancesDeferred.set(me,$e),this.isInitialized(me)||this.shouldAutoInitialize())try{const Se=this.getOrInitializeService({instanceIdentifier:me});Se&&$e.resolve(Se)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(pe){var me;const $e=this.normalizeInstanceIdentifier(pe?.identifier),Se=null!==(me=pe?.optional)&&void 0!==me&&me;if(!this.isInitialized($e)&&!this.shouldAutoInitialize()){if(Se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:$e})}catch(at){if(Se)return null;throw at}}getComponent(){return this.component}setComponent(pe){if(pe.name!==this.name)throw Error(`Mismatching Component ${pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=pe,this.shouldAutoInitialize()){if(function Ge(He){return"EAGER"===He.instantiationMode}(pe))try{this.getOrInitializeService({instanceIdentifier:z})}catch{}for(const[me,$e]of this.instancesDeferred.entries()){const Se=this.normalizeInstanceIdentifier(me);try{const at=this.getOrInitializeService({instanceIdentifier:Se});$e.resolve(at)}catch{}}}}clearInstance(pe=z){this.instancesDeferred.delete(pe),this.instancesOptions.delete(pe),this.instances.delete(pe)}delete(){var pe=this;return(0,A.Z)(function*(){const me=Array.from(pe.instances.values());yield Promise.all([...me.filter($e=>"INTERNAL"in $e).map($e=>$e.INTERNAL.delete()),...me.filter($e=>"_delete"in $e).map($e=>$e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(pe=z){return this.instances.has(pe)}getOptions(pe=z){return this.instancesOptions.get(pe)||{}}initialize(pe={}){const{options:me={}}=pe,$e=this.normalizeInstanceIdentifier(pe.instanceIdentifier);if(this.isInitialized($e))throw Error(`${this.name}(${$e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Se=this.getOrInitializeService({instanceIdentifier:$e,options:me});for(const[at,Je]of this.instancesDeferred.entries())$e===this.normalizeInstanceIdentifier(at)&&Je.resolve(Se);return Se}onInit(pe,me){var $e;const Se=this.normalizeInstanceIdentifier(me),at=null!==($e=this.onInitCallbacks.get(Se))&&void 0!==$e?$e:new Set;at.add(pe),this.onInitCallbacks.set(Se,at);const Je=this.instances.get(Se);return Je&&pe(Je,Se),()=>{at.delete(pe)}}invokeOnInitCallbacks(pe,me){const $e=this.onInitCallbacks.get(me);if($e)for(const Se of $e)try{Se(pe,me)}catch{}}getOrInitializeService({instanceIdentifier:pe,options:me={}}){let $e=this.instances.get(pe);if(!$e&&this.component&&($e=this.component.instanceFactory(this.container,{instanceIdentifier:(He=pe,He===z?void 0:He),options:me}),this.instances.set(pe,$e),this.instancesOptions.set(pe,me),this.invokeOnInitCallbacks($e,pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,pe,$e)}catch{}var He;return $e||null}normalizeInstanceIdentifier(pe=z){return this.component?this.component.multipleInstances?pe:z:pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class St{constructor(pe){this.name=pe,this.providers=new Map}addComponent(pe){const me=this.getProvider(pe.name);if(me.isComponentSet())throw new Error(`Component ${pe.name} has already been registered with ${this.name}`);me.setComponent(pe)}addOrOverwriteComponent(pe){this.getProvider(pe.name).isComponentSet()&&this.providers.delete(pe.name),this.addComponent(pe)}getProvider(pe){if(this.providers.has(pe))return this.providers.get(pe);const me=new fe(pe,this);return this.providers.set(pe,me),me}getProviders(){return Array.from(this.providers.values())}}},7879:(yn,ht,X)=>{X.d(ht,{Yd:()=>Ge,in:()=>E});const A=[];var E=function(pe){return pe[pe.DEBUG=0]="DEBUG",pe[pe.VERBOSE=1]="VERBOSE",pe[pe.INFO=2]="INFO",pe[pe.WARN=3]="WARN",pe[pe.ERROR=4]="ERROR",pe[pe.SILENT=5]="SILENT",pe}(E||{});const ee={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},z=E.INFO,fe={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},he=(pe,me,...$e)=>{if(me<pe.logLevel)return;const Se=(new Date).toISOString(),at=fe[me];if(!at)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[at](`[${Se}]  ${pe.name}:`,...$e)};class Ge{constructor(me){this.name=me,this._logLevel=z,this._logHandler=he,this._userLogHandler=null,A.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in E))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?ee[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...me),this._logHandler(this,E.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...me),this._logHandler(this,E.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,E.INFO,...me),this._logHandler(this,E.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,E.WARN,...me),this._logHandler(this,E.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,E.ERROR,...me),this._logHandler(this,E.ERROR,...me)}}},3182:(yn,ht,X)=>{X.d(ht,{C6:()=>A.C6,KN:()=>A.KN,Mq:()=>A.Mq,ZF:()=>A.ZF});var A=X(534);(0,A.KN)("firebase","10.5.2","app")},8243:(yn,ht,X)=>{X.d(ht,{Jt:()=>Yi,cF:()=>Ws,iH:()=>ia,B0:()=>qs});var A=X(5861),E=X(534),ee=X(9058),z=X(4537);const fe="firebasestorage.googleapis.com",he="storageBucket";class pe extends ee.ZR{constructor(Y,be,we=0){super($e(Y),`Firebase Storage: ${be} (${$e(Y)})`),this.status_=we,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pe.prototype)}get status(){return this.status_}set status(Y){this.status_=Y}_codeEquals(Y){return $e(Y)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Y){this.customData.serverResponse=Y,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var me=function(W){return W.UNKNOWN="unknown",W.OBJECT_NOT_FOUND="object-not-found",W.BUCKET_NOT_FOUND="bucket-not-found",W.PROJECT_NOT_FOUND="project-not-found",W.QUOTA_EXCEEDED="quota-exceeded",W.UNAUTHENTICATED="unauthenticated",W.UNAUTHORIZED="unauthorized",W.UNAUTHORIZED_APP="unauthorized-app",W.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",W.INVALID_CHECKSUM="invalid-checksum",W.CANCELED="canceled",W.INVALID_EVENT_NAME="invalid-event-name",W.INVALID_URL="invalid-url",W.INVALID_DEFAULT_BUCKET="invalid-default-bucket",W.NO_DEFAULT_BUCKET="no-default-bucket",W.CANNOT_SLICE_BLOB="cannot-slice-blob",W.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",W.NO_DOWNLOAD_URL="no-download-url",W.INVALID_ARGUMENT="invalid-argument",W.INVALID_ARGUMENT_COUNT="invalid-argument-count",W.APP_DELETED="app-deleted",W.INVALID_ROOT_OPERATION="invalid-root-operation",W.INVALID_FORMAT="invalid-format",W.INTERNAL_ERROR="internal-error",W.UNSUPPORTED_ENVIRONMENT="unsupported-environment",W}(me||{});function $e(W){return"storage/"+W}function Se(){return new pe(me.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Sn(){return new pe(me.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dn(){return new pe(me.CANCELED,"User canceled the upload/download.")}function xt(){return new pe(me.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fn(W){return new pe(me.INVALID_ARGUMENT,W)}function Zn(){return new pe(me.APP_DELETED,"The Firebase app was deleted.")}function In(W,Y){return new pe(me.INVALID_FORMAT,"String does not match format '"+W+"': "+Y)}function Pt(W){throw new pe(me.INTERNAL_ERROR,"Internal error: "+W)}class gt{constructor(Y,be){this.bucket=Y,this.path_=be}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Y=encodeURIComponent;return"/b/"+Y(this.bucket)+"/o/"+Y(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Y,be){let we;try{we=gt.makeFromUrl(Y,be)}catch{return new gt(Y,"")}if(""===we.path)return we;throw function Ct(W){return new pe(me.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+W+"'.")}(Y)}static makeFromUrl(Y,be){let we=null;const ke="([A-Za-z0-9.\\-_]+)",hn=new RegExp("^gs://"+ke+"(/(.*))?$","i");function Ln(di){di.path_=decodeURIComponent(di.path)}const Or=be.replace(/[.]/g,"\\."),qr=[{regex:hn,indices:{bucket:1,path:3},postModify:function Ye(di){"/"===di.path.charAt(di.path.length-1)&&(di.path_=di.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Or}/v[A-Za-z0-9_]+/b/${ke}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ln},{regex:new RegExp(`^https?://${be===fe?"(?:storage.googleapis.com|storage.cloud.google.com)":be}/${ke}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ln}];for(let di=0;di<qr.length;di++){const as=qr[di],zn=as.regex.exec(Y);if(zn){let ms=zn[as.indices.path];ms||(ms=""),we=new gt(zn[as.indices.bucket],ms),as.postModify(we);break}}if(null==we)throw function nt(W){return new pe(me.INVALID_URL,"Invalid URL '"+W+"'.")}(Y);return we}}class kt{constructor(Y){this.promise_=Promise.reject(Y)}getPromise(){return this.promise_}cancel(Y=!1){}}function We(W){return"string"==typeof W||W instanceof String}function ze(W){return ct()&&W instanceof Blob}function ct(){return typeof Blob<"u"&&!(0,ee.UG)()}function vt(W,Y,be,we){if(we<Y)throw fn(`Invalid value for '${W}'. Expected ${Y} or greater.`);if(we>be)throw fn(`Invalid value for '${W}'. Expected ${be} or less.`)}function Ht(W,Y,be){let we=Y;return null==be&&(we=`https://${Y}`),`${be}://${we}/v0${W}`}function Bt(W){const Y=encodeURIComponent;let be="?";for(const we in W)W.hasOwnProperty(we)&&(be=be+(Y(we)+"=")+Y(W[we])+"&");return be=be.slice(0,-1),be}var vn=function(W){return W[W.NO_ERROR=0]="NO_ERROR",W[W.NETWORK_ERROR=1]="NETWORK_ERROR",W[W.ABORT=2]="ABORT",W}(vn||{});function cr(W,Y){const be=W>=500&&W<600,ke=-1!==[408,429].indexOf(W),Ye=-1!==Y.indexOf(W);return be||ke||Ye}class $n{constructor(Y,be,we,ke,Ye,Ut,hn,It,Ln,Qn,Or,qn=!0){this.url_=Y,this.method_=be,this.headers_=we,this.body_=ke,this.successCodes_=Ye,this.additionalRetryCodes_=Ut,this.callback_=hn,this.errorCallback_=It,this.timeout_=Ln,this.progressCallback_=Qn,this.connectionFactory_=Or,this.retry=qn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ti,Nr)=>{this.resolve_=ti,this.reject_=Nr,this.start_()})}start_(){const be=(we,ke)=>{const Ye=this.resolve_,Ut=this.reject_,hn=ke.connection;if(ke.wasSuccessCode)try{const It=this.callback_(hn,hn.getResponse());!function Ve(W){return void 0!==W}(It)?Ye():Ye(It)}catch(It){Ut(It)}else if(null!==hn){const It=Se();It.serverResponse=hn.getErrorText(),Ut(this.errorCallback_?this.errorCallback_(hn,It):It)}else Ut(ke.canceled?this.appDelete_?Zn():dn():Sn())};this.canceled_?be(0,new Dr(!1,null,!0)):this.backoffId_=function tt(W,Y,be){let we=1,ke=null,Ye=null,Ut=!1,hn=0;function It(){return 2===hn}let Ln=!1;function Qn(...ni){Ln||(Ln=!0,Y.apply(null,ni))}function Or(ni){ke=setTimeout(()=>{ke=null,W(ti,It())},ni)}function qn(){Ye&&clearTimeout(Ye)}function ti(ni,...As){if(Ln)return void qn();if(ni)return qn(),void Qn.call(null,ni,...As);if(It()||Ut)return qn(),void Qn.call(null,ni,...As);let qr;we<64&&(we*=2),1===hn?(hn=2,qr=0):qr=1e3*(we+Math.random()),Or(qr)}let Nr=!1;function vr(ni){Nr||(Nr=!0,qn(),!Ln&&(null!==ke?(ni||(hn=2),clearTimeout(ke),Or(0)):ni||(hn=1)))}return Or(0),Ye=setTimeout(()=>{Ut=!0,vr(!0)},be),vr}((we,ke)=>{if(ke)return void we(!1,new Dr(!1,null,!0));const Ye=this.connectionFactory_();this.pendingConnection_=Ye;const Ut=hn=>{null!==this.progressCallback_&&this.progressCallback_(hn.loaded,hn.lengthComputable?hn.total:-1)};null!==this.progressCallback_&&Ye.addUploadProgressListener(Ut),Ye.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ye.removeUploadProgressListener(Ut),this.pendingConnection_=null;const hn=Ye.getErrorCode()===vn.NO_ERROR,It=Ye.getStatus();if(!hn||cr(It,this.additionalRetryCodes_)&&this.retry){const Qn=Ye.getErrorCode()===vn.ABORT;return void we(!1,new Dr(!1,null,Qn))}const Ln=-1!==this.successCodes_.indexOf(It);we(!0,new Dr(Ln,Ye))})},be,this.timeout_)}getPromise(){return this.promise_}cancel(Y){this.canceled_=!0,this.appDelete_=Y||!1,null!==this.backoffId_&&function Re(W){W(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Dr{constructor(Y,be,we){this.wasSuccessCode=Y,this.connection=be,this.canceled=!!we}}function cn(...W){const Y=function Kn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Y){const be=new Y;for(let we=0;we<W.length;we++)be.append(W[we]);return be.getBlob()}if(ct())return new Blob(W);throw new pe(me.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rn{constructor(Y,be){this.data=Y,this.contentType=be||null}}function Sr(W){const Y=[];for(let be=0;be<W.length;be++){let we=W.charCodeAt(be);we<=127?Y.push(we):we<=2047?Y.push(192|we>>6,128|63&we):55296==(64512&we)?be<W.length-1&&56320==(64512&W.charCodeAt(be+1))?(we=65536|(1023&we)<<10|1023&W.charCodeAt(++be),Y.push(240|we>>18,128|we>>12&63,128|we>>6&63,128|63&we)):Y.push(239,191,189):56320==(64512&we)?Y.push(239,191,189):Y.push(224|we>>12,128|we>>6&63,128|63&we)}return new Uint8Array(Y)}function pi(W,Y){switch(W){case dr.BASE64:{const ke=-1!==Y.indexOf("-"),Ye=-1!==Y.indexOf("_");if(ke||Ye)throw In(W,"Invalid character '"+(ke?"-":"_")+"' found: is it base64url encoded?");break}case dr.BASE64URL:{const ke=-1!==Y.indexOf("+"),Ye=-1!==Y.indexOf("/");if(ke||Ye)throw In(W,"Invalid character '"+(ke?"+":"/")+"' found: is it base64 encoded?");Y=Y.replace(/-/g,"+").replace(/_/g,"/");break}}let be;try{be=function ar(W){if(typeof atob>"u")throw function ft(W){return new pe(me.UNSUPPORTED_ENVIRONMENT,`${W} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(W)}(Y)}catch(ke){throw ke.message.includes("polyfill")?ke:In(W,"Invalid character found")}const we=new Uint8Array(be.length);for(let ke=0;ke<be.length;ke++)we[ke]=be.charCodeAt(ke);return we}class xr{constructor(Y){this.base64=!1,this.contentType=null;const be=Y.match(/^data:([^,]+)?,/);if(null===be)throw In(dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const we=be[1]||null;null!=we&&(this.base64=function Mr(W,Y){return W.length>=Y.length&&W.substring(W.length-Y.length)===Y}(we,";base64"),this.contentType=this.base64?we.substring(0,we.length-7):we),this.rest=Y.substring(Y.indexOf(",")+1)}}class rs{constructor(Y,be){let we=0,ke="";ze(Y)?(this.data_=Y,we=Y.size,ke=Y.type):Y instanceof ArrayBuffer?(be?this.data_=new Uint8Array(Y):(this.data_=new Uint8Array(Y.byteLength),this.data_.set(new Uint8Array(Y))),we=this.data_.length):Y instanceof Uint8Array&&(be?this.data_=Y:(this.data_=new Uint8Array(Y.length),this.data_.set(Y)),we=Y.length),this.size_=we,this.type_=ke}size(){return this.size_}type(){return this.type_}slice(Y,be){if(ze(this.data_)){const ke=function bn(W,Y,be){return W.webkitSlice?W.webkitSlice(Y,be):W.mozSlice?W.mozSlice(Y,be):W.slice?W.slice(Y,be):null}(this.data_,Y,be);return null===ke?null:new rs(ke)}{const we=new Uint8Array(this.data_.buffer,Y,be-Y);return new rs(we,!0)}}static getBlob(...Y){if(ct()){const be=Y.map(we=>we instanceof rs?we.data_:we);return new rs(cn.apply(null,be))}{const be=Y.map(Ut=>We(Ut)?function en(W,Y){switch(W){case dr.RAW:return new rn(Sr(Y));case dr.BASE64:case dr.BASE64URL:return new rn(pi(W,Y));case dr.DATA_URL:return new rn(function hr(W){const Y=new xr(W);return Y.base64?pi(dr.BASE64,Y.rest):function ui(W){let Y;try{Y=decodeURIComponent(W)}catch{throw In(dr.DATA_URL,"Malformed data URL.")}return Sr(Y)}(Y.rest)}(Y),function wi(W){return new xr(W).contentType}(Y))}throw Se()}(dr.RAW,Ut).data:Ut.data_);let we=0;be.forEach(Ut=>{we+=Ut.byteLength});const ke=new Uint8Array(we);let Ye=0;return be.forEach(Ut=>{for(let hn=0;hn<Ut.length;hn++)ke[Ye++]=Ut[hn]}),new rs(ke,!0)}}uploadData(){return this.data_}}function Jt(W){let Y;try{Y=JSON.parse(W)}catch{return null}return function Xe(W){return"object"==typeof W&&!Array.isArray(W)}(Y)?Y:null}function Tr(W){const Y=W.lastIndexOf("/",W.length-2);return-1===Y?W:W.slice(Y+1)}function Yr(W,Y){return Y}class Jn{constructor(Y,be,we,ke){this.server=Y,this.local=be||Y,this.writable=!!we,this.xform=ke||Yr}}let sn=null;function Ai(){if(sn)return sn;const W=[];W.push(new Jn("bucket")),W.push(new Jn("generation")),W.push(new Jn("metageneration")),W.push(new Jn("name","fullPath",!0));const be=new Jn("name");be.xform=function Y(Ye,Ut){return function Ni(W){return!We(W)||W.length<2?W:Tr(W)}(Ut)},W.push(be);const ke=new Jn("size");return ke.xform=function we(Ye,Ut){return void 0!==Ut?Number(Ut):Ut},W.push(ke),W.push(new Jn("timeCreated")),W.push(new Jn("updated")),W.push(new Jn("md5Hash",null,!0)),W.push(new Jn("cacheControl",null,!0)),W.push(new Jn("contentDisposition",null,!0)),W.push(new Jn("contentEncoding",null,!0)),W.push(new Jn("contentLanguage",null,!0)),W.push(new Jn("contentType",null,!0)),W.push(new Jn("metadata","customMetadata",!0)),sn=W,sn}function ii(W,Y,be){const we=Jt(Y);return null===we?null:function On(W,Y,be){const we={type:"file"},ke=be.length;for(let Ye=0;Ye<ke;Ye++){const Ut=be[Ye];we[Ut.local]=Ut.xform(we,Y[Ut.server])}return function Vt(W,Y){Object.defineProperty(W,"ref",{get:function be(){const Ye=new gt(W.bucket,W.fullPath);return Y._makeStorageReference(Ye)}})}(we,W),we}(W,we,be)}function De(W,Y){const be={},we=Y.length;for(let ke=0;ke<we;ke++){const Ye=Y[ke];Ye.writable&&(be[Ye.server]=W[Ye.local])}return JSON.stringify(be)}class Le{constructor(Y,be,we,ke){this.url=Y,this.method=be,this.handler=we,this.timeout=ke,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function mt(W){if(!W)throw Se()}function qt(W,Y){return function be(we,ke){const Ye=ii(W,ke,Y);return mt(null!==Ye),Ye}}function nr(W){return function Y(be,we){let ke;return ke=401===be.getStatus()?be.getErrorText().includes("Firebase App Check token is invalid")?function Kt(){return new pe(me.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function pt(){return new pe(me.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===be.getStatus()?function Je(W){return new pe(me.QUOTA_EXCEEDED,"Quota for bucket '"+W+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(W.bucket):403===be.getStatus()?function Gt(W){return new pe(me.UNAUTHORIZED,"User does not have permission to access '"+W+"'.")}(W.path):we,ke.status=be.getStatus(),ke.serverResponse=we.serverResponse,ke}}function Nn(W){const Y=nr(W);return function be(we,ke){let Ye=Y(we,ke);return 404===we.getStatus()&&(Ye=function at(W){return new pe(me.OBJECT_NOT_FOUND,"Object '"+W+"' does not exist.")}(W.path)),Ye.serverResponse=ke.serverResponse,Ye}}function it(W,Y,be){const we=Object.assign({},be);return we.fullPath=W.path,we.size=Y.size(),we.contentType||(we.contentType=function je(W,Y){return W&&W.contentType||Y&&Y.type()||"application/octet-stream"}(null,Y)),we}class Tt{constructor(Y,be,we,ke){this.current=Y,this.total=be,this.finalized=!!we,this.metadata=ke||null}}function An(W,Y){let be=null;try{be=W.getResponseHeader("X-Goog-Upload-Status")}catch{mt(!1)}return mt(!!be&&-1!==(Y||["active"]).indexOf(be)),be}function ur(W){switch(W){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}}class Qr{constructor(Y,be,we){if(function Qe(W){return"function"==typeof W}(Y)||null!=be||null!=we)this.next=Y,this.error=be??void 0,this.complete=we??void 0;else{const Ye=Y;this.next=Ye.next,this.error=Ye.error,this.complete=Ye.complete}}}function si(W){return(...Y)=>{Promise.resolve().then(()=>W(...Y))}}let Un=null;class Br{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vn.NO_ERROR,this.sendPromise_=new Promise(Y=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vn.ABORT,Y()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vn.NETWORK_ERROR,Y()}),this.xhr_.addEventListener("load",()=>{Y()})})}send(Y,be,we,ke){if(this.sent_)throw Pt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(be,Y,!0),void 0!==ke)for(const Ye in ke)ke.hasOwnProperty(Ye)&&this.xhr_.setRequestHeader(Ye,ke[Ye].toString());return void 0!==we?this.xhr_.send(we):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Y){return this.xhr_.getResponseHeader(Y)}addUploadProgressListener(Y){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Y)}removeUploadProgressListener(Y){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Y)}}class Rr extends Br{initXhr(){this.xhr_.responseType="text"}}function Jr(){return Un?Un():new Rr}class Ts{constructor(Y,be,we=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Y,this._blob=be,this._metadata=we,this._mappings=Ai(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ke=>{if(this._request=void 0,this._chunkMultiplier=1,ke._codeEquals(me.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Ye=this.isExponentialBackoffExpired();if(cr(ke.status,[])){if(!Ye)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();ke=Sn()}this._error=ke,this._transition("error")}},this._metadataErrorHandler=ke=>{this._request=void 0,ke._codeEquals(me.CANCELED)?this.completeTransitions_():(this._error=ke,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((ke,Ye)=>{this._resolve=ke,this._reject=Ye,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const Y=this._transferred;return be=>this._updateProgress(Y+be)}_shouldDoResumable(Y){return Y.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(Y){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([be,we])=>{switch(this._state){case"running":Y(be,we);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Y,be)=>{const we=function Fr(W,Y,be,we,ke){const Ye=Y.bucketOnlyServerUrl(),Ut=it(Y,we,ke),hn={name:Ut.fullPath},It=Ht(Ye,W.host,W._protocol),Qn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${we.size()}`,"X-Goog-Upload-Header-Content-Type":Ut.contentType,"Content-Type":"application/json; charset=utf-8"},Or=De(Ut,be),Nr=new Le(It,"POST",function ti(vr){let ni;An(vr);try{ni=vr.getResponseHeader("X-Goog-Upload-URL")}catch{mt(!1)}return mt(We(ni)),ni},W.maxUploadRetryTime);return Nr.urlParams=hn,Nr.headers=Qn,Nr.body=Or,Nr.errorHandler=nr(Y),Nr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ke=this._ref.storage._makeRequest(we,Jr,Y,be);this._request=ke,ke.getPromise().then(Ye=>{this._request=void 0,this._uploadUrl=Ye,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Y=this._uploadUrl;this._resolveToken((be,we)=>{const ke=function Cn(W,Y,be,we){const It=new Le(be,"POST",function Ye(Ln){const Qn=An(Ln,["active","final"]);let Or=null;try{Or=Ln.getResponseHeader("X-Goog-Upload-Size-Received")}catch{mt(!1)}Or||mt(!1);const qn=Number(Or);return mt(!isNaN(qn)),new Tt(qn,we.size(),"final"===Qn)},W.maxUploadRetryTime);return It.headers={"X-Goog-Upload-Command":"query"},It.errorHandler=nr(Y),It}(this._ref.storage,this._ref._location,Y,this._blob),Ye=this._ref.storage._makeRequest(ke,Jr,be,we);this._request=Ye,Ye.getPromise().then(Ut=>{this._request=void 0,this._updateProgress(Ut.current),this._needToFetchStatus=!1,Ut.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Y=262144*this._chunkMultiplier,be=new Tt(this._transferred,this._blob.size()),we=this._uploadUrl;this._resolveToken((ke,Ye)=>{let Ut;try{Ut=function Ps(W,Y,be,we,ke,Ye,Ut,hn){const It=new Tt(0,0);if(Ut?(It.current=Ut.current,It.total=Ut.total):(It.current=0,It.total=we.size()),we.size()!==It.total)throw function ut(){return new pe(me.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Ln=It.total-It.current;let Qn=Ln;ke>0&&(Qn=Math.min(Qn,ke));const Or=It.current;let ti="";ti=0===Qn?"finalize":Ln===Qn?"upload, finalize":"upload";const Nr={"X-Goog-Upload-Command":ti,"X-Goog-Upload-Offset":`${It.current}`},vr=we.slice(Or,Or+Qn);if(null===vr)throw xt();const qr=new Le(be,"POST",function ni(di,as){const zn=An(di,["active","final"]),No=It.current+Qn,ms=we.size();let sa;return sa="final"===zn?qt(Y,Ye)(di,as):null,new Tt(No,ms,"final"===zn,sa)},Y.maxUploadRetryTime);return qr.headers=Nr,qr.body=vr.uploadData(),qr.progressCallback=hn||null,qr.errorHandler=nr(W),qr}(this._ref._location,this._ref.storage,we,this._blob,Y,this._mappings,be,this._makeProgressCallback())}catch(It){return this._error=It,void this._transition("error")}const hn=this._ref.storage._makeRequest(Ut,Jr,ke,Ye,!1);this._request=hn,hn.getPromise().then(It=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(It.current),It.finalized?(this._metadata=It.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Y,be)=>{const we=function rr(W,Y,be){const ke=Ht(Y.fullServerUrl(),W.host,W._protocol),Ut=W.maxOperationRetryTime,hn=new Le(ke,"GET",qt(W,be),Ut);return hn.errorHandler=Nn(Y),hn}(this._ref.storage,this._ref._location,this._mappings),ke=this._ref.storage._makeRequest(we,Jr,Y,be);this._request=ke,ke.getPromise().then(Ye=>{this._request=void 0,this._metadata=Ye,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Y,be)=>{const we=function Zt(W,Y,be,we,ke){const Ye=Y.bucketOnlyServerUrl(),Ut={"X-Goog-Upload-Protocol":"multipart"},It=function hn(){let qr="";for(let di=0;di<2;di++)qr+=Math.random().toString().slice(2);return qr}();Ut["Content-Type"]="multipart/related; boundary="+It;const Ln=it(Y,we,ke),Qn=De(Ln,be),ti=rs.getBlob("--"+It+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Qn+"\r\n--"+It+"\r\nContent-Type: "+Ln.contentType+"\r\n\r\n",we,"\r\n--"+It+"--");if(null===ti)throw xt();const Nr={name:Ln.fullPath},vr=Ht(Ye,W.host,W._protocol),As=W.maxUploadRetryTime,vi=new Le(vr,"POST",qt(W,be),As);return vi.urlParams=Nr,vi.headers=Ut,vi.body=ti.uploadData(),vi.errorHandler=nr(Y),vi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ke=this._ref.storage._makeRequest(we,Jr,Y,be);this._request=ke,ke.getPromise().then(Ye=>{this._request=void 0,this._metadata=Ye,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Y){const be=this._transferred;this._transferred=Y,this._transferred!==be&&this._notifyObservers()}_transition(Y){if(this._state!==Y)switch(Y){case"canceling":case"pausing":this._state=Y,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const be="paused"===this._state;this._state=Y,be&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Y,this._notifyObservers();break;case"canceled":this._error=dn(),this._state=Y,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Y=ur(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Y,metadata:this._metadata,task:this,ref:this._ref}}on(Y,be,we,ke){const Ye=new Qr(be||void 0,we||void 0,ke||void 0);return this._addObserver(Ye),()=>{this._removeObserver(Ye)}}then(Y,be){return this._promise.then(Y,be)}catch(Y){return this.then(null,Y)}_addObserver(Y){this._observers.push(Y),this._notifyObserver(Y)}_removeObserver(Y){const be=this._observers.indexOf(Y);-1!==be&&this._observers.splice(be,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(be=>{this._notifyObserver(be)})}_finishPromise(){if(void 0!==this._resolve){let Y=!0;switch(ur(this._state)){case"success":si(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":si(this._reject.bind(null,this._error))();break;default:Y=!1}Y&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Y){switch(ur(this._state)){case"running":case"paused":Y.next&&si(Y.next.bind(Y,this.snapshot))();break;case"success":Y.complete&&si(Y.complete.bind(Y))();break;default:Y.error&&si(Y.error.bind(Y,this._error))()}}resume(){const Y="paused"===this._state||"pausing"===this._state;return Y&&this._transition("running"),Y}pause(){const Y="running"===this._state;return Y&&this._transition("pausing"),Y}cancel(){const Y="running"===this._state||"pausing"===this._state;return Y&&this._transition("canceling"),Y}}class yi{constructor(Y,be){this._service=Y,this._location=be instanceof gt?be:gt.makeFromUrl(be,Y.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Y,be){return new yi(Y,be)}get root(){const Y=new gt(this._location.bucket,"");return this._newRef(this._service,Y)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Tr(this._location.path)}get storage(){return this._service}get parent(){const Y=function Is(W){if(0===W.length)return null;const Y=W.lastIndexOf("/");return-1===Y?"":W.slice(0,Y)}(this._location.path);if(null===Y)return null;const be=new gt(this._location.bucket,Y);return new yi(this._service,be)}_throwIfRoot(Y){if(""===this._location.path)throw function wt(W){return new pe(me.INVALID_ROOT_OPERATION,"The operation '"+W+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(Y)}}function co(W){W._throwIfRoot("getDownloadURL");const Y=function Pe(W,Y,be){const ke=Ht(Y.fullServerUrl(),W.host,W._protocol),Ut=W.maxOperationRetryTime,hn=new Le(ke,"GET",function Rn(W,Y){return function be(we,ke){const Ye=ii(W,ke,Y);return mt(null!==Ye),function gi(W,Y,be,we){const ke=Jt(Y);if(null===ke||!We(ke.downloadTokens))return null;const Ye=ke.downloadTokens;if(0===Ye.length)return null;const Ut=encodeURIComponent;return Ye.split(",").map(Ln=>{const Or=W.fullPath;return Ht("/b/"+Ut(W.bucket)+"/o/"+Ut(Or),be,we)+Bt({alt:"media",token:Ln})})[0]}(Ye,ke,W.host,W._protocol)}}(W,be),Ut);return hn.errorHandler=Nn(Y),hn}(W.storage,W._location,Ai());return W.storage.makeRequestWithTokens(Y,Jr).then(be=>{if(null===be)throw function _t(){return new pe(me.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return be})}function is(W,Y){if(W instanceof Co){const be=W;if(null==be._bucket)throw function qe(){return new pe(me.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+he+"' property when initializing the app?")}();const we=new yi(be,be._bucket);return null!=Y?is(we,Y):we}return void 0!==Y?function ya(W,Y){const be=function Ki(W,Y){const be=Y.split("/").filter(we=>we.length>0).join("/");return 0===W.length?be:W+"/"+be}(W._location.path,Y),we=new gt(W._location.bucket,be);return new yi(W.storage,we)}(W,Y):W}function ss(W,Y){const be=Y?.[he];return null==be?null:gt.makeFromBucketSpec(be,W)}class Co{constructor(Y,be,we,ke,Ye){this.app=Y,this._authProvider=be,this._appCheckProvider=we,this._url=ke,this._firebaseVersion=Ye,this._bucket=null,this._host=fe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ke?gt.makeFromBucketSpec(ke,this._host):ss(this._host,this.app.options)}get host(){return this._host}set host(Y){this._host=Y,this._bucket=null!=this._url?gt.makeFromBucketSpec(this._url,Y):ss(Y,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Y){vt("time",0,Number.POSITIVE_INFINITY,Y),this._maxUploadRetryTime=Y}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Y){vt("time",0,Number.POSITIVE_INFINITY,Y),this._maxOperationRetryTime=Y}_getAuthToken(){var Y=this;return(0,A.Z)(function*(){if(Y._overrideAuthToken)return Y._overrideAuthToken;const be=Y._authProvider.getImmediate({optional:!0});if(be){const we=yield be.getToken();if(null!==we)return we.accessToken}return null})()}_getAppCheckToken(){var Y=this;return(0,A.Z)(function*(){const be=Y._appCheckProvider.getImmediate({optional:!0});return be?(yield be.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Y=>Y.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Y){return new yi(this,Y)}_makeRequest(Y,be,we,ke,Ye=!0){if(this._deleted)return new kt(Zn());{const Ut=function zt(W,Y,be,we,ke,Ye,Ut=!0){const hn=Bt(W.urlParams),It=W.url+hn,Ln=Object.assign({},W.headers);return function xn(W,Y){Y&&(W["X-Firebase-GMPID"]=Y)}(Ln,Y),function Lr(W,Y){null!==Y&&Y.length>0&&(W.Authorization="Firebase "+Y)}(Ln,be),function yr(W,Y){W["X-Firebase-Storage-Version"]="webjs/"+(Y??"AppManager")}(Ln,Ye),function Mn(W,Y){null!==Y&&(W["X-Firebase-AppCheck"]=Y)}(Ln,we),new $n(It,W.method,Ln,W.body,W.successCodes,W.additionalRetryCodes,W.handler,W.errorHandler,W.timeout,W.progressCallback,ke,Ut)}(Y,this._appId,we,ke,be,this._firebaseVersion,Ye);return this._requests.add(Ut),Ut.getPromise().then(()=>this._requests.delete(Ut),()=>this._requests.delete(Ut)),Ut}}makeRequestWithTokens(Y,be){var we=this;return(0,A.Z)(function*(){const[ke,Ye]=yield Promise.all([we._getAuthToken(),we._getAppCheckToken()]);return we._makeRequest(Y,be,ke,Ye).getPromise()})()}}const Gr="@firebase/storage",ks="storage";function qs(W,Y,be){return function ws(W,Y,be){return W._throwIfRoot("uploadBytesResumable"),new Ts(W,new rs(Y),be)}(W=(0,ee.m9)(W),Y,be)}function Yi(W){return co(W=(0,ee.m9)(W))}function ia(W,Y){return function to(W,Y){if(Y&&function Ns(W){return/^[A-Za-z]+:\/\//.test(W)}(Y)){if(W instanceof Co)return function ta(W,Y){return new yi(W,Y)}(W,Y);throw fn("To use ref(service, url), the first argument must be a Storage instance.")}return is(W,Y)}(W=(0,ee.m9)(W),Y)}function Ws(W=(0,E.Mq)(),Y){W=(0,ee.m9)(W);const we=(0,E.qX)(W,ks).getImmediate({identifier:Y}),ke=(0,ee.P0)("storage");return ke&&function Ls(W,Y,be,we={}){!function na(W,Y,be,we={}){W.host=`${Y}:${be}`,W._protocol="http";const{mockUserToken:ke}=we;ke&&(W._overrideAuthToken="string"==typeof ke?ke:(0,ee.Sg)(ke,W.app.options.projectId))}(W,Y,be,we)}(we,...ke),we}function Xt(W,{instanceIdentifier:Y}){const be=W.getProvider("app").getImmediate(),we=W.getProvider("auth-internal"),ke=W.getProvider("app-check-internal");return new Co(be,we,ke,Y,E.Jn)}!function Dn(){(0,E.Xd)(new z.wA(ks,Xt,"PUBLIC").setMultipleInstances(!0)),(0,E.KN)(Gr,"0.11.2",""),(0,E.KN)(Gr,"0.11.2","esm2017")}()},5861:(yn,ht,X)=>{function A(ee,z,fe,he,Ge,St,He){try{var pe=ee[St](He),me=pe.value}catch($e){return void fe($e)}pe.done?z(me):Promise.resolve(me).then(he,Ge)}function E(ee){return function(){var z=this,fe=arguments;return new Promise(function(he,Ge){var St=ee.apply(z,fe);function He(me){A(St,he,Ge,He,pe,"next",me)}function pe(me){A(St,he,Ge,He,pe,"throw",me)}He(void 0)})}}X.d(ht,{Z:()=>E})},7582:(yn,ht,X)=>{function z(Re,Ve){var Qe={};for(var Xe in Re)Object.prototype.hasOwnProperty.call(Re,Xe)&&Ve.indexOf(Xe)<0&&(Qe[Xe]=Re[Xe]);if(null!=Re&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(Xe=Object.getOwnPropertySymbols(Re);We<Xe.length;We++)Ve.indexOf(Xe[We])<0&&Object.prototype.propertyIsEnumerable.call(Re,Xe[We])&&(Qe[Xe[We]]=Re[Xe[We]])}return Qe}function $e(Re,Ve,Qe,Xe){return new(Qe||(Qe=Promise))(function(ze,ct){function vt(vn){try{Bt(Xe.next(vn))}catch(cr){ct(cr)}}function Ht(vn){try{Bt(Xe.throw(vn))}catch(cr){ct(cr)}}function Bt(vn){vn.done?ze(vn.value):function We(ze){return ze instanceof Qe?ze:new Qe(function(ct){ct(ze)})}(vn.value).then(vt,Ht)}Bt((Xe=Xe.apply(Re,Ve||[])).next())})}function nt(Re){return this instanceof nt?(this.v=Re,this):new nt(Re)}function Ct(Re,Ve,Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,Xe=Qe.apply(Re,Ve||[]),ze=[];return We={},ct("next"),ct("throw"),ct("return"),We[Symbol.asyncIterator]=function(){return this},We;function ct($n){Xe[$n]&&(We[$n]=function(Dr){return new Promise(function(Lr,yr){ze.push([$n,Dr,Lr,yr])>1||vt($n,Dr)})})}function vt($n,Dr){try{!function Ht($n){$n.value instanceof nt?Promise.resolve($n.value.v).then(Bt,vn):cr(ze[0][2],$n)}(Xe[$n](Dr))}catch(Lr){cr(ze[0][3],Lr)}}function Bt($n){vt("next",$n)}function vn($n){vt("throw",$n)}function cr($n,Dr){$n(Dr),ze.shift(),ze.length&&vt(ze[0][0],ze[0][1])}}function xt(Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Ve=Re[Symbol.asyncIterator];return Ve?Ve.call(Re):(Re=function pt(Re){var Ve="function"==typeof Symbol&&Symbol.iterator,Qe=Ve&&Re[Ve],Xe=0;if(Qe)return Qe.call(Re);if(Re&&"number"==typeof Re.length)return{next:function(){return Re&&Xe>=Re.length&&(Re=void 0),{value:Re&&Re[Xe++],done:!Re}}};throw new TypeError(Ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(Re),Qe={},Xe("next"),Xe("throw"),Xe("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe);function Xe(ze){Qe[ze]=Re[ze]&&function(ct){return new Promise(function(vt,Ht){!function We(ze,ct,vt,Ht){Promise.resolve(Ht).then(function(Bt){ze({value:Bt,done:vt})},ct)}(vt,Ht,(ct=Re[ze](ct)).done,ct.value)})}}}X.d(ht,{FC:()=>Ct,KL:()=>xt,_T:()=>z,mG:()=>$e,qq:()=>nt}),"function"==typeof SuppressedError&&SuppressedError}},yn=>{yn(yn.s=1985)}]);